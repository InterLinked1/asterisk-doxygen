<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_pjsip_notify.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">res_pjsip_notify.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d8/d41/res__pjsip__notify_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Asterisk -- An open source telephony toolkit.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2013, Digium, Inc.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Kevin Harwell &lt;kharwell@digium.com&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * See http://www.asterisk.org for more information about</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * the Asterisk project. Please do not directly contact</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * any of the maintainers of this project for assistance;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * the project provides a web site, mailing lists and IRC</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * channels for your use.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * This program is free software, distributed under the terms of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * at the top of the source tree.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/*** MODULEINFO</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">   &lt;depend&gt;pjproject&lt;/depend&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">   &lt;depend&gt;res_pjsip&lt;/depend&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">   &lt;support_level&gt;core&lt;/support_level&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> ***/</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/db2/asterisk_8h.html">asterisk.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;pjsip.h&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;pjsip_ua.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/db0/cli_8h.html">asterisk/cli.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html">asterisk/config.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d45/manager_8h.html">asterisk/manager.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d16/module_8h.html">asterisk/module.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/de0/pbx_8h.html">asterisk/pbx.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d8c/res__pjsip_8h.html">asterisk/res_pjsip.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/de7/res__pjsip__session_8h.html">asterisk/res_pjsip_session.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d25/sorcery_8h.html">asterisk/sorcery.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/*** DOCUMENTATION</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">   &lt;manager name=&quot;PJSIPNotify&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">         Send a NOTIFY to either an endpoint, an arbitrary URI, or inside a SIP dialog.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">         &lt;xi:include xpointer=&quot;xpointer(/docs/manager[@name=&#39;Login&#39;]/syntax/parameter[@name=&#39;ActionID&#39;])&quot; /&gt;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">         &lt;parameter name=&quot;Endpoint&quot; required=&quot;false&quot;&gt;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">            &lt;para&gt;The endpoint to which to send the NOTIFY.&lt;/para&gt;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">         &lt;parameter name=&quot;URI&quot; required=&quot;false&quot;&gt;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">            &lt;para&gt;Abritrary URI to which to send the NOTIFY.&lt;/para&gt;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">         &lt;parameter name=&quot;channel&quot; required=&quot;false&quot;&gt;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">            &lt;para&gt;Channel name to send the NOTIFY. Must be a PJSIP channel.&lt;/para&gt;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">         &lt;parameter name=&quot;Variable&quot; required=&quot;true&quot;&gt;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">            &lt;para&gt;Appends variables as headers/content to the NOTIFY. If the variable is</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">            named &lt;literal&gt;Content&lt;/literal&gt;, then the value will compose the body</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">            of the message if another variable sets &lt;literal&gt;Content-Type&lt;/literal&gt;.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">            &lt;replaceable&gt;name&lt;/replaceable&gt;=&lt;replaceable&gt;value&lt;/replaceable&gt;&lt;/para&gt;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">         &lt;para&gt;Sends a NOTIFY to an endpoint, an arbitrary URI, or inside a SIP dialog.&lt;/para&gt;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">         &lt;para&gt;All parameters for this event must be specified in the body of this</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">         request  via multiple &lt;literal&gt;Variable: name=value&lt;/literal&gt; sequences.&lt;/para&gt;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">         &lt;note&gt;&lt;para&gt;One (and only one) of &lt;literal&gt;Endpoint&lt;/literal&gt;,</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">         &lt;literal&gt;URI&lt;/literal&gt;, or &lt;literal&gt;Channel&lt;/literal&gt; must be specified.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">         If &lt;literal&gt;URI&lt;/literal&gt; is used, the default outbound endpoint will be used</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">         to send the message. If the default outbound endpoint isn&#39;t configured, this command</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">         can not send to an arbitrary URI.&lt;/para&gt;&lt;/note&gt;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">   &lt;/manager&gt;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">   &lt;configInfo name=&quot;res_pjsip_notify&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">      &lt;synopsis&gt;Module that supports sending NOTIFY requests to endpoints from external sources&lt;/synopsis&gt;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">      &lt;configFile name=&quot;pjsip_notify.conf&quot;&gt;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">         &lt;configObject name=&quot;general&quot;&gt;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">            &lt;synopsis&gt;Unused, but reserved.&lt;/synopsis&gt;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">         &lt;/configObject&gt;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">         &lt;configObject name=&quot;notify&quot;&gt;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">            &lt;synopsis&gt;Configuration of a NOTIFY request.&lt;/synopsis&gt;</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">            &lt;description&gt;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">               &lt;para&gt;Each key-value pair in a &lt;literal&gt;notify&lt;/literal&gt;</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">               configuration section defines either a SIP header to send</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">               in the request or a line of content in the request message</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">               body. A key of &lt;literal&gt;Content&lt;/literal&gt; is treated</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">               as part of the message body and is appended in sequential</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">               order; any other header is treated as part of the SIP</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">               request.&lt;/para&gt;</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">            &lt;/description&gt;</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">            &lt;configOption name=&quot;&quot;&gt;</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">               &lt;synopsis&gt;A key/value pair to add to a NOTIFY request.&lt;/synopsis&gt;</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">               &lt;description&gt;</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">                  &lt;para&gt;If the key is &lt;literal&gt;Content&lt;/literal&gt;,</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">                  it will be treated as part of the message body. Otherwise,</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">                  it will be added as a header in the NOTIFY request.&lt;/para&gt;</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">                  &lt;para&gt;The following headers are reserved and cannot be</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">                  specified:&lt;/para&gt;</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">                  &lt;enumlist&gt;</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">                     &lt;enum name=&quot;Call-ID&quot; /&gt;</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">                     &lt;enum name=&quot;Contact&quot; /&gt;</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">                     &lt;enum name=&quot;CSeq&quot; /&gt;</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">                     &lt;enum name=&quot;To&quot; /&gt;</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">                     &lt;enum name=&quot;From&quot; /&gt;</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">                     &lt;enum name=&quot;Record-Route&quot; /&gt;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">                     &lt;enum name=&quot;Route&quot; /&gt;</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">                     &lt;enum name=&quot;Via&quot; /&gt;</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">                  &lt;/enumlist&gt;</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">               &lt;/description&gt;</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">            &lt;/configOption&gt;</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">         &lt;/configObject&gt;</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">      &lt;/configFile&gt;</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">   &lt;/configInfo&gt;</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> ***/</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#adf61f1e7f9778eaf529e41e416ddb09a">  115</a></span>&#160;<span class="preprocessor">#define CONTENT_TYPE_SIZE 64</span></div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aff9b7f6d81297248bf0ad06d725c8cbb">  116</a></span>&#160;<span class="preprocessor">#define CONTENT_SIZE 512</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"> * \brief The configuration file containing NOTIFY payload types to send.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ae72078d1ae40313bb3823781db5376be">  122</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ae72078d1ae40313bb3823781db5376be">notify_config</a>[] = <span class="stringliteral">&quot;pjsip_notify.conf&quot;</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="../../d1/d00/structnotify__option__item.html">  124</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/d00/structnotify__option__item.html">notify_option_item</a> {</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="../../d1/d00/structnotify__option__item.html#a8f8f80d37794cde9472343e4487ba3eb">  125</a></span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d00/structnotify__option__item.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../d1/d00/structnotify__option__item.html#a8556878012feffc9e0beb86cd78f424d">  126</a></span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d00/structnotify__option__item.html#a8556878012feffc9e0beb86cd78f424d">value</a>;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="../../d1/d00/structnotify__option__item.html#a103a957b017f6b717767bba130a02694">  127</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d1/d00/structnotify__option__item.html#a103a957b017f6b717767bba130a02694">buf</a>[0];</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;};</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="../../dc/d86/structnotify__option.html">  130</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/d86/structnotify__option.html">notify_option</a> {<span class="comment"></span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">   /*! Contains header and/or content information */</span></div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="../../dc/d86/structnotify__option.html#ade90b30cd48afd12ad1282fac879db72">  132</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../dc/d86/structnotify__option.html#ade90b30cd48afd12ad1282fac879db72">items</a>;<span class="comment"></span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">   /*! The name of the notify option */</span></div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="../../dc/d86/structnotify__option.html#afd3f693e384b1ee0a0c44d58351eb87d">  134</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d1/d00/structnotify__option__item.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>[0];</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;};</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ada9b310975322f2b9cdfa1e2a63b73af">  137</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ada9b310975322f2b9cdfa1e2a63b73af">notify_option_hash</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *obj, <span class="keywordtype">int</span> flags)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dc/d86/structnotify__option.html">notify_option</a> *option = obj;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#ab08f8db2a7258e538a0da7417f58db58">ast_str_case_hash</a>(flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> ? obj : option-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#afd3f693e384b1ee0a0c44d58351eb87d">name</a>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a1ec8c7d0bce736afec83817b82e24e92">  143</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a1ec8c7d0bce736afec83817b82e24e92">notify_option_cmp</a>(<span class="keywordtype">void</span> *obj, <span class="keywordtype">void</span> *arg, <span class="keywordtype">int</span> flags)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d86/structnotify__option.html">notify_option</a> *option1 = obj;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d86/structnotify__option.html">notify_option</a> *option2 = arg;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *key = flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> ? arg : option2-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#afd3f693e384b1ee0a0c44d58351eb87d">name</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">return</span> strcasecmp(option1-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#afd3f693e384b1ee0a0c44d58351eb87d">name</a>, key) ? 0 : <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ae24981e2c74af01caa2ccd9fb1398485">  152</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ae24981e2c74af01caa2ccd9fb1398485">notify_option_destroy</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d86/structnotify__option.html">notify_option</a> *option = obj;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(option-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#ade90b30cd48afd12ad1282fac879db72">items</a>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a0b321ac2cad28e4642e2039e886c52ab">  158</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a0b321ac2cad28e4642e2039e886c52ab">notify_option_alloc</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *category)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordtype">int</span> category_size = strlen(category) + 1;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d86/structnotify__option.html">notify_option</a> *option = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keyword">sizeof</span>(*option) + category_size, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ae24981e2c74af01caa2ccd9fb1398485">notify_option_destroy</a>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <span class="keywordflow">if</span> (!option) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(option-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#afd3f693e384b1ee0a0c44d58351eb87d">name</a>, category, category_size);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="keywordflow">if</span> (!(option-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#ade90b30cd48afd12ad1282fac879db72">items</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>,</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca6eebd7656b574b9640d1460da84f771b">AO2_CONTAINER_ALLOC_OPT_DUPS_ALLOW</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(option);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keywordflow">return</span> option;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a39e7ef9812c9917b7296eeb2eb1c7cef">  181</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a39e7ef9812c9917b7296eeb2eb1c7cef">notify_option_find</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *category)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(container, category, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aac01865b448a073548060a8aa886f94f">  186</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aac01865b448a073548060a8aa886f94f">notify_option_handler</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../db/de0/structaco__option.html">aco_option</a> *opt,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;             <span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d86/structnotify__option.html">notify_option</a> *option = obj;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keywordtype">int</span> name_size = strlen(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) + 1;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <span class="keywordtype">int</span> value_size = strlen(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>) + 1;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/d00/structnotify__option__item.html">notify_option_item</a> *, <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;       <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>) + name_size + value_size,</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>-&gt;<a class="code" href="../../de/d71/structaco__type.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>-&gt;buf;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>-&gt;value = <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>-&gt;buf + name_size;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>-&gt;buf, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, name_size);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>-&gt;buf + name_size, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, value_size);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(option-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#ade90b30cd48afd12ad1282fac879db72">items</a>, <a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>)) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="../../d1/dbd/structnotify__cfg.html">  211</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a> {</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="../../d1/dbd/structnotify__cfg.html#a80513364fc4b88d8f908f3d9b88d6935">  212</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d1/dbd/structnotify__cfg.html#a80513364fc4b88d8f908f3d9b88d6935">notify_options</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;};</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aae70189f248b650028defa2c9ccc5e5c">  215</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aae70189f248b650028defa2c9ccc5e5c">notify_cfg_destroy</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a> *cfg = obj;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cfg-&gt;<a class="code" href="../../d1/dbd/structnotify__cfg.html#a80513364fc4b88d8f908f3d9b88d6935">notify_options</a>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aac49af03ffbeffb744dc7a9095791a5a">  221</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aac49af03ffbeffb744dc7a9095791a5a">notify_cfg_alloc</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a> *cfg;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keywordflow">if</span> (!(cfg = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*cfg), <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aae70189f248b650028defa2c9ccc5e5c">notify_cfg_destroy</a>))) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   cfg-&gt;<a class="code" href="../../d1/dbd/structnotify__cfg.html#a80513364fc4b88d8f908f3d9b88d6935">notify_options</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, 0,</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      20, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ada9b310975322f2b9cdfa1e2a63b73af">notify_option_hash</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a1ec8c7d0bce736afec83817b82e24e92">notify_option_cmp</a>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   <span class="keywordflow">if</span> (!cfg-&gt;<a class="code" href="../../d1/dbd/structnotify__cfg.html#a80513364fc4b88d8f908f3d9b88d6935">notify_options</a>) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cfg);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <span class="keywordflow">return</span> cfg;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#afe679816b5e944b98868843db697da35">  239</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../de/d71/structaco__type.html">aco_type</a> <a class="code" href="../../dc/d86/structnotify__option.html">notify_option</a> = {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   .type = <a class="code" href="../../db/dfe/config__options_8h.html#a840871f014617f5415dacb9a7d32a59ba423543a2da4422bd5c7664a0b8ca84d8">ACO_ITEM</a>,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   .name = <span class="stringliteral">&quot;notify&quot;</span>,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   .category_match = <a class="code" href="../../db/dfe/config__options_8h.html#ab29e0267f5b05969bcd1d16e97100ebbaaac7fc23ff5841dd793b5d145c420eee">ACO_BLACKLIST_EXACT</a>,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   .category = <span class="stringliteral">&quot;general&quot;</span>,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   .item_offset = offsetof(<span class="keyword">struct</span> <a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a>, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a3ba7d65aeff48f7e25b6a48ffdf55a7c">notify_options</a>),</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   .item_alloc = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a0b321ac2cad28e4642e2039e886c52ab">notify_option_alloc</a>,</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   .item_find = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a39e7ef9812c9917b7296eeb2eb1c7cef">notify_option_find</a></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;};</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a3ba7d65aeff48f7e25b6a48ffdf55a7c">  249</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../de/d71/structaco__type.html">aco_type</a> *<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a3ba7d65aeff48f7e25b6a48ffdf55a7c">notify_options</a>[] = <a class="code" href="../../db/dfe/config__options_8h.html#af773eedd7f94d718752798605c687c4b">ACO_TYPES</a>(&amp;notify_option);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a523a5f714e1c7296f400dc31ede4775b">  251</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d9/d9c/structaco__file.html">aco_file</a> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a523a5f714e1c7296f400dc31ede4775b">module_conf</a> = {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   .<a class="code" href="../../d9/d9c/structaco__file.html#a7efa5e9c7494c7d4586359300221aa5d">filename</a> = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ae72078d1ae40313bb3823781db5376be">notify_config</a>,</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   .types = <a class="code" href="../../db/dfe/config__options_8h.html#af773eedd7f94d718752798605c687c4b">ACO_TYPES</a>(&amp;notify_option),</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;};</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a00720b770ea6bab06091da6d188a08fe">AO2_GLOBAL_OBJ_STATIC</a>(<a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a40f5943309d0a11028840119c5ef674d">CONFIG_INFO_STANDARD</a>(<a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a>, <a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aac49af03ffbeffb744dc7a9095791a5a">notify_cfg_alloc</a>,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   .files = <a class="code" href="../../db/dfe/config__options_8h.html#a60d2944aab4537720434ab9c90e12418">ACO_FILES</a>(&amp;module_conf)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"> * \brief Structure to hold task data for notifications.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="../../d4/d18/structnotify__data.html">  266</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a> {<span class="comment"></span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">   /*! The endpoint being notified */</span></div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">  268</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>;<span class="comment"></span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">   /*! The info of headers, types and content */</span></div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="../../d4/d18/structnotify__data.html#acb1df3a0f703b05bc4971f79cabe2597">  270</a></span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="../../d4/d18/structnotify__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>;<span class="comment"></span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">   /*! Function to help build notify request */</span></div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="../../d4/d18/structnotify__data.html#a9b4f350d698710716224cb12930574d7">  272</a></span>&#160;   void (*<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a79a965885d7a401a7b02e272a54bdf95">build_notify</a>)(pjsip_tx_data *, <span class="keywordtype">void</span> *);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;};</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"> * \brief Destroy the notify CLI data releasing any resources.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ae131f75fb506bf9395f51ea5529ed1b6">  279</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ae131f75fb506bf9395f51ea5529ed1b6">notify_cli_data_destroy</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a> *data = obj;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"> * \brief Structure to hold task data for notifications (URI variant)</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="../../d1/dce/structnotify__uri__data.html">  291</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a> {</div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">  292</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a>;</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="../../d1/dce/structnotify__uri__data.html#acb1df3a0f703b05bc4971f79cabe2597">  293</a></span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="../../d1/dce/structnotify__uri__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>;</div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="../../d1/dce/structnotify__uri__data.html#a9b4f350d698710716224cb12930574d7">  294</a></span>&#160;   void (*<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a79a965885d7a401a7b02e272a54bdf95">build_notify</a>)(pjsip_tx_data *, <span class="keywordtype">void</span> *);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;};</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"> * \brief Structure to hold task data for notifications (channel variant)</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="../../d2/d23/structnotify__channel__data.html">  301</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/d23/structnotify__channel__data.html">notify_channel_data</a> {</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="../../d2/d23/structnotify__channel__data.html#a47bd1bb949183a58a194970acaccffbd">  302</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/dec/structast__sip__session.html">ast_sip_session</a> *<a class="code" href="../../d2/d23/structnotify__channel__data.html#a47bd1bb949183a58a194970acaccffbd">session</a>;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="../../d2/d23/structnotify__channel__data.html#acb1df3a0f703b05bc4971f79cabe2597">  303</a></span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="../../d2/d23/structnotify__channel__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>;</div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="../../d2/d23/structnotify__channel__data.html#a9b4f350d698710716224cb12930574d7">  304</a></span>&#160;   void (*<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a79a965885d7a401a7b02e272a54bdf95">build_notify</a>)(pjsip_tx_data *, <span class="keywordtype">void</span> *);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;};</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aad40dcc363c0bd407bdc978861ce9869">  307</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aad40dcc363c0bd407bdc978861ce9869">notify_cli_uri_data_destroy</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;{</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a> *data = obj;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"> * \brief Destroy the notify CLI data releasing any resources (URI variant)</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a5120a5cb2681828fc16cd35811c36819">build_cli_notify</a>(pjsip_tx_data *tdata, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> * \brief Construct a notify data object for CLI.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#acd77226ea2241302a14b3072737f13ca">  325</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a>* <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#acd77226ea2241302a14b3072737f13ca">notify_cli_data_create</a>(</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>)</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;{</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a> *data = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*data),</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ae131f75fb506bf9395f51ea5529ed1b6">notify_cli_data_destroy</a>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <span class="keywordflow">if</span> (!data) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a> = <a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>, +1);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>, +1);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a9b4f350d698710716224cb12930574d7">build_notify</a> = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a5120a5cb2681828fc16cd35811c36819">build_cli_notify</a>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <span class="keywordflow">return</span> data;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> * \brief Construct a notify URI data object for CLI.</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a818dac6af7e8f2455f542732abefdc85">  349</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a>* <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a818dac6af7e8f2455f542732abefdc85">notify_cli_uri_data_create</a>(</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a>, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a> *data = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*data),</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aad40dcc363c0bd407bdc978861ce9869">notify_cli_uri_data_destroy</a>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="keywordflow">if</span> (!data) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(uri);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keywordflow">if</span> (!data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a>) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(data, -1);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>, +1);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#a9b4f350d698710716224cb12930574d7">build_notify</a> = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a5120a5cb2681828fc16cd35811c36819">build_cli_notify</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <span class="keywordflow">return</span> data;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> * \brief Destroy the notify AMI data releasing any resources.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a25b58198cfa01c548cbad7cd15fff287">  377</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a25b58198cfa01c548cbad7cd15fff287">notify_ami_data_destroy</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a> *data = obj;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a> = data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(info);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment"> * \brief Destroy the notify AMI URI data releasing any resources.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ac923f73ce336f020aade8a71a402277f">  390</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ac923f73ce336f020aade8a71a402277f">notify_ami_uri_data_destroy</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a> *data = obj;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a> = data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(info);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"> * \brief Destroy the notify AMI channel data releasing any resources.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a0fe25cb145c4ddd8e8cb71fb90a1d2fd">  403</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a0fe25cb145c4ddd8e8cb71fb90a1d2fd">notify_ami_channel_data_destroy</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d23/structnotify__channel__data.html">notify_channel_data</a> *data = obj;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a> = data-&gt;<a class="code" href="../../d2/d23/structnotify__channel__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data-&gt;<a class="code" href="../../d2/d23/structnotify__channel__data.html#a47bd1bb949183a58a194970acaccffbd">session</a>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(info);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7e641cf86fccc7a523895200cb3857b5">build_ami_notify</a>(pjsip_tx_data *tdata, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"> * \brief Construct a notify data object for AMI.</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a0bf752b38881484d0c900290058b1c5d">  418</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a>* <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a0bf752b38881484d0c900290058b1c5d">notify_ami_data_create</a>(</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>)</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;{</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a> *data = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*data),</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                    <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a25b58198cfa01c548cbad7cd15fff287">notify_ami_data_destroy</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">if</span> (!data) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a> = <a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>, +1);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a9b4f350d698710716224cb12930574d7">build_notify</a> = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7e641cf86fccc7a523895200cb3857b5">build_ami_notify</a>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keywordflow">return</span> data;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"> * \brief Construct a notify URI data object for AMI.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ac911a9b6c833e6b3c15526cf42daf9e1">  440</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a>* <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ac911a9b6c833e6b3c15526cf42daf9e1">notify_ami_uri_data_create</a>(</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a>, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a> *data = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*data),</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                     <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ac923f73ce336f020aade8a71a402277f">notify_ami_uri_data_destroy</a>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   <span class="keywordflow">if</span> (!data) {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(uri);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keywordflow">if</span> (!data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a>) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(data, -1);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   data-&gt;<a class="code" href="../../d1/dce/structnotify__uri__data.html#a9b4f350d698710716224cb12930574d7">build_notify</a> = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7e641cf86fccc7a523895200cb3857b5">build_ami_notify</a>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordflow">return</span> data;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> * \brief Construct a notify channel data object for AMI.</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#abe696c3afb94efa343719ff5100df790">  465</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d2/d23/structnotify__channel__data.html">notify_channel_data</a> *<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#abe696c3afb94efa343719ff5100df790">notify_ami_channel_data_create</a>(</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../d2/dec/structast__sip__session.html">ast_sip_session</a> *<a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d23/structnotify__channel__data.html">notify_channel_data</a> *data;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   data = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(<span class="keyword">sizeof</span>(*data), <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a0fe25cb145c4ddd8e8cb71fb90a1d2fd">notify_ami_channel_data_destroy</a>,</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <span class="keywordflow">if</span> (!data) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   data-&gt;<a class="code" href="../../d2/d23/structnotify__channel__data.html#a47bd1bb949183a58a194970acaccffbd">session</a> = <a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   data-&gt;<a class="code" href="../../d2/d23/structnotify__channel__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   data-&gt;<a class="code" href="../../d2/d23/structnotify__channel__data.html#a9b4f350d698710716224cb12930574d7">build_notify</a> = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7e641cf86fccc7a523895200cb3857b5">build_ami_notify</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="keywordflow">return</span> data;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"> * \brief Checks if the given header name is not allowed.</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> * \details Some headers are not allowed to be set by the user within the</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> *          scope of a NOTIFY request.  If the given var header name is</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> *          found in the &quot;not allowed&quot; list then return true.</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a340740c6c298bb9a78c8762f93a08ae7">  491</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a340740c6c298bb9a78c8762f93a08ae7">not_allowed</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d00/structnotify__option__item.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *names[] = {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="stringliteral">&quot;Call-ID&quot;</span>,</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="stringliteral">&quot;Contact&quot;</span>,</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="stringliteral">&quot;CSeq&quot;</span>,</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="stringliteral">&quot;To&quot;</span>,</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="stringliteral">&quot;From&quot;</span>,</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="stringliteral">&quot;Record-Route&quot;</span>,</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="stringliteral">&quot;Route&quot;</span>,</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="stringliteral">&quot;Request-URI&quot;</span>,</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="stringliteral">&quot;Via&quot;</span>,</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   };</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(names); ++i) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(name, names[i])) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"> * \brief Check if the given header can be added to a message more than once.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a9210203645973141374dbf86b0b9f356">  518</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a9210203645973141374dbf86b0b9f356">multiple_headers_allowed</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d00/structnotify__option__item.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;{</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   <span class="comment">/* This can be extended to include additional headers */</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <span class="keywordflow">return</span> strcasecmp(<span class="stringliteral">&quot;Event&quot;</span>, name);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"> * \brief If a content type was specified add it and the content body to the</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment"> *        NOTIFY request.</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a05e02ff0a1f2f0b98d84f5ab924eba14">  529</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a05e02ff0a1f2f0b98d84f5ab924eba14">build_notify_body</a>(pjsip_tx_data *tdata, <span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *content_type,</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;               <span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *content)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;{</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   <span class="keywordflow">if</span> (content_type) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <span class="keywordtype">char</span> *p;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/d80/structast__sip__body.html">ast_sip_body</a> body;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">if</span> (content) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;         body.<a class="code" href="../../d5/d80/structast__sip__body.html#a88687b0dd98d5307f1219432b73b8412">body_text</a> = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(content);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      body.<a class="code" href="../../d5/d80/structast__sip__body.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a> = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(content_type);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keywordflow">if</span> ((p = strchr(body.<a class="code" href="../../d5/d80/structast__sip__body.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;         *p++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;         body.<a class="code" href="../../d5/d80/structast__sip__body.html#abb4ae60bbcbce3616fdd7d4238869c91">subtype</a> = p;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a9a14851d1f88b087df7237ec180de52e">ast_sip_add_body</a>(tdata, &amp;body);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> * \brief Build the NOTIFY request adding content or header info.</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a79a965885d7a401a7b02e272a54bdf95">  553</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a79a965885d7a401a7b02e272a54bdf95">build_notify</a>(pjsip_tx_data *tdata, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d00/structnotify__option__item.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d00/structnotify__option__item.html#a8556878012feffc9e0beb86cd78f424d">value</a>,</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;          <span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **content_type, <span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **content)</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;{</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a340740c6c298bb9a78c8762f93a08ae7">not_allowed</a>(name)) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot specify %s header, &quot;</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;         <span class="stringliteral">&quot;ignoring\n&quot;</span>, name);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(name, <span class="stringliteral">&quot;Content-type&quot;</span>)) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <span class="keywordflow">if</span> (!(*content_type)) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;         *content_type = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#adf61f1e7f9778eaf529e41e416ddb09a">CONTENT_TYPE_SIZE</a>);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(content_type, 0,<span class="stringliteral">&quot;%s&quot;</span>, value);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(name, <span class="stringliteral">&quot;Content&quot;</span>)) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">if</span> (!(*content)) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;         *content = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aff9b7f6d81297248bf0ad06d725c8cbb">CONTENT_SIZE</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(*content)) {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(content, 0, <span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(content, 0, <span class="stringliteral">&quot;%s&quot;</span>, value);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="comment">/* See if there is an existing one */</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a9210203645973141374dbf86b0b9f356">multiple_headers_allowed</a>(name)) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;         pj_str_t hdr_name;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;         pj_cstr(&amp;hdr_name, name);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;         <span class="keywordflow">if</span> (pjsip_msg_find_hdr_by_name(tdata-&gt;msg, &amp;hdr_name, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Only one &#39;%s&#39; header can be added to a NOTIFY, &quot;</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                  <span class="stringliteral">&quot;ignoring \&quot;%s: %s\&quot;\n&quot;</span>, name, name, value);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;         }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a>(tdata, name, value);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"> * \brief Build the NOTIFY request from CLI info adding header and content</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment"> *        when specified.</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a5120a5cb2681828fc16cd35811c36819">  598</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a5120a5cb2681828fc16cd35811c36819">build_cli_notify</a>(pjsip_tx_data *tdata, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <span class="keyword">struct </span>notify_option *option = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *, content_type, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *, content, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d00/structnotify__option__item.html">notify_option_item</a> *<a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(option-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#ade90b30cd48afd12ad1282fac879db72">items</a>, 0);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <span class="keywordflow">while</span> ((item = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a79a965885d7a401a7b02e272a54bdf95">build_notify</a>(tdata, item-&gt;<a class="code" href="../../d1/d00/structnotify__option__item.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, item-&gt;<a class="code" href="../../d1/d00/structnotify__option__item.html#a8556878012feffc9e0beb86cd78f424d">value</a>,</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;              &amp;content_type, &amp;content);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(item);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a05e02ff0a1f2f0b98d84f5ab924eba14">build_notify_body</a>(tdata, content_type, content);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"> * \brief Build the NOTIFY request from AMI info adding header and content</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"> *        when specified.</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a7e641cf86fccc7a523895200cb3857b5">  622</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7e641cf86fccc7a523895200cb3857b5">build_ami_notify</a>(pjsip_tx_data *tdata, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>)</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *, content_type, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *, content, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *i;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="keywordflow">for</span> (i = vars; i; i = i-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(i-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;Content-Length&quot;</span>)) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;It is not necessary to specify Content-Length, ignoring.\n&quot;</span>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a79a965885d7a401a7b02e272a54bdf95">build_notify</a>(tdata, i-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, i-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>,</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;              &amp;content_type, &amp;content);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a05e02ff0a1f2f0b98d84f5ab924eba14">build_notify_body</a>(tdata, content_type, content);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"> * \brief Build and send a NOTIFY request to a contact.</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a79a289319047c875872ae931acb6ab34">  645</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a79a289319047c875872ae931acb6ab34">notify_contact</a>(<span class="keywordtype">void</span> *obj, <span class="keywordtype">void</span> *arg, <span class="keywordtype">int</span> flags)</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="code" href="../../d9/d03/structcontact.html">contact</a> = obj;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a> *data = arg;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   pjsip_tx_data *tdata;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8c/res__pjsip_8h.html#ac981149e3fb0f7fc8b6e75607b1b2ad0">ast_sip_create_request</a>(<span class="stringliteral">&quot;NOTIFY&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>,</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;               <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, contact, &amp;tdata)) {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;SIP NOTIFY - Unable to create request for &quot;</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;         <span class="stringliteral">&quot;contact %s\n&quot;</span>,   contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">uri</a>);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a>(tdata, <span class="stringliteral">&quot;Subscription-State&quot;</span>, <span class="stringliteral">&quot;terminated&quot;</span>);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a9b4f350d698710716224cb12930574d7">build_notify</a>(tdata, data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#acb1df3a0f703b05bc4971f79cabe2597">info</a>);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a9302fd362f9d52147d928c5bc4740433">ast_sip_send_request</a>(tdata, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, data-&gt;<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;SIP NOTIFY - Unable to send request for &quot;</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;         <span class="stringliteral">&quot;contact %s\n&quot;</span>,   contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">uri</a>);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment"> * \brief Send a NOTIFY request to the endpoint.</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment"> * \detail Iterates over an endpoint&#39;s AORs sending a NOTIFY request</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment"> *         with the appropriate payload information to each contact.</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00677"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aac90a72bfe3936d7cdcdff26e196b7c8">  677</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aac90a72bfe3936d7cdcdff26e196b7c8">notify_endpoint</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;{</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a> *, data, obj, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <span class="keywordtype">char</span> *aor_name, *aors;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data-&gt;endpoint-&gt;aors)) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to NOTIFY - &quot;</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;         <span class="stringliteral">&quot;endpoint has no configured AORs\n&quot;</span>);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   aors = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data-&gt;endpoint-&gt;aors);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <span class="keywordflow">while</span> ((aor_name = <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(<a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;aors, <span class="stringliteral">&quot;,&quot;</span>)))) {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *, aor,</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;          <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a434c2d85dbd10a9453f6d409809330d5">ast_sip_location_retrieve_aor</a>(aor_name), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *, contacts, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">if</span> (!aor || !(contacts = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a404837089a8a08b9f341f2ccea7128ef">ast_sip_location_retrieve_aor_contacts</a>(aor))) {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(contacts, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a79a289319047c875872ae931acb6ab34">notify_contact</a>, data);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment"> * \brief Send a notify request to the URI.</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a83bd7beef325cfb468e1dec012adbb31">  709</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a83bd7beef325cfb468e1dec012adbb31">notify_uri</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a> *, data, obj, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *, <a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>,</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a7f6df3c21a0eb11bad3fa1dbfc2f1dfc">ast_sip_default_outbound_endpoint</a>(), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   pjsip_tx_data *tdata;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No default outbound endpoint set, can not send &quot;</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;         <span class="stringliteral">&quot;NOTIFY requests to arbitrary URIs.\n&quot;</span>);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data-&gt;uri)) {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to NOTIFY - URI is blank.\n&quot;</span>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8c/res__pjsip_8h.html#ac981149e3fb0f7fc8b6e75607b1b2ad0">ast_sip_create_request</a>(<span class="stringliteral">&quot;NOTIFY&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>,</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;               data-&gt;uri, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;tdata)) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;SIP NOTIFY - Unable to create request for &quot;</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <span class="stringliteral">&quot;uri %s\n&quot;</span>, data-&gt;uri);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a>(tdata, <span class="stringliteral">&quot;Subscription-State&quot;</span>, <span class="stringliteral">&quot;terminated&quot;</span>);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   data-&gt;build_notify(tdata, data-&gt;info);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a9302fd362f9d52147d928c5bc4740433">ast_sip_send_request</a>(tdata, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;SIP NOTIFY - Unable to send request for &quot;</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;         <span class="stringliteral">&quot;uri %s\n&quot;</span>, data-&gt;uri);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;}</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"> * \brief Send a notify request to a channel.</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a8f5a924ac2601f69f3da5f5cd6887c2d">  751</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a8f5a924ac2601f69f3da5f5cd6887c2d">notify_channel</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;{</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d23/structnotify__channel__data.html">notify_channel_data</a> *, data, obj, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   pjsip_tx_data *tdata;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   <span class="keyword">struct </span>pjsip_dialog *dlg;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   <span class="keywordflow">if</span> (!data-&gt;session-&gt;channel</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      || !data-&gt;session-&gt;inv_session</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      || data-&gt;session-&gt;inv_session-&gt;state &lt; PJSIP_INV_STATE_EARLY</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      || data-&gt;session-&gt;inv_session-&gt;state == PJSIP_INV_STATE_DISCONNECTED) {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Sending notify on channel %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(data-&gt;session-&gt;channel));</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   dlg = data-&gt;session-&gt;inv_session-&gt;dlg;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8c/res__pjsip_8h.html#ac981149e3fb0f7fc8b6e75607b1b2ad0">ast_sip_create_request</a>(<span class="stringliteral">&quot;NOTIFY&quot;</span>, dlg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;tdata)) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a>(tdata, <span class="stringliteral">&quot;Subscription-State&quot;</span>, <span class="stringliteral">&quot;terminated&quot;</span>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   data-&gt;build_notify(tdata, data-&gt;info);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a9302fd362f9d52147d928c5bc4740433">ast_sip_send_request</a>(tdata, dlg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;}</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2a">  782</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2a">notify_result</a> {</div><div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8">  783</a></span>&#160;   <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>,</div><div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac98fb28a619ffb4bc9364103b7bbd3fd">  784</a></span>&#160;   <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac98fb28a619ffb4bc9364103b7bbd3fd">INVALID_ENDPOINT</a>,</div><div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3">  785</a></span>&#160;   <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3">INVALID_CHANNEL</a>,</div><div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">  786</a></span>&#160;   <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">ALLOC_ERROR</a>,</div><div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">  787</a></span>&#160;   <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">TASK_PUSH_ERROR</a></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;};</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a74fec3f0f1ef530c34f37021d5afcd2d">  790</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a> *(*task_data_create)(</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a0bba8ccfd4cbfccd9dbe566cf8e91c85">  793</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a> *(*task_uri_data_create)(</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">uri</a>, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ac816ffe3c6f6d1b3d18665d923ead17c">  796</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d23/structnotify__channel__data.html">notify_channel_data</a> *(*task_channel_data_create)(</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/dec/structast__sip__session.html">ast_sip_session</a> *<a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"> * \brief Send a NOTIFY request to the endpoint within a threaded task.</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ade16cc8895ff3cdd213d6c468b4d80a9">  803</a></span>&#160;<span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2a">notify_result</a> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ade16cc8895ff3cdd213d6c468b4d80a9">push_notify</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *endpoint_name, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>,</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                  <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a74fec3f0f1ef530c34f37021d5afcd2d">task_data_create</a> data_create)</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;{</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *, <a class="code" href="../../d2/dec/structast__sip__session.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d18/structnotify__data.html">notify_data</a> *data;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a> = <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;endpoint&quot;</span>, endpoint_name))) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac98fb28a619ffb4bc9364103b7bbd3fd">INVALID_ENDPOINT</a>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   }</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   <span class="keywordflow">if</span> (!(data = data_create(<a class="code" href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a>, info))) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">ALLOC_ERROR</a>;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/dfa/group__pjsip__threading.html#ga4f0a0629fa2ca084812772356d8e3565">ast_sip_push_task</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aac90a72bfe3936d7cdcdff26e196b7c8">notify_endpoint</a>, data)) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">TASK_PUSH_ERROR</a>;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   }</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"> * \brief Send a NOTIFY request to the URI within an threaded task.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a7c23ec0cafc3bc823dec5d6ddd476c6f">  830</a></span>&#160;<span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2a">notify_result</a> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7c23ec0cafc3bc823dec5d6ddd476c6f">push_notify_uri</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *uri, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>,</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a0bba8ccfd4cbfccd9dbe566cf8e91c85">task_uri_data_create</a> data_create)</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;{</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a> *data;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   <span class="keywordflow">if</span> (!(data = data_create(uri, info))) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">ALLOC_ERROR</a>;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/dfa/group__pjsip__threading.html#ga4f0a0629fa2ca084812772356d8e3565">ast_sip_push_task</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a83bd7beef325cfb468e1dec012adbb31">notify_uri</a>, data)) {</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">TASK_PUSH_ERROR</a>;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment"> * \brief Send a NOTIFY request in a channel within an threaded task.</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00851"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a37056f245b458954462a86ff44a74fa4">  851</a></span>&#160;<span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2a">notify_result</a> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a37056f245b458954462a86ff44a74fa4">push_notify_channel</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *channel_name, <span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>,</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ac816ffe3c6f6d1b3d18665d923ead17c">task_channel_data_create</a> data_create)</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;{</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d23/structnotify__channel__data.html">notify_channel_data</a> *data;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ch;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/dec/structast__sip__session.html">ast_sip_session</a> *<a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a> *ch_pvt;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <span class="comment">/* note: this increases the refcount of the channel */</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   ch = <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(channel_name);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   <span class="keywordflow">if</span> (!ch) {</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;No channel found with name %s&quot;</span>, channel_name);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3">INVALID_CHANNEL</a>;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(ch)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>)) {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Channel was a non-PJSIP channel: %s\n&quot;</span>, channel_name);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(ch);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3">INVALID_CHANNEL</a>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   }</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(ch);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   ch_pvt = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(ch);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   session = ch_pvt-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <span class="keywordflow">if</span> (!session || !session-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9fd713b198a122cb52c7f10bd66d1c6">inv_session</a></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;         || session-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9fd713b198a122cb52c7f10bd66d1c6">inv_session</a>-&gt;state &lt; PJSIP_INV_STATE_EARLY</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;         || session-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9fd713b198a122cb52c7f10bd66d1c6">inv_session</a>-&gt;state == PJSIP_INV_STATE_DISCONNECTED) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;No active session for channel %s\n&quot;</span>, channel_name);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(ch);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(ch);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3">INVALID_CHANNEL</a>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(session, +1);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(ch);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <span class="comment">/* don&#39;t keep a reference to the channel, we&#39;ve got a reference to the session */</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(ch);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">    * data_create will take ownership of the session,</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">    * and take care of releasing the ref.</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   data = data_create(session, info);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   <span class="keywordflow">if</span> (!data) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(session, -1);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">ALLOC_ERROR</a>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/dfa/group__pjsip__threading.html#ga4f0a0629fa2ca084812772356d8e3565">ast_sip_push_task</a>(session-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">serializer</a>, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a8f5a924ac2601f69f3da5f5cd6887c2d">notify_channel</a>, data)) {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(data, -1);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">TASK_PUSH_ERROR</a>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;   }</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment"> * \brief Do completion on the endpoint.</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a7d593cb0c0ea15a214768ee9bf215558">  913</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7d593cb0c0ea15a214768ee9bf215558">cli_complete_endpoint</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>)</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;{</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   <span class="keywordtype">int</span> wordlen = strlen(word);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> * <a class="code" href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a>;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   endpoints = <a class="code" href="../../d8/d25/sorcery_8h.html#a7214aea6ccfa9c7a6d08ee9a4fad9af9">ast_sorcery_retrieve_by_prefix</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(),</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="stringliteral">&quot;endpoint&quot;</span>, word, wordlen);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <span class="keywordflow">if</span> (endpoints == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(endpoints, 0);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   <span class="keywordflow">while</span> ((endpoint = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a6f5f6c330757d980065d3f887c62237f">ast_cli_completion_add</a>(</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(endpoint)));</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(endpoint);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   }</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(endpoints, -1);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment"> * \brief Do completion on the notify CLI command.</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00943"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#add2c5a7d7d1acddde838287d044c6529">  943</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#add2c5a7d7d1acddde838287d044c6529">cli_complete_notify</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *line, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>,</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;             <span class="keywordtype">int</span> pos, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>, <span class="keywordtype">int</span> using_uri)</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;{</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <span class="keywordflow">if</span> (pos == 3) {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordtype">int</span> wordlen = strlen(word);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a> *, cfg,</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;          <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(<a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keyword">struct </span>notify_option *option;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="comment">/* do completion for notify type */</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(cfg-&gt;notify_options, 0);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="keywordflow">while</span> ((option = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;         <span class="keywordflow">if</span> (!strncasecmp(word, option-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#afd3f693e384b1ee0a0c44d58351eb87d">name</a>, wordlen) &amp;&amp; ++which &gt; state) {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            c = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(option-&gt;<a class="code" href="../../dc/d86/structnotify__option.html#afd3f693e384b1ee0a0c44d58351eb87d">name</a>);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;         }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(option);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;         <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;         }</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      }</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   }</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <span class="keywordflow">if</span> (pos == 4) {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <span class="keywordtype">int</span> wordlen = strlen(word);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(word)) {</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;          <span class="keywordflow">if</span> (state == 0) {</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;              c = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;endpoint&quot;</span>);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state == 1) {</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;              c = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;uri&quot;</span>);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state == 0) {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;          <span class="keywordflow">if</span> (!strncasecmp(word, <span class="stringliteral">&quot;endpoint&quot;</span>, wordlen)) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;              c = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;endpoint&quot;</span>);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(word, <span class="stringliteral">&quot;uri&quot;</span>, wordlen)) {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;              c = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;uri&quot;</span>);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;          }</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   <span class="keywordflow">return</span> pos &gt; 4 &amp;&amp; !using_uri ? <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7d593cb0c0ea15a214768ee9bf215558">cli_complete_endpoint</a>(word) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment"> * \brief CLI command to send a SIP notify to an endpoint.</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment"> * \details Attempts to match the &quot;type&quot; given in the CLI command to a</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment"> *          configured one.  If found, sends a NOTIFY to the endpoint</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment"> *          with the associated payload.</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01003"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a496d04e7c38352c93d408de3ecb43876"> 1003</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a496d04e7c38352c93d408de3ecb43876">cli_notify</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;{</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a> *, cfg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> notify_option *, option, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   <span class="keywordtype">int</span> using_uri = 0;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;pjsip send notify&quot;</span>;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;         <span class="stringliteral">&quot;Usage: pjsip send notify &lt;type&gt; {endpoint|uri} &lt;peer&gt; [&lt;peer&gt;...]\n&quot;</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;         <span class="stringliteral">&quot;       Send a NOTIFY request to an endpoint\n&quot;</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;         <span class="stringliteral">&quot;       Message types are defined in pjsip_notify.conf\n&quot;</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &gt; 4 &amp;&amp; (!strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], <span class="stringliteral">&quot;uri&quot;</span>))) {</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;         using_uri = 1;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      }</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#add2c5a7d7d1acddde838287d044c6529">cli_complete_notify</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>, using_uri);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 6) {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], <span class="stringliteral">&quot;uri&quot;</span>)) {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      using_uri = 1;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], <span class="stringliteral">&quot;endpoint&quot;</span>)) {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;   cfg = <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(<a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;   <span class="keywordflow">if</span> (!(option = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a39e7ef9812c9917b7296eeb2eb1c7cef">notify_option_find</a>(cfg-&gt;notify_options, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3])))</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Unable to find notify type &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;         a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;   }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   <span class="keywordflow">for</span> (i = 5; i &lt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a>; ++i) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Sending NOTIFY of type &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;         a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[i]);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <span class="keywordflow">switch</span> (using_uri ? <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7c23ec0cafc3bc823dec5d6ddd476c6f">push_notify_uri</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[i], option, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a818dac6af7e8f2455f542732abefdc85">notify_cli_uri_data_create</a>) :</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                          <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ade16cc8895ff3cdd213d6c468b4d80a9">push_notify</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[i], option, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#acd77226ea2241302a14b3072737f13ca">notify_cli_data_create</a>)) {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac98fb28a619ffb4bc9364103b7bbd3fd">INVALID_ENDPOINT</a>:</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Unable to retrieve endpoint %s\n&quot;</span>,</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[i]);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">ALLOC_ERROR</a>:</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Unable to allocate NOTIFY task data\n&quot;</span>);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">TASK_PUSH_ERROR</a>:</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Unable to push NOTIFY task\n&quot;</span>);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   }</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;}</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#aab51cff08d0029469d3178d71b335c41"> 1070</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aab51cff08d0029469d3178d71b335c41">cli_options</a>[] = {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a496d04e7c38352c93d408de3ecb43876">cli_notify</a>, <span class="stringliteral">&quot;Send a NOTIFY request to a SIP endpoint&quot;</span>)</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;};</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment"> * \interanl</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment"> * \brief Completes SIPNotify AMI command in Endpoint mode.</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01078"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a3eb35018da0a7972219f028827b16946"> 1078</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a3eb35018da0a7972219f028827b16946">manager_notify_endpoint</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s,</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keyword">const</span> <span class="keywordtype">char</span> *endpoint_name)</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;{</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars = <a class="code" href="../../df/d72/group__Group__AMI.html#gaa97739ea571e22b9dcd231658f6ce044">astman_get_variables_order</a>(m, <a class="code" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">ORDER_NATURAL</a>);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   <span class="keywordflow">if</span> (!strncasecmp(endpoint_name, <span class="stringliteral">&quot;sip/&quot;</span>, 4)) {</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      endpoint_name += 4;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;   <span class="keywordflow">if</span> (!strncasecmp(endpoint_name, <span class="stringliteral">&quot;pjsip/&quot;</span>, 6)) {</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      endpoint_name += 6;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ade16cc8895ff3cdd213d6c468b4d80a9">push_notify</a>(endpoint_name, vars, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a0bf752b38881484d0c900290058b1c5d">notify_ami_data_create</a>)) {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3">INVALID_CHANNEL</a>:</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="comment">/* Shouldn&#39;t be possible. */</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac98fb28a619ffb4bc9364103b7bbd3fd">INVALID_ENDPOINT</a>:</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(vars);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga352d583ea36240124638e5c1db088227">astman_send_error_va</a>(s, m, <span class="stringliteral">&quot;Unable to retrieve endpoint %s&quot;</span>,</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;         endpoint_name);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">ALLOC_ERROR</a>:</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(vars);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Unable to allocate NOTIFY task data&quot;</span>);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">TASK_PUSH_ERROR</a>:</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="comment">/* Don&#39;t need to destroy vars since it is handled by cleanup in push_notify */</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Unable to push NOTIFY task&quot;</span>);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>:</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a>(s, m, <span class="stringliteral">&quot;NOTIFY sent&quot;</span>);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;   }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment"> * \brief Completes SIPNotify AMI command in URI mode.</span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01119"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#af9bf06d0c22ca50a6ad28b4ba7799033"> 1119</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#af9bf06d0c22ca50a6ad28b4ba7799033">manager_notify_uri</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s,</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keyword">const</span> <span class="keywordtype">char</span> *uri)</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;{</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars = <a class="code" href="../../df/d72/group__Group__AMI.html#gaa97739ea571e22b9dcd231658f6ce044">astman_get_variables_order</a>(m, <a class="code" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">ORDER_NATURAL</a>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7c23ec0cafc3bc823dec5d6ddd476c6f">push_notify_uri</a>(uri, vars, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ac911a9b6c833e6b3c15526cf42daf9e1">notify_ami_uri_data_create</a>)) {</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3">INVALID_CHANNEL</a>:</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="comment">/* Shouldn&#39;t be possible. */</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac98fb28a619ffb4bc9364103b7bbd3fd">INVALID_ENDPOINT</a>:</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="comment">/* Shouldn&#39;t be possible. */</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">ALLOC_ERROR</a>:</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(vars);</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Unable to allocate NOTIFY task data&quot;</span>);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">TASK_PUSH_ERROR</a>:</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="comment">/* Don&#39;t need to destroy vars since it is handled by cleanup in push_notify_uri */</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Unable to push Notify task&quot;</span>);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>:</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a>(s, m, <span class="stringliteral">&quot;NOTIFY sent&quot;</span>);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;   }</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment"> * \brief Completes SIPNotify AMI command in channel mode.</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01151"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a68f263b6ab476070c692ad3910440695"> 1151</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a68f263b6ab476070c692ad3910440695">manager_notify_channel</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s,</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d84/structchannel.html">channel</a>)</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;{</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars = <a class="code" href="../../df/d72/group__Group__AMI.html#gaa97739ea571e22b9dcd231658f6ce044">astman_get_variables_order</a>(m, <a class="code" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">ORDER_NATURAL</a>);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a37056f245b458954462a86ff44a74fa4">push_notify_channel</a>(channel, vars, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#abe696c3afb94efa343719ff5100df790">notify_ami_channel_data_create</a>)) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3">INVALID_CHANNEL</a>:</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(vars);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Channel not found&quot;</span>);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac98fb28a619ffb4bc9364103b7bbd3fd">INVALID_ENDPOINT</a>:</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="comment">/* Shouldn&#39;t be possible. */</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">ALLOC_ERROR</a>:</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(vars);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Unable to allocate NOTIFY task data&quot;</span>);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">TASK_PUSH_ERROR</a>:</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="comment">/* Don&#39;t need to destroy vars since it is handled by cleanup in push_notify_channel */</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Unable to push Notify task&quot;</span>);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>:</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a>(s, m, <span class="stringliteral">&quot;NOTIFY sent&quot;</span>);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   }</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;}</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment"> * \brief AMI entry point to send a SIP notify to an endpoint.</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a99a57b9e302b2f47933ea3e65d2836cb"> 1183</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a99a57b9e302b2f47933ea3e65d2836cb">manager_notify</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m)</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;{</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *endpoint_name = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Endpoint&quot;</span>);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *uri = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;URI&quot;</span>);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d84/structchannel.html">channel</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Channel&quot;</span>);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(endpoint_name)) {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      ++count;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   }</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(uri)) {</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      ++count;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   }</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(channel)) {</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      ++count;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;   }</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;   <span class="keywordflow">if</span> (1 &lt; count) {</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m,</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;         <span class="stringliteral">&quot;PJSIPNotify requires either an endpoint name, a SIP URI, or a channel.  &quot;</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;         <span class="stringliteral">&quot;You must use only one of them.&quot;</span>);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(endpoint_name)) {</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a3eb35018da0a7972219f028827b16946">manager_notify_endpoint</a>(s, m, endpoint_name);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(uri)) {</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#af9bf06d0c22ca50a6ad28b4ba7799033">manager_notify_uri</a>(s, m, uri);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(channel)) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a68f263b6ab476070c692ad3910440695">manager_notify_channel</a>(s, m, channel);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m,</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;         <span class="stringliteral">&quot;PJSIPNotify requires either an endpoint name, a SIP URI, or a channel.&quot;</span>);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;}</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9"> 1218</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;{</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/dfe/config__options_8h.html#a3f40a7cffea07c21a21faaee64d24398">aco_info_init</a>(&amp;<a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a>)) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   }</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a83b8d55eb1ba88ac7291f77a3ebfce45">aco_option_register_custom</a>(&amp;<a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a>, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572a7153160172240beb148de04ea3c94f5d">ACO_PREFIX</a>, notify_options,</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;               <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#aac01865b448a073548060a8aa886f94f">notify_option_handler</a>, 0);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/dfe/config__options_8h.html#af28935f8c2547723d5922ebed1c71898">aco_process_config</a>(&amp;<a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a>, 0)) {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a21b11339ca4d0b1167c956a9f816bd19">aco_info_destroy</a>(&amp;<a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a>);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;   }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(cli_options, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(cli_options));</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;PJSIPNotify&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a99a57b9e302b2f47933ea3e65d2836cb">manager_notify</a>);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;}</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div><div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527"> 1238</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527">reload_module</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;{</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/dfe/config__options_8h.html#af28935f8c2547723d5922ebed1c71898">aco_process_config</a>(&amp;<a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a>, 1) == <a class="code" href="../../db/dfe/config__options_8h.html#a3b4f259d48ef20f47171b73078282d75a832b5997265d8870481f9684cbca5792">ACO_PROCESS_ERROR</a>) {</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;}</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#ad09fa931f468002152a3cc2d5ce25eae"> 1247</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;{</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;PJSIPNotify&quot;</span>);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(cli_options, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(cli_options));</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a21b11339ca4d0b1167c956a9f816bd19">aco_info_destroy</a>(&amp;<a class="code" href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a>);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ac0e1cbc7cf050c8b7b8e3a8fee92c50e">ao2_global_obj_release</a>(<a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;}</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<a class="code" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO</a>(<a class="code" href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a>, <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a>, <span class="stringliteral">&quot;CLI/AMI PJSIP NOTIFY Support&quot;</span>,</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   .support_level = <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>,</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   .load = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>,</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;   .<a class="code" href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527">reload_module</a>,</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   .unload = <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>,</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   .load_pri = <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06">AST_MODPRI_APP_DEPEND</a>,</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;   .requires = <span class="stringliteral">&quot;res_pjsip&quot;</span>,</div><div class="line"><a name="l01264"></a><span class="lineno"><a class="line" href="../../d8/d41/res__pjsip__notify_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae"> 1264</a></span>&#160;);</div><div class="ttc" id="res__pjsip__notify_8c_html_add2c5a7d7d1acddde838287d044c6529"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#add2c5a7d7d1acddde838287d044c6529">cli_complete_notify</a></div><div class="ttdeci">static char * cli_complete_notify(const char *line, const char *word, int pos, int state, int using_uri)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00943">res_pjsip_notify.c:943</a></div></div>
<div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structast__sip__body_html_a88687b0dd98d5307f1219432b73b8412"><div class="ttname"><a href="../../d5/d80/structast__sip__body.html#a88687b0dd98d5307f1219432b73b8412">ast_sip_body::body_text</a></div><div class="ttdeci">const char * body_text</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02033">res_pjsip.h:2033</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structast__sip__session_html_a3960205b2a4e7e012dc9f0eae1855f01"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#a3960205b2a4e7e012dc9f0eae1855f01">ast_sip_session::endpoint</a></div><div class="ttdeci">struct ast_sip_endpoint * endpoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00183">res_pjsip_session.h:183</a></div></div>
<div class="ttc" id="cli_8h_html_a5c4130cf8f1e93acfdd84416cebf1aef"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a></div><div class="ttdeci">#define AST_CLI_DEFINE(fn, txt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00197">cli.h:197</a></div></div>
<div class="ttc" id="config__options_8h_html_ab29e0267f5b05969bcd1d16e97100ebbaaac7fc23ff5841dd793b5d145c420eee"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#ab29e0267f5b05969bcd1d16e97100ebbaaac7fc23ff5841dd793b5d145c420eee">ACO_BLACKLIST_EXACT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00053">config_options.h:53</a></div></div>
<div class="ttc" id="config__options_8h_html_a840871f014617f5415dacb9a7d32a59ba423543a2da4422bd5c7664a0b8ca84d8"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a840871f014617f5415dacb9a7d32a59ba423543a2da4422bd5c7664a0b8ca84d8">ACO_ITEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00042">config_options.h:42</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a340740c6c298bb9a78c8762f93a08ae7"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a340740c6c298bb9a78c8762f93a08ae7">not_allowed</a></div><div class="ttdeci">static int not_allowed(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00491">res_pjsip_notify.c:491</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a9210203645973141374dbf86b0b9f356"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a9210203645973141374dbf86b0b9f356">multiple_headers_allowed</a></div><div class="ttdeci">static int multiple_headers_allowed(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00518">res_pjsip_notify.c:518</a></div></div>
<div class="ttc" id="asterisk_8h_html"><div class="ttname"><a href="../../db/db2/asterisk_8h.html">asterisk.h</a></div><div class="ttdoc">Asterisk main include file. File version handling, generic pbx functions. </div></div>
<div class="ttc" id="structast__sip__aor_html"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a></div><div class="ttdoc">A SIP address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00361">res_pjsip.h:361</a></div></div>
<div class="ttc" id="structnotify__cfg_html_a80513364fc4b88d8f908f3d9b88d6935"><div class="ttname"><a href="../../d1/dbd/structnotify__cfg.html#a80513364fc4b88d8f908f3d9b88d6935">notify_cfg::notify_options</a></div><div class="ttdeci">struct ao2_container * notify_options</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00212">res_pjsip_notify.c:212</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a05e02ff0a1f2f0b98d84f5ab924eba14"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a05e02ff0a1f2f0b98d84f5ab924eba14">build_notify_body</a></div><div class="ttdeci">static void build_notify_body(pjsip_tx_data *tdata, struct ast_str *content_type, struct ast_str *content)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00529">res_pjsip_notify.c:529</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a523a5f714e1c7296f400dc31ede4775b"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a523a5f714e1c7296f400dc31ede4775b">module_conf</a></div><div class="ttdeci">static struct aco_file module_conf</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00251">res_pjsip_notify.c:251</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ada9b310975322f2b9cdfa1e2a63b73af"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ada9b310975322f2b9cdfa1e2a63b73af">notify_option_hash</a></div><div class="ttdeci">static int notify_option_hash(const void *obj, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00137">res_pjsip_notify.c:137</a></div></div>
<div class="ttc" id="module_8h_html_ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00121">module.h:121</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aac49af03ffbeffb744dc7a9095791a5a"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aac49af03ffbeffb744dc7a9095791a5a">notify_cfg_alloc</a></div><div class="ttdeci">static void * notify_cfg_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00221">res_pjsip_notify.c:221</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="config__options_8h_html_a83b8d55eb1ba88ac7291f77a3ebfce45"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a83b8d55eb1ba88ac7291f77a3ebfce45">aco_option_register_custom</a></div><div class="ttdeci">#define aco_option_register_custom(info, name, matchtype, types, default_val, handler, flags)</div><div class="ttdoc">Register a config option. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00638">config_options.h:638</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a7c6ac25ea7536c0bc9ed18cbcf917527"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527">reload_module</a></div><div class="ttdeci">static int reload_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l01238">res_pjsip_notify.c:1238</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="structast__cli__entry_html"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a></div><div class="ttdoc">descriptor for a cli entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00171">cli.h:171</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structnotify__option_html_ade90b30cd48afd12ad1282fac879db72"><div class="ttname"><a href="../../dc/d86/structnotify__option.html#ade90b30cd48afd12ad1282fac879db72">notify_option::items</a></div><div class="ttdeci">struct ao2_container * items</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00132">res_pjsip_notify.c:132</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="structnotify__option_html_afd3f693e384b1ee0a0c44d58351eb87d"><div class="ttname"><a href="../../dc/d86/structnotify__option.html#afd3f693e384b1ee0a0c44d58351eb87d">notify_option::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00134">res_pjsip_notify.c:134</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structnotify__channel__data_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d2/d23/structnotify__channel__data.html#a47bd1bb949183a58a194970acaccffbd">notify_channel_data::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00302">res_pjsip_notify.c:302</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520aca6eebd7656b574b9640d1460da84f771b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca6eebd7656b574b9640d1460da84f771b">AO2_CONTAINER_ALLOC_OPT_DUPS_ALLOW</a></div><div class="ttdoc">Allow objects with duplicate keys in container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01185">astobj2.h:1185</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_adf61f1e7f9778eaf529e41e416ddb09a"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#adf61f1e7f9778eaf529e41e416ddb09a">CONTENT_TYPE_SIZE</a></div><div class="ttdeci">#define CONTENT_TYPE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00115">res_pjsip_notify.c:115</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ac3382bf6da54c56b37069bd76bbdf4f9"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a></div><div class="ttdeci">static int load_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l01218">res_pjsip_notify.c:1218</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a></div><div class="ttdoc">A structure which contains a channel implementation and session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00466">res_pjsip_session.h:466</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a7e641cf86fccc7a523895200cb3857b5"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a7e641cf86fccc7a523895200cb3857b5">build_ami_notify</a></div><div class="ttdeci">static void build_ami_notify(pjsip_tx_data *tdata, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00622">res_pjsip_notify.c:622</a></div></div>
<div class="ttc" id="structnotify__option_html"><div class="ttname"><a href="../../dc/d86/structnotify__option.html">notify_option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00130">res_pjsip_notify.c:130</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">ast_sip_channel_pvt::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdoc">Pointer to session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">res_pjsip_session.h:470</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="config__options_8h_html_af28935f8c2547723d5922ebed1c71898"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#af28935f8c2547723d5922ebed1c71898">aco_process_config</a></div><div class="ttdeci">enum aco_process_status aco_process_config(struct aco_info *info, int reload)</div><div class="ttdoc">Process a config info via the options registered with an aco_info. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00652">config_options.c:652</a></div></div>
<div class="ttc" id="test__config_8c_html_aecdc7cbd5dfa76493c0212caa55d706c"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a></div><div class="ttdeci">static struct aco_type item</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l01463">test_config.c:1463</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a3eb35018da0a7972219f028827b16946"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a3eb35018da0a7972219f028827b16946">manager_notify_endpoint</a></div><div class="ttdeci">static void manager_notify_endpoint(struct mansession *s, const struct message *m, const char *endpoint_name)</div><div class="ttdoc">Completes SIPNotify AMI command in Endpoint mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l01078">res_pjsip_notify.c:1078</a></div></div>
<div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a404837089a8a08b9f341f2ccea7128ef"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a404837089a8a08b9f341f2ccea7128ef">ast_sip_location_retrieve_aor_contacts</a></div><div class="ttdeci">struct ao2_container * ast_sip_location_retrieve_aor_contacts(const struct ast_sip_aor *aor)</div><div class="ttdoc">Retrieve all contacts currently available for an AOR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00247">location.c:247</a></div></div>
<div class="ttc" id="structnotify__option__item_html"><div class="ttname"><a href="../../d1/d00/structnotify__option__item.html">notify_option_item</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00124">res_pjsip_notify.c:124</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga77315fa8e29950f0c88120501acda0a3"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a></div><div class="ttdeci">void astman_send_ack(struct mansession *s, const struct message *m, char *msg)</div><div class="ttdoc">Send ack in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03191">manager.c:3191</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="sorcery_8h_html_a7214aea6ccfa9c7a6d08ee9a4fad9af9"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a7214aea6ccfa9c7a6d08ee9a4fad9af9">ast_sorcery_retrieve_by_prefix</a></div><div class="ttdeci">struct ao2_container * ast_sorcery_retrieve_by_prefix(const struct ast_sorcery *sorcery, const char *type, const char *prefix, const size_t prefix_len)</div><div class="ttdoc">Retrieve multiple objects whose id begins with the specified prefix. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01984">sorcery.c:1984</a></div></div>
<div class="ttc" id="structnotify__data_html_a9b4f350d698710716224cb12930574d7"><div class="ttname"><a href="../../d4/d18/structnotify__data.html#a9b4f350d698710716224cb12930574d7">notify_data::build_notify</a></div><div class="ttdeci">void(* build_notify)(pjsip_tx_data *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00272">res_pjsip_notify.c:272</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a7f6df3c21a0eb11bad3fa1dbfc2f1dfc"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a7f6df3c21a0eb11bad3fa1dbfc2f1dfc">ast_sip_default_outbound_endpoint</a></div><div class="ttdeci">struct ast_sip_endpoint * ast_sip_default_outbound_endpoint(void)</div><div class="ttdoc">Retrieve the default outbound endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02353">pjsip_configuration.c:2353</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structaco__file_html"><div class="ttname"><a href="../../d9/d9c/structaco__file.html">aco_file</a></div><div class="ttdoc">The representation of a single configuration file to be processed. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00161">config_options.h:161</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a00720b770ea6bab06091da6d188a08fe"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a00720b770ea6bab06091da6d188a08fe">AO2_GLOBAL_OBJ_STATIC</a></div><div class="ttdeci">AO2_GLOBAL_OBJ_STATIC(globals)</div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a79a965885d7a401a7b02e272a54bdf95"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a79a965885d7a401a7b02e272a54bdf95">build_notify</a></div><div class="ttdeci">static void build_notify(pjsip_tx_data *tdata, const char *name, const char *value, struct ast_str **content_type, struct ast_str **content)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00553">res_pjsip_notify.c:553</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_acd77226ea2241302a14b3072737f13ca"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#acd77226ea2241302a14b3072737f13ca">notify_cli_data_create</a></div><div class="ttdeci">static struct notify_data * notify_cli_data_create(struct ast_sip_endpoint *endpoint, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00325">res_pjsip_notify.c:325</a></div></div>
<div class="ttc" id="structast__sip__session_html_ab9fd713b198a122cb52c7f10bd66d1c6"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#ab9fd713b198a122cb52c7f10bd66d1c6">ast_sip_session::inv_session</a></div><div class="ttdeci">struct pjsip_inv_session * inv_session</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00187">res_pjsip_session.h:187</a></div></div>
<div class="ttc" id="structnotify__cfg_html"><div class="ttname"><a href="../../d1/dbd/structnotify__cfg.html">notify_cfg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00211">res_pjsip_notify.c:211</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac9f40ee33942868e29310bf7c2f91cf3">INVALID_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00785">res_pjsip_notify.c:785</a></div></div>
<div class="ttc" id="config__options_8h_html_af773eedd7f94d718752798605c687c4b"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#af773eedd7f94d718752798605c687c4b">ACO_TYPES</a></div><div class="ttdeci">#define ACO_TYPES(...)</div><div class="ttdoc">A helper macro to ensure that aco_info types always have a sentinel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00181">config_options.h:181</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga352d583ea36240124638e5c1db088227"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga352d583ea36240124638e5c1db088227">astman_send_error_va</a></div><div class="ttdeci">void astman_send_error_va(struct mansession *s, const struct message *m, const char *fmt,...)</div><div class="ttdoc">Send error in manager transaction (with va_args support) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03164">manager.c:3164</a></div></div>
<div class="ttc" id="structast__sip__session_html"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html">ast_sip_session</a></div><div class="ttdoc">A structure describing a SIP session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00179">res_pjsip_session.h:179</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aae70189f248b650028defa2c9ccc5e5c"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aae70189f248b650028defa2c9ccc5e5c">notify_cfg_destroy</a></div><div class="ttdeci">static void notify_cfg_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00215">res_pjsip_notify.c:215</a></div></div>
<div class="ttc" id="structnotify__data_html"><div class="ttname"><a href="../../d4/d18/structnotify__data.html">notify_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00266">res_pjsip_notify.c:266</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a9302fd362f9d52147d928c5bc4740433"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a9302fd362f9d52147d928c5bc4740433">ast_sip_send_request</a></div><div class="ttdeci">int ast_sip_send_request(pjsip_tx_data *tdata, struct pjsip_dialog *dlg, struct ast_sip_endpoint *endpoint, void *token, void(*callback)(void *token, pjsip_event *e))</div><div class="ttdoc">General purpose method for sending a SIP request. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05034">res_pjsip.c:5034</a></div></div>
<div class="ttc" id="structast__cli__args_html_a2a7a1aa13a4f14075411123a4495593c"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">ast_cli_args::line</a></div><div class="ttdeci">const char * line</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00162">cli.h:162</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_acef4d0aef5bdc92f0b6b188e48f2e90f"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a></div><div class="ttdeci">int ast_sip_add_header(pjsip_tx_data *tdata, const char *name, const char *value)</div><div class="ttdoc">Add a header to an outbound SIP message. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05063">res_pjsip.c:5063</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a83bd7beef325cfb468e1dec012adbb31"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a83bd7beef325cfb468e1dec012adbb31">notify_uri</a></div><div class="ttdeci">static int notify_uri(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00709">res_pjsip_notify.c:709</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac6a9f3498f9afffecfd78c485af41556"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a></div><div class="ttdeci">const char * astman_get_header(const struct message *m, char *var)</div><div class="ttdoc">Get header from mananger transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02820">manager.c:2820</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a40f5943309d0a11028840119c5ef674d"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a40f5943309d0a11028840119c5ef674d">CONFIG_INFO_STANDARD</a></div><div class="ttdeci">CONFIG_INFO_STANDARD(notify_cfg, globals, notify_cfg_alloc,.files=ACO_FILES(&amp;module_conf))</div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aab51cff08d0029469d3178d71b335c41"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aab51cff08d0029469d3178d71b335c41">cli_options</a></div><div class="ttdeci">static struct ast_cli_entry cli_options[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l01070">res_pjsip_notify.c:1070</a></div></div>
<div class="ttc" id="structnotify__data_html_a3960205b2a4e7e012dc9f0eae1855f01"><div class="ttname"><a href="../../d4/d18/structnotify__data.html#a3960205b2a4e7e012dc9f0eae1855f01">notify_data::endpoint</a></div><div class="ttdeci">struct ast_sip_endpoint * endpoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00268">res_pjsip_notify.c:268</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html">config.h</a></div><div class="ttdoc">Configuration File Parser. </div></div>
<div class="ttc" id="manager_8h_html_a420f0f755e1c3378b45ca7f6f0669ffa"><div class="ttname"><a href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a></div><div class="ttdeci">#define EVENT_FLAG_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00071">manager.h:71</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a0fe25cb145c4ddd8e8cb71fb90a1d2fd"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a0fe25cb145c4ddd8e8cb71fb90a1d2fd">notify_ami_channel_data_destroy</a></div><div class="ttdeci">static void notify_ami_channel_data_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00403">res_pjsip_notify.c:403</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a818dac6af7e8f2455f542732abefdc85"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a818dac6af7e8f2455f542732abefdc85">notify_cli_uri_data_create</a></div><div class="ttdeci">static struct notify_uri_data * notify_cli_uri_data_create(const char *uri, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00349">res_pjsip_notify.c:349</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a3ba7d65aeff48f7e25b6a48ffdf55a7c"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a3ba7d65aeff48f7e25b6a48ffdf55a7c">notify_options</a></div><div class="ttdeci">static struct aco_type * notify_options[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00249">res_pjsip_notify.c:249</a></div></div>
<div class="ttc" id="config__options_8h_html_a3f40a7cffea07c21a21faaee64d24398"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a3f40a7cffea07c21a21faaee64d24398">aco_info_init</a></div><div class="ttdeci">int aco_info_init(struct aco_info *info)</div><div class="ttdoc">Initialize an aco_info structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00877">config_options.c:877</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aa12fb28276083e2905febcfe3565de2aac98fb28a619ffb4bc9364103b7bbd3fd"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac98fb28a619ffb4bc9364103b7bbd3fd">INVALID_ENDPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00784">res_pjsip_notify.c:784</a></div></div>
<div class="ttc" id="module_8h_html_a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223"><div class="ttname"><a href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00317">module.h:317</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a25b58198cfa01c548cbad7cd15fff287"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a25b58198cfa01c548cbad7cd15fff287">notify_ami_data_destroy</a></div><div class="ttdeci">static void notify_ami_data_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00377">res_pjsip_notify.c:377</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a9a14851d1f88b087df7237ec180de52e"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a9a14851d1f88b087df7237ec180de52e">ast_sip_add_body</a></div><div class="ttdeci">int ast_sip_add_body(pjsip_tx_data *tdata, const struct ast_sip_body *body)</div><div class="ttdoc">Add a body to an outbound SIP message. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05091">res_pjsip.c:5091</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structast__sip__body_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d5/d80/structast__sip__body.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_sip_body::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02029">res_pjsip.h:2029</a></div></div>
<div class="ttc" id="astman_8c_html_ac4a6ae0400e4457f0b35beddec80c93d"><div class="ttname"><a href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a></div><div class="ttdeci">static struct ast_mansession session</div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="main_2endpoints_8c_html_a0b6312c44448ff7ed80ac99b3077e438"><div class="ttname"><a href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a></div><div class="ttdeci">static struct ao2_container * endpoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00050">main/endpoints.c:50</a></div></div>
<div class="ttc" id="structnotify__channel__data_html"><div class="ttname"><a href="../../d2/d23/structnotify__channel__data.html">notify_channel_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00301">res_pjsip_notify.c:301</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structnotify__uri__data_html_acb1df3a0f703b05bc4971f79cabe2597"><div class="ttname"><a href="../../d1/dce/structnotify__uri__data.html#acb1df3a0f703b05bc4971f79cabe2597">notify_uri_data::info</a></div><div class="ttdeci">void * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00293">res_pjsip_notify.c:293</a></div></div>
<div class="ttc" id="structnotify__option__item_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../d1/d00/structnotify__option__item.html#a8556878012feffc9e0beb86cd78f424d">notify_option_item::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00126">res_pjsip_notify.c:126</a></div></div>
<div class="ttc" id="structmansession_html"><div class="ttname"><a href="../../d2/d8a/structmansession.html">mansession</a></div><div class="ttdoc">In case you didn&amp;#39;t read that giant block of text above the mansession_session struct, the struct mansession is named this solely to keep the API the same in Asterisk. This structure really represents data that is different from Manager action to Manager action. The mansession_session pointer contained within points to session-specific data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01625">manager.c:1625</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="res__fax_8c_html_a7ea220e4d14b05876af4430e9832ce47"><div class="ttname"><a href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a></div><div class="ttdeci">struct ao2_container * container</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d60/res__fax_8c_source.html#l00502">res_fax.c:502</a></div></div>
<div class="ttc" id="chan__console_8c_html_aa36e3e2c486b920b166c2d17c5242221"><div class="ttname"><a href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a></div><div class="ttdeci">static struct console_pvt globals</div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a79a289319047c875872ae931acb6ab34"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a79a289319047c875872ae931acb6ab34">notify_contact</a></div><div class="ttdeci">static int notify_contact(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00645">res_pjsip_notify.c:645</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aac90a72bfe3936d7cdcdff26e196b7c8"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aac90a72bfe3936d7cdcdff26e196b7c8">notify_endpoint</a></div><div class="ttdeci">static int notify_endpoint(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00677">res_pjsip_notify.c:677</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a></div><div class="ttdoc">An entity with which Asterisk communicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00812">res_pjsip.h:812</a></div></div>
<div class="ttc" id="structnotify__data_html_acb1df3a0f703b05bc4971f79cabe2597"><div class="ttname"><a href="../../d4/d18/structnotify__data.html#acb1df3a0f703b05bc4971f79cabe2597">notify_data::info</a></div><div class="ttdeci">void * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00270">res_pjsip_notify.c:270</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa9e953c557e04b8ac8b24e763b9b1cf94">ALLOC_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00786">res_pjsip_notify.c:786</a></div></div>
<div class="ttc" id="pbx_8h_html"><div class="ttname"><a href="../../db/de0/pbx_8h.html">pbx.h</a></div><div class="ttdoc">Core PBX routines and definitions. </div></div>
<div class="ttc" id="structast__sip__session_html_ac23e23ba60f358de78a893d537c0afa4"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">ast_sip_session::serializer</a></div><div class="ttdeci">struct ast_taskprocessor * serializer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00195">res_pjsip_session.h:195</a></div></div>
<div class="ttc" id="manager_8h_html_a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">ORDER_NATURAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00283">manager.h:283</a></div></div>
<div class="ttc" id="config__options_8h_html_a3b4f259d48ef20f47171b73078282d75a832b5997265d8870481f9684cbca5792"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a3b4f259d48ef20f47171b73078282d75a832b5997265d8870481f9684cbca5792">ACO_PROCESS_ERROR</a></div><div class="ttdoc">Their was an error and no changes were applied. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00527">config_options.h:527</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a434c2d85dbd10a9453f6d409809330d5"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a434c2d85dbd10a9453f6d409809330d5">ast_sip_location_retrieve_aor</a></div><div class="ttdeci">struct ast_sip_aor * ast_sip_location_retrieve_aor(const char *aor_name)</div><div class="ttdoc">Retrieve a named AOR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00147">location.c:147</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ac923f73ce336f020aade8a71a402277f"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ac923f73ce336f020aade8a71a402277f">notify_ami_uri_data_destroy</a></div><div class="ttdeci">static void notify_ami_uri_data_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00390">res_pjsip_notify.c:390</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gafadf012f66a9fd7ecf985ec5b9dee101"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a></div><div class="ttdeci">int ast_manager_unregister(const char *action)</div><div class="ttdoc">Unregister a registered manager command. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07258">manager.c:7258</a></div></div>
<div class="ttc" id="manager_8h_html"><div class="ttname"><a href="../../db/d45/manager_8h.html">manager.h</a></div><div class="ttdoc">The AMI - Asterisk Manager Interface - is a TCP protocol created to manage Asterisk with third-party ...</div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ade16cc8895ff3cdd213d6c468b4d80a9"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ade16cc8895ff3cdd213d6c468b4d80a9">push_notify</a></div><div class="ttdeci">static enum notify_result push_notify(const char *endpoint_name, void *info, task_data_create data_create)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00803">res_pjsip_notify.c:803</a></div></div>
<div class="ttc" id="structnotify__channel__data_html_a9b4f350d698710716224cb12930574d7"><div class="ttname"><a href="../../d2/d23/structnotify__channel__data.html#a9b4f350d698710716224cb12930574d7">notify_channel_data::build_notify</a></div><div class="ttdeci">void(* build_notify)(pjsip_tx_data *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00304">res_pjsip_notify.c:304</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ae131f75fb506bf9395f51ea5529ed1b6"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ae131f75fb506bf9395f51ea5529ed1b6">notify_cli_data_destroy</a></div><div class="ttdeci">static void notify_cli_data_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00279">res_pjsip_notify.c:279</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a68f263b6ab476070c692ad3910440695"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a68f263b6ab476070c692ad3910440695">manager_notify_channel</a></div><div class="ttdeci">static void manager_notify_channel(struct mansession *s, const struct message *m, const char *channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l01151">res_pjsip_notify.c:1151</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aa12fb28276083e2905febcfe3565de2a"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2a">notify_result</a></div><div class="ttdeci">notify_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00782">res_pjsip_notify.c:782</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="group__pjsip__threading_html_ga4f0a0629fa2ca084812772356d8e3565"><div class="ttname"><a href="../../d7/dfa/group__pjsip__threading.html#ga4f0a0629fa2ca084812772356d8e3565">ast_sip_push_task</a></div><div class="ttdeci">int ast_sip_push_task(struct ast_taskprocessor *serializer, int(*sip_task)(void *), void *task_data)</div><div class="ttdoc">Pushes a task to SIP servants. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05138">res_pjsip.c:5138</a></div></div>
<div class="ttc" id="config__options_8h_html_a21b11339ca4d0b1167c956a9f816bd19"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a21b11339ca4d0b1167c956a9f816bd19">aco_info_destroy</a></div><div class="ttdeci">void aco_info_destroy(struct aco_info *info)</div><div class="ttdoc">Destroy an initialized aco_info struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00910">config_options.c:910</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a7c23ec0cafc3bc823dec5d6ddd476c6f"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a7c23ec0cafc3bc823dec5d6ddd476c6f">push_notify_uri</a></div><div class="ttdeci">static enum notify_result push_notify_uri(const char *uri, void *info, task_uri_data_create data_create)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00830">res_pjsip_notify.c:830</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac0e1cbc7cf050c8b7b8e3a8fee92c50e"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac0e1cbc7cf050c8b7b8e3a8fee92c50e">ao2_global_obj_release</a></div><div class="ttdeci">#define ao2_global_obj_release(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00865">astobj2.h:865</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="structast__sip__body_html_abb4ae60bbcbce3616fdd7d4238869c91"><div class="ttname"><a href="../../d5/d80/structast__sip__body.html#abb4ae60bbcbce3616fdd7d4238869c91">ast_sip_body::subtype</a></div><div class="ttdeci">const char * subtype</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02031">res_pjsip.h:2031</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aff9b7f6d81297248bf0ad06d725c8cbb"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aff9b7f6d81297248bf0ad06d725c8cbb">CONTENT_SIZE</a></div><div class="ttdeci">#define CONTENT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00116">res_pjsip_notify.c:116</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ae24981e2c74af01caa2ccd9fb1398485"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ae24981e2c74af01caa2ccd9fb1398485">notify_option_destroy</a></div><div class="ttdeci">static void notify_option_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00152">res_pjsip_notify.c:152</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a0bba8ccfd4cbfccd9dbe566cf8e91c85"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a0bba8ccfd4cbfccd9dbe566cf8e91c85">task_uri_data_create</a></div><div class="ttdeci">struct notify_uri_data *(* task_uri_data_create)(const char *uri, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00793">res_pjsip_notify.c:793</a></div></div>
<div class="ttc" id="structnotify__uri__data_html_a9b4f350d698710716224cb12930574d7"><div class="ttname"><a href="../../d1/dce/structnotify__uri__data.html#a9b4f350d698710716224cb12930574d7">notify_uri_data::build_notify</a></div><div class="ttdeci">void(* build_notify)(pjsip_tx_data *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00294">res_pjsip_notify.c:294</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a39e7ef9812c9917b7296eeb2eb1c7cef"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a39e7ef9812c9917b7296eeb2eb1c7cef">notify_option_find</a></div><div class="ttdeci">static void * notify_option_find(struct ao2_container *container, const char *category)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00181">res_pjsip_notify.c:181</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00741">cdr_mysql.c:741</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aad40dcc363c0bd407bdc978861ce9869"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aad40dcc363c0bd407bdc978861ce9869">notify_cli_uri_data_destroy</a></div><div class="ttdeci">static void notify_cli_uri_data_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00307">res_pjsip_notify.c:307</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a1ec8c7d0bce736afec83817b82e24e92"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a1ec8c7d0bce736afec83817b82e24e92">notify_option_cmp</a></div><div class="ttdeci">static int notify_option_cmp(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00143">res_pjsip_notify.c:143</a></div></div>
<div class="ttc" id="structaco__option_html"><div class="ttname"><a href="../../db/de0/structaco__option.html">aco_option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00062">config_options.c:62</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_af9bf06d0c22ca50a6ad28b4ba7799033"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#af9bf06d0c22ca50a6ad28b4ba7799033">manager_notify_uri</a></div><div class="ttdeci">static void manager_notify_uri(struct mansession *s, const struct message *m, const char *uri)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l01119">res_pjsip_notify.c:1119</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a99a57b9e302b2f47933ea3e65d2836cb"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a99a57b9e302b2f47933ea3e65d2836cb">manager_notify</a></div><div class="ttdeci">static int manager_notify(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l01183">res_pjsip_notify.c:1183</a></div></div>
<div class="ttc" id="res__phoneprov_8c_html_addaa208b0ed785225e24490fb9f28a80"><div class="ttname"><a href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO</a></div><div class="ttdeci">AST_MODULE_INFO(ASTERISK_GPL_KEY, AST_MODFLAG_GLOBAL_SYMBOLS|AST_MODFLAG_LOAD_ORDER, &quot;HTTP Phone Provisioning&quot;,.support_level=AST_MODULE_SUPPORT_EXTENDED,.load=load_module,.unload=unload_module,.reload=reload,.load_pri=AST_MODPRI_CHANNEL_DEPEND,.requires=&quot;http&quot;,)</div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aac01865b448a073548060a8aa886f94f"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aac01865b448a073548060a8aa886f94f">notify_option_handler</a></div><div class="ttdeci">static int notify_option_handler(const struct aco_option *opt, struct ast_variable *var, void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00186">res_pjsip_notify.c:186</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a0b321ac2cad28e4642e2039e886c52ab"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a0b321ac2cad28e4642e2039e886c52ab">notify_option_alloc</a></div><div class="ttdeci">static void * notify_option_alloc(const char *category)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00158">res_pjsip_notify.c:158</a></div></div>
<div class="ttc" id="config__options_8h_html_a60d2944aab4537720434ab9c90e12418"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a60d2944aab4537720434ab9c90e12418">ACO_FILES</a></div><div class="ttdeci">#define ACO_FILES(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00182">config_options.h:182</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a74fec3f0f1ef530c34f37021d5afcd2d"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a74fec3f0f1ef530c34f37021d5afcd2d">task_data_create</a></div><div class="ttdeci">struct notify_data *(* task_data_create)(struct ast_sip_endpoint *, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00790">res_pjsip_notify.c:790</a></div></div>
<div class="ttc" id="strings_8h_html_aabc005bd1c7e249e8f8659d57d4500b6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a></div><div class="ttdeci">size_t ast_str_strlen(const struct ast_str *buf)</div><div class="ttdoc">Returns the current length of the string stored within buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00688">strings.h:688</a></div></div>
<div class="ttc" id="structaco__type_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../de/d71/structaco__type.html#a8f8f80d37794cde9472343e4487ba3eb">aco_type::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00124">config_options.h:124</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="structnotify__option__item_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d1/d00/structnotify__option__item.html#a8f8f80d37794cde9472343e4487ba3eb">notify_option_item::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00125">res_pjsip_notify.c:125</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gaa97739ea571e22b9dcd231658f6ce044"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gaa97739ea571e22b9dcd231658f6ce044">astman_get_variables_order</a></div><div class="ttdeci">struct ast_variable * astman_get_variables_order(const struct message *m, enum variable_orders order)</div><div class="ttdoc">Get a linked list of the Variable: headers with order specified. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02911">manager.c:2911</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="cli_8h_html"><div class="ttname"><a href="../../dc/db0/cli_8h.html">cli.h</a></div><div class="ttdoc">Standard Command Line Interface. </div></div>
<div class="ttc" id="structaco__type_html"><div class="ttname"><a href="../../de/d71/structaco__type.html">aco_type</a></div><div class="ttdoc">Type information about a category-level configurable object. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00121">config_options.h:121</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="structaco__file_html_a7efa5e9c7494c7d4586359300221aa5d"><div class="ttname"><a href="../../d9/d9c/structaco__file.html#a7efa5e9c7494c7d4586359300221aa5d">aco_file::filename</a></div><div class="ttdeci">const char * filename</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00162">config_options.h:162</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a0bf752b38881484d0c900290058b1c5d"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a0bf752b38881484d0c900290058b1c5d">notify_ami_data_create</a></div><div class="ttdeci">static struct notify_data * notify_ami_data_create(struct ast_sip_endpoint *endpoint, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00418">res_pjsip_notify.c:418</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a37056f245b458954462a86ff44a74fa4"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a37056f245b458954462a86ff44a74fa4">push_notify_channel</a></div><div class="ttdeci">static enum notify_result push_notify_channel(const char *channel_name, void *info, task_channel_data_create data_create)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00851">res_pjsip_notify.c:851</a></div></div>
<div class="ttc" id="structast__cli__args_html"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html">ast_cli_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00158">cli.h:158</a></div></div>
<div class="ttc" id="structnotify__channel__data_html_acb1df3a0f703b05bc4971f79cabe2597"><div class="ttname"><a href="../../d2/d23/structnotify__channel__data.html#acb1df3a0f703b05bc4971f79cabe2597">notify_channel_data::info</a></div><div class="ttdeci">void * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00303">res_pjsip_notify.c:303</a></div></div>
<div class="ttc" id="config__options_8h_html_a1b87da445ce6937e5cfbdaed1288a572a7153160172240beb148de04ea3c94f5d"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572a7153160172240beb148de04ea3c94f5d">ACO_PREFIX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00066">config_options.h:66</a></div></div>
<div class="ttc" id="structnotify__option__item_html_a103a957b017f6b717767bba130a02694"><div class="ttname"><a href="../../d1/d00/structnotify__option__item.html#a103a957b017f6b717767bba130a02694">notify_option_item::buf</a></div><div class="ttdeci">char buf[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00127">res_pjsip_notify.c:127</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ad09fa931f468002152a3cc2d5ce25eae"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a></div><div class="ttdeci">static int unload_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l01247">res_pjsip_notify.c:1247</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a8f5a924ac2601f69f3da5f5cd6887c2d"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a8f5a924ac2601f69f3da5f5cd6887c2d">notify_channel</a></div><div class="ttdeci">static int notify_channel(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00751">res_pjsip_notify.c:751</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_abe696c3afb94efa343719ff5100df790"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#abe696c3afb94efa343719ff5100df790">notify_ami_channel_data_create</a></div><div class="ttdeci">static struct notify_channel_data * notify_ami_channel_data_create(struct ast_sip_session *session, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00465">res_pjsip_notify.c:465</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ac816ffe3c6f6d1b3d18665d923ead17c"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ac816ffe3c6f6d1b3d18665d923ead17c">task_channel_data_create</a></div><div class="ttdeci">struct notify_channel_data *(* task_channel_data_create)(struct ast_sip_session *session, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00796">res_pjsip_notify.c:796</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a5120a5cb2681828fc16cd35811c36819"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a5120a5cb2681828fc16cd35811c36819">build_cli_notify</a></div><div class="ttdeci">static void build_cli_notify(pjsip_tx_data *tdata, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00598">res_pjsip_notify.c:598</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a496d04e7c38352c93d408de3ecb43876"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a496d04e7c38352c93d408de3ecb43876">cli_notify</a></div><div class="ttdeci">static char * cli_notify(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l01003">res_pjsip_notify.c:1003</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06">AST_MODPRI_APP_DEPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00328">module.h:328</a></div></div>
<div class="ttc" id="cli_8h_html_a6f5f6c330757d980065d3f887c62237f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a6f5f6c330757d980065d3f887c62237f">ast_cli_completion_add</a></div><div class="ttdeci">int ast_cli_completion_add(char *value)</div><div class="ttdoc">Add a result to a request for completion options. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/main_2cli_8c_source.html#l02726">main/cli.c:2726</a></div></div>
<div class="ttc" id="structnotify__uri__data_html"><div class="ttname"><a href="../../d1/dce/structnotify__uri__data.html">notify_uri_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00291">res_pjsip_notify.c:291</a></div></div>
<div class="ttc" id="manager_8h_html_a5b63b8a8faede2d852e071e1f7b31c11"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a></div><div class="ttdeci">#define ast_manager_register_xml(action, authority, func)</div><div class="ttdoc">Register a manager callback using XML documentation to describe the manager. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00186">manager.h:186</a></div></div>
<div class="ttc" id="module_8h_html_aba2c8d4be709a254658b21a834f8294a"><div class="ttname"><a href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a></div><div class="ttdeci">#define ASTERISK_GPL_KEY</div><div class="ttdoc">The text the key() function should return. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00046">module.h:46</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a19ac71226fac09e87afe31acb4c99214"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">ast_sip_contact::uri</a></div><div class="ttdeci">const ast_string_field uri</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="channel_8h_html_ac7e42045272530c8678418993e75fd56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name(const char *name)</div><div class="ttdoc">Find a channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01454">channel.c:1454</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga31a02a7d3cc36aa66ebebdedfc574d1c"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a></div><div class="ttdeci">void astman_send_error(struct mansession *s, const struct message *m, char *error)</div><div class="ttdoc">Send error in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03159">manager.c:3159</a></div></div>
<div class="ttc" id="module_8h_html"><div class="ttname"><a href="../../d5/d16/module_8h.html">module.h</a></div><div class="ttdoc">Asterisk module definitions. </div></div>
<div class="ttc" id="res__pjsip_8h_html"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html">res_pjsip.h</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ac911a9b6c833e6b3c15526cf42daf9e1"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ac911a9b6c833e6b3c15526cf42daf9e1">notify_ami_uri_data_create</a></div><div class="ttdeci">static struct notify_uri_data * notify_ami_uri_data_create(const char *uri, void *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00440">res_pjsip_notify.c:440</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a7d593cb0c0ea15a214768ee9bf215558"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a7d593cb0c0ea15a214768ee9bf215558">cli_complete_endpoint</a></div><div class="ttdeci">static char * cli_complete_endpoint(const char *word)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00913">res_pjsip_notify.c:913</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
<div class="ttc" id="res__pjsip__session_8h_html"><div class="ttname"><a href="../../d9/de7/res__pjsip__session_8h.html">res_pjsip_session.h</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="structast__sip__body_html"><div class="ttname"><a href="../../d5/d80/structast__sip__body.html">ast_sip_body</a></div><div class="ttdoc">SIP body description. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02027">res_pjsip.h:2027</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aa02eab8d566928f1edafa8de47ddd6c47">TASK_PUSH_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00787">res_pjsip_notify.c:787</a></div></div>
<div class="ttc" id="strings_8h_html_ab08f8db2a7258e538a0da7417f58db58"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ab08f8db2a7258e538a0da7417f58db58">ast_str_case_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_case_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a case-insensitive string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01250">strings.h:1250</a></div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_ae72078d1ae40313bb3823781db5376be"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#ae72078d1ae40313bb3823781db5376be">notify_config</a></div><div class="ttdeci">static const char notify_config[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00122">res_pjsip_notify.c:122</a></div></div>
<div class="ttc" id="structnotify__uri__data_html_af98b83cec5342c54027dd92f7357d6e6"><div class="ttname"><a href="../../d1/dce/structnotify__uri__data.html#af98b83cec5342c54027dd92f7357d6e6">notify_uri_data::uri</a></div><div class="ttdeci">char * uri</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00292">res_pjsip_notify.c:292</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ac981149e3fb0f7fc8b6e75607b1b2ad0"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ac981149e3fb0f7fc8b6e75607b1b2ad0">ast_sip_create_request</a></div><div class="ttdeci">int ast_sip_create_request(const char *method, struct pjsip_dialog *dlg, struct ast_sip_endpoint *endpoint, const char *uri, struct ast_sip_contact *contact, pjsip_tx_data **tdata)</div><div class="ttdoc">General purpose method for creating a SIP request. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04490">res_pjsip.c:4490</a></div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
<div class="ttc" id="sorcery_8h_html"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html">sorcery.h</a></div><div class="ttdoc">Sorcery Data Access Layer API. </div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#aa12fb28276083e2905febcfe3565de2aac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00783">res_pjsip_notify.c:783</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a13dd15487fee89a002d17ef3aff62d02"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></div><div class="ttdeci">static struct test_val a</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">test_linkedlists.c:46</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:04 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
