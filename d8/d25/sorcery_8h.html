<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: sorcery.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sorcery.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Sorcery Data Access Layer API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/dfe/config__options_8h_source.html">asterisk/config_options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d1d/uuid_8h_source.html">asterisk/uuid.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sorcery.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/db2/sorcery_8h__incl.png" border="0" usemap="#sorcery_8h" alt=""/></div>
<map name="sorcery_8h" id="sorcery_8h">
<area shape="rect" id="node2" href="../../db/dfe/config__options_8h.html" title="Configuration option&#45;handling. " alt="" coords="73,80,253,107"/>
<area shape="rect" id="node8" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="278,80,393,107"/>
<area shape="rect" id="node4" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="100,155,227,181"/>
<area shape="rect" id="node7" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="251,155,385,181"/>
<area shape="rect" id="node5" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="106,229,221,256"/>
<area shape="rect" id="node6" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="245,229,391,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d2d/sorcery_8h__dep__incl.png" border="0" usemap="#sorcery_8hdep" alt=""/></div>
<map name="sorcery_8hdep" id="sorcery_8hdep">
<area shape="rect" id="node2" href="../../d8/d8c/res__pjsip_8h.html" title="res_pjsip.h" alt="" coords="2025,87,2116,114"/>
<area shape="rect" id="node6" href="../../dd/d92/func__pjsip__aor_8c.html" title="Get information about a PJSIP AOR. " alt="" coords="5,177,128,203"/>
<area shape="rect" id="node7" href="../../de/d6a/func__pjsip__contact_8c.html" title="Get information about a PJSIP contact. " alt="" coords="153,177,303,203"/>
<area shape="rect" id="node8" href="../../d0/d7b/func__pjsip__endpoint_8c.html" title="Get information about a PJSIP endpoint. " alt="" coords="327,177,486,203"/>
<area shape="rect" id="node11" href="../../d5/dcb/config__auth_8c.html" title="config_auth.c" alt="" coords="511,177,617,203"/>
<area shape="rect" id="node12" href="../../d9/d9e/config__domain__aliases_8c.html" title="config_domain_aliases.c" alt="" coords="642,177,819,203"/>
<area shape="rect" id="node13" href="../../dd/dfd/config__global_8c.html" title="config_global.c" alt="" coords="843,177,959,203"/>
<area shape="rect" id="node14" href="../../df/dfd/config__system_8c.html" title="config_system.c" alt="" coords="984,177,1109,203"/>
<area shape="rect" id="node15" href="../../d3/d17/config__transport_8c.html" title="config_transport.c" alt="" coords="2123,177,2261,203"/>
<area shape="rect" id="node16" href="../../d0/dad/location_8c.html" title="location.c" alt="" coords="2285,177,2368,203"/>
<area shape="rect" id="node17" href="../../d0/df0/pjsip__cli_8c.html" title="pjsip_cli.c" alt="" coords="2392,177,2475,203"/>
<area shape="rect" id="node18" href="../../dc/df6/pjsip__configuration_8c.html" title="pjsip_configuration.c" alt="" coords="2499,177,2651,203"/>
<area shape="rect" id="node20" href="../../de/d96/res__pjsip_8c.html" title="res_pjsip.c" alt="" coords="2675,177,2765,203"/>
<area shape="rect" id="node21" href="../../d5/d5e/res__pjsip__acl_8c.html" title="res_pjsip_acl.c" alt="" coords="2789,177,2904,203"/>
<area shape="rect" id="node22" href="../../d9/d63/res__pjsip__config__wizard_8c.html" title="PJSIP Configuration Wizard. " alt="" coords="2928,177,3109,203"/>
<area shape="rect" id="node23" href="../../d2/d3d/res__pjsip__exten__state_8c.html" title="res_pjsip_exten_state.c" alt="" coords="3134,177,3306,203"/>
<area shape="rect" id="node24" href="../../d8/d25/res__pjsip__mwi_8c.html" title="res_pjsip_mwi.c" alt="" coords="3330,177,3451,203"/>
<area shape="rect" id="node25" href="../../d8/d41/res__pjsip__notify_8c.html" title="res_pjsip_notify.c" alt="" coords="3475,177,3605,203"/>
<area shape="rect" id="node26" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html" title="PJSIP Phoneprov Configuration Provider. " alt="" coords="3629,169,3782,211"/>
<area shape="rect" id="node27" href="../../dc/d13/pjsip__session__caps_8c.html" title="pjsip_session_caps.c" alt="" coords="3807,177,3961,203"/>
<area shape="rect" id="node28" href="../../d3/dc6/func__sorcery_8c.html" title="Get a field from a sorcery object. " alt="" coords="3168,87,3280,114"/>
<area shape="rect" id="node29" href="../../dd/d94/bucket_8h.html" title="Bucket File API. " alt="" coords="3405,87,3483,114"/>
<area shape="rect" id="node30" href="../../d5/d03/asterisk_8c.html" title="Top level source file for Asterisk &#45; the Open Source PBX. Implementation of PBX core functions and CL..." alt="" coords="3985,177,4068,203"/>
<area shape="rect" id="node31" href="../../db/d43/bucket_8c.html" title="Bucket File API. " alt="" coords="4093,177,4169,203"/>
<area shape="rect" id="node32" href="../../d5/d52/res__http__media__cache_8c.html" title="res_http_media_cache.c" alt="" coords="4193,177,4372,203"/>
<area shape="rect" id="node33" href="../../d7/d69/sorcery_8c.html" title="Sorcery Data Access Layer API. " alt="" coords="3558,87,3637,114"/>
<area shape="rect" id="node34" href="../../df/d20/resource__asterisk_8c.html" title="Implementation for ARI stubs. " alt="" coords="3661,87,3808,114"/>
<area shape="rect" id="node35" href="../../d2/d94/res__mwi__external_8c.html" title="Core external MWI support. " alt="" coords="3832,87,3976,114"/>
<area shape="rect" id="node36" href="../../de/deb/res__pjproject_8c.html" title="Bridge PJPROJECT logging to Asterisk logging. " alt="" coords="4000,87,4115,114"/>
<area shape="rect" id="node37" href="../../d8/dce/res__sorcery__astdb_8c.html" title="Sorcery Astdb Object Wizard. " alt="" coords="4139,87,4290,114"/>
<area shape="rect" id="node38" href="../../d2/dea/res__sorcery__config_8c.html" title="Sorcery Configuration File Object Wizard. " alt="" coords="4315,87,4467,114"/>
<area shape="rect" id="node39" href="../../d2/d0a/res__sorcery__memory_8c.html" title="Sorcery In&#45;Memory Object Wizard. " alt="" coords="4491,87,4658,114"/>
<area shape="rect" id="node40" href="../../d7/d30/res__sorcery__memory__cache_8c.html" title="Sorcery Memory Cache Object Wizard. " alt="" coords="4683,80,4840,121"/>
<area shape="rect" id="node41" href="../../d5/d88/res__sorcery__realtime_8c.html" title="Sorcery Realtime Object Wizard. " alt="" coords="4865,87,5031,114"/>
<area shape="rect" id="node42" href="../../d7/d5c/certificate_8c.html" title="certificate.c" alt="" coords="5056,87,5152,114"/>
<area shape="rect" id="node43" href="../../d1/dca/general_8c.html" title="general.c" alt="" coords="5177,87,5258,114"/>
<area shape="rect" id="node44" href="../../d5/d58/stir__shaken_8c.html" title="Internal stir/shaken utilities. " alt="" coords="5283,87,5389,114"/>
<area shape="rect" id="node45" href="../../d9/d7e/store_8c.html" title="store.c" alt="" coords="5413,87,5480,114"/>
<area shape="rect" id="node46" href="../../d9/d2d/res__stir__shaken_8c.html" title="res_stir_shaken.c" alt="" coords="5504,87,5637,114"/>
<area shape="rect" id="node47" href="../../d6/d12/test__sorcery_8c.html" title="Sorcery Unit Tests. " alt="" coords="5662,87,5773,114"/>
<area shape="rect" id="node48" href="../../de/d6c/test__sorcery__astdb_8c.html" title="Sorcery Unit Tests. " alt="" coords="5797,87,5952,114"/>
<area shape="rect" id="node49" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c.html" title="Sorcery Unit Tests. " alt="" coords="5976,80,6139,121"/>
<area shape="rect" id="node50" href="../../d8/d87/test__sorcery__realtime_8c.html" title="Sorcery Unit Tests. " alt="" coords="6163,87,6335,114"/>
<area shape="rect" id="node3" href="../../d0/d29/chan__pjsip_8c.html" title="PSJIP SIP Channel Driver. " alt="" coords="1134,177,1234,203"/>
<area shape="rect" id="node4" href="../../d9/d6d/cli__commands_8c.html" title="PJSIP channel CLI functions. " alt="" coords="1259,177,1384,203"/>
<area shape="rect" id="node5" href="../../de/dfc/pjsip_2dialplan__functions_8c.html" title="PJSIP channel dialplan functions. " alt="" coords="1408,177,1555,203"/>
<area shape="rect" id="node9" href="../../d6/d5d/pjsip__outbound__registrations_8c.html" title="Prometheus PJSIP Outbound Registration Metrics. " alt="" coords="1579,177,1797,203"/>
<area shape="rect" id="node10" href="../../d7/da2/res__hep__pjsip_8c.html" title="PJSIP logging with Homer. " alt="" coords="1821,177,1941,203"/>
<area shape="rect" id="node19" href="../../d7/dad/pjsip__distributor_8c.html" title="pjsip_distributor.c" alt="" coords="1965,177,2099,203"/>
</map>
</div>
</div>
<p><a href="../../d8/d25/sorcery_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d3b/structast__sorcery__global__observer.html">ast_sorcery_global_observer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for the global sorcery observer.  <a href="../../d3/d3b/structast__sorcery__global__observer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d45/structast__sorcery__instance__observer.html">ast_sorcery_instance_observer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for the sorcery instance observer.  <a href="../../dc/d45/structast__sorcery__instance__observer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure which contains details about a sorcery object.  <a href="../../db/da2/structast__sorcery__object__details.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for a sorcery object type observer.  <a href="../../d2/ddb/structast__sorcery__observer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for a sorcery wizard.  <a href="../../dd/d0a/structast__sorcery__wizard.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da1/structast__sorcery__wizard__observer.html">ast_sorcery_wizard_observer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for the sorcery wizard observer.  <a href="../../db/da1/structast__sorcery__wizard__observer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9db9fd1cf5ec967af2ad3a63c27e0233"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a9db9fd1cf5ec967af2ad3a63c27e0233">ast_sorcery_apply_config</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#aaa3a033633c399d854115521820bef8d">__ast_sorcery_apply_config</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>)</td></tr>
<tr class="separator:a9db9fd1cf5ec967af2ad3a63c27e0233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1165cf9d45ed5ffa1555371be9ae770"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ad1165cf9d45ed5ffa1555371be9ae770">ast_sorcery_apply_default</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  data)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a296fbc5abf97b705abc6dbc6934d6892">__ast_sorcery_apply_default</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), (data))</td></tr>
<tr class="separator:ad1165cf9d45ed5ffa1555371be9ae770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d1aa896acd254e31664df39e3086c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a02d1aa896acd254e31664df39e3086c9">ast_sorcery_apply_wizard_mapping</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  data,  caching)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a153bee8c3bc26c27617f19a24adf0062">__ast_sorcery_apply_wizard_mapping</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), (data), (caching));</td></tr>
<tr class="memdesc:a02d1aa896acd254e31664df39e3086c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply additional object wizard mappings.  <a href="#a02d1aa896acd254e31664df39e3086c9">More...</a><br /></td></tr>
<tr class="separator:a02d1aa896acd254e31664df39e3086c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25cb7de57f83a51ee7a7d993db65e05f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a25cb7de57f83a51ee7a7d993db65e05f">ast_sorcery_insert_wizard_mapping</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  data,  caching,  position)</td></tr>
<tr class="memdesc:a25cb7de57f83a51ee7a7d993db65e05f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert an additional object wizard mapping at a specific position in the wizard list.  <a href="#a25cb7de57f83a51ee7a7d993db65e05f">More...</a><br /></td></tr>
<tr class="separator:a25cb7de57f83a51ee7a7d993db65e05f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f16dd100bbc816e1d8eb67026ab4ee3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a6f16dd100bbc816e1d8eb67026ab4ee3">ast_sorcery_internal_object_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  alloc,  transform,  apply)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9cb66752e5efd565113d7211e6cb0e29">__ast_sorcery_object_register</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), 1, 1, (alloc), (transform), (apply))</td></tr>
<tr class="memdesc:a6f16dd100bbc816e1d8eb67026ab4ee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an internal, hidden object type.  <a href="#a6f16dd100bbc816e1d8eb67026ab4ee3">More...</a><br /></td></tr>
<tr class="separator:a6f16dd100bbc816e1d8eb67026ab4ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7102b6e71e4fa6525b24a6123a2f6d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aa7102b6e71e4fa6525b24a6123a2f6d4">ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  default_val,  opt_type,  flags, ...)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, opt_type, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, flags, 0, 0, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__)</td></tr>
<tr class="memdesc:aa7102b6e71e4fa6525b24a6123a2f6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a field within an object.  <a href="#aa7102b6e71e4fa6525b24a6123a2f6d4">More...</a><br /></td></tr>
<tr class="separator:aa7102b6e71e4fa6525b24a6123a2f6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ba87d0e81662be7176624b544ee8ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a39ba87d0e81662be7176624b544ee8ec">ast_sorcery_object_field_register_alias</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  default_val,  opt_type,  flags, ...)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, opt_type, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, flags, 1, 1, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__)</td></tr>
<tr class="memdesc:a39ba87d0e81662be7176624b544ee8ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a field within an object as an alias.  <a href="#a39ba87d0e81662be7176624b544ee8ec">More...</a><br /></td></tr>
<tr class="separator:a39ba87d0e81662be7176624b544ee8ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720c9774873ec35bae0a0160954767e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a720c9774873ec35bae0a0160954767e7">ast_sorcery_object_field_register_custom</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  default_val,  <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>,  sorcery_handler,  multiple_handler,  flags, ...)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, <a class="el" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a73fe8fd0e2998744abd43b5908515f34">OPT_CUSTOM_T</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, sorcery_handler, multiple_handler, flags, 0, 0, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__);</td></tr>
<tr class="memdesc:a720c9774873ec35bae0a0160954767e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a field within an object with custom handlers.  <a href="#a720c9774873ec35bae0a0160954767e7">More...</a><br /></td></tr>
<tr class="separator:a720c9774873ec35bae0a0160954767e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cedbe0514e7a2d3d6d6531547e461ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a0cedbe0514e7a2d3d6d6531547e461ca">ast_sorcery_object_field_register_custom_alias</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  default_val,  <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>,  sorcery_handler,  multiple_handler,  flags, ...)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, <a class="el" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a73fe8fd0e2998744abd43b5908515f34">OPT_CUSTOM_T</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, sorcery_handler, multiple_handler, flags, 1, 1, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__);</td></tr>
<tr class="memdesc:a0cedbe0514e7a2d3d6d6531547e461ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a field within an object with custom handlers as an alias.  <a href="#a0cedbe0514e7a2d3d6d6531547e461ca">More...</a><br /></td></tr>
<tr class="separator:a0cedbe0514e7a2d3d6d6531547e461ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206d55f16a5f4bd7981cc4610f0dd5d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a206d55f16a5f4bd7981cc4610f0dd5d1">ast_sorcery_object_field_register_custom_nodoc</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  default_val,  <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>,  sorcery_handler,  multiple_handler,  flags, ...)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, <a class="el" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a73fe8fd0e2998744abd43b5908515f34">OPT_CUSTOM_T</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, sorcery_handler, multiple_handler, flags, 1, 0, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__);</td></tr>
<tr class="memdesc:a206d55f16a5f4bd7981cc4610f0dd5d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a field within an object with custom handlers without documentation.  <a href="#a206d55f16a5f4bd7981cc4610f0dd5d1">More...</a><br /></td></tr>
<tr class="separator:a206d55f16a5f4bd7981cc4610f0dd5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126f854c093cec80dd9e89b26db9b016"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a126f854c093cec80dd9e89b26db9b016">ast_sorcery_object_field_register_nodoc</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  default_val,  opt_type,  flags, ...)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, opt_type, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, flags, 1, 0, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__)</td></tr>
<tr class="memdesc:a126f854c093cec80dd9e89b26db9b016"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a field within an object without documentation.  <a href="#a126f854c093cec80dd9e89b26db9b016">More...</a><br /></td></tr>
<tr class="separator:a126f854c093cec80dd9e89b26db9b016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ee86f00f6e2240f74772d59edf0f74a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a5ee86f00f6e2240f74772d59edf0f74a">ast_sorcery_object_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  alloc,  transform,  apply)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9cb66752e5efd565113d7211e6cb0e29">__ast_sorcery_object_register</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), 0, 1, (alloc), (transform), (apply))</td></tr>
<tr class="memdesc:a5ee86f00f6e2240f74772d59edf0f74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an object type.  <a href="#a5ee86f00f6e2240f74772d59edf0f74a">More...</a><br /></td></tr>
<tr class="separator:a5ee86f00f6e2240f74772d59edf0f74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97493461b88c46ae6eaaaa6442f0467d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a97493461b88c46ae6eaaaa6442f0467d">ast_sorcery_object_register_no_reload</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  alloc,  transform,  apply)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9cb66752e5efd565113d7211e6cb0e29">__ast_sorcery_object_register</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), 0, 0, (alloc), (transform), (apply))</td></tr>
<tr class="memdesc:a97493461b88c46ae6eaaaa6442f0467d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an object type that is not reloadable.  <a href="#a97493461b88c46ae6eaaaa6442f0467d">More...</a><br /></td></tr>
<tr class="separator:a97493461b88c46ae6eaaaa6442f0467d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee748c496473d4e07cc81ee724cdf3d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#afee748c496473d4e07cc81ee724cdf3d">ast_sorcery_object_type_apply_wizard</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  object_type_name,  wizard_type_name,  wizard_args,  flags,  wizard,  wizard_data)</td></tr>
<tr class="memdesc:afee748c496473d4e07cc81ee724cdf3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply additional object wizard mappings returning wizard information.  <a href="#afee748c496473d4e07cc81ee724cdf3d">More...</a><br /></td></tr>
<tr class="separator:afee748c496473d4e07cc81ee724cdf3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00036ef3b9a414fc7377ad68d95411d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a00036ef3b9a414fc7377ad68d95411d3">ast_sorcery_object_type_insert_wizard</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  object_type_name,  wizard_type_name,  wizard_args,  flags,  position,  wizard,  wizard_data)</td></tr>
<tr class="memdesc:a00036ef3b9a414fc7377ad68d95411d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert an additional object wizard mapping at a specific position in the wizard list returning wizard information.  <a href="#a00036ef3b9a414fc7377ad68d95411d3">More...</a><br /></td></tr>
<tr class="separator:a00036ef3b9a414fc7377ad68d95411d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3a0b521c3c3693373862a8db3fd421e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#af3a0b521c3c3693373862a8db3fd421e">ast_sorcery_object_type_remove_wizard</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  object_type_name,  wizard_type_name,  wizard_args)</td></tr>
<tr class="memdesc:af3a0b521c3c3693373862a8db3fd421e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an object wizard mapping.  <a href="#af3a0b521c3c3693373862a8db3fd421e">More...</a><br /></td></tr>
<tr class="separator:af3a0b521c3c3693373862a8db3fd421e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197b6724158db0da59852d25d36fa5f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a197b6724158db0da59852d25d36fa5f1">ast_sorcery_objectset_create</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  object)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#afe388a29f4d5aaa1da64f955f115c887">ast_sorcery_objectset_create2</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, object, <a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0">AST_HANDLER_PREFER_LIST</a>)</td></tr>
<tr class="memdesc:a197b6724158db0da59852d25d36fa5f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an object set (KVP list) for an object.  <a href="#a197b6724158db0da59852d25d36fa5f1">More...</a><br /></td></tr>
<tr class="separator:a197b6724158db0da59852d25d36fa5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60f3b81bed748245f8045cb48fadee2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ad60f3b81bed748245f8045cb48fadee2">ast_sorcery_open</a>()&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#ab9e2c677c1b1367de9685de69013695c">__ast_sorcery_open</a>(<a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td></tr>
<tr class="separator:ad60f3b81bed748245f8045cb48fadee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950f39ae83b03909656bb463447d32ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a950f39ae83b03909656bb463447d32ae">ast_sorcery_remove_wizard_mapping</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a7d07cd61260ba21e09a994e764284faf">__ast_sorcery_remove_wizard_mapping</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>))</td></tr>
<tr class="memdesc:a950f39ae83b03909656bb463447d32ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an object wizard mapping.  <a href="#a950f39ae83b03909656bb463447d32ae">More...</a><br /></td></tr>
<tr class="separator:a950f39ae83b03909656bb463447d32ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09cba9c37c702ca2bdcf94052068ed67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a09cba9c37c702ca2bdcf94052068ed67">ast_sorcery_unref</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)&#160;&#160;&#160;<a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)</td></tr>
<tr class="memdesc:a09cba9c37c702ca2bdcf94052068ed67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrease the reference count of a sorcery structure.  <a href="#a09cba9c37c702ca2bdcf94052068ed67">More...</a><br /></td></tr>
<tr class="separator:a09cba9c37c702ca2bdcf94052068ed67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b2d9798c21334810a480fdc3260bb8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aa2b2d9798c21334810a480fdc3260bb8">ast_sorcery_wizard_register</a>(interface)&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a6b379e5d778d252c30a4cfde03892ca2">__ast_sorcery_wizard_register</a>(interface, AST_MODULE_SELF)</td></tr>
<tr class="memdesc:aa2b2d9798c21334810a480fdc3260bb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="../../d8/d25/sorcery_8h.html#a6b379e5d778d252c30a4cfde03892ca2">__ast_sorcery_wizard_register()</a>  <a href="#aa2b2d9798c21334810a480fdc3260bb8">More...</a><br /></td></tr>
<tr class="separator:aa2b2d9798c21334810a480fdc3260bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca877fd857a49db7740effaa55a01e52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aca877fd857a49db7740effaa55a01e52">MAX_OBJECT_FIELD</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:aca877fd857a49db7740effaa55a01e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum length of an object field name.  <a href="#aca877fd857a49db7740effaa55a01e52">More...</a><br /></td></tr>
<tr class="separator:aca877fd857a49db7740effaa55a01e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae619e3c0404e263a56623cfa441c9696"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ae619e3c0404e263a56623cfa441c9696">MAX_OBJECT_TYPE</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:ae619e3c0404e263a56623cfa441c9696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum size of an object type.  <a href="#ae619e3c0404e263a56623cfa441c9696">More...</a><br /></td></tr>
<tr class="separator:ae619e3c0404e263a56623cfa441c9696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ab062271c22bdbc2b6f5d607c980cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a27ab062271c22bdbc2b6f5d607c980cf">SORCERY_OBJECT</a>(details)</td></tr>
<tr class="memdesc:a27ab062271c22bdbc2b6f5d607c980cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro which must be used at the beginning of each sorcery capable object.  <a href="#a27ab062271c22bdbc2b6f5d607c980cf">More...</a><br /></td></tr>
<tr class="separator:a27ab062271c22bdbc2b6f5d607c980cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7724e3ad4b5f813b782a68ad7603f51e"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a7724e3ad4b5f813b782a68ad7603f51e">sorcery_apply_handler</a>) (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, void *obj)</td></tr>
<tr class="memdesc:a7724e3ad4b5f813b782a68ad7603f51e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback function for when an object set is successfully applied to an object.  <a href="#a7724e3ad4b5f813b782a68ad7603f51e">More...</a><br /></td></tr>
<tr class="separator:a7724e3ad4b5f813b782a68ad7603f51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987241524cd0fcb400bf58bff9e814d2"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a987241524cd0fcb400bf58bff9e814d2">sorcery_copy_handler</a>) (const void *src, void *dst)</td></tr>
<tr class="memdesc:a987241524cd0fcb400bf58bff9e814d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback function for copying the contents of one object to another.  <a href="#a987241524cd0fcb400bf58bff9e814d2">More...</a><br /></td></tr>
<tr class="separator:a987241524cd0fcb400bf58bff9e814d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d47110070fafb04ee89e3eef65f9dcb"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a7d47110070fafb04ee89e3eef65f9dcb">sorcery_diff_handler</a>) (const void *original, const void *modified, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **changes)</td></tr>
<tr class="memdesc:a7d47110070fafb04ee89e3eef65f9dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback function for generating a changeset between two objects.  <a href="#a7d47110070fafb04ee89e3eef65f9dcb">More...</a><br /></td></tr>
<tr class="separator:a7d47110070fafb04ee89e3eef65f9dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7547e49fe89a712a6f74f6b74265b62"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ac7547e49fe89a712a6f74f6b74265b62">sorcery_field_handler</a>) (const void *obj, const intptr_t *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, char **<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="memdesc:ac7547e49fe89a712a6f74f6b74265b62"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback function for translating a value into a string.  <a href="#ac7547e49fe89a712a6f74f6b74265b62">More...</a><br /></td></tr>
<tr class="separator:ac7547e49fe89a712a6f74f6b74265b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b87d91c7d50f1d1f2e833783833973"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a47b87d91c7d50f1d1f2e833783833973">sorcery_fields_handler</a>) (const void *obj, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **fields)</td></tr>
<tr class="memdesc:a47b87d91c7d50f1d1f2e833783833973"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback function for translating multiple values into an <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list.  <a href="#a47b87d91c7d50f1d1f2e833783833973">More...</a><br /></td></tr>
<tr class="separator:a47b87d91c7d50f1d1f2e833783833973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021d0564106e440f4c2c06b68908960f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a021d0564106e440f4c2c06b68908960f">sorcery_transform_handler</a>) (struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="el" href="../../da/dd2/func__logic_8c.html#a867815a5c8c20dd78c8a14baf645414a">set</a>)</td></tr>
<tr class="memdesc:a021d0564106e440f4c2c06b68908960f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback function for performing a transformation on an object set.  <a href="#a021d0564106e440f4c2c06b68908960f">More...</a><br /></td></tr>
<tr class="separator:a021d0564106e440f4c2c06b68908960f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af7a3667fd0c15838da1a7bca838f6eee"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a> { <br />
&#160;&#160;<a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a> = -1, 
<a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be">AST_SORCERY_APPLY_SUCCESS</a> = 0, 
<a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea953d83e2cf90f74027c91724e9edf711">AST_SORCERY_APPLY_DUPLICATE</a> = 1, 
<a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeeab1e2f97db7f00e633f6f6d7be2cce374">AST_SORCERY_APPLY_DEFAULT_UNNECESSARY</a> = 2, 
<br />
&#160;&#160;<a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea76bcb6e33cf6c9f92a2ffa575f065f0c">AST_SORCERY_APPLY_NO_CONFIGURATION</a> = 3
<br />
 }</td></tr>
<tr class="separator:af7a3667fd0c15838da1a7bca838f6eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1fdd981feb0ebfb50d6d8de2aa89689"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689">ast_sorcery_field_handler_flags</a> { <a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a37973030c9fd99f16064cd532f5bce77">AST_HANDLER_PREFER_STRING</a>, 
<a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0">AST_HANDLER_PREFER_LIST</a>, 
<a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf">AST_HANDLER_ONLY_STRING</a>, 
<a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a645512a865349672ca1e97f07d84cf2b">AST_HANDLER_ONLY_LIST</a>
 }<tr class="memdesc:ac1fdd981feb0ebfb50d6d8de2aa89689"><td class="mdescLeft">&#160;</td><td class="mdescRight">Field handler flags.  <a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ac1fdd981feb0ebfb50d6d8de2aa89689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a320e98591a38316a313a3ca83ea8df20"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20">ast_sorcery_retrieve_flags</a> { <a class="el" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a3d078c1c29a9125b57ce97990ffa0fc0">AST_RETRIEVE_FLAG_DEFAULT</a> = 0, 
<a class="el" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd">AST_RETRIEVE_FLAG_ALL</a> = (1 &lt;&lt; 1)
 }<tr class="memdesc:a320e98591a38316a313a3ca83ea8df20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieval flags.  <a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a320e98591a38316a313a3ca83ea8df20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08169767aa3845619c49031b454cb82"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82">ast_sorcery_wizard_apply_flags</a> { <a class="el" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0c372fe10c0765d9e2a316311bcf7e8a">AST_SORCERY_WIZARD_APPLY_NONE</a> = (0 &lt;&lt; 0), 
<a class="el" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c">AST_SORCERY_WIZARD_APPLY_CACHING</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a84266e67d8fbd2a304d0532c9cfa718f">AST_SORCERY_WIZARD_APPLY_READONLY</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0e2fa14e157b1cfe19eb07725d61f7e2">AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE</a> = (1 &lt;&lt; 2)
 }<tr class="memdesc:af08169767aa3845619c49031b454cb82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wizard Apply Flags.  <a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:af08169767aa3845619c49031b454cb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa20c995545eb67b6a6e10e2c4bf8eb00"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00">ast_sorcery_wizard_position</a> { <a class="el" href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac">AST_SORCERY_WIZARD_POSITION_LAST</a> = -1, 
<a class="el" href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00a79a05012943f156bcbf312281423639e">AST_SORCERY_WIZARD_POSITION_FIRST</a> = 0
 }<tr class="memdesc:aa20c995545eb67b6a6e10e2c4bf8eb00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-defined locations to insert at.  <a href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aa20c995545eb67b6a6e10e2c4bf8eb00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaa3a033633c399d854115521820bef8d"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aaa3a033633c399d854115521820bef8d">__ast_sorcery_apply_config</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *module)</td></tr>
<tr class="memdesc:aaa3a033633c399d854115521820bef8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply configured wizard mappings.  <a href="#aaa3a033633c399d854115521820bef8d">More...</a><br /></td></tr>
<tr class="separator:aaa3a033633c399d854115521820bef8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296fbc5abf97b705abc6dbc6934d6892"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a296fbc5abf97b705abc6dbc6934d6892">__ast_sorcery_apply_default</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *module, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *data)</td></tr>
<tr class="memdesc:a296fbc5abf97b705abc6dbc6934d6892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply default object wizard mappings.  <a href="#a296fbc5abf97b705abc6dbc6934d6892">More...</a><br /></td></tr>
<tr class="separator:a296fbc5abf97b705abc6dbc6934d6892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbcd97222581dd26fc7730bb56416eec"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#acbcd97222581dd26fc7730bb56416eec">__ast_sorcery_apply_wizard_mapping</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *module, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *data, unsigned int caching)</td></tr>
<tr class="memdesc:acbcd97222581dd26fc7730bb56416eec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply additional object wizard mappings.  <a href="#acbcd97222581dd26fc7730bb56416eec">More...</a><br /></td></tr>
<tr class="separator:acbcd97222581dd26fc7730bb56416eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da7aa39e4f4df92b32f7762583425d1"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a6da7aa39e4f4df92b32f7762583425d1">__ast_sorcery_insert_wizard_mapping</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *module, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *data, unsigned int caching, int position)</td></tr>
<tr class="memdesc:a6da7aa39e4f4df92b32f7762583425d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert an additional object wizard mapping at a specific position in the wizard list.  <a href="#a6da7aa39e4f4df92b32f7762583425d1">More...</a><br /></td></tr>
<tr class="separator:a6da7aa39e4f4df92b32f7762583425d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5b49d9868394fd6adeff0eaba48db5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *default_val, enum <a class="el" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144">aco_option_type</a> opt_type, <a class="el" href="../../db/dfe/config__options_8h.html#a125d968d49c3de5aa2cad7d723682ee0">aco_option_handler</a> <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, <a class="el" href="../../d8/d25/sorcery_8h.html#ac7547e49fe89a712a6f74f6b74265b62">sorcery_field_handler</a> sorcery_handler, <a class="el" href="../../d8/d25/sorcery_8h.html#a47b87d91c7d50f1d1f2e833783833973">sorcery_fields_handler</a> multiple_handler, unsigned int flags, unsigned int no_doc, unsigned int alias, size_t argc,...)</td></tr>
<tr class="memdesc:a9b5b49d9868394fd6adeff0eaba48db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a field within an object.  <a href="#a9b5b49d9868394fd6adeff0eaba48db5">More...</a><br /></td></tr>
<tr class="separator:a9b5b49d9868394fd6adeff0eaba48db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb66752e5efd565113d7211e6cb0e29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a9cb66752e5efd565113d7211e6cb0e29">__ast_sorcery_object_register</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, unsigned int hidden, unsigned int reloadable, <a class="el" href="../../db/dfe/config__options_8h.html#adce7161593da241818ad17584e947a85">aco_type_item_alloc</a> alloc, <a class="el" href="../../d8/d25/sorcery_8h.html#a021d0564106e440f4c2c06b68908960f">sorcery_transform_handler</a> transform, <a class="el" href="../../d8/d25/sorcery_8h.html#a7724e3ad4b5f813b782a68ad7603f51e">sorcery_apply_handler</a> apply)</td></tr>
<tr class="memdesc:a9cb66752e5efd565113d7211e6cb0e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an object type.  <a href="#a9cb66752e5efd565113d7211e6cb0e29">More...</a><br /></td></tr>
<tr class="separator:a9cb66752e5efd565113d7211e6cb0e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5fccf1e6ec09f51ad704e9f0931f60a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#af5fccf1e6ec09f51ad704e9f0931f60a">__ast_sorcery_object_type_insert_wizard</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *object_type_name, const char *module, const char *wizard_type_name, const char *wizard_args, enum <a class="el" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82">ast_sorcery_wizard_apply_flags</a> flags, int position, struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> **wizard, void **wizard_data)</td></tr>
<tr class="memdesc:af5fccf1e6ec09f51ad704e9f0931f60a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert an additional object wizard mapping at a specific position in the wizard list returning wizard information.  <a href="#af5fccf1e6ec09f51ad704e9f0931f60a">More...</a><br /></td></tr>
<tr class="separator:af5fccf1e6ec09f51ad704e9f0931f60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8f055e27688822a6aa7a0ba68ce2ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ace8f055e27688822a6aa7a0ba68ce2ed">__ast_sorcery_object_type_remove_wizard</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *object_type_name, const char *module, const char *wizard_type_name, const char *wizard_args)</td></tr>
<tr class="memdesc:ace8f055e27688822a6aa7a0ba68ce2ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an object wizard mapping.  <a href="#ace8f055e27688822a6aa7a0ba68ce2ed">More...</a><br /></td></tr>
<tr class="separator:ace8f055e27688822a6aa7a0ba68ce2ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee938abe545080ab65069b6eabb19096"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aee938abe545080ab65069b6eabb19096">__ast_sorcery_open</a> (const char *module, const char *file, int line, const char *func)</td></tr>
<tr class="memdesc:aee938abe545080ab65069b6eabb19096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a new sorcery structure.  <a href="#aee938abe545080ab65069b6eabb19096">More...</a><br /></td></tr>
<tr class="separator:aee938abe545080ab65069b6eabb19096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d07cd61260ba21e09a994e764284faf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a7d07cd61260ba21e09a994e764284faf">__ast_sorcery_remove_wizard_mapping</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *module, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a7d07cd61260ba21e09a994e764284faf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an object wizard mapping.  <a href="#a7d07cd61260ba21e09a994e764284faf">More...</a><br /></td></tr>
<tr class="separator:a7d07cd61260ba21e09a994e764284faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b379e5d778d252c30a4cfde03892ca2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a6b379e5d778d252c30a4cfde03892ca2">__ast_sorcery_wizard_register</a> (const struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *interface, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *module)</td></tr>
<tr class="memdesc:a6b379e5d778d252c30a4cfde03892ca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a sorcery wizard.  <a href="#a6b379e5d778d252c30a4cfde03892ca2">More...</a><br /></td></tr>
<tr class="separator:a6b379e5d778d252c30a4cfde03892ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6c97c18566cf94a7ac95a43dd9a816"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:acb6c97c18566cf94a7ac95a43dd9a816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an object.  <a href="#acb6c97c18566cf94a7ac95a43dd9a816">More...</a><br /></td></tr>
<tr class="separator:acb6c97c18566cf94a7ac95a43dd9a816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbf5d1177fd4ab31efe1037f4dc1c24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a9dbf5d1177fd4ab31efe1037f4dc1c24">ast_sorcery_changeset_create</a> (const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *original, const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *modified, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **changes)</td></tr>
<tr class="memdesc:a9dbf5d1177fd4ab31efe1037f4dc1c24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a changeset given two object sets.  <a href="#a9dbf5d1177fd4ab31efe1037f4dc1c24">More...</a><br /></td></tr>
<tr class="separator:a9dbf5d1177fd4ab31efe1037f4dc1c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb3b46997c4a11e6da3ac21e7a38d96c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#acb3b46997c4a11e6da3ac21e7a38d96c">ast_sorcery_copy</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const void *object)</td></tr>
<tr class="memdesc:acb3b46997c4a11e6da3ac21e7a38d96c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a copy of an object.  <a href="#acb3b46997c4a11e6da3ac21e7a38d96c">More...</a><br /></td></tr>
<tr class="separator:acb3b46997c4a11e6da3ac21e7a38d96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a575dfe8fd872c033d2b902549df502ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a575dfe8fd872c033d2b902549df502ea">ast_sorcery_create</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, void *object)</td></tr>
<tr class="memdesc:a575dfe8fd872c033d2b902549df502ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and potentially persist an object using an available wizard.  <a href="#a575dfe8fd872c033d2b902549df502ea">More...</a><br /></td></tr>
<tr class="separator:a575dfe8fd872c033d2b902549df502ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9bd9c0bcdaff27ac438a02d472c3b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aeb9bd9c0bcdaff27ac438a02d472c3b1">ast_sorcery_delete</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, void *object)</td></tr>
<tr class="memdesc:aeb9bd9c0bcdaff27ac438a02d472c3b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an object.  <a href="#aeb9bd9c0bcdaff27ac438a02d472c3b1">More...</a><br /></td></tr>
<tr class="separator:aeb9bd9c0bcdaff27ac438a02d472c3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9dce6b6af3d1e2e658d9361f64dc58"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a5d9dce6b6af3d1e2e658d9361f64dc58">ast_sorcery_diff</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const void *original, const void *modified, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **changes)</td></tr>
<tr class="memdesc:a5d9dce6b6af3d1e2e658d9361f64dc58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a changeset of two objects.  <a href="#a5d9dce6b6af3d1e2e658d9361f64dc58">More...</a><br /></td></tr>
<tr class="separator:a5d9dce6b6af3d1e2e658d9361f64dc58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e5766e667e16567432ab55c0b001d7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a6e5766e667e16567432ab55c0b001d7f">ast_sorcery_force_reload</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)</td></tr>
<tr class="memdesc:a6e5766e667e16567432ab55c0b001d7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform any wizards to reload persistent objects, even if no changes determined.  <a href="#a6e5766e667e16567432ab55c0b001d7f">More...</a><br /></td></tr>
<tr class="separator:a6e5766e667e16567432ab55c0b001d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac21494ba05883fa76cdbcff95b008c7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ac21494ba05883fa76cdbcff95b008c7e">ast_sorcery_force_reload_object</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:ac21494ba05883fa76cdbcff95b008c7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform any wizards of a specific object type to reload persistent objects even if no changes determined.  <a href="#ac21494ba05883fa76cdbcff95b008c7e">More...</a><br /></td></tr>
<tr class="separator:ac21494ba05883fa76cdbcff95b008c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c03ccef909474831717c93679065508"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a4c03ccef909474831717c93679065508">ast_sorcery_generic_alloc</a> (size_t size, <a class="el" href="../../d5/da5/astobj2_8h.html#a7d525dc3c16f23f4b3fb657db1b1bc64">ao2_destructor_fn</a> destructor)</td></tr>
<tr class="memdesc:a4c03ccef909474831717c93679065508"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a generic sorcery capable object.  <a href="#a4c03ccef909474831717c93679065508">More...</a><br /></td></tr>
<tr class="separator:a4c03ccef909474831717c93679065508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aa06205a33d1fa168299de936451415"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a4aa06205a33d1fa168299de936451415">ast_sorcery_get_module</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)</td></tr>
<tr class="memdesc:a4aa06205a33d1fa168299de936451415"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the module that has opened the provided sorcery instance.  <a href="#a4aa06205a33d1fa168299de936451415">More...</a><br /></td></tr>
<tr class="separator:a4aa06205a33d1fa168299de936451415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd72977a579b6296e8e1d380ac29043"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aedd72977a579b6296e8e1d380ac29043">ast_sorcery_get_object_type</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:aedd72977a579b6296e8e1d380ac29043"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the sorcery object type given a type name.  <a href="#aedd72977a579b6296e8e1d380ac29043">More...</a><br /></td></tr>
<tr class="separator:aedd72977a579b6296e8e1d380ac29043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4565862cba45011e1d7c61f4fa1bc4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#abf4565862cba45011e1d7c61f4fa1bc4">ast_sorcery_get_wizard_mapping</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, int index, struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> **wizard, void **data)</td></tr>
<tr class="memdesc:abf4565862cba45011e1d7c61f4fa1bc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">By index, return a wizard mapped to an object type.  <a href="#abf4565862cba45011e1d7c61f4fa1bc4">More...</a><br /></td></tr>
<tr class="separator:abf4565862cba45011e1d7c61f4fa1bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a76bda0e38ce9df87eac051ae0e2010"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a6a76bda0e38ce9df87eac051ae0e2010">ast_sorcery_get_wizard_mapping_count</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a6a76bda0e38ce9df87eac051ae0e2010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of wizards mapped to an object type.  <a href="#a6a76bda0e38ce9df87eac051ae0e2010">More...</a><br /></td></tr>
<tr class="separator:a6a76bda0e38ce9df87eac051ae0e2010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c10bfbd5f420b2e0dafa34bc0c8fa7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ad3c10bfbd5f420b2e0dafa34bc0c8fa7">ast_sorcery_global_observer_add</a> (const struct <a class="el" href="../../d3/d3b/structast__sorcery__global__observer.html">ast_sorcery_global_observer</a> *callbacks)</td></tr>
<tr class="memdesc:ad3c10bfbd5f420b2e0dafa34bc0c8fa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a global observer to sorcery.  <a href="#ad3c10bfbd5f420b2e0dafa34bc0c8fa7">More...</a><br /></td></tr>
<tr class="separator:ad3c10bfbd5f420b2e0dafa34bc0c8fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acee4537f18676ad3ffe3e8ce6e017809"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#acee4537f18676ad3ffe3e8ce6e017809">ast_sorcery_global_observer_remove</a> (const struct <a class="el" href="../../d3/d3b/structast__sorcery__global__observer.html">ast_sorcery_global_observer</a> *callbacks)</td></tr>
<tr class="memdesc:acee4537f18676ad3ffe3e8ce6e017809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a global observer from sorcery.  <a href="#acee4537f18676ad3ffe3e8ce6e017809">More...</a><br /></td></tr>
<tr class="separator:acee4537f18676ad3ffe3e8ce6e017809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f32cd7e26c6876aa46a44202b0baa9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#af4f32cd7e26c6876aa46a44202b0baa9">ast_sorcery_init</a> (void)</td></tr>
<tr class="memdesc:af4f32cd7e26c6876aa46a44202b0baa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the sorcery API.  <a href="#af4f32cd7e26c6876aa46a44202b0baa9">More...</a><br /></td></tr>
<tr class="separator:af4f32cd7e26c6876aa46a44202b0baa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f5f4c63ea1bd82304c9c1bacd10068"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ae0f5f4c63ea1bd82304c9c1bacd10068">ast_sorcery_instance_observer_add</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const struct <a class="el" href="../../dc/d45/structast__sorcery__instance__observer.html">ast_sorcery_instance_observer</a> *callbacks)</td></tr>
<tr class="memdesc:ae0f5f4c63ea1bd82304c9c1bacd10068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an observer to a sorcery instance.  <a href="#ae0f5f4c63ea1bd82304c9c1bacd10068">More...</a><br /></td></tr>
<tr class="separator:ae0f5f4c63ea1bd82304c9c1bacd10068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e4472f54af1cf4a00c936b65c3967b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a27e4472f54af1cf4a00c936b65c3967b">ast_sorcery_instance_observer_remove</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const struct <a class="el" href="../../dc/d45/structast__sorcery__instance__observer.html">ast_sorcery_instance_observer</a> *callbacks)</td></tr>
<tr class="memdesc:a27e4472f54af1cf4a00c936b65c3967b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an observer from a sorcery instance.  <a href="#a27e4472f54af1cf4a00c936b65c3967b">More...</a><br /></td></tr>
<tr class="separator:a27e4472f54af1cf4a00c936b65c3967b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab99442a9adf9d1ec437de912286aec9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aab99442a9adf9d1ec437de912286aec9">ast_sorcery_is_object_field_registered</a> (const struct <a class="el" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *object_type, const char *field_name)</td></tr>
<tr class="memdesc:aab99442a9adf9d1ec437de912286aec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a particular object field has been registered with sorcery.  <a href="#aab99442a9adf9d1ec437de912286aec9">More...</a><br /></td></tr>
<tr class="separator:aab99442a9adf9d1ec437de912286aec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf633d11cfc74bd08b324e54476b2b42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#adf633d11cfc74bd08b324e54476b2b42">ast_sorcery_is_stale</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, void *object)</td></tr>
<tr class="memdesc:adf633d11cfc74bd08b324e54476b2b42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a sorcery object is stale with respect to its backing datastore.  <a href="#adf633d11cfc74bd08b324e54476b2b42">More...</a><br /></td></tr>
<tr class="separator:adf633d11cfc74bd08b324e54476b2b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3454f8b35930698abffa65243dfcad02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a3454f8b35930698abffa65243dfcad02">ast_sorcery_load</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)</td></tr>
<tr class="memdesc:a3454f8b35930698abffa65243dfcad02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform any wizards to load persistent objects.  <a href="#a3454f8b35930698abffa65243dfcad02">More...</a><br /></td></tr>
<tr class="separator:a3454f8b35930698abffa65243dfcad02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f052c6dd5e388e519725406a6af5215"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a6f052c6dd5e388e519725406a6af5215">ast_sorcery_load_object</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a6f052c6dd5e388e519725406a6af5215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform any wizards of a specific object type to load persistent objects.  <a href="#a6f052c6dd5e388e519725406a6af5215">More...</a><br /></td></tr>
<tr class="separator:a6f052c6dd5e388e519725406a6af5215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3750ffe75b90d002fa8c1675358e0136"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a3750ffe75b90d002fa8c1675358e0136">ast_sorcery_lockable_alloc</a> (size_t size, <a class="el" href="../../d5/da5/astobj2_8h.html#a7d525dc3c16f23f4b3fb657db1b1bc64">ao2_destructor_fn</a> destructor, void *lockobj)</td></tr>
<tr class="memdesc:a3750ffe75b90d002fa8c1675358e0136"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a generic sorcery capable object with locking.  <a href="#a3750ffe75b90d002fa8c1675358e0136">More...</a><br /></td></tr>
<tr class="separator:a3750ffe75b90d002fa8c1675358e0136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0ff2b69990cd594471a830dea51f6c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a1f0ff2b69990cd594471a830dea51f6c">ast_sorcery_object_fields_register</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d9/d1e/func__strings_8c.html#a1b62eb9e3ebf087509f4301aa6336931">regex</a>, <a class="el" href="../../db/dfe/config__options_8h.html#a125d968d49c3de5aa2cad7d723682ee0">aco_option_handler</a> <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, <a class="el" href="../../d8/d25/sorcery_8h.html#a47b87d91c7d50f1d1f2e833783833973">sorcery_fields_handler</a> sorcery_handler)</td></tr>
<tr class="memdesc:a1f0ff2b69990cd594471a830dea51f6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a regex for multiple fields within an object.  <a href="#a1f0ff2b69990cd594471a830dea51f6c">More...</a><br /></td></tr>
<tr class="separator:a1f0ff2b69990cd594471a830dea51f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafedd9314ddad10fe9d380c12ee1aff1"><td class="memItemLeft" align="right" valign="top">const struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aafedd9314ddad10fe9d380c12ee1aff1">ast_sorcery_object_get_created</a> (const void *object)</td></tr>
<tr class="memdesc:aafedd9314ddad10fe9d380c12ee1aff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get when the socery object was created.  <a href="#aafedd9314ddad10fe9d380c12ee1aff1">More...</a><br /></td></tr>
<tr class="separator:aafedd9314ddad10fe9d380c12ee1aff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70a3da16c7f573f76426568cb156aa2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ae70a3da16c7f573f76426568cb156aa2">ast_sorcery_object_get_extended</a> (const void *object, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:ae70a3da16c7f573f76426568cb156aa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an extended field value from a sorcery object.  <a href="#ae70a3da16c7f573f76426568cb156aa2">More...</a><br /></td></tr>
<tr class="separator:ae70a3da16c7f573f76426568cb156aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97706283a06cbb44e4f0f9620dd5cf07"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a> (const void *object)</td></tr>
<tr class="memdesc:a97706283a06cbb44e4f0f9620dd5cf07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the unique identifier of a sorcery object.  <a href="#a97706283a06cbb44e4f0f9620dd5cf07">More...</a><br /></td></tr>
<tr class="separator:a97706283a06cbb44e4f0f9620dd5cf07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d61f7f74e9face6219d1d3f5f0671c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ac6d61f7f74e9face6219d1d3f5f0671c">ast_sorcery_object_get_type</a> (const void *object)</td></tr>
<tr class="memdesc:ac6d61f7f74e9face6219d1d3f5f0671c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the type of a sorcery object.  <a href="#ac6d61f7f74e9face6219d1d3f5f0671c">More...</a><br /></td></tr>
<tr class="separator:ac6d61f7f74e9face6219d1d3f5f0671c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98bf438f6fd3c4f9a2de8bd4c0949cf1"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a98bf438f6fd3c4f9a2de8bd4c0949cf1">ast_sorcery_object_has_dynamic_contents</a> (const void *object)</td></tr>
<tr class="memdesc:a98bf438f6fd3c4f9a2de8bd4c0949cf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get whether an object contains dynamic contents or not.  <a href="#a98bf438f6fd3c4f9a2de8bd4c0949cf1">More...</a><br /></td></tr>
<tr class="separator:a98bf438f6fd3c4f9a2de8bd4c0949cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83eba565782cb769634180b88db29d45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a83eba565782cb769634180b88db29d45">ast_sorcery_object_id_compare</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="memdesc:a83eba565782cb769634180b88db29d45"><td class="mdescLeft">&#160;</td><td class="mdescRight">ao2 object comparator based on sorcery id.  <a href="#a83eba565782cb769634180b88db29d45">More...</a><br /></td></tr>
<tr class="separator:a83eba565782cb769634180b88db29d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f5af56d5d734902a6df545843a8d55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ae1f5af56d5d734902a6df545843a8d55">ast_sorcery_object_id_hash</a> (const void *obj, int flags)</td></tr>
<tr class="memdesc:ae1f5af56d5d734902a6df545843a8d55"><td class="mdescLeft">&#160;</td><td class="mdescRight">ao2 object hasher based on sorcery id.  <a href="#ae1f5af56d5d734902a6df545843a8d55">More...</a><br /></td></tr>
<tr class="separator:ae1f5af56d5d734902a6df545843a8d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb892d94b22a7cee58517f4ab19387f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aafb892d94b22a7cee58517f4ab19387f">ast_sorcery_object_id_sort</a> (const void *obj, const void *arg, int flags)</td></tr>
<tr class="memdesc:aafb892d94b22a7cee58517f4ab19387f"><td class="mdescLeft">&#160;</td><td class="mdescRight">ao2 object sorter based on sorcery id.  <a href="#aafb892d94b22a7cee58517f4ab19387f">More...</a><br /></td></tr>
<tr class="separator:aafb892d94b22a7cee58517f4ab19387f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85042bbb251fbfdb893d6f2ed6500c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ae85042bbb251fbfdb893d6f2ed6500c3">ast_sorcery_object_set_congestion_levels</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, long low_water, long high_water)</td></tr>
<tr class="memdesc:ae85042bbb251fbfdb893d6f2ed6500c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the high and low alert water marks of the sorcery object type.  <a href="#ae85042bbb251fbfdb893d6f2ed6500c3">More...</a><br /></td></tr>
<tr class="separator:ae85042bbb251fbfdb893d6f2ed6500c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491958842ab12e57b6508a7759e9f8f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a491958842ab12e57b6508a7759e9f8f5">ast_sorcery_object_set_copy_handler</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d8/d25/sorcery_8h.html#a987241524cd0fcb400bf58bff9e814d2">sorcery_copy_handler</a> <a class="el" href="../../d6/d13/file_8c.html#a939eb1d85b6fd5dfc16d00d1c3f86df0">copy</a>)</td></tr>
<tr class="memdesc:a491958842ab12e57b6508a7759e9f8f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the copy handler for an object type.  <a href="#a491958842ab12e57b6508a7759e9f8f5">More...</a><br /></td></tr>
<tr class="separator:a491958842ab12e57b6508a7759e9f8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd74f6681809ec08103d74b3f1e0c148"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#afd74f6681809ec08103d74b3f1e0c148">ast_sorcery_object_set_diff_handler</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d8/d25/sorcery_8h.html#a7d47110070fafb04ee89e3eef65f9dcb">sorcery_diff_handler</a> diff)</td></tr>
<tr class="memdesc:afd74f6681809ec08103d74b3f1e0c148"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the diff handler for an object type.  <a href="#afd74f6681809ec08103d74b3f1e0c148">More...</a><br /></td></tr>
<tr class="separator:afd74f6681809ec08103d74b3f1e0c148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217532be2b914ca2ac4e242e4ea14383"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a217532be2b914ca2ac4e242e4ea14383">ast_sorcery_object_set_extended</a> (const void *object, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a217532be2b914ca2ac4e242e4ea14383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an extended field value on a sorcery object.  <a href="#a217532be2b914ca2ac4e242e4ea14383">More...</a><br /></td></tr>
<tr class="separator:a217532be2b914ca2ac4e242e4ea14383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49eed1ef2c9b59a9f15c8bb943b28ba8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a49eed1ef2c9b59a9f15c8bb943b28ba8">ast_sorcery_object_set_has_dynamic_contents</a> (const void *object)</td></tr>
<tr class="memdesc:a49eed1ef2c9b59a9f15c8bb943b28ba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the dynamic contents flag on a sorcery object.  <a href="#a49eed1ef2c9b59a9f15c8bb943b28ba8">More...</a><br /></td></tr>
<tr class="separator:a49eed1ef2c9b59a9f15c8bb943b28ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7956acdd8675b6d55407ea134fb371cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a7956acdd8675b6d55407ea134fb371cc">ast_sorcery_object_unregister</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a7956acdd8675b6d55407ea134fb371cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister an object type.  <a href="#a7956acdd8675b6d55407ea134fb371cc">More...</a><br /></td></tr>
<tr class="separator:a7956acdd8675b6d55407ea134fb371cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd515bbf4fb5e92afaad574936082871"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#abd515bbf4fb5e92afaad574936082871">ast_sorcery_objectset_apply</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, void *object, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *objectset)</td></tr>
<tr class="memdesc:abd515bbf4fb5e92afaad574936082871"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply an object set (KVP list) to an object.  <a href="#abd515bbf4fb5e92afaad574936082871">More...</a><br /></td></tr>
<tr class="separator:abd515bbf4fb5e92afaad574936082871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe388a29f4d5aaa1da64f955f115c887"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#afe388a29f4d5aaa1da64f955f115c887">ast_sorcery_objectset_create2</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const void *object, enum <a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689">ast_sorcery_field_handler_flags</a> flags)</td></tr>
<tr class="memdesc:afe388a29f4d5aaa1da64f955f115c887"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an object set (KVP list) for an object.  <a href="#afe388a29f4d5aaa1da64f955f115c887">More...</a><br /></td></tr>
<tr class="separator:afe388a29f4d5aaa1da64f955f115c887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7912b02d883b3ade727afd3aa976bfa0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a7912b02d883b3ade727afd3aa976bfa0">ast_sorcery_objectset_json_create</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const void *object)</td></tr>
<tr class="memdesc:a7912b02d883b3ade727afd3aa976bfa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an object set in JSON format for an object.  <a href="#a7912b02d883b3ade727afd3aa976bfa0">More...</a><br /></td></tr>
<tr class="separator:a7912b02d883b3ade727afd3aa976bfa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1928d47eae1172f236e8ee421c2db4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a6c1928d47eae1172f236e8ee421c2db4">ast_sorcery_observer_add</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const struct <a class="el" href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a> *callbacks)</td></tr>
<tr class="memdesc:a6c1928d47eae1172f236e8ee421c2db4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an observer to a specific object type.  <a href="#a6c1928d47eae1172f236e8ee421c2db4">More...</a><br /></td></tr>
<tr class="separator:a6c1928d47eae1172f236e8ee421c2db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d64c360480b458754fc30f781d5011"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a18d64c360480b458754fc30f781d5011">ast_sorcery_observer_remove</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const struct <a class="el" href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a> *callbacks)</td></tr>
<tr class="memdesc:a18d64c360480b458754fc30f781d5011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an observer from a specific object type.  <a href="#a18d64c360480b458754fc30f781d5011">More...</a><br /></td></tr>
<tr class="separator:a18d64c360480b458754fc30f781d5011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99020bc3f469a579e1d1fdfb150e374d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a99020bc3f469a579e1d1fdfb150e374d">ast_sorcery_ref</a> (struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)</td></tr>
<tr class="memdesc:a99020bc3f469a579e1d1fdfb150e374d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase the reference count of a sorcery structure.  <a href="#a99020bc3f469a579e1d1fdfb150e374d">More...</a><br /></td></tr>
<tr class="separator:a99020bc3f469a579e1d1fdfb150e374d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69912e63564491df0fdca6694409a721"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a69912e63564491df0fdca6694409a721">ast_sorcery_reload</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)</td></tr>
<tr class="memdesc:a69912e63564491df0fdca6694409a721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform any wizards to reload persistent objects.  <a href="#a69912e63564491df0fdca6694409a721">More...</a><br /></td></tr>
<tr class="separator:a69912e63564491df0fdca6694409a721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98ae6e153f53b0c3c40119acc5e5266"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ad98ae6e153f53b0c3c40119acc5e5266">ast_sorcery_reload_object</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:ad98ae6e153f53b0c3c40119acc5e5266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform any wizards of a specific object type to reload persistent objects.  <a href="#ad98ae6e153f53b0c3c40119acc5e5266">More...</a><br /></td></tr>
<tr class="separator:ad98ae6e153f53b0c3c40119acc5e5266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9cd237841a70862001f580b23212c9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#aaa9cd237841a70862001f580b23212c9">ast_sorcery_retrieve_by_fields</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, unsigned int flags, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *fields)</td></tr>
<tr class="memdesc:aaa9cd237841a70862001f580b23212c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an object or multiple objects using specific fields.  <a href="#aaa9cd237841a70862001f580b23212c9">More...</a><br /></td></tr>
<tr class="separator:aaa9cd237841a70862001f580b23212c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100106a82d72aa59a66513ef3ad161c8"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:a100106a82d72aa59a66513ef3ad161c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an object using its unique identifier.  <a href="#a100106a82d72aa59a66513ef3ad161c8">More...</a><br /></td></tr>
<tr class="separator:a100106a82d72aa59a66513ef3ad161c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a1572ab2afcbc6014e0846f356b6fc"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a98a1572ab2afcbc6014e0846f356b6fc">ast_sorcery_retrieve_by_module_name</a> (const char *module)</td></tr>
<tr class="memdesc:a98a1572ab2afcbc6014e0846f356b6fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves an existing sorcery instance by module name.  <a href="#a98a1572ab2afcbc6014e0846f356b6fc">More...</a><br /></td></tr>
<tr class="separator:a98a1572ab2afcbc6014e0846f356b6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7214aea6ccfa9c7a6d08ee9a4fad9af9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a7214aea6ccfa9c7a6d08ee9a4fad9af9">ast_sorcery_retrieve_by_prefix</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, const size_t prefix_len)</td></tr>
<tr class="memdesc:a7214aea6ccfa9c7a6d08ee9a4fad9af9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve multiple objects whose id begins with the specified prefix.  <a href="#a7214aea6ccfa9c7a6d08ee9a4fad9af9">More...</a><br /></td></tr>
<tr class="separator:a7214aea6ccfa9c7a6d08ee9a4fad9af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57392a9d5ccf946ae992af2ad83cf7b0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a57392a9d5ccf946ae992af2ad83cf7b0">ast_sorcery_retrieve_by_regex</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d9/d1e/func__strings_8c.html#a1b62eb9e3ebf087509f4301aa6336931">regex</a>)</td></tr>
<tr class="memdesc:a57392a9d5ccf946ae992af2ad83cf7b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve multiple objects using a regular expression on their id.  <a href="#a57392a9d5ccf946ae992af2ad83cf7b0">More...</a><br /></td></tr>
<tr class="separator:a57392a9d5ccf946ae992af2ad83cf7b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9184a8cdeb14537309e5e020948ecd3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ab9184a8cdeb14537309e5e020948ecd3">ast_sorcery_update</a> (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, void *object)</td></tr>
<tr class="memdesc:ab9184a8cdeb14537309e5e020948ecd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update an object.  <a href="#ab9184a8cdeb14537309e5e020948ecd3">More...</a><br /></td></tr>
<tr class="separator:ab9184a8cdeb14537309e5e020948ecd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acee362371c58add5fb6680cf17e94a61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#acee362371c58add5fb6680cf17e94a61">ast_sorcery_wizard_observer_add</a> (struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *wizard, const struct <a class="el" href="../../db/da1/structast__sorcery__wizard__observer.html">ast_sorcery_wizard_observer</a> *callbacks)</td></tr>
<tr class="memdesc:acee362371c58add5fb6680cf17e94a61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an observer to a sorcery wizard.  <a href="#acee362371c58add5fb6680cf17e94a61">More...</a><br /></td></tr>
<tr class="separator:acee362371c58add5fb6680cf17e94a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac52251703805c48a10e61c61bdebac7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#ac52251703805c48a10e61c61bdebac7d">ast_sorcery_wizard_observer_remove</a> (struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *wizard, const struct <a class="el" href="../../db/da1/structast__sorcery__wizard__observer.html">ast_sorcery_wizard_observer</a> *callbacks)</td></tr>
<tr class="memdesc:ac52251703805c48a10e61c61bdebac7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an observer from a sorcery wizard.  <a href="#ac52251703805c48a10e61c61bdebac7d">More...</a><br /></td></tr>
<tr class="separator:ac52251703805c48a10e61c61bdebac7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ed6490f3390526922655ab5dbc344f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d25/sorcery_8h.html#a14ed6490f3390526922655ab5dbc344f">ast_sorcery_wizard_unregister</a> (const struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *interface)</td></tr>
<tr class="memdesc:a14ed6490f3390526922655ab5dbc344f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a sorcery wizard.  <a href="#a14ed6490f3390526922655ab5dbc344f">More...</a><br /></td></tr>
<tr class="separator:a14ed6490f3390526922655ab5dbc344f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sorcery Data Access Layer API. </p>
<dl class="section author"><dt>Author</dt><dd>Joshua Colp <a href="#" onclick="location.href='mai'+'lto:'+'jco'+'lp'+'@di'+'gi'+'um.'+'co'+'m'; return false;">jcolp<span style="display: none;">.nosp@m.</span>@dig<span style="display: none;">.nosp@m.</span>ium.c<span style="display: none;">.nosp@m.</span>om</a> <a class="el" href="../../d2/d7b/AstSorcery.html">Data Access Layer API</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9db9fd1cf5ec967af2ad3a63c27e0233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db9fd1cf5ec967af2ad3a63c27e0233">&#9670;&nbsp;</a></span>ast_sorcery_apply_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_apply_config</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#aaa3a033633c399d854115521820bef8d">__ast_sorcery_apply_config</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00456">456</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00504">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d5/d5e/res__pjsip__acl_8c_source.html#l00297">load_module()</a>.</p>

</div>
</div>
<a id="ad1165cf9d45ed5ffa1555371be9ae770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1165cf9d45ed5ffa1555371be9ae770">&#9670;&nbsp;</a></span>ast_sorcery_apply_default</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_apply_default</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a296fbc5abf97b705abc6dbc6934d6892">__ast_sorcery_apply_default</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), (data))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00477">477</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02300">alloc_and_initialize_sorcery()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04857">apply_list_configuration()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00954">ast_bucket_init()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00071">ast_sip_initialize_sorcery_domain_alias()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00647">ast_sip_initialize_sorcery_global()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01618">ast_sip_initialize_sorcery_transport()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00175">ast_sip_initialize_system()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00465">AST_TEST_DEFINE()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00655">load_module()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00143">mwi_sorcery_init()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00355">stir_shaken_certificate_load()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00248">stir_shaken_general_load()</a>, and <a class="el" href="../../d9/d7e/store_8c_source.html#l00180">stir_shaken_store_load()</a>.</p>

</div>
</div>
<a id="a02d1aa896acd254e31664df39e3086c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02d1aa896acd254e31664df39e3086c9">&#9670;&nbsp;</a></span>ast_sorcery_apply_wizard_mapping</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_apply_wizard_mapping</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">caching&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a153bee8c3bc26c27617f19a24adf0062">__ast_sorcery_apply_wizard_mapping</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), (data), (caching));</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply additional object wizard mappings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to apply to </td></tr>
    <tr><td class="paramname">module</td><td>The name of the module, typically AST_MODULE </td></tr>
    <tr><td class="paramname">name</td><td>Name of the wizard to use </td></tr>
    <tr><td class="paramname">data</td><td>Data to be passed to wizard</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>What occurred when applying the mapping</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This should be called <em>after</em> applying default mappings </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00511">511</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03118">AST_TEST_DEFINE()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01196">object_type_registered_observer()</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">sorcery_memory_cache_thrash_create()</a>.</p>

</div>
</div>
<a id="a25cb7de57f83a51ee7a7d993db65e05f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25cb7de57f83a51ee7a7d993db65e05f">&#9670;&nbsp;</a></span>ast_sorcery_insert_wizard_mapping</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_insert_wizard_mapping</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">caching, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">position&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../d8/d25/sorcery_8h.html#a6da7aa39e4f4df92b32f7762583425d1">__ast_sorcery_insert_wizard_mapping</a>((<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>), <a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>), (data), \</div><div class="line">      (caching), (position))</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="sorcery_8h_html_a6da7aa39e4f4df92b32f7762583425d1"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a6da7aa39e4f4df92b32f7762583425d1">__ast_sorcery_insert_wizard_mapping</a></div><div class="ttdeci">enum ast_sorcery_apply_result __ast_sorcery_insert_wizard_mapping(struct ast_sorcery *sorcery, const char *type, const char *module, const char *name, const char *data, unsigned int caching, int position)</div><div class="ttdoc">Insert an additional object wizard mapping at a specific position in the wizard list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00967">sorcery.c:967</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="app__audiosocket_8c_html_aec23fc5034c3bb08140fc021f4955877"><div class="ttname"><a href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a></div><div class="ttdeci">#define AST_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/daa/app__audiosocket_8c_source.html#l00045">app_audiosocket.c:45</a></div></div>
</div><!-- fragment -->
<p>Insert an additional object wizard mapping at a specific position in the wizard list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to apply to </td></tr>
    <tr><td class="paramname">module</td><td>The name of the module, typically AST_MODULE </td></tr>
    <tr><td class="paramname">name</td><td>Name of the wizard to use </td></tr>
    <tr><td class="paramname">data</td><td>Data to be passed to wizard </td></tr>
    <tr><td class="paramname">position</td><td>One of ast_sorcery_wizard_position</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>What occurred when applying the mapping</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This should be called <em>after</em> applying default mappings </dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00563">563</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03452">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00306">test_stir_shaken_create_cert()</a>.</p>

</div>
</div>
<a id="a6f16dd100bbc816e1d8eb67026ab4ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f16dd100bbc816e1d8eb67026ab4ee3">&#9670;&nbsp;</a></span>ast_sorcery_internal_object_register</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_internal_object_register</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">alloc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">transform, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">apply&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9cb66752e5efd565113d7211e6cb0e29">__ast_sorcery_object_register</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), 1, 1, (alloc), (transform), (apply))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an internal, hidden object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">alloc</td><td>Required object allocation callback </td></tr>
    <tr><td class="paramname">transform</td><td>Optional transformation callback </td></tr>
    <tr><td class="paramname">apply</td><td>Optional object set apply callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00868">868</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02300">alloc_and_initialize_sorcery()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03118">AST_TEST_DEFINE()</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">sorcery_memory_cache_thrash_create()</a>.</p>

</div>
</div>
<a id="aa7102b6e71e4fa6525b24a6123a2f6d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7102b6e71e4fa6525b24a6123a2f6d4">&#9670;&nbsp;</a></span>ast_sorcery_object_field_register</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_field_register</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">default_val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opt_type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, opt_type, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, flags, 0, 0, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a field within an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the field </td></tr>
    <tr><td class="paramname">default_val</td><td>Default value of the field </td></tr>
    <tr><td class="paramname">opt_type</td><td>Option type </td></tr>
    <tr><td class="paramname">flags</td><td>Option type specific flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00955">955</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04857">apply_list_configuration()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00954">ast_bucket_init()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00071">ast_sip_initialize_sorcery_domain_alias()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00647">ast_sip_initialize_sorcery_global()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01618">ast_sip_initialize_sorcery_transport()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00175">ast_sip_initialize_system()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00655">load_module()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00355">stir_shaken_certificate_load()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00248">stir_shaken_general_load()</a>, and <a class="el" href="../../d9/d7e/store_8c_source.html#l00180">stir_shaken_store_load()</a>.</p>

</div>
</div>
<a id="a39ba87d0e81662be7176624b544ee8ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39ba87d0e81662be7176624b544ee8ec">&#9670;&nbsp;</a></span>ast_sorcery_object_field_register_alias</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_field_register_alias</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">default_val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opt_type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, opt_type, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, flags, 1, 1, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a field within an object as an alias. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the field </td></tr>
    <tr><td class="paramname">default_val</td><td>Default value of the field </td></tr>
    <tr><td class="paramname">opt_type</td><td>Option type </td></tr>
    <tr><td class="paramname">flags</td><td>Option type specific flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00971">971</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>.</p>

</div>
</div>
<a id="a720c9774873ec35bae0a0160954767e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a720c9774873ec35bae0a0160954767e7">&#9670;&nbsp;</a></span>ast_sorcery_object_field_register_custom</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_field_register_custom</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">default_val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sorcery_handler, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">multiple_handler, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, <a class="el" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a73fe8fd0e2998744abd43b5908515f34">OPT_CUSTOM_T</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, sorcery_handler, multiple_handler, flags, 0, 0, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a field within an object with custom handlers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the field </td></tr>
    <tr><td class="paramname">default_val</td><td>Default value of the field </td></tr>
    <tr><td class="paramname">config_handler</td><td>Custom configuration handler </td></tr>
    <tr><td class="paramname">sorcery_handler</td><td>Custom sorcery handler </td></tr>
    <tr><td class="paramname">multiple_handler</td><td>Custom multiple handler </td></tr>
    <tr><td class="paramname">flags</td><td>Option type specific flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l01005">1005</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04857">apply_list_configuration()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00954">ast_bucket_init()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00647">ast_sip_initialize_sorcery_global()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01618">ast_sip_initialize_sorcery_transport()</a>, <a class="el" href="../../d5/d5e/res__pjsip__acl_8c_source.html#l00297">load_module()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00355">stir_shaken_certificate_load()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00248">stir_shaken_general_load()</a>, and <a class="el" href="../../d9/d7e/store_8c_source.html#l00180">stir_shaken_store_load()</a>.</p>

</div>
</div>
<a id="a0cedbe0514e7a2d3d6d6531547e461ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cedbe0514e7a2d3d6d6531547e461ca">&#9670;&nbsp;</a></span>ast_sorcery_object_field_register_custom_alias</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_field_register_custom_alias</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">default_val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sorcery_handler, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">multiple_handler, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, <a class="el" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a73fe8fd0e2998744abd43b5908515f34">OPT_CUSTOM_T</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, sorcery_handler, multiple_handler, flags, 1, 1, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a field within an object with custom handlers as an alias. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the field </td></tr>
    <tr><td class="paramname">default_val</td><td>Default value of the field </td></tr>
    <tr><td class="paramname">config_handler</td><td>Custom configuration handler </td></tr>
    <tr><td class="paramname">sorcery_handler</td><td>Custom sorcery handler </td></tr>
    <tr><td class="paramname">flags</td><td>Option type specific flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l01022">1022</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

</div>
</div>
<a id="a206d55f16a5f4bd7981cc4610f0dd5d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a206d55f16a5f4bd7981cc4610f0dd5d1">&#9670;&nbsp;</a></span>ast_sorcery_object_field_register_custom_nodoc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_field_register_custom_nodoc</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">default_val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sorcery_handler, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">multiple_handler, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, <a class="el" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a73fe8fd0e2998744abd43b5908515f34">OPT_CUSTOM_T</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, sorcery_handler, multiple_handler, flags, 1, 0, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a field within an object with custom handlers without documentation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the field </td></tr>
    <tr><td class="paramname">default_val</td><td>Default value of the field </td></tr>
    <tr><td class="paramname">config_handler</td><td>Custom configuration handler </td></tr>
    <tr><td class="paramname">sorcery_handler</td><td>Custom sorcery handler </td></tr>
    <tr><td class="paramname">multiple_handler</td><td>Custom multiple handler </td></tr>
    <tr><td class="paramname">flags</td><td>Option type specific flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l01040">1040</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00332">alloc_and_initialize_sorcery()</a>, and <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l02234">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a126f854c093cec80dd9e89b26db9b016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a126f854c093cec80dd9e89b26db9b016">&#9670;&nbsp;</a></span>ast_sorcery_object_field_register_nodoc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_field_register_nodoc</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">default_val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opt_type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9b5b49d9868394fd6adeff0eaba48db5">__ast_sorcery_object_field_register</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, default_val, opt_type, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, flags, 1, 0, <a class="el" href="../../db/dfe/config__options_8h.html#a3735c39e25d9322514edc4fe7378d668">VA_NARGS</a>(__VA_ARGS__), __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a field within an object without documentation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the field </td></tr>
    <tr><td class="paramname">default_val</td><td>Default value of the field </td></tr>
    <tr><td class="paramname">opt_type</td><td>Option type </td></tr>
    <tr><td class="paramname">flags</td><td>Option type specific flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00987">987</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00332">alloc_and_initialize_sorcery()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03245">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00143">mwi_sorcery_init()</a>.</p>

</div>
</div>
<a id="a5ee86f00f6e2240f74772d59edf0f74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ee86f00f6e2240f74772d59edf0f74a">&#9670;&nbsp;</a></span>ast_sorcery_object_register</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_register</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">alloc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">transform, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">apply&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9cb66752e5efd565113d7211e6cb0e29">__ast_sorcery_object_register</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), 0, 1, (alloc), (transform), (apply))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">alloc</td><td>Required object allocation callback </td></tr>
    <tr><td class="paramname">transform</td><td>Optional transformation callback </td></tr>
    <tr><td class="paramname">apply</td><td>Optional object set apply callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00838">838</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04857">apply_list_configuration()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00954">ast_bucket_init()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00071">ast_sip_initialize_sorcery_domain_alias()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00647">ast_sip_initialize_sorcery_global()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01618">ast_sip_initialize_sorcery_transport()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00655">load_module()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00143">mwi_sorcery_init()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00355">stir_shaken_certificate_load()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00248">stir_shaken_general_load()</a>, and <a class="el" href="../../d9/d7e/store_8c_source.html#l00180">stir_shaken_store_load()</a>.</p>

</div>
</div>
<a id="a97493461b88c46ae6eaaaa6442f0467d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97493461b88c46ae6eaaaa6442f0467d">&#9670;&nbsp;</a></span>ast_sorcery_object_register_no_reload</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_register_no_reload</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">alloc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">transform, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">apply&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a9cb66752e5efd565113d7211e6cb0e29">__ast_sorcery_object_register</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), 0, 0, (alloc), (transform), (apply))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an object type that is not reloadable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">alloc</td><td>Required object allocation callback </td></tr>
    <tr><td class="paramname">transform</td><td>Optional transformation callback </td></tr>
    <tr><td class="paramname">apply</td><td>Optional object set apply callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00853">853</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dfd/config__system_8c_source.html#l00175">ast_sip_initialize_system()</a>.</p>

</div>
</div>
<a id="afee748c496473d4e07cc81ee724cdf3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afee748c496473d4e07cc81ee724cdf3d">&#9670;&nbsp;</a></span>ast_sorcery_object_type_apply_wizard</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_type_apply_wizard</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object_type_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard_type_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard_args, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard_data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../d8/d25/sorcery_8h.html#af5fccf1e6ec09f51ad704e9f0931f60a">__ast_sorcery_object_type_insert_wizard</a>((<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), \</div><div class="line">      (object_type_name), <a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (wizard_type_name), (wizard_args), (flags), \</div><div class="line">      <a class="code" href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac">AST_SORCERY_WIZARD_POSITION_LAST</a>, (wizard), (wizard_data))</div><div class="ttc" id="sorcery_8h_html_af5fccf1e6ec09f51ad704e9f0931f60a"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af5fccf1e6ec09f51ad704e9f0931f60a">__ast_sorcery_object_type_insert_wizard</a></div><div class="ttdeci">enum ast_sorcery_apply_result __ast_sorcery_object_type_insert_wizard(struct ast_sorcery *sorcery, const char *object_type_name, const char *module, const char *wizard_type_name, const char *wizard_args, enum ast_sorcery_wizard_apply_flags flags, int position, struct ast_sorcery_wizard **wizard, void **wizard_data)</div><div class="ttdoc">Insert an additional object wizard mapping at a specific position in the wizard list returning wizard...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00869">sorcery.c:869</a></div></div>
<div class="ttc" id="sorcery_8h_html_aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac">AST_SORCERY_WIZARD_POSITION_LAST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00519">sorcery.h:519</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="app__audiosocket_8c_html_aec23fc5034c3bb08140fc021f4955877"><div class="ttname"><a href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a></div><div class="ttdeci">#define AST_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/daa/app__audiosocket_8c_source.html#l00045">app_audiosocket.c:45</a></div></div>
</div><!-- fragment -->
<p>Apply additional object wizard mappings returning wizard information. </p>
<dl class="section since"><dt>Since</dt><dd>13.26.0 </dd>
<dd>
16.3.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">object_type_name</td><td>Name of the object type to apply to </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">wizard_type_name</td><td>Name of the wizard type to use </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">wizard_args</td><td>Opaque string to be passed to the wizard May be NULL but see note below </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">flags</td><td>One or more of enum ast_sorcery_wizard_apply_flags </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">wizard</td><td>A variable to receive a pointer to the <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html" title="Interface for a sorcery wizard. ">ast_sorcery_wizard</a> structure. May be NULL if not needed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">wizard_data</td><td>A variable to receive a pointer to the wizard's internal data. May be NULL if not needed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>What occurred when applying the mapping</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This should be called <em>after</em> applying default mappings</dd>
<dd>
Although wizard_args is an optional parameter it is highly recommended to supply one. If you use the AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE flag, and you intend to ever remove a wizard mapping, you'll need wizard_args to remove specific instances. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00679">679</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03569">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a00036ef3b9a414fc7377ad68d95411d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00036ef3b9a414fc7377ad68d95411d3">&#9670;&nbsp;</a></span>ast_sorcery_object_type_insert_wizard</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_type_insert_wizard</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object_type_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard_type_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard_args, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">position, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard_data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../d8/d25/sorcery_8h.html#af5fccf1e6ec09f51ad704e9f0931f60a">__ast_sorcery_object_type_insert_wizard</a>((<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), \</div><div class="line">      (object_type_name), <a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (wizard_type_name), (wizard_args), (flags), \</div><div class="line">      position, (wizard), (wizard_data))</div><div class="ttc" id="sorcery_8h_html_af5fccf1e6ec09f51ad704e9f0931f60a"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af5fccf1e6ec09f51ad704e9f0931f60a">__ast_sorcery_object_type_insert_wizard</a></div><div class="ttdeci">enum ast_sorcery_apply_result __ast_sorcery_object_type_insert_wizard(struct ast_sorcery *sorcery, const char *object_type_name, const char *module, const char *wizard_type_name, const char *wizard_args, enum ast_sorcery_wizard_apply_flags flags, int position, struct ast_sorcery_wizard **wizard, void **wizard_data)</div><div class="ttdoc">Insert an additional object wizard mapping at a specific position in the wizard list returning wizard...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00869">sorcery.c:869</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="app__audiosocket_8c_html_aec23fc5034c3bb08140fc021f4955877"><div class="ttname"><a href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a></div><div class="ttdeci">#define AST_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/daa/app__audiosocket_8c_source.html#l00045">app_audiosocket.c:45</a></div></div>
</div><!-- fragment -->
<p>Insert an additional object wizard mapping at a specific position in the wizard list returning wizard information. </p>
<dl class="section since"><dt>Since</dt><dd>13.26.0 </dd>
<dd>
16.3.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">object_type_name</td><td>Name of the object type to apply to </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">wizard_type_name</td><td>Name of the wizard type to use </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">wizard_args</td><td>Opaque string to be passed to the wizard May be NULL but see note below </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">flags</td><td>One or more of enum ast_sorcery_wizard_apply_flags </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">position</td><td>An index to insert to or one of ast_sorcery_wizard_position </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">wizard</td><td>A variable to receive a pointer to the <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html" title="Interface for a sorcery wizard. ">ast_sorcery_wizard</a> structure. May be NULL if not needed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">wizard_data</td><td>A variable to receive a pointer to the wizard's internal data. May be NULL if not needed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>What occurred when applying the mapping</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This should be called <em>after</em> applying default mappings</dd>
<dd>
Although wizard_args is an optional parameter it is highly recommended to supply one. If you use the AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE flag, and you intend to ever remove a wizard mapping, you'll need wizard_args to remove specific instances. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00647">647</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03452">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="af3a0b521c3c3693373862a8db3fd421e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a0b521c3c3693373862a8db3fd421e">&#9670;&nbsp;</a></span>ast_sorcery_object_type_remove_wizard</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_object_type_remove_wizard</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object_type_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard_type_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">wizard_args&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../d8/d25/sorcery_8h.html#ace8f055e27688822a6aa7a0ba68ce2ed">__ast_sorcery_object_type_remove_wizard</a>((<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (object_type_name), \</div><div class="line">      <a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (wizard_type_name), (wizard_args))</div><div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="app__audiosocket_8c_html_aec23fc5034c3bb08140fc021f4955877"><div class="ttname"><a href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a></div><div class="ttdeci">#define AST_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/daa/app__audiosocket_8c_source.html#l00045">app_audiosocket.c:45</a></div></div>
<div class="ttc" id="sorcery_8h_html_ace8f055e27688822a6aa7a0ba68ce2ed"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ace8f055e27688822a6aa7a0ba68ce2ed">__ast_sorcery_object_type_remove_wizard</a></div><div class="ttdeci">int __ast_sorcery_object_type_remove_wizard(struct ast_sorcery *sorcery, const char *object_type_name, const char *module, const char *wizard_type_name, const char *wizard_args)</div><div class="ttdoc">Remove an object wizard mapping. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00820">sorcery.c:820</a></div></div>
</div><!-- fragment -->
<p>Remove an object wizard mapping. </p>
<dl class="section since"><dt>Since</dt><dd>13.26.0 </dd>
<dd>
16.3.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object_type_name</td><td>Name of the object type to remove from </td></tr>
    <tr><td class="paramname">wizard_type_name</td><td>The name of the of the wizard type to remove </td></tr>
    <tr><td class="paramname">wizard_args</td><td>Opaque string originally passed to the wizard</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If there were multiple instances of the same wizard type added to this object type without using wizard_args, then only the first wizard matching wizard_type will be removed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00725">725</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03452">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a197b6724158db0da59852d25d36fa5f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a197b6724158db0da59852d25d36fa5f1">&#9670;&nbsp;</a></span>ast_sorcery_objectset_create</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_objectset_create</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#afe388a29f4d5aaa1da64f955f115c887">ast_sorcery_objectset_create2</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, object, <a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0">AST_HANDLER_PREFER_LIST</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an object set (KVP list) for an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>if error occurred</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list must be destroyed using ast_variables_destroy</dd>
<dd>
This function attempts to use a field's sorcery_fields_handler first and if that doesn't exist or fails, a field's sorcery_field_handler is used. The difference is that the former may return multiple list entries for the same field and the latter will only return 1. It's up to the field itself to determine what the appropriate content is. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l01136">1136</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/df0/pjsip__cli_8c_source.html#l00036">ast_sip_cli_print_sorcery_objectset()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01778">ast_sorcery_copy()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01805">ast_sorcery_diff()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l01069">AST_TEST_DEFINE()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01461">can_reuse_registration()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01230">handle_export_primitives()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00329">handle_pjproject_show_log_mappings()</a>, <a class="el" href="../../dd/d92/func__pjsip__aor_8c_source.html#l00070">pjsip_aor_function_read()</a>, <a class="el" href="../../de/d6a/func__pjsip__contact_8c_source.html#l00086">pjsip_contact_function_read()</a>, <a class="el" href="../../d0/d7b/func__pjsip__endpoint_8c_source.html#l00071">pjsip_endpoint_function_read()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00151">registration_deleted_observer()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00041">return_sorcery_object()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00132">sorcery_config_fields_cmp()</a>, <a class="el" href="../../d3/dc6/func__sorcery_8c_source.html#l00079">sorcery_function_read()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00766">sorcery_memory_cached_object_alloc()</a>, <a class="el" href="../../d2/d0a/res__sorcery__memory_8c_source.html#l00125">sorcery_memory_fields_cmp()</a>, <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00080">sorcery_realtime_create()</a>, and <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00285">sorcery_realtime_update()</a>.</p>

</div>
</div>
<a id="ad60f3b81bed748245f8045cb48fadee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60f3b81bed748245f8045cb48fadee2">&#9670;&nbsp;</a></span>ast_sorcery_open</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_open</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#ab9e2c677c1b1367de9685de69013695c">__ast_sorcery_open</a>(<a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00408">408</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02300">alloc_and_initialize_sorcery()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00954">ast_bucket_init()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00175">ast_sip_initialize_system()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03118">AST_TEST_DEFINE()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00655">load_module()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00143">mwi_sorcery_init()</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">sorcery_memory_cache_thrash_create()</a>.</p>

</div>
</div>
<a id="a950f39ae83b03909656bb463447d32ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950f39ae83b03909656bb463447d32ae">&#9670;&nbsp;</a></span>ast_sorcery_remove_wizard_mapping</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_remove_wizard_mapping</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a7d07cd61260ba21e09a994e764284faf">__ast_sorcery_remove_wizard_mapping</a>((<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>), (<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>), <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, (<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an object wizard mapping. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to remove from </td></tr>
    <tr><td class="paramname">name</td><td>The name of the wizard to remove</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>13.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00758">758</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03452">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00280">test_stir_shaken_cleanup_cert()</a>.</p>

</div>
</div>
<a id="a09cba9c37c702ca2bdcf94052068ed67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09cba9c37c702ca2bdcf94052068ed67">&#9670;&nbsp;</a></span>ast_sorcery_unref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_unref</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrease the reference count of a sorcery structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Prior to 16.0.0 this was a function which had to be used. Now you can use any variant of ao2_cleanup or ao2_ref to release a reference. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l01502">1502</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02300">alloc_and_initialize_sorcery()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00247">ast_ari_asterisk_delete_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00089">ast_ari_asterisk_get_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02219">ast_res_pjsip_destroy_configuration()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00245">ast_sip_destroy_system()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00175">ast_sip_initialize_system()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02467">AST_TEST_DEFINE()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00928">bucket_cleanup()</a>, <a class="el" href="../../de/d6c/test__sorcery__astdb_8c_source.html#l00073">deinitialize_sorcery()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00655">load_module()</a>, <a class="el" href="../../d3/dc6/func__sorcery_8c_source.html#l00079">sorcery_function_read()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00141">sorcery_memory_cache_thrash_destroy()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00877">stale_cache_update_task_data_destructor()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00962">stale_update_task_data_destructor()</a>, and <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00910">unload_module()</a>.</p>

</div>
</div>
<a id="aa2b2d9798c21334810a480fdc3260bb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b2d9798c21334810a480fdc3260bb8">&#9670;&nbsp;</a></span>ast_sorcery_wizard_register</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sorcery_wizard_register</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">interface</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d7/d69/sorcery_8c.html#a6b379e5d778d252c30a4cfde03892ca2">__ast_sorcery_wizard_register</a>(interface, AST_MODULE_SELF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See <a class="el" href="../../d8/d25/sorcery_8h.html#a6b379e5d778d252c30a4cfde03892ca2">__ast_sorcery_wizard_register()</a> </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00383">383</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03118">AST_TEST_DEFINE()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00414">load_module()</a>, and <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">sorcery_memory_cache_thrash_create()</a>.</p>

</div>
</div>
<a id="aca877fd857a49db7740effaa55a01e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca877fd857a49db7740effaa55a01e52">&#9670;&nbsp;</a></span>MAX_OBJECT_FIELD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_OBJECT_FIELD&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum length of an object field name. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00110">110</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00317">ast_sip_auths_to_str()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01507">ast_sip_get_device_state()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00355">ast_sip_location_create_contact()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00736">callgroup_to_str()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00754">cli_print_body()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00808">contacts_to_str()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00441">ident_to_str()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01403">localnet_to_str()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01371">localnet_to_vl_append()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00570">match_to_str()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00580">match_to_var_list_append()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00788">named_callgroups_to_str()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00798">named_pickupgroups_to_str()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00748">pickupgroup_to_str()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01058">set_var_to_str()</a>, and <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01030">transport_bind_to_str()</a>.</p>

</div>
</div>
<a id="ae619e3c0404e263a56623cfa441c9696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae619e3c0404e263a56623cfa441c9696">&#9670;&nbsp;</a></span>MAX_OBJECT_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_OBJECT_TYPE&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum size of an object type. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00107">107</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

</div>
</div>
<a id="a27ab062271c22bdbc2b6f5d607c980cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27ab062271c22bdbc2b6f5d607c980cf">&#9670;&nbsp;</a></span>SORCERY_OBJECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SORCERY_OBJECT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">details</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">struct </span>{                                           \</div><div class="line">   struct <a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> details; \</div><div class="line">}                                                  \</div><div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
</div><!-- fragment -->
<p>Macro which must be used at the beginning of each sorcery capable object. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00356">356</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a7724e3ad4b5f813b782a68ad7603f51e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7724e3ad4b5f813b782a68ad7603f51e">&#9670;&nbsp;</a></span>sorcery_apply_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* sorcery_apply_handler) (const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, void *obj)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback function for when an object set is successfully applied to an object. </p>
<dl class="section note"><dt>Note</dt><dd>On a failure return, the state of the object is left undefined. It is a bad idea to try to use this object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Sorcery structure in use </td></tr>
    <tr><td class="paramname">obj</td><td>The object itself </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">non-zero</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00194">194</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

</div>
</div>
<a id="a987241524cd0fcb400bf58bff9e814d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987241524cd0fcb400bf58bff9e814d2">&#9670;&nbsp;</a></span>sorcery_copy_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* sorcery_copy_handler) (const void *src, void *dst)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback function for copying the contents of one object to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The source object </td></tr>
    <tr><td class="paramname">dst</td><td>The destination object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00205">205</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

</div>
</div>
<a id="a7d47110070fafb04ee89e3eef65f9dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d47110070fafb04ee89e3eef65f9dcb">&#9670;&nbsp;</a></span>sorcery_diff_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* sorcery_diff_handler) (const void *original, const void *modified, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **changes)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback function for generating a changeset between two objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">original</td><td>The original object </td></tr>
    <tr><td class="paramname">modified</td><td>The modified object </td></tr>
    <tr><td class="paramname">changes</td><td>The changeset</td></tr>
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00217">217</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

</div>
</div>
<a id="ac7547e49fe89a712a6f74f6b74265b62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7547e49fe89a712a6f74f6b74265b62">&#9670;&nbsp;</a></span>sorcery_field_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* sorcery_field_handler) (const void *obj, const intptr_t *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, char **<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback function for translating a value into a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Object to get value from </td></tr>
    <tr><td class="paramname">args</td><td>Where the field is </td></tr>
    <tr><td class="paramname">buf</td><td>Pointer to the buffer that the handler has created which contains the field value</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00158">158</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

</div>
</div>
<a id="a47b87d91c7d50f1d1f2e833783833973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47b87d91c7d50f1d1f2e833783833973">&#9670;&nbsp;</a></span>sorcery_fields_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* sorcery_fields_handler) (const void *obj, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **fields)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback function for translating multiple values into an <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Object to get values from </td></tr>
    <tr><td class="paramname">fields</td><td>Pointer to store the list of fields</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00169">169</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

</div>
</div>
<a id="a021d0564106e440f4c2c06b68908960f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021d0564106e440f4c2c06b68908960f">&#9670;&nbsp;</a></span>sorcery_transform_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a>*(* sorcery_transform_handler) (struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="el" href="../../da/dd2/func__logic_8c.html#a867815a5c8c20dd78c8a14baf645414a">set</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback function for performing a transformation on an object set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">set</td><td>The existing object set</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>new object set if changed </td></tr>
    <tr><td class="paramname">NULL</td><td>if no changes present</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list must be <em>new</em>. You can not return the input set. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00181">181</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="af7a3667fd0c15838da1a7bca838f6eee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a3667fd0c15838da1a7bca838f6eee">&#9670;&nbsp;</a></span>ast_sorcery_apply_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792"></a>AST_SORCERY_APPLY_FAIL&#160;</td><td class="fielddoc"><p>Sorcery wizard failed to apply. </p>
</td></tr>
<tr><td class="fieldname"><a id="af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be"></a>AST_SORCERY_APPLY_SUCCESS&#160;</td><td class="fielddoc"><p>Sorcery wizard applied successfully. </p>
</td></tr>
<tr><td class="fieldname"><a id="af7a3667fd0c15838da1a7bca838f6eeea953d83e2cf90f74027c91724e9edf711"></a>AST_SORCERY_APPLY_DUPLICATE&#160;</td><td class="fielddoc"><p>Sorcery wizard has already been applied to the object type. </p>
</td></tr>
<tr><td class="fieldname"><a id="af7a3667fd0c15838da1a7bca838f6eeeab1e2f97db7f00e633f6f6d7be2cce374"></a>AST_SORCERY_APPLY_DEFAULT_UNNECESSARY&#160;</td><td class="fielddoc"><p>Default sorcery wizard is unnecessary since a wizard has already been applied to the object type. </p>
</td></tr>
<tr><td class="fieldname"><a id="af7a3667fd0c15838da1a7bca838f6eeea76bcb6e33cf6c9f92a2ffa575f065f0c"></a>AST_SORCERY_APPLY_NO_CONFIGURATION&#160;</td><td class="fielddoc"><p>No sorcery.conf configuration file was found to apply. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00424">424</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                              {<span class="comment"></span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">   /*! Sorcery wizard failed to apply. */</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a> = -1,<span class="comment"></span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">   /*! Sorcery wizard applied successfully. */</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be">AST_SORCERY_APPLY_SUCCESS</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">   /*! Sorcery wizard has already been applied to the object type. */</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea953d83e2cf90f74027c91724e9edf711">AST_SORCERY_APPLY_DUPLICATE</a> = 1,<span class="comment"></span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">   /*! Default sorcery wizard is unnecessary since a wizard has already been applied to the object type. */</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeeab1e2f97db7f00e633f6f6d7be2cce374">AST_SORCERY_APPLY_DEFAULT_UNNECESSARY</a> = 2,<span class="comment"></span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">   /*! No sorcery.conf configuration file was found to apply. */</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea76bcb6e33cf6c9f92a2ffa575f065f0c">AST_SORCERY_APPLY_NO_CONFIGURATION</a> = 3,</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;};</div><div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea76bcb6e33cf6c9f92a2ffa575f065f0c"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea76bcb6e33cf6c9f92a2ffa575f065f0c">AST_SORCERY_APPLY_NO_CONFIGURATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00434">sorcery.h:434</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeeab1e2f97db7f00e633f6f6d7be2cce374"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeeab1e2f97db7f00e633f6f6d7be2cce374">AST_SORCERY_APPLY_DEFAULT_UNNECESSARY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00432">sorcery.h:432</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00426">sorcery.h:426</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea953d83e2cf90f74027c91724e9edf711"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea953d83e2cf90f74027c91724e9edf711">AST_SORCERY_APPLY_DUPLICATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00430">sorcery.h:430</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be">AST_SORCERY_APPLY_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00428">sorcery.h:428</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1fdd981feb0ebfb50d6d8de2aa89689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1fdd981feb0ebfb50d6d8de2aa89689">&#9670;&nbsp;</a></span>ast_sorcery_field_handler_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689">ast_sorcery_field_handler_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Field handler flags. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac1fdd981feb0ebfb50d6d8de2aa89689a37973030c9fd99f16064cd532f5bce77"></a>AST_HANDLER_PREFER_STRING&#160;</td><td class="fielddoc"><p>Try both handlers, string first. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0"></a>AST_HANDLER_PREFER_LIST&#160;</td><td class="fielddoc"><p>Try both handlers, list first. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf"></a>AST_HANDLER_ONLY_STRING&#160;</td><td class="fielddoc"><p>Use string handler only. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac1fdd981feb0ebfb50d6d8de2aa89689a645512a865349672ca1e97f07d84cf2b"></a>AST_HANDLER_ONLY_LIST&#160;</td><td class="fielddoc"><p>Use list handler only. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00129">129</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                     {<span class="comment"></span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">   /*! \brief Try both handlers, string first */</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a37973030c9fd99f16064cd532f5bce77">AST_HANDLER_PREFER_STRING</a>,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">   /*! \brief Try both handlers, list first */</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0">AST_HANDLER_PREFER_LIST</a>,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">   /*! \brief Use string handler only */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf">AST_HANDLER_ONLY_STRING</a>,</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">   /*! \brief Use list handler only */</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a645512a865349672ca1e97f07d84cf2b">AST_HANDLER_ONLY_LIST</a>,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;};</div><div class="ttc" id="sorcery_8h_html_ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0">AST_HANDLER_PREFER_LIST</a></div><div class="ttdoc">Try both handlers, list first. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00134">sorcery.h:134</a></div></div>
<div class="ttc" id="sorcery_8h_html_ac1fdd981feb0ebfb50d6d8de2aa89689a645512a865349672ca1e97f07d84cf2b"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a645512a865349672ca1e97f07d84cf2b">AST_HANDLER_ONLY_LIST</a></div><div class="ttdoc">Use list handler only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00140">sorcery.h:140</a></div></div>
<div class="ttc" id="sorcery_8h_html_ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf">AST_HANDLER_ONLY_STRING</a></div><div class="ttdoc">Use string handler only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00137">sorcery.h:137</a></div></div>
<div class="ttc" id="sorcery_8h_html_ac1fdd981feb0ebfb50d6d8de2aa89689a37973030c9fd99f16064cd532f5bce77"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a37973030c9fd99f16064cd532f5bce77">AST_HANDLER_PREFER_STRING</a></div><div class="ttdoc">Try both handlers, string first. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00131">sorcery.h:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a320e98591a38316a313a3ca83ea8df20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a320e98591a38316a313a3ca83ea8df20">&#9670;&nbsp;</a></span>ast_sorcery_retrieve_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20">ast_sorcery_retrieve_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieval flags. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a320e98591a38316a313a3ca83ea8df20a3d078c1c29a9125b57ce97990ffa0fc0"></a>AST_RETRIEVE_FLAG_DEFAULT&#160;</td><td class="fielddoc"><p>Default retrieval flags. </p>
</td></tr>
<tr><td class="fieldname"><a id="a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55"></a>AST_RETRIEVE_FLAG_MULTIPLE&#160;</td><td class="fielddoc"><p>Return all matching objects. </p>
</td></tr>
<tr><td class="fieldname"><a id="a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd"></a>AST_RETRIEVE_FLAG_ALL&#160;</td><td class="fielddoc"><p>Perform no matching, return all objects. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00115">115</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                {<span class="comment"></span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">   /*! \brief Default retrieval flags */</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a3d078c1c29a9125b57ce97990ffa0fc0">AST_RETRIEVE_FLAG_DEFAULT</a> = 0,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">   /*! \brief Return all matching objects */</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a> = (1 &lt;&lt; 0),</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">   /*! \brief Perform no matching, return all objects */</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd">AST_RETRIEVE_FLAG_ALL</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;};</div><div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd">AST_RETRIEVE_FLAG_ALL</a></div><div class="ttdoc">Perform no matching, return all objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00123">sorcery.h:123</a></div></div>
<div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a></div><div class="ttdoc">Return all matching objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00120">sorcery.h:120</a></div></div>
<div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a3d078c1c29a9125b57ce97990ffa0fc0"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a3d078c1c29a9125b57ce97990ffa0fc0">AST_RETRIEVE_FLAG_DEFAULT</a></div><div class="ttdoc">Default retrieval flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00117">sorcery.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af08169767aa3845619c49031b454cb82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af08169767aa3845619c49031b454cb82">&#9670;&nbsp;</a></span>ast_sorcery_wizard_apply_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82">ast_sorcery_wizard_apply_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wizard Apply Flags. </p>
<p>These flags apply only to a wizard/object-type combination. The same wizard may be applied to a different object-type with different flags and behavior. If ALLOW_DUPLICATE is set the wizard could even be applied to the same object-type with different flags. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af08169767aa3845619c49031b454cb82a0c372fe10c0765d9e2a316311bcf7e8a"></a>AST_SORCERY_WIZARD_APPLY_NONE&#160;</td><td class="fielddoc"><p>Apply no special behavior </p>
</td></tr>
<tr><td class="fieldname"><a id="af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c"></a>AST_SORCERY_WIZARD_APPLY_CACHING&#160;</td><td class="fielddoc"><p>This wizard will cache this object type's entries </p>
</td></tr>
<tr><td class="fieldname"><a id="af08169767aa3845619c49031b454cb82a84266e67d8fbd2a304d0532c9cfa718f"></a>AST_SORCERY_WIZARD_APPLY_READONLY&#160;</td><td class="fielddoc"><p>This wizard won't allow Create, Update or Delete operations on this object type </p>
</td></tr>
<tr><td class="fieldname"><a id="af08169767aa3845619c49031b454cb82a0e2fa14e157b1cfe19eb07725d61f7e2"></a>AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE&#160;</td><td class="fielddoc"><p>This wizard will allow other instances of itself on the same object type </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00576">576</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                    {<span class="comment"></span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">   /*! Apply no special behavior */</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0c372fe10c0765d9e2a316311bcf7e8a">AST_SORCERY_WIZARD_APPLY_NONE</a> = (0 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">   /*! This wizard will cache this object type&#39;s entries */</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c">AST_SORCERY_WIZARD_APPLY_CACHING</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">   /*! This wizard won&#39;t allow Create, Update or Delete operations on this object type */</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a84266e67d8fbd2a304d0532c9cfa718f">AST_SORCERY_WIZARD_APPLY_READONLY</a> = (1 &lt;&lt; 1),<span class="comment"></span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">   /*! This wizard will allow other instances of itself on the same object type */</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0e2fa14e157b1cfe19eb07725d61f7e2">AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE</a> = (1 &lt;&lt; 2)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;};</div><div class="ttc" id="sorcery_8h_html_af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c">AST_SORCERY_WIZARD_APPLY_CACHING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00580">sorcery.h:580</a></div></div>
<div class="ttc" id="sorcery_8h_html_af08169767aa3845619c49031b454cb82a0e2fa14e157b1cfe19eb07725d61f7e2"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0e2fa14e157b1cfe19eb07725d61f7e2">AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00584">sorcery.h:584</a></div></div>
<div class="ttc" id="sorcery_8h_html_af08169767aa3845619c49031b454cb82a84266e67d8fbd2a304d0532c9cfa718f"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a84266e67d8fbd2a304d0532c9cfa718f">AST_SORCERY_WIZARD_APPLY_READONLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00582">sorcery.h:582</a></div></div>
<div class="ttc" id="sorcery_8h_html_af08169767aa3845619c49031b454cb82a0c372fe10c0765d9e2a316311bcf7e8a"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0c372fe10c0765d9e2a316311bcf7e8a">AST_SORCERY_WIZARD_APPLY_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00578">sorcery.h:578</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa20c995545eb67b6a6e10e2c4bf8eb00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa20c995545eb67b6a6e10e2c4bf8eb00">&#9670;&nbsp;</a></span>ast_sorcery_wizard_position</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00">ast_sorcery_wizard_position</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pre-defined locations to insert at. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac"></a>AST_SORCERY_WIZARD_POSITION_LAST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa20c995545eb67b6a6e10e2c4bf8eb00a79a05012943f156bcbf312281423639e"></a>AST_SORCERY_WIZARD_POSITION_FIRST&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00518">518</a> of file <a class="el" href="../../d8/d25/sorcery_8h_source.html">sorcery.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                 {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac">AST_SORCERY_WIZARD_POSITION_LAST</a> = -1,</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00a79a05012943f156bcbf312281423639e">AST_SORCERY_WIZARD_POSITION_FIRST</a> = 0,</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;};</div><div class="ttc" id="sorcery_8h_html_aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac">AST_SORCERY_WIZARD_POSITION_LAST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00519">sorcery.h:519</a></div></div>
<div class="ttc" id="sorcery_8h_html_aa20c995545eb67b6a6e10e2c4bf8eb00a79a05012943f156bcbf312281423639e"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00a79a05012943f156bcbf312281423639e">AST_SORCERY_WIZARD_POSITION_FIRST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00520">sorcery.h:520</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aaa3a033633c399d854115521820bef8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa3a033633c399d854115521820bef8d">&#9670;&nbsp;</a></span>__ast_sorcery_apply_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a> __ast_sorcery_apply_config </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply configured wizard mappings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">name</td><td>Name of the category to use within the configuration file, normally the module name </td></tr>
    <tr><td class="paramname">module</td><td>The module name (AST_MODULE)</td></tr>
  </table>
  </dd>
</dl>
<p>This function is called automatically by <a class="el" href="../../d8/d25/sorcery_8h.html#aee938abe545080ab65069b6eabb19096" title="Open a new sorcery structure. ">__ast_sorcery_open()</a> using the module name as the configuration category. The only reason you should call this function is if your module wishes to apply configuration from additional sections of sorcery.conf.</p>
<p>If a configuration section attempts to apply the same sorcery wizard to an object type more than once, the wizard will only be applied one time.</p>
<dl class="section return"><dt>Returns</dt><dd>What happened when attempting to apply the config. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00985">985</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00977">__ast_sorcery_apply_wizard_mapping()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03154">ast_config_load2()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00426">AST_SORCERY_APPLY_FAIL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00434">AST_SORCERY_APPLY_NO_CONFIGURATION</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00428">AST_SORCERY_APPLY_SUCCESS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00601">__ast_sorcery_open()</a>.</p>
<div class="fragment"><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;{</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> <a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = { 0 };</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a> = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a>(<span class="stringliteral">&quot;sorcery.conf&quot;</span>, <span class="stringliteral">&quot;sorcery&quot;</span>, flags);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *mapping;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be">AST_SORCERY_APPLY_SUCCESS</a>;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   <span class="keywordflow">if</span> (!config) {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea76bcb6e33cf6c9f92a2ffa575f065f0c">AST_SORCERY_APPLY_NO_CONFIGURATION</a>;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   }</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <span class="keywordflow">if</span> (config == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a>;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;   <span class="keywordflow">for</span> (mapping = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(config, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>); mapping; mapping = mapping-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keywordtype">char</span> *, mapping_name, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(mapping-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keywordtype">char</span> *, mapping_value, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(mapping-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>), <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a> = mapping_name;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;options, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <span class="keywordtype">char</span> *data = mapping_value;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <span class="keywordtype">char</span> *wizard = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;data, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> caching = 0;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="comment">/* If no object type or wizard exists just skip, nothing we can do */</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(type) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(wizard)) {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="comment">/* If the wizard is configured as a cache treat it as such */</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(options) &amp;&amp; strstr(options, <span class="stringliteral">&quot;cache&quot;</span>)) {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;         caching = 1;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <span class="comment">/* Any error immediately causes us to stop */</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d69/sorcery_8c.html#a153bee8c3bc26c27617f19a24adf0062">__ast_sorcery_apply_wizard_mapping</a>(sorcery, type, module, wizard, data, caching) == <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a>) {</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;         res = <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a>;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(config);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea76bcb6e33cf6c9f92a2ffa575f065f0c"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea76bcb6e33cf6c9f92a2ffa575f065f0c">AST_SORCERY_APPLY_NO_CONFIGURATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00434">sorcery.h:434</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="structast__flags_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">ast_flags::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00200">utils.h:200</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aab3eac8fa82a86a93c074deb7b77dbc9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a></div><div class="ttdeci">struct ast_config * ast_config_load2(const char *filename, const char *who_asked, struct ast_flags flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03154">main/config.c:3154</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="sorcery_8c_html_a153bee8c3bc26c27617f19a24adf0062"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a153bee8c3bc26c27617f19a24adf0062">__ast_sorcery_apply_wizard_mapping</a></div><div class="ttdeci">enum ast_sorcery_apply_result __ast_sorcery_apply_wizard_mapping(struct ast_sorcery *sorcery, const char *object_type_name, const char *module, const char *wizard_type_name, const char *wizard_args, unsigned int caching)</div><div class="ttdoc">Internal function which creates an object type and adds a wizard mapping. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00977">sorcery.c:977</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00426">sorcery.h:426</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be">AST_SORCERY_APPLY_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00428">sorcery.h:428</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a296fbc5abf97b705abc6dbc6934d6892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296fbc5abf97b705abc6dbc6934d6892">&#9670;&nbsp;</a></span>__ast_sorcery_apply_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a> __ast_sorcery_apply_default </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply default object wizard mappings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to apply to </td></tr>
    <tr><td class="paramname">module</td><td>The name of the module, typically AST_MODULE </td></tr>
    <tr><td class="paramname">name</td><td>Name of the wizard to use </td></tr>
    <tr><td class="paramname">data</td><td>Data to be passed to wizard</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>What occurred when applying the default</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This should be called <em>after</em> applying configuration sourced mappings</dd>
<dd>
Only a single default can exist per object type </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01031">1031</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00977">__ast_sorcery_apply_wizard_mapping()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00432">AST_SORCERY_APPLY_DEFAULT_UNNECESSARY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>
<div class="fragment"><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;{</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   <span class="comment">/* Defaults can not be added if any existing mapping exists */</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;   <span class="keywordflow">if</span> (object_type) {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeeab1e2f97db7f00e633f6f6d7be2cce374">AST_SORCERY_APPLY_DEFAULT_UNNECESSARY</a>;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;   }</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/sorcery_8c.html#a153bee8c3bc26c27617f19a24adf0062">__ast_sorcery_apply_wizard_mapping</a>(sorcery, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, module, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, data, 0);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="sorcery_8c_html_a153bee8c3bc26c27617f19a24adf0062"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a153bee8c3bc26c27617f19a24adf0062">__ast_sorcery_apply_wizard_mapping</a></div><div class="ttdeci">enum ast_sorcery_apply_result __ast_sorcery_apply_wizard_mapping(struct ast_sorcery *sorcery, const char *object_type_name, const char *module, const char *wizard_type_name, const char *wizard_args, unsigned int caching)</div><div class="ttdoc">Internal function which creates an object type and adds a wizard mapping. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00977">sorcery.c:977</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeeab1e2f97db7f00e633f6f6d7be2cce374"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeeab1e2f97db7f00e633f6f6d7be2cce374">AST_SORCERY_APPLY_DEFAULT_UNNECESSARY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00432">sorcery.h:432</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acbcd97222581dd26fc7730bb56416eec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbcd97222581dd26fc7730bb56416eec">&#9670;&nbsp;</a></span>__ast_sorcery_apply_wizard_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a> __ast_sorcery_apply_wizard_mapping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>object_type_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>wizard_type_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>wizard_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>caching</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply additional object wizard mappings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to apply to </td></tr>
    <tr><td class="paramname">module</td><td>The name of the module, typically AST_MODULE </td></tr>
    <tr><td class="paramname">name</td><td>Name of the wizard to use </td></tr>
    <tr><td class="paramname">data</td><td>Data to be passed to wizard </td></tr>
    <tr><td class="paramname">caching</td><td>Wizard should cache</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>What occurred when applying the mapping</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This should be called <em>after</em> applying default mappings</dd></dl>
<p>Apply additional object wizard mappings. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00977">977</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00967">__ast_sorcery_insert_wizard_mapping()</a>, and <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00519">AST_SORCERY_WIZARD_POSITION_LAST</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00985">__ast_sorcery_apply_config()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01031">__ast_sorcery_apply_default()</a>.</p>
<div class="fragment"><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;{</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/sorcery_8c.html#ad7385f36fb6d243ad1b7663670450ed2">__ast_sorcery_insert_wizard_mapping</a>(sorcery, object_type_name, module, wizard_type_name,</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      wizard_args, caching, <a class="code" href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac">AST_SORCERY_WIZARD_POSITION_LAST</a>);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac">AST_SORCERY_WIZARD_POSITION_LAST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00519">sorcery.h:519</a></div></div>
<div class="ttc" id="sorcery_8c_html_ad7385f36fb6d243ad1b7663670450ed2"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ad7385f36fb6d243ad1b7663670450ed2">__ast_sorcery_insert_wizard_mapping</a></div><div class="ttdeci">enum ast_sorcery_apply_result __ast_sorcery_insert_wizard_mapping(struct ast_sorcery *sorcery, const char *object_type_name, const char *module, const char *wizard_type_name, const char *wizard_args, unsigned int caching, int position)</div><div class="ttdoc">Internal function which creates an object type and inserts a wizard mapping. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00967">sorcery.c:967</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6da7aa39e4f4df92b32f7762583425d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da7aa39e4f4df92b32f7762583425d1">&#9670;&nbsp;</a></span>__ast_sorcery_insert_wizard_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a> __ast_sorcery_insert_wizard_mapping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>object_type_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>wizard_type_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>wizard_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>caching</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert an additional object wizard mapping at a specific position in the wizard list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to apply to </td></tr>
    <tr><td class="paramname">module</td><td>The name of the module, typically AST_MODULE </td></tr>
    <tr><td class="paramname">name</td><td>Name of the wizard to use </td></tr>
    <tr><td class="paramname">data</td><td>Data to be passed to wizard </td></tr>
    <tr><td class="paramname">caching</td><td>Wizard should cache </td></tr>
    <tr><td class="paramname">position</td><td>An index to insert to or one of ast_sorcery_wizard_position</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>What occurred when applying the mapping</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This should be called <em>after</em> applying default mappings </dd>
<dd>
Wizards can be retrieved by using ast_sorcery_get_wizard_mapping_count and iterating over them using ast_sorcery_get_wizard_mapping.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.4.0</dd></dl>
<p>Insert an additional object wizard mapping at a specific position in the wizard list. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00967">967</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00869">__ast_sorcery_object_type_insert_wizard()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00580">AST_SORCERY_WIZARD_APPLY_CACHING</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00578">AST_SORCERY_WIZARD_APPLY_NONE</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00977">__ast_sorcery_apply_wizard_mapping()</a>.</p>
<div class="fragment"><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;{</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/sorcery_8c.html#af5fccf1e6ec09f51ad704e9f0931f60a">__ast_sorcery_object_type_insert_wizard</a>(sorcery, object_type_name, module, wizard_type_name,</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      wizard_args, caching ? <a class="code" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c">AST_SORCERY_WIZARD_APPLY_CACHING</a> : <a class="code" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0c372fe10c0765d9e2a316311bcf7e8a">AST_SORCERY_WIZARD_APPLY_NONE</a>,</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      position, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;}</div><div class="ttc" id="sorcery_8c_html_af5fccf1e6ec09f51ad704e9f0931f60a"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#af5fccf1e6ec09f51ad704e9f0931f60a">__ast_sorcery_object_type_insert_wizard</a></div><div class="ttdeci">enum ast_sorcery_apply_result __ast_sorcery_object_type_insert_wizard(struct ast_sorcery *sorcery, const char *object_type_name, const char *module, const char *wizard_type_name, const char *wizard_args, enum ast_sorcery_wizard_apply_flags flags, int position, struct ast_sorcery_wizard **wizard, void **wizard_data)</div><div class="ttdoc">Insert an additional object wizard mapping at a specific position in the wizard list returning wizard...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00869">sorcery.c:869</a></div></div>
<div class="ttc" id="sorcery_8h_html_af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c">AST_SORCERY_WIZARD_APPLY_CACHING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00580">sorcery.h:580</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="sorcery_8h_html_af08169767aa3845619c49031b454cb82a0c372fe10c0765d9e2a316311bcf7e8a"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0c372fe10c0765d9e2a316311bcf7e8a">AST_SORCERY_WIZARD_APPLY_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00578">sorcery.h:578</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b5b49d9868394fd6adeff0eaba48db5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b5b49d9868394fd6adeff0eaba48db5">&#9670;&nbsp;</a></span>__ast_sorcery_object_field_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_sorcery_object_field_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>default_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144">aco_option_type</a>&#160;</td>
          <td class="paramname"><em>opt_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dfe/config__options_8h.html#a125d968d49c3de5aa2cad7d723682ee0">aco_option_handler</a>&#160;</td>
          <td class="paramname"><em>config_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d25/sorcery_8h.html#ac7547e49fe89a712a6f74f6b74265b62">sorcery_field_handler</a>&#160;</td>
          <td class="paramname"><em>sorcery_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d25/sorcery_8h.html#a47b87d91c7d50f1d1f2e833783833973">sorcery_fields_handler</a>&#160;</td>
          <td class="paramname"><em>multiple_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>no_doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>alias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a field within an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the field </td></tr>
    <tr><td class="paramname">default_val</td><td>Default value of the field </td></tr>
    <tr><td class="paramname">config_handler</td><td>A custom handler for translating the string representation of the fields </td></tr>
    <tr><td class="paramname">sorcery_handler</td><td>A custom handler for translating the native representation of the fields </td></tr>
    <tr><td class="paramname">multiple_handler</td><td>A custom handler for translating the native representation of the fields </td></tr>
    <tr><td class="paramname">opt_type</td><td>Option type </td></tr>
    <tr><td class="paramname">flags</td><td>Option type specific flags </td></tr>
    <tr><td class="paramname">no_doc</td><td>Field should not be documented </td></tr>
    <tr><td class="paramname">alias</td><td>Interpret and apply field value only</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01192">1192</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00300">__aco_option_register()</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00064">ACO_EXACT</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00216">ast_sorcery_object_field::multiple_handler</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00341">sorcery_field_default_handler()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>
<div class="fragment"><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;{</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a> *, object_field, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   <span class="keywordtype">int</span> pos;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;   va_list <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;   <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;id&quot;</span>) || !object_type || !object_type-&gt;type.item_alloc) {</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;   <span class="keywordflow">if</span> (!sorcery_handler) {</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      sorcery_handler = <a class="code" href="../../d7/d69/sorcery_8c.html#acebf3a67f06d76f9d08ca59182e22327">sorcery_field_default_handler</a>(opt_type);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   }</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   <span class="keywordflow">if</span> (!(object_field = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*object_field) + argc * <span class="keyword">sizeof</span>(object_field-&gt;args[0]), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   }</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(object_field-&gt;name, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="keyword">sizeof</span>(object_field-&gt;name));</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   object_field-&gt;handler = sorcery_handler;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;   object_field-&gt;multiple_handler = multiple_handler;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;   va_start(args, argc);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;   <span class="keywordflow">for</span> (pos = 0; pos &lt; argc; pos++) {</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      object_field-&gt;args[pos] = va_arg(args, <span class="keywordtype">size_t</span>);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   }</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   va_end(args);</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   <span class="keywordflow">if</span> (!alias) {</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(object_type-&gt;fields, object_field);</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;   }</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;   <span class="comment">/* TODO: Improve this hack */</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;   <span class="keywordflow">if</span> (!argc) {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#aea040de44c8cae1a54114e9c7143698e">__aco_option_register</a>(object_type-&gt;info, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, object_type-&gt;file-&gt;types, default_val, opt_type, <a class="code" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, flags, no_doc, argc);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argc == 1) {</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#aea040de44c8cae1a54114e9c7143698e">__aco_option_register</a>(object_type-&gt;info, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, object_type-&gt;file-&gt;types, default_val, opt_type, <a class="code" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, flags, no_doc, argc,</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;         object_field-&gt;args[0]);</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argc == 2) {</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#aea040de44c8cae1a54114e9c7143698e">__aco_option_register</a>(object_type-&gt;info, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, object_type-&gt;file-&gt;types, default_val, opt_type, <a class="code" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, flags, no_doc, argc,</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;         object_field-&gt;args[0], object_field-&gt;args[1]);</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argc == 3) {</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#aea040de44c8cae1a54114e9c7143698e">__aco_option_register</a>(object_type-&gt;info, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, object_type-&gt;file-&gt;types, default_val, opt_type, <a class="code" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, flags, no_doc, argc,</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;         object_field-&gt;args[0], object_field-&gt;args[1], object_field-&gt;args[2]);</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0); <span class="comment">/* The hack... she does us no good for this */</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="config__options_8h_html_a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00064">config_options.h:64</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__object__field_html"><div class="ttname"><a href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a></div><div class="ttdoc">Structure for registered object field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00205">sorcery.c:205</a></div></div>
<div class="ttc" id="config__options_8h_html_aea040de44c8cae1a54114e9c7143698e"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#aea040de44c8cae1a54114e9c7143698e">__aco_option_register</a></div><div class="ttdeci">int __aco_option_register(struct aco_info *info, const char *name, enum aco_matchtype match_type, struct aco_type **types, const char *default_val, enum aco_option_type type, aco_option_handler handler, unsigned int flags, unsigned int no_doc, size_t argc,...)</div><div class="ttdoc">register a config option </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00300">config_options.c:300</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="sorcery_8c_html_acebf3a67f06d76f9d08ca59182e22327"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#acebf3a67f06d76f9d08ca59182e22327">sorcery_field_default_handler</a></div><div class="ttdeci">static sorcery_field_handler sorcery_field_default_handler(enum aco_option_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00341">sorcery.c:341</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res__config__sqlite_8c_html_a7c363143661597b8480ef856c1acad80"><div class="ttname"><a href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a></div><div class="ttdeci">static struct ast_config * config_handler(const char *database, const char *table, const char *file, struct ast_config *cfg, struct ast_flags flags, const char *suggested_incl, const char *who_asked)</div><div class="ttdoc">Asterisk callback function for static configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00905">res_config_sqlite.c:905</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9cb66752e5efd565113d7211e6cb0e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cb66752e5efd565113d7211e6cb0e29">&#9670;&nbsp;</a></span>__ast_sorcery_object_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_sorcery_object_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>hidden</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>reloadable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dfe/config__options_8h.html#adce7161593da241818ad17584e947a85">aco_type_item_alloc</a>&#160;</td>
          <td class="paramname"><em>alloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d25/sorcery_8h.html#a021d0564106e440f4c2c06b68908960f">sorcery_transform_handler</a>&#160;</td>
          <td class="paramname"><em>transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d25/sorcery_8h.html#a7724e3ad4b5f813b782a68ad7603f51e">sorcery_apply_handler</a>&#160;</td>
          <td class="paramname"><em>apply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">hidden</td><td>All objects of this type are internal and should not be manipulated by users </td></tr>
    <tr><td class="paramname">reloadable</td><td>All objects of this type are reloadable </td></tr>
    <tr><td class="paramname">alloc</td><td>Required object allocation callback </td></tr>
    <tr><td class="paramname">transform</td><td>Optional transformation callback </td></tr>
    <tr><td class="paramname">apply</td><td>Optional object set apply callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In general, this function should not be used directly. One of the various macro'd versions should be used instead.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01080">1080</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00877">aco_info_init()</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00042">ACO_ITEM</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00156">ast_sorcery_object_type::apply</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01160">ast_sorcery_object_fields_register()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00238">ast_sorcery::module_name</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00079">NOTIFY_INSTANCE_OBSERVERS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00235">ast_sorcery::observers</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00186">ast_sorcery_object_type::reloadable</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01043">sorcery_extended_config_handler()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01048">sorcery_extended_fields_handler()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00153">ast_sorcery_object_type::transform</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>
<div class="fragment"><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;{</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;   <span class="keywordflow">if</span> (!object_type || object_type-&gt;type.item_alloc) {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;   }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   object_type-&gt;type.name = object_type-&gt;name;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   object_type-&gt;type.type = <a class="code" href="../../db/dfe/config__options_8h.html#a840871f014617f5415dacb9a7d32a59ba423543a2da4422bd5c7664a0b8ca84d8">ACO_ITEM</a>;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;   object_type-&gt;type.category = <span class="stringliteral">&quot;.?&quot;</span>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   object_type-&gt;type.item_alloc = alloc;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;   object_type-&gt;type.hidden = hidden;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   object_type-&gt;reloadable = reloadable;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   object_type-&gt;transform = <a class="code" href="../../dc/dfe/namespacetransform.html">transform</a>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   object_type-&gt;apply = apply;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;   object_type-&gt;file-&gt;types[0] = &amp;object_type-&gt;type;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   object_type-&gt;file-&gt;types[1] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/dfe/config__options_8h.html#a3f40a7cffea07c21a21faaee64d24398">aco_info_init</a>(object_type-&gt;info)) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;   }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d69/sorcery_8c.html#a1f0ff2b69990cd594471a830dea51f6c">ast_sorcery_object_fields_register</a>(sorcery, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;^@&quot;</span>, <a class="code" href="../../d7/d69/sorcery_8c.html#ab9bb945ecec44d93b8bcd7675ca53a60">sorcery_extended_config_handler</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#a98687af297d0db2a791082217b74ff90">sorcery_extended_fields_handler</a>)) {</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   }</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, object_type_registered,</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, sorcery, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="config__options_8h_html_a840871f014617f5415dacb9a7d32a59ba423543a2da4422bd5c7664a0b8ca84d8"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a840871f014617f5415dacb9a7d32a59ba423543a2da4422bd5c7664a0b8ca84d8">ACO_ITEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00042">config_options.h:42</a></div></div>
<div class="ttc" id="sorcery_8c_html_a98687af297d0db2a791082217b74ff90"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a98687af297d0db2a791082217b74ff90">sorcery_extended_fields_handler</a></div><div class="ttdeci">static int sorcery_extended_fields_handler(const void *obj, struct ast_variable **fields)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01048">sorcery.c:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="sorcery_8c_html_ab9bb945ecec44d93b8bcd7675ca53a60"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ab9bb945ecec44d93b8bcd7675ca53a60">sorcery_extended_config_handler</a></div><div class="ttdeci">static int sorcery_extended_config_handler(const struct aco_option *opt, struct ast_variable *var, void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01043">sorcery.c:1043</a></div></div>
<div class="ttc" id="structast__sorcery_html_a67afd8cf4e033925cc6fb22f17b5ca01"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">ast_sorcery::module_name</a></div><div class="ttdeci">char * module_name</div><div class="ttdoc">Pointer to module_name in the associated sorcery_proxy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00238">sorcery.c:238</a></div></div>
<div class="ttc" id="structast__sorcery_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">ast_sorcery::observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00235">sorcery.c:235</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="config__options_8h_html_a3f40a7cffea07c21a21faaee64d24398"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a3f40a7cffea07c21a21faaee64d24398">aco_info_init</a></div><div class="ttdeci">int aco_info_init(struct aco_info *info)</div><div class="ttdoc">Initialize an aco_info structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00877">config_options.c:877</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="namespacetransform_html"><div class="ttname"><a href="../../dc/dfe/namespacetransform.html">transform</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/transform_8py_source.html#l00001">transform.py:1</a></div></div>
<div class="ttc" id="sorcery_8c_html_a1f0ff2b69990cd594471a830dea51f6c"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a1f0ff2b69990cd594471a830dea51f6c">ast_sorcery_object_fields_register</a></div><div class="ttdeci">int ast_sorcery_object_fields_register(struct ast_sorcery *sorcery, const char *type, const char *regex, aco_option_handler config_handler, sorcery_fields_handler sorcery_handler)</div><div class="ttdoc">Register a regex for multiple fields within an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01160">sorcery.c:1160</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="sorcery_8c_html_a9f8c36ae2566ea7e6556b4be48f8f6be"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a></div><div class="ttdeci">#define NOTIFY_INSTANCE_OBSERVERS(container, callback,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00079">sorcery.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af5fccf1e6ec09f51ad704e9f0931f60a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5fccf1e6ec09f51ad704e9f0931f60a">&#9670;&nbsp;</a></span>__ast_sorcery_object_type_insert_wizard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eee">ast_sorcery_apply_result</a> __ast_sorcery_object_type_insert_wizard </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>object_type_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>wizard_type_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>wizard_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82">ast_sorcery_wizard_apply_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> **&#160;</td>
          <td class="paramname"><em>wizard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>wizard_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert an additional object wizard mapping at a specific position in the wizard list returning wizard information. </p>
<dl class="section since"><dt>Since</dt><dd>13.26.0 </dd>
<dd>
16.3.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">object_type_name</td><td>Name of the object type to apply to </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">module</td><td>The name of the module, typically AST_MODULE </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">wizard_type_name</td><td>Name of the wizard type to use </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">wizard_args</td><td>Opaque string to be passed to the wizard May be NULL but see note below </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">flags</td><td>One or more of enum ast_sorcery_wizard_apply_flags </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">position</td><td>An index to insert to or one of ast_sorcery_wizard_position </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">wizard</td><td>A variable to receive a pointer to the <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html" title="Interface for a sorcery wizard. ">ast_sorcery_wizard</a> structure. May be NULL if not needed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">wizard_data</td><td>A variable to receive a pointer to the wizard's internal data. May be NULL if not needed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>What occurred when applying the mapping</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This should be called <em>after</em> applying default mappings</dd>
<dd>
Although wizard_args is an optional parameter it is highly recommended to supply one. If you use the AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE flag, and you intend to ever remove a wizard mapping, you'll need wizard_args to remove specific instances of a wizard type. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00869">869</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00117">ast_sorcery_object_wizard::allow_duplicates</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00455">ast_module_running_ref</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00469">ast_module_unref</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00430">AST_SORCERY_APPLY_DUPLICATE</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00426">AST_SORCERY_APPLY_FAIL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00428">AST_SORCERY_APPLY_SUCCESS</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00584">AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00580">AST_SORCERY_WIZARD_APPLY_CACHING</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00582">AST_SORCERY_WIZARD_APPLY_READONLY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00519">AST_SORCERY_WIZARD_POSITION_LAST</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00733">AST_VECTOR_GET_CMP</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00338">AST_VECTOR_INSERT_AT</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00890">AST_VECTOR_RW_WRLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00238">ast_sorcery::module_name</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00079">NOTIFY_INSTANCE_OBSERVERS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00235">ast_sorcery::observers</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00700">sorcery_object_type_alloc()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00762">sorcery_object_wizard_destructor()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c.html#a762352b3d9796a76b183bc949484b5c2">WIZARD_COMPARE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00967">__ast_sorcery_insert_wizard_mapping()</a>.</p>
<div class="fragment"><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;{</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, object_type_name, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a> *, internal_wizard, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>, wizard_type_name, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *, object_wizard, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <span class="keywordtype">int</span> created = 0;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   object_wizard = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*object_wizard)</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      + (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(wizard_args) ? 0 : strlen(wizard_args) + 1),</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <a class="code" href="../../d7/d69/sorcery_8c.html#af5f85c8f36c5e82af1c3a10bdac292ba">sorcery_object_wizard_destructor</a>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <span class="keywordflow">if</span> (!object_wizard) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a>;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <span class="keywordflow">if</span> (!internal_wizard</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      || internal_wizard-&gt;callbacks.module != <a class="code" href="../../d5/d16/module_8h.html#ad2dd3dce05926913c40b883cc7cff0a8">ast_module_running_ref</a>(internal_wizard-&gt;callbacks.module)) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;         <span class="stringliteral">&quot;Wizard &#39;%s&#39; could not be applied to object type &#39;%s&#39; as it was not found\n&quot;</span>,</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;         wizard_type_name, object_type_name);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a>;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">if</span> (!(object_type = <a class="code" href="../../d7/d69/sorcery_8c.html#a2389be3e9ecb3e2e0abe890ced02ef5a">sorcery_object_type_alloc</a>(object_type_name, module))) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;         <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(internal_wizard-&gt;callbacks.module);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      created = 1;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a468985d2b5ca7410d91108bdd0484348">AST_VECTOR_RW_WRLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;   <span class="keywordflow">if</span> (!created) {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *found;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="preprocessor">#define WIZARD_COMPARE(a, b) ((a)-&gt;wizard == (b))</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      found = <a class="code" href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a>(&amp;object_type-&gt;wizards, internal_wizard, <a class="code" href="../../d7/d69/sorcery_8c.html#a762352b3d9796a76b183bc949484b5c2">WIZARD_COMPARE</a>);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="preprocessor">#undef WIZARD_COMPARE</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keywordflow">if</span> (found</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;         &amp;&amp; !((flags &amp; <a class="code" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0e2fa14e157b1cfe19eb07725d61f7e2">AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE</a>) || found-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a8a133a1b53dc7e7832a725fa234cc63c">allow_duplicates</a>)) {</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Wizard %s already applied to object type %s\n&quot;</span>,</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            internal_wizard-&gt;callbacks.name, object_type-&gt;name);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;         <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(internal_wizard-&gt;callbacks.module);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea953d83e2cf90f74027c91724e9edf711">AST_SORCERY_APPLY_DUPLICATE</a>;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   }</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;Calling wizard %s open callback on object type %s\n&quot;</span>,</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      wizard_type_name, object_type-&gt;name);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <span class="keywordflow">if</span> (internal_wizard-&gt;callbacks.open &amp;&amp; !(object_wizard-&gt;data = internal_wizard-&gt;callbacks.open(<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a92ee29743470936978401713ed252d08">wizard_args</a>))) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Wizard &#39;%s&#39; failed to open mapping for object type &#39;%s&#39; with data: %s\n&quot;</span>,</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;         wizard_type_name, object_type-&gt;name, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a92ee29743470936978401713ed252d08">wizard_args</a>, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(internal_wizard-&gt;callbacks.module);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   object_wizard-&gt;wizard = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(internal_wizard);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   object_wizard-&gt;caching = !!(flags &amp; <a class="code" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c">AST_SORCERY_WIZARD_APPLY_CACHING</a>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   object_wizard-&gt;read_only = !!(flags &amp; <a class="code" href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a84266e67d8fbd2a304d0532c9cfa718f">AST_SORCERY_WIZARD_APPLY_READONLY</a>);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a92ee29743470936978401713ed252d08">wizard_args</a>) {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      strcpy(object_wizard-&gt;wizard_args, <a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a92ee29743470936978401713ed252d08">wizard_args</a>); <span class="comment">/* Safe */</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   }</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   <span class="keywordflow">if</span> (position == <a class="code" href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac">AST_SORCERY_WIZARD_POSITION_LAST</a>) {</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      position = <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#a341e85fccd22eb03cc2b0dd47188f821">AST_VECTOR_INSERT_AT</a>(&amp;object_type-&gt;wizards, position, object_wizard) != 0) {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a>;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(object_wizard);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <span class="keywordflow">if</span> (created) {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, object_type);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, wizard_mapped,</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, sorcery, object_type_name, &amp;internal_wizard-&gt;callbacks, <a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a92ee29743470936978401713ed252d08">wizard_args</a>,</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      object_wizard-&gt;data);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <span class="keywordflow">if</span> (wizard) {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      *wizard = &amp;internal_wizard-&gt;callbacks;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   <span class="keywordflow">if</span> (wizard_data) {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      *wizard_data = object_wizard-&gt;data;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be">AST_SORCERY_APPLY_SUCCESS</a>;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div><div class="ttc" id="structast__sorcery__object__wizard_html_a92ee29743470936978401713ed252d08"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a92ee29743470936978401713ed252d08">ast_sorcery_object_wizard::wizard_args</a></div><div class="ttdeci">char wizard_args[0]</div><div class="ttdoc">Wizard arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00120">sorcery.c:120</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a8a133a1b53dc7e7832a725fa234cc63c"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a8a133a1b53dc7e7832a725fa234cc63c">ast_sorcery_object_wizard::allow_duplicates</a></div><div class="ttdeci">unsigned int allow_duplicates</div><div class="ttdoc">Wizard allows others of the same type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00117">sorcery.c:117</a></div></div>
<div class="ttc" id="sorcery_8h_html_af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82ad33a1ef423aa44293a71d756ed32b95c">AST_SORCERY_WIZARD_APPLY_CACHING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00580">sorcery.h:580</a></div></div>
<div class="ttc" id="sorcery_8h_html_aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aa20c995545eb67b6a6e10e2c4bf8eb00aa54d4e9d47394b21417b9c98360cf4ac">AST_SORCERY_WIZARD_POSITION_LAST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00519">sorcery.h:519</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__sorcery_html_a67afd8cf4e033925cc6fb22f17b5ca01"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">ast_sorcery::module_name</a></div><div class="ttdeci">char * module_name</div><div class="ttdoc">Pointer to module_name in the associated sorcery_proxy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00238">sorcery.c:238</a></div></div>
<div class="ttc" id="structast__sorcery_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">ast_sorcery::observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00235">sorcery.c:235</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="module_8h_html_a15896c26e51e8162df5eb9a0124c841f"><div class="ttname"><a href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a></div><div class="ttdeci">#define ast_module_unref(mod)</div><div class="ttdoc">Release a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00469">module.h:469</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a></div><div class="ttdoc">Structure for an internal wizard instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00089">sorcery.c:89</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00426">sorcery.h:426</a></div></div>
<div class="ttc" id="sorcery_8h_html_af08169767aa3845619c49031b454cb82a0e2fa14e157b1cfe19eb07725d61f7e2"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a0e2fa14e157b1cfe19eb07725d61f7e2">AST_SORCERY_WIZARD_APPLY_ALLOW_DUPLICATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00584">sorcery.h:584</a></div></div>
<div class="ttc" id="sorcery_8c_html_a762352b3d9796a76b183bc949484b5c2"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a762352b3d9796a76b183bc949484b5c2">WIZARD_COMPARE</a></div><div class="ttdeci">#define WIZARD_COMPARE(a, b)</div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea953d83e2cf90f74027c91724e9edf711"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea953d83e2cf90f74027c91724e9edf711">AST_SORCERY_APPLY_DUPLICATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00430">sorcery.h:430</a></div></div>
<div class="ttc" id="vector_8h_html_a468985d2b5ca7410d91108bdd0484348"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a468985d2b5ca7410d91108bdd0484348">AST_VECTOR_RW_WRLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_WRLOCK(vec)</div><div class="ttdoc">Obtain write lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00890">vector.h:890</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa929f01f3d7d264cf787e15866b37db3"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a></div><div class="ttdeci">static struct ao2_container * wizards</div><div class="ttdoc">Registered sorcery wizards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00257">sorcery.c:257</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="vector_8h_html_a7851644ae05acad1ab8b970ccfb172ba"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a></div><div class="ttdeci">#define AST_VECTOR_GET_CMP(vec, value, cmp)</div><div class="ttdoc">Get an element from a vector that matches the given comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00733">vector.h:733</a></div></div>
<div class="ttc" id="module_8h_html_ad2dd3dce05926913c40b883cc7cff0a8"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2dd3dce05926913c40b883cc7cff0a8">ast_module_running_ref</a></div><div class="ttdeci">#define ast_module_running_ref(mod)</div><div class="ttdoc">Hold a reference to the module if it is running. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00455">module.h:455</a></div></div>
<div class="ttc" id="sorcery_8c_html_af5f85c8f36c5e82af1c3a10bdac292ba"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#af5f85c8f36c5e82af1c3a10bdac292ba">sorcery_object_wizard_destructor</a></div><div class="ttdeci">static void sorcery_object_wizard_destructor(void *obj)</div><div class="ttdoc">Object wizard destructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00762">sorcery.c:762</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea2f5cefe801ae693345fd663ad71351be">AST_SORCERY_APPLY_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00428">sorcery.h:428</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="vector_8h_html_a341e85fccd22eb03cc2b0dd47188f821"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a341e85fccd22eb03cc2b0dd47188f821">AST_VECTOR_INSERT_AT</a></div><div class="ttdeci">#define AST_VECTOR_INSERT_AT(vec, idx, elem)</div><div class="ttdoc">Insert an element at a specific position in a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00338">vector.h:338</a></div></div>
<div class="ttc" id="sorcery_8h_html_af08169767aa3845619c49031b454cb82a84266e67d8fbd2a304d0532c9cfa718f"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af08169767aa3845619c49031b454cb82a84266e67d8fbd2a304d0532c9cfa718f">AST_SORCERY_WIZARD_APPLY_READONLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00582">sorcery.h:582</a></div></div>
<div class="ttc" id="sorcery_8c_html_a2389be3e9ecb3e2e0abe890ced02ef5a"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a2389be3e9ecb3e2e0abe890ced02ef5a">sorcery_object_type_alloc</a></div><div class="ttdeci">static struct ast_sorcery_object_type * sorcery_object_type_alloc(const char *type, const char *module)</div><div class="ttdoc">Internal function which allocates an object type structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00700">sorcery.c:700</a></div></div>
<div class="ttc" id="sorcery_8c_html_a9f8c36ae2566ea7e6556b4be48f8f6be"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a></div><div class="ttdeci">#define NOTIFY_INSTANCE_OBSERVERS(container, callback,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00079">sorcery.c:79</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace8f055e27688822a6aa7a0ba68ce2ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace8f055e27688822a6aa7a0ba68ce2ed">&#9670;&nbsp;</a></span>__ast_sorcery_object_type_remove_wizard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_sorcery_object_type_remove_wizard </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>object_type_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>wizard_type_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>wizard_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an object wizard mapping. </p>
<dl class="section since"><dt>Since</dt><dd>13.26.0 </dd>
<dd>
16.3.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object_type_name</td><td>Name of the object type to remove from </td></tr>
    <tr><td class="paramname">module</td><td>The name of the module, typically AST_MODULE </td></tr>
    <tr><td class="paramname">wizard_type_name</td><td>The name of the of the wizard type to remove </td></tr>
    <tr><td class="paramname">wizard_args</td><td>Opaque string originally passed to the wizard</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If there were multiple instances of the same wizard type added to this object type without using wizard_args, then only the first wizard matching wizard_type will be removed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00820">820</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00448">AST_VECTOR_REMOVE_ORDERED</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00890">AST_VECTOR_RW_WRLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00278">ast_sorcery_wizard::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00105">ast_sorcery_object_wizard::wizard</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00120">ast_sorcery_object_wizard::wizard_args</a>.</p>
<div class="fragment"><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;{</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type,</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, object_type_name, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a468985d2b5ca7410d91108bdd0484348">AST_VECTOR_RW_WRLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a> = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="keywordflow">if</span> (strcmp(wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, wizard_type_name) == 0</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;         &amp;&amp; strcmp(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a92ee29743470936978401713ed252d08">wizard_args</a>, <span class="stringliteral">&quot;&quot;</span>), <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a92ee29743470936978401713ed252d08">wizard_args</a>, <span class="stringliteral">&quot;&quot;</span>)) == 0) {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(<a class="code" href="../../d6/d68/vector_8h.html#a0414ce2ed1741b1e048ccafc0df420c3">AST_VECTOR_REMOVE_ORDERED</a>(&amp;object_type-&gt;wizards, i));</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;         res = 0;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   }</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}</div><div class="ttc" id="structast__sorcery__object__wizard_html_a92ee29743470936978401713ed252d08"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a92ee29743470936978401713ed252d08">ast_sorcery_object_wizard::wizard_args</a></div><div class="ttdeci">char wizard_args[0]</div><div class="ttdoc">Wizard arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00120">sorcery.c:120</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">ast_sorcery_wizard::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Name of the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00278">sorcery.h:278</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ac16bd62b448ac0441af4a4e248f045fa"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">ast_sorcery_internal_wizard::callbacks</a></div><div class="ttdeci">struct ast_sorcery_wizard callbacks</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00096">sorcery.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a71f67ffd7e19fbcc54ef3b2844f30147"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">ast_sorcery_object_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_internal_wizard * wizard</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00105">sorcery.c:105</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="vector_8h_html_a0414ce2ed1741b1e048ccafc0df420c3"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a0414ce2ed1741b1e048ccafc0df420c3">AST_VECTOR_REMOVE_ORDERED</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE_ORDERED(vec, idx)</div><div class="ttdoc">Remove an element from a vector by index while maintaining order. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00448">vector.h:448</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="vector_8h_html_a468985d2b5ca7410d91108bdd0484348"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a468985d2b5ca7410d91108bdd0484348">AST_VECTOR_RW_WRLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_WRLOCK(vec)</div><div class="ttdoc">Obtain write lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00890">vector.h:890</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee938abe545080ab65069b6eabb19096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee938abe545080ab65069b6eabb19096">&#9670;&nbsp;</a></span>__ast_sorcery_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a>* __ast_sorcery_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a new sorcery structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">module</td><td>The module name (AST_MODULE)</td></tr>
  </table>
  </dd>
</dl>
<p>When called, this will automatically also call <a class="el" href="../../d8/d25/sorcery_8h.html#aaa3a033633c399d854115521820bef8d" title="Apply configured wizard mappings. ">__ast_sorcery_apply_config()</a> with the module name as the configuration section.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>if allocation failed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00601">601</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00765">__ao2_alloc()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00440">__ao2_weakproxy_find()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00985">__ast_sorcery_apply_config()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00367">AO2_ALLOC_OPT_LOCK_RWLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01572">ao2_link_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00557">ao2_t_weakproxy_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00586">ao2_t_weakproxy_set_object</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00931">ao2_weakproxy_subscribe()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00720">ao2_wrlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00426">AST_SORCERY_APPLY_FAIL</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00226">sorcery_proxy::module_name</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00238">ast_sorcery::module_name</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00076">NOTIFY_GLOBAL_OBSERVERS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00235">ast_sorcery::observers</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00581">sorcery_destructor()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00596">sorcery_proxy_cb()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00054">TYPE_BUCKETS</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structsorcery__proxy.html">sorcery_proxy</a> *proxy;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   sorcery = <a class="code" href="../../d5/da5/astobj2_8h.html#ad79a0846c5df92a70b282a62e6d5e708">__ao2_weakproxy_find</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a>, <a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>,</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      __PRETTY_FUNCTION__, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keywordflow">if</span> (sorcery) {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a>);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   proxy = <a class="code" href="../../d5/da5/astobj2_8h.html#a927c9a5bce40a0164c297325eea4a562">ao2_t_weakproxy_alloc</a>(<span class="keyword">sizeof</span>(*proxy) + strlen(<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>) + 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   <span class="keywordflow">if</span> (!proxy) {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordflow">goto</span> failure_cleanup;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   strcpy(proxy-&gt;<a class="code" href="../../d0/d7d/structsorcery__proxy.html#a6dcd036a44ecd3f39efe61149c56a2ac">module_name</a>, <a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>); <span class="comment">/* Safe */</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   sorcery = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc036c9ca7cf5266f1058d67b8ef541">__ao2_alloc</a>(<span class="keyword">sizeof</span>(*sorcery), <a class="code" href="../../d7/d69/sorcery_8c.html#a441ab62fb4e0e3a73c3df99e50df3961">sorcery_destructor</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <span class="keywordflow">if</span> (!sorcery) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keywordflow">goto</span> failure_cleanup;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a> = proxy-&gt;<a class="code" href="../../d0/d7d/structsorcery__proxy.html#a6dcd036a44ecd3f39efe61149c56a2ac">module_name</a>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="comment">/* We have exclusive access to proxy and sorcery, no need for locking here. */</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#afd157ff946d91f29f2ec5fa43a81b9c1">ao2_t_weakproxy_set_object</a>(proxy, sorcery, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>, <span class="stringliteral">&quot;weakproxy link&quot;</span>)) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">goto</span> failure_cleanup;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a0f7c2d3037d7c36c8c88fdb2cb65c6e1">ao2_weakproxy_subscribe</a>(proxy, <a class="code" href="../../d7/d69/sorcery_8c.html#a805f25030f4678d71d50f17cc1b4a786">sorcery_proxy_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>)) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">goto</span> failure_cleanup;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a>, 0, <a class="code" href="../../d7/d69/sorcery_8c.html#ae1113c8660d4c342ec5ed3b6a7ca8770">TYPE_BUCKETS</a>,</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      ast_sorcery_object_type_hash_fn, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ast_sorcery_object_type_cmp_fn);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   <span class="keywordflow">if</span> (!sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="keywordflow">goto</span> failure_cleanup;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <span class="keywordflow">if</span> (!(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="keywordflow">goto</span> failure_cleanup;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d69/sorcery_8c.html#aaa3a033633c399d854115521820bef8d">__ast_sorcery_apply_config</a>(sorcery, <a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, <a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>) == <a class="code" href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a>) {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error attempting to apply configuration %s to sorcery.\n&quot;</span>, <a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">goto</span> failure_cleanup;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   }</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a>, proxy, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(proxy, -1);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a3f60d4ca66dcd4b17d2db0998e6af438">NOTIFY_GLOBAL_OBSERVERS</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, instance_created, <a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, sorcery);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a>);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;failure_cleanup:</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   <span class="comment">/* cleanup of sorcery may result in locking instances, so make sure we unlock first. */</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a>);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(sorcery);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(proxy);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;}</div><div class="ttc" id="sorcery_8c_html_aaa3a033633c399d854115521820bef8d"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aaa3a033633c399d854115521820bef8d">__ast_sorcery_apply_config</a></div><div class="ttdeci">enum ast_sorcery_apply_result __ast_sorcery_apply_config(struct ast_sorcery *sorcery, const char *name, const char *module)</div><div class="ttdoc">Apply configured wizard mappings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00985">sorcery.c:985</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="sorcery_8c_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Registered global observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00281">sorcery.c:281</a></div></div>
<div class="ttc" id="sorcery_8c_html_aacba15bc05688aa4cd1e9fdde02ca0be"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a></div><div class="ttdeci">static struct ao2_container * instances</div><div class="ttdoc">Registered sorcery instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00284">sorcery.c:284</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__sorcery_html_a67afd8cf4e033925cc6fb22f17b5ca01"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">ast_sorcery::module_name</a></div><div class="ttdeci">char * module_name</div><div class="ttdoc">Pointer to module_name in the associated sorcery_proxy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00238">sorcery.c:238</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc036c9ca7cf5266f1058d67b8ef541"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc036c9ca7cf5266f1058d67b8ef541">__ao2_alloc</a></div><div class="ttdeci">void * __ao2_alloc(size_t data_size, ao2_destructor_fn destructor_fn, unsigned int options, const char *tag, const char *file, int line, const char *func) attribute_warn_unused_result</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00765">astobj2.c:765</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="structast__sorcery_html"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html">ast_sorcery</a></div><div class="ttdoc">Full structure for sorcery. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00230">sorcery.c:230</a></div></div>
<div class="ttc" id="structast__sorcery_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">ast_sorcery::observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00235">sorcery.c:235</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7ce8563daf84a18540a86504d165b444"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a></div><div class="ttdeci">#define ao2_link_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01572">astobj2.h:1572</a></div></div>
<div class="ttc" id="astobj2_8h_html_a0f7c2d3037d7c36c8c88fdb2cb65c6e1"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a0f7c2d3037d7c36c8c88fdb2cb65c6e1">ao2_weakproxy_subscribe</a></div><div class="ttdeci">int ao2_weakproxy_subscribe(void *weakproxy, ao2_weakproxy_notification_cb cb, void *data, int flags)</div><div class="ttdoc">Request notification when weakproxy points to NULL. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00931">astobj2.c:931</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3498e30d6154a052e7b64b7a96da8b4b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a></div><div class="ttdeci">#define ao2_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00720">astobj2.h:720</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structsorcery__proxy_html"><div class="ttname"><a href="../../d0/d7d/structsorcery__proxy.html">sorcery_proxy</a></div><div class="ttdoc">Proxy object for sorcery. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00223">sorcery.c:223</a></div></div>
<div class="ttc" id="sorcery_8c_html_a441ab62fb4e0e3a73c3df99e50df3961"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a441ab62fb4e0e3a73c3df99e50df3961">sorcery_destructor</a></div><div class="ttdeci">static void sorcery_destructor(void *obj)</div><div class="ttdoc">Destructor called when sorcery structure is destroyed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00581">sorcery.c:581</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad79a0846c5df92a70b282a62e6d5e708"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad79a0846c5df92a70b282a62e6d5e708">__ao2_weakproxy_find</a></div><div class="ttdeci">void * __ao2_weakproxy_find(struct ao2_container *c, const void *arg, enum search_flags flags, const char *tag, const char *file, int line, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00440">astobj2_container.c:440</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="astobj2_8h_html_afd157ff946d91f29f2ec5fa43a81b9c1"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afd157ff946d91f29f2ec5fa43a81b9c1">ao2_t_weakproxy_set_object</a></div><div class="ttdeci">#define ao2_t_weakproxy_set_object(weakproxy, obj, flags, tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00586">astobj2.h:586</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00367">astobj2.h:367</a></div></div>
<div class="ttc" id="sorcery_8h_html_af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#af7a3667fd0c15838da1a7bca838f6eeea91a2da248015d81e5d5de609c8afc792">AST_SORCERY_APPLY_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00426">sorcery.h:426</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="structsorcery__proxy_html_a6dcd036a44ecd3f39efe61149c56a2ac"><div class="ttname"><a href="../../d0/d7d/structsorcery__proxy.html#a6dcd036a44ecd3f39efe61149c56a2ac">sorcery_proxy::module_name</a></div><div class="ttdeci">char module_name[0]</div><div class="ttdoc">The name of the module owning this sorcery instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00226">sorcery.c:226</a></div></div>
<div class="ttc" id="sorcery_8c_html_ae1113c8660d4c342ec5ed3b6a7ca8770"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ae1113c8660d4c342ec5ed3b6a7ca8770">TYPE_BUCKETS</a></div><div class="ttdeci">#define TYPE_BUCKETS</div><div class="ttdoc">Number of buckets for types (should be prime for performance reasons) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00054">sorcery.c:54</a></div></div>
<div class="ttc" id="sorcery_8c_html_a805f25030f4678d71d50f17cc1b4a786"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a805f25030f4678d71d50f17cc1b4a786">sorcery_proxy_cb</a></div><div class="ttdeci">static void sorcery_proxy_cb(void *weakproxy, void *data)</div><div class="ttdoc">Hashing function for sorcery types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00596">sorcery.c:596</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="sorcery_8c_html_a3f60d4ca66dcd4b17d2db0998e6af438"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a3f60d4ca66dcd4b17d2db0998e6af438">NOTIFY_GLOBAL_OBSERVERS</a></div><div class="ttdeci">#define NOTIFY_GLOBAL_OBSERVERS(container, callback,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00076">sorcery.c:76</a></div></div>
<div class="ttc" id="astobj2_8h_html_a927c9a5bce40a0164c297325eea4a562"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a927c9a5bce40a0164c297325eea4a562">ao2_t_weakproxy_alloc</a></div><div class="ttdeci">#define ao2_t_weakproxy_alloc(data_size, destructor_fn, tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00557">astobj2.h:557</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d07cd61260ba21e09a994e764284faf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d07cd61260ba21e09a994e764284faf">&#9670;&nbsp;</a></span>__ast_sorcery_remove_wizard_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_sorcery_remove_wizard_mapping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an object wizard mapping. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to remove from </td></tr>
    <tr><td class="paramname">module</td><td>The name of the module, typically AST_MODULE </td></tr>
    <tr><td class="paramname">name</td><td>The name of the wizard to remove</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>13.4.0</dd></dl>
<p>Remove an object wizard mapping. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00850">850</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00540">AST_VECTOR_REMOVE_CMP_ORDERED</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00890">AST_VECTOR_RW_WRLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c.html#a28c49b72106687dde8ae2ac5fce78d64">WIZARD_NAME_COMPARE</a>.</p>
<div class="fragment"><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   }</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a468985d2b5ca7410d91108bdd0484348">AST_VECTOR_RW_WRLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor">#define WIZARD_NAME_COMPARE(a, b) (strcmp((a)-&gt;wizard-&gt;callbacks.name, (b)) == 0)</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   res = <a class="code" href="../../d6/d68/vector_8h.html#a492e49277a4d2b403ec357440d933254">AST_VECTOR_REMOVE_CMP_ORDERED</a>(&amp;object_type-&gt;wizards, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#a28c49b72106687dde8ae2ac5fce78d64">WIZARD_NAME_COMPARE</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="preprocessor">#undef WIZARD_NAME_COMPARE</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="sorcery_8c_html_a28c49b72106687dde8ae2ac5fce78d64"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a28c49b72106687dde8ae2ac5fce78d64">WIZARD_NAME_COMPARE</a></div><div class="ttdeci">#define WIZARD_NAME_COMPARE(a, b)</div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="vector_8h_html_a468985d2b5ca7410d91108bdd0484348"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a468985d2b5ca7410d91108bdd0484348">AST_VECTOR_RW_WRLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_WRLOCK(vec)</div><div class="ttdoc">Obtain write lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00890">vector.h:890</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="vector_8h_html_a492e49277a4d2b403ec357440d933254"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a492e49277a4d2b403ec357440d933254">AST_VECTOR_REMOVE_CMP_ORDERED</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE_CMP_ORDERED(vec, value, cmp, cleanup)</div><div class="ttdoc">Remove an element from a vector that matches the given comparison while maintaining order...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00540">vector.h:540</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b379e5d778d252c30a4cfde03892ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b379e5d778d252c30a4cfde03892ca2">&#9670;&nbsp;</a></span>__ast_sorcery_wizard_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_sorcery_wizard_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *&#160;</td>
          <td class="paramname"><em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>module</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a sorcery wizard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interface</td><td>Pointer to a wizard interface </td></tr>
    <tr><td class="paramname">module</td><td>Pointer to the module implementing the interface</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00432">432</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00367">AO2_ALLOC_OPT_LOCK_RWLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01572">ao2_link_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00048">done</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00281">ast_sorcery_wizard::module</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00278">ast_sorcery_wizard::name</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00076">NOTIFY_GLOBAL_OBSERVERS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00099">ast_sorcery_internal_wizard::observers</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00425">sorcery_internal_wizard_destructor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d43/bucket_8c_source.html#l00954">ast_bucket_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a> *wizard;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(interface-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>));</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keywordflow">if</span> ((wizard = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>, interface-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>))) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Attempted to register sorcery wizard &#39;%s&#39; twice\n&quot;</span>,</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;         interface-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="keywordflow">if</span> (!(wizard = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*wizard), <a class="code" href="../../d7/d69/sorcery_8c.html#af61fab58fa50dfbaf2712c3a8a2343bf">sorcery_internal_wizard_destructor</a>))) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   wizard-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a> = *interface;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   wizard-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8637433cfbb88aeb10ce2ed5dcba0eb1">module</a> = module;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   wizard-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ab7457ba025773f49bfa9029aab54007f">observers</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   <span class="keywordflow">if</span> (!wizard-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ab7457ba025773f49bfa9029aab54007f">observers</a>) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>, wizard, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   res = 0;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Sorcery registered wizard &#39;%s&#39;\n&quot;</span>, interface-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a3f60d4ca66dcd4b17d2db0998e6af438">NOTIFY_GLOBAL_OBSERVERS</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, wizard_registered,</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      interface-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, interface);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>:</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(wizard);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div><div class="ttc" id="sorcery_8c_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Registered global observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00281">sorcery.c:281</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7ce8563daf84a18540a86504d165b444"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a></div><div class="ttdeci">#define ao2_link_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01572">astobj2.h:1572</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a8637433cfbb88aeb10ce2ed5dcba0eb1"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a8637433cfbb88aeb10ce2ed5dcba0eb1">ast_sorcery_wizard::module</a></div><div class="ttdeci">struct ast_module * module</div><div class="ttdoc">Pointer to the Asterisk module this wizard is implemented by. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00281">sorcery.h:281</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">ast_sorcery_wizard::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Name of the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00278">sorcery.h:278</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ac16bd62b448ac0441af4a4e248f045fa"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">ast_sorcery_internal_wizard::callbacks</a></div><div class="ttdeci">struct ast_sorcery_wizard callbacks</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00096">sorcery.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="test__amihooks_8c_html_a5992b274cfdcacdbc1fa8347fd01ebde"><div class="ttname"><a href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a></div><div class="ttdeci">int done</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbf/test__amihooks_8c_source.html#l00048">test_amihooks.c:48</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a></div><div class="ttdoc">Structure for an internal wizard instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00089">sorcery.c:89</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00367">astobj2.h:367</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa929f01f3d7d264cf787e15866b37db3"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a></div><div class="ttdeci">static struct ao2_container * wizards</div><div class="ttdoc">Registered sorcery wizards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00257">sorcery.c:257</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ab7457ba025773f49bfa9029aab54007f">ast_sorcery_internal_wizard::observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00099">sorcery.c:99</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="sorcery_8c_html_af61fab58fa50dfbaf2712c3a8a2343bf"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#af61fab58fa50dfbaf2712c3a8a2343bf">sorcery_internal_wizard_destructor</a></div><div class="ttdeci">static void sorcery_internal_wizard_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00425">sorcery.c:425</a></div></div>
<div class="ttc" id="sorcery_8c_html_a3f60d4ca66dcd4b17d2db0998e6af438"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a3f60d4ca66dcd4b17d2db0998e6af438">NOTIFY_GLOBAL_OBSERVERS</a></div><div class="ttdeci">#define NOTIFY_GLOBAL_OBSERVERS(container, callback,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00076">sorcery.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acb6c97c18566cf94a7ac95a43dd9a816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb6c97c18566cf94a7ac95a43dd9a816">&#9670;&nbsp;</a></span>ast_sorcery_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_sorcery_alloc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to allocate </td></tr>
    <tr><td class="paramname">id</td><td>Optional unique identifier, if none is provided one will be generated</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01744">1744</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00924">aco_set_defaults()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../df/da9/uuid_8c_source.html#l00143">ast_uuid_generate_str()</a>, <a class="el" href="../../dd/d1d/uuid_8h_source.html#l00027">AST_UUID_STR_LEN</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00141">ast_sorcery_object::created</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00129">ast_sorcery_object::id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00594">alloc_artificial_auth()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00431">ast_bucket_alloc()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00663">ast_bucket_file_alloc()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00196">ast_mwi_mailbox_alloc()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00175">ast_sip_initialize_system()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00355">ast_sip_location_create_contact()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01778">ast_sorcery_copy()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02467">AST_TEST_DEFINE()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00638">create_artificial_endpoint()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">create_object()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04983">create_resource_list()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00570">global_loaded_observer()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00655">load_module()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03017">mock_retrieve_id()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03049">mock_retrieve_multiple()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00589">permanent_uri_handler()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00612">sip_cli_print_global()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00157">sip_cli_print_system()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00135">sorcery_astdb_retrieve_fields_common()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00191">sorcery_astdb_retrieve_id()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00332">sorcery_astdb_retrieve_prefix()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00278">sorcery_astdb_retrieve_regex()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00316">sorcery_config_internal_load()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00237">sorcery_memory_cache_thrash_update()</a>, <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00163">sorcery_realtime_retrieve_fields()</a>, <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00193">sorcery_realtime_retrieve_multiple()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00204">sorcery_test_retrieve_id()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00126">stir_shaken_general_loaded()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00637">subscription_persistence_create()</a>, and <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00306">test_stir_shaken_create_cert()</a>.</p>
<div class="fragment"><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;{</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;   <span class="keywordflow">if</span> (!object_type || !object_type-&gt;type.item_alloc ||</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      !(details = object_type-&gt;type.item_alloc(<span class="keywordtype">id</span>))) {</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;   }</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>)) {</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="keywordtype">char</span> uuid[<a class="code" href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a>];</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <a class="code" href="../../dd/d1d/uuid_8h.html#abe6d0b550cd9a54964e7891960d1e5bc">ast_uuid_generate_str</a>(uuid, <span class="keyword">sizeof</span>(uuid));</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">id</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(uuid);</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">id</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;   }</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;   <span class="keywordflow">if</span> (!details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">id</a>) {</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(details, -1);</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;   }</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;   details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#a529e497bc965817d03dbcdc5805305c4">created</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keyword">sizeof</span>(details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>));</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/dfe/config__options_8h.html#a206bf60e38d1114efdeeabc35b7eaa69">aco_set_defaults</a>(&amp;object_type-&gt;type, <span class="keywordtype">id</span>, details)) {</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(details, -1);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;   }</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;   <span class="keywordflow">return</span> details;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_aecb3b0d045ada529257a2fbf8f829599"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">ast_sorcery_object::id</a></div><div class="ttdeci">char * id</div><div class="ttdoc">Unique identifier of this object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00129">sorcery.c:129</a></div></div>
<div class="ttc" id="uuid_8h_html_a127408e53d34dca0c589a099fabf1e13"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a></div><div class="ttdeci">#define AST_UUID_STR_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1d/uuid_8h_source.html#l00027">uuid.h:27</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_a529e497bc965817d03dbcdc5805305c4"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#a529e497bc965817d03dbcdc5805305c4">ast_sorcery_object::created</a></div><div class="ttdeci">struct timeval created</div><div class="ttdoc">Time that the object was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00141">sorcery.c:141</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="config__options_8h_html_a206bf60e38d1114efdeeabc35b7eaa69"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a206bf60e38d1114efdeeabc35b7eaa69">aco_set_defaults</a></div><div class="ttdeci">int aco_set_defaults(struct aco_type *type, const char *category, void *obj)</div><div class="ttdoc">Set all default options of obj. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00924">config_options.c:924</a></div></div>
<div class="ttc" id="uuid_8h_html_abe6d0b550cd9a54964e7891960d1e5bc"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#abe6d0b550cd9a54964e7891960d1e5bc">ast_uuid_generate_str</a></div><div class="ttdeci">char * ast_uuid_generate_str(char *buf, size_t size)</div><div class="ttdoc">Generate a UUID string. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/uuid_8c_source.html#l00143">uuid.c:143</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9dbf5d1177fd4ab31efe1037f4dc1c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dbf5d1177fd4ab31efe1037f4dc1c24">&#9670;&nbsp;</a></span>ast_sorcery_changeset_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_changeset_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>modified</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **&#160;</td>
          <td class="paramname"><em>changes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a changeset given two object sets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">original</td><td>Original object set </td></tr>
    <tr><td class="paramname">modified</td><td>Modified object set </td></tr>
    <tr><td class="paramname">changes</td><td>Pointer to hold any changes between the object sets</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list must be destroyed using ast_variables_destroy </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01663">1663</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00830">ast_variable_find_in_list()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01805">ast_sorcery_diff()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l01579">AST_TEST_DEFINE()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01461">can_reuse_registration()</a>, and <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00288">sorcery_is_criteria_met()</a>.</p>
<div class="fragment"><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;{</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *field;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;   *changes = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;   <span class="comment">/* Unless the ast_variable list changes when examined... it can&#39;t differ from itself */</span></div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   <span class="keywordflow">if</span> (original == modified) {</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   }</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   <span class="keywordflow">for</span> (field = modified; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *old_value = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a14c53d3f215d0ad79fe7079d06b10536">ast_variable_find_in_list</a>(original, field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <span class="keywordflow">if</span> (!old_value || strcmp(old_value, field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)) {</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;         <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;&quot;</span>))) {</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            res = -1;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;         }</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;         tmp-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a> = *changes;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;         *changes = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      }</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;   }</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   <span class="comment">/* If an error occurred do not return a partial changeset */</span></div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(*changes);</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      *changes = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   }</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a14c53d3f215d0ad79fe7079d06b10536"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a14c53d3f215d0ad79fe7079d06b10536">ast_variable_find_in_list</a></div><div class="ttdeci">const char * ast_variable_find_in_list(const struct ast_variable *list, const char *variable)</div><div class="ttdoc">Gets the value of a variable from a variable list by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00830">main/config.c:830</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acb3b46997c4a11e6da3ac21e7a38d96c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb3b46997c4a11e6da3ac21e7a38d96c">&#9670;&nbsp;</a></span>ast_sorcery_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_sorcery_copy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a copy of an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object</td><td>Existing object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01778">1778</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01744">ast_sorcery_alloc()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01632">ast_sorcery_objectset_apply()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l01136">ast_sorcery_objectset_create</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l04629">copy()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00129">ast_sorcery_object::id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00510">ast_bucket_clone()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00810">ast_bucket_file_clone()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00205">ast_mwi_mailbox_copy()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00795">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>.</p>
<div class="fragment"><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;{</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *<a class="code" href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a> = <a class="code" href="../../d7/d69/sorcery_8c.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a>(sorcery, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">id</a>);</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, objectset, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;   <span class="keywordflow">if</span> (!copy) {</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (object_type-&gt;copy) {</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      res = object_type-&gt;copy(<span class="keywordtype">object</span>, copy);</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((objectset = <a class="code" href="../../d8/d25/sorcery_8h.html#a197b6724158db0da59852d25d36fa5f1">ast_sorcery_objectset_create</a>(sorcery, <span class="keywordtype">object</span>))) {</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      res = <a class="code" href="../../d7/d69/sorcery_8c.html#abd515bbf4fb5e92afaad574936082871">ast_sorcery_objectset_apply</a>(sorcery, copy, objectset);</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <span class="comment">/* No native copy available and could not create an objectset, this copy has failed */</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;      res = -1;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;   }</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(copy);</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      copy = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;   }</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a>;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;}</div><div class="ttc" id="structast__sorcery__object_html_aecb3b0d045ada529257a2fbf8f829599"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">ast_sorcery_object::id</a></div><div class="ttdeci">char * id</div><div class="ttdoc">Unique identifier of this object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00129">sorcery.c:129</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="sorcery_8c_html_abd515bbf4fb5e92afaad574936082871"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#abd515bbf4fb5e92afaad574936082871">ast_sorcery_objectset_apply</a></div><div class="ttdeci">int ast_sorcery_objectset_apply(const struct ast_sorcery *sorcery, void *object, struct ast_variable *objectset)</div><div class="ttdoc">Apply an object set (KVP list) to an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01632">sorcery.c:1632</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="app__voicemail_8c_html_abe15777a07ac747625b018ac01f92531"><div class="ttname"><a href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a></div><div class="ttdeci">static int copy(char *infile, char *outfile)</div><div class="ttdoc">Utility function to copy a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/app__voicemail_8c_source.html#l04629">app_voicemail.c:4629</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="sorcery_8h_html_a197b6724158db0da59852d25d36fa5f1"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a197b6724158db0da59852d25d36fa5f1">ast_sorcery_objectset_create</a></div><div class="ttdeci">#define ast_sorcery_objectset_create(sorcery, object)</div><div class="ttdoc">Create an object set (KVP list) for an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l01136">sorcery.h:1136</a></div></div>
<div class="ttc" id="sorcery_8c_html_acb6c97c18566cf94a7ac95a43dd9a816"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a></div><div class="ttdeci">void * ast_sorcery_alloc(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Allocate an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01744">sorcery.c:1744</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a575dfe8fd872c033d2b902549df502ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a575dfe8fd872c033d2b902549df502ea">&#9670;&nbsp;</a></span>ast_sorcery_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create and potentially persist an object using an available wizard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02057">2057</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00111">ast_sorcery_object_wizard::caching</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00198">sorcery_observer_invocation::object_type</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00183">ast_sorcery_object_type::serializer</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01833">sorcery_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01292">sorcery_observer_invocation_alloc()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02047">sorcery_observers_notify_create()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02020">sorcery_wizard_create()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00165">ast_sorcery_object_type::wizards</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00488">ast_bucket_create()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00725">ast_bucket_file_create()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00235">ast_mwi_mailbox_update()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00355">ast_sip_location_create_contact()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l01716">AST_TEST_DEFINE()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04983">create_resource_list()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l06074">load_module()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00637">subscription_persistence_create()</a>, and <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00306">test_stir_shaken_create_cert()</a>.</p>
<div class="fragment"><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;{</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *object_wizard = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *found_wizard;</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/dbf/structsorcery__details.html">sorcery_details</a> sdetails = {</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      .<a class="code" href="../../d2/dbf/structsorcery__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      .obj = object,</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;   };</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;   }</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      found_wizard = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      <span class="keywordflow">if</span> (!found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a></div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;         &amp;&amp; <a class="code" href="../../d7/d69/sorcery_8c.html#a9daac59c76a5c6da259c1d71e0301010">sorcery_wizard_create</a>(found_wizard, &amp;sdetails) == <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>) {</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;         object_wizard = found_wizard;</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      }</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;   }</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;   <span class="keywordflow">if</span> (object_wizard) {</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;         found_wizard = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;         <span class="keywordflow">if</span> (found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a>) {</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;            <a class="code" href="../../d7/d69/sorcery_8c.html#a9daac59c76a5c6da259c1d71e0301010">sorcery_wizard_create</a>(found_wizard, &amp;sdetails);</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;         }</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;      }</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(object_type-&gt;observers)) {</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d8/d17/structsorcery__observer__invocation.html">sorcery_observer_invocation</a> *invocation;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;         invocation = <a class="code" href="../../d7/d69/sorcery_8c.html#a2db7cdc19c558c3c3adfe43284d3f851">sorcery_observer_invocation_alloc</a>(<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>, <span class="keywordtype">object</span>);</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;         <span class="keywordflow">if</span> (invocation</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;            &amp;&amp; <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#ac23e23ba60f358de78a893d537c0afa4">serializer</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#a175b4cf44ac2ead6aa0340eeb0df853e">sorcery_observers_notify_create</a>,</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;               invocation)) {</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(invocation);</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;         }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      }</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;   }</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">wizards</a>);</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;   <span class="keywordflow">return</span> object_wizard ? 0 : -1;</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;}</div><div class="ttc" id="structsorcery__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d2/dbf/structsorcery__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Pointer to the sorcery instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01833">sorcery.c:1833</a></div></div>
<div class="ttc" id="sorcery_8c_html_a2db7cdc19c558c3c3adfe43284d3f851"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a2db7cdc19c558c3c3adfe43284d3f851">sorcery_observer_invocation_alloc</a></div><div class="ttdeci">static struct sorcery_observer_invocation * sorcery_observer_invocation_alloc(struct ast_sorcery_object_type *object_type, void *object)</div><div class="ttdoc">Allocator function for observer invocation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01292">sorcery.c:1292</a></div></div>
<div class="ttc" id="structsorcery__details_html"><div class="ttname"><a href="../../d2/dbf/structsorcery__details.html">sorcery_details</a></div><div class="ttdoc">Structure used when calling create, update, or delete. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01831">sorcery.c:1831</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="sorcery_8c_html_a9daac59c76a5c6da259c1d71e0301010"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a9daac59c76a5c6da259c1d71e0301010">sorcery_wizard_create</a></div><div class="ttdeci">static int sorcery_wizard_create(const struct ast_sorcery_object_wizard *object_wizard, const struct sorcery_details *details)</div><div class="ttdoc">Internal function which returns if the wizard has created the object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02020">sorcery.c:2020</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structsorcery__observer__invocation_html"><div class="ttname"><a href="../../d8/d17/structsorcery__observer__invocation.html">sorcery_observer_invocation</a></div><div class="ttdoc">Structure used for observer invocations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00196">sorcery.c:196</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a3de5a8e94ff94b1105ac88cf99ab3f86"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">ast_sorcery_object_wizard::caching</a></div><div class="ttdeci">unsigned int caching</div><div class="ttdoc">Wizard is acting as an object cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00111">sorcery.c:111</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_ac23e23ba60f358de78a893d537c0afa4"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#ac23e23ba60f358de78a893d537c0afa4">ast_sorcery_object_type::serializer</a></div><div class="ttdeci">struct ast_taskprocessor * serializer</div><div class="ttdoc">Serializer for observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00183">sorcery.c:183</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_a125405cfc225fb137c9b067652123565"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">ast_sorcery_object_type::wizards</a></div><div class="ttdeci">struct ast_sorcery_object_wizards wizards</div><div class="ttdoc">Wizard instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00165">sorcery.c:165</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="structsorcery__observer__invocation_html_a7b50328940299b05c0e0a3bf7b7bd868"><div class="ttname"><a href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">sorcery_observer_invocation::object_type</a></div><div class="ttdeci">struct ast_sorcery_object_type * object_type</div><div class="ttdoc">Pointer to the object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00198">sorcery.c:198</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="sorcery_8c_html_a175b4cf44ac2ead6aa0340eeb0df853e"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a175b4cf44ac2ead6aa0340eeb0df853e">sorcery_observers_notify_create</a></div><div class="ttdeci">static int sorcery_observers_notify_create(void *data)</div><div class="ttdoc">Internal callback function which notifies observers that an object has been created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02047">sorcery.c:2047</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb9bd9c0bcdaff27ac438a02d472c3b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb9bd9c0bcdaff27ac438a02d472c3b1">&#9670;&nbsp;</a></span>ast_sorcery_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_delete </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02233">2233</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00111">ast_sorcery_object_wizard::caching</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00198">sorcery_observer_invocation::object_type</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00183">ast_sorcery_object_type::serializer</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01833">sorcery_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01292">sorcery_observer_invocation_alloc()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02208">sorcery_observers_notify_delete()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02219">sorcery_wizard_delete()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00165">ast_sorcery_object_type::wizards</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00247">ast_ari_asterisk_delete_object()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00539">ast_bucket_delete()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00844">ast_bucket_file_delete()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00450">ast_sip_location_delete_contact()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l02152">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d52/res__http__media__cache_8c_source.html#l00341">bucket_http_wizard_retrieve_id()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04962">cleanup_resource_list()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00260">mwi_mailbox_delete()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01556">sub_persistence_recreate()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01684">subscription_persistence_recreate()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00745">subscription_persistence_remove()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00280">test_stir_shaken_cleanup_cert()</a>, and <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l06108">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;{</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *object_wizard = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *found_wizard;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/dbf/structsorcery__details.html">sorcery_details</a> sdetails = {</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      .<a class="code" href="../../d2/dbf/structsorcery__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      .obj = object,</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;   };</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;   }</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      found_wizard = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;      <span class="keywordflow">if</span> (!found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;         &amp;&amp; <a class="code" href="../../d7/d69/sorcery_8c.html#ad299df374e28d717fa8c2f81b39c379f">sorcery_wizard_delete</a>(found_wizard, &amp;sdetails) == <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>) {</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;         object_wizard = found_wizard;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;      }</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;   }</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;   <span class="keywordflow">if</span> (object_wizard) {</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;         found_wizard = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;         <span class="keywordflow">if</span> (found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a>) {</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            <a class="code" href="../../d7/d69/sorcery_8c.html#ad299df374e28d717fa8c2f81b39c379f">sorcery_wizard_delete</a>(found_wizard, &amp;sdetails);</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;         }</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      }</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(object_type-&gt;observers)) {</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d8/d17/structsorcery__observer__invocation.html">sorcery_observer_invocation</a> *invocation;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;         invocation = <a class="code" href="../../d7/d69/sorcery_8c.html#a2db7cdc19c558c3c3adfe43284d3f851">sorcery_observer_invocation_alloc</a>(<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>, <span class="keywordtype">object</span>);</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;         <span class="keywordflow">if</span> (invocation</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;            &amp;&amp; <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#ac23e23ba60f358de78a893d537c0afa4">serializer</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#a3cd88dfc5a1f28a2c53e3ff50a61de9f">sorcery_observers_notify_delete</a>,</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;               invocation)) {</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(invocation);</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;         }</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      }</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;   }</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">wizards</a>);</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;   <span class="keywordflow">return</span> object_wizard ? 0 : -1;</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;}</div><div class="ttc" id="structsorcery__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d2/dbf/structsorcery__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Pointer to the sorcery instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01833">sorcery.c:1833</a></div></div>
<div class="ttc" id="sorcery_8c_html_a2db7cdc19c558c3c3adfe43284d3f851"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a2db7cdc19c558c3c3adfe43284d3f851">sorcery_observer_invocation_alloc</a></div><div class="ttdeci">static struct sorcery_observer_invocation * sorcery_observer_invocation_alloc(struct ast_sorcery_object_type *object_type, void *object)</div><div class="ttdoc">Allocator function for observer invocation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01292">sorcery.c:1292</a></div></div>
<div class="ttc" id="structsorcery__details_html"><div class="ttname"><a href="../../d2/dbf/structsorcery__details.html">sorcery_details</a></div><div class="ttdoc">Structure used when calling create, update, or delete. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01831">sorcery.c:1831</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structsorcery__observer__invocation_html"><div class="ttname"><a href="../../d8/d17/structsorcery__observer__invocation.html">sorcery_observer_invocation</a></div><div class="ttdoc">Structure used for observer invocations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00196">sorcery.c:196</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a3de5a8e94ff94b1105ac88cf99ab3f86"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">ast_sorcery_object_wizard::caching</a></div><div class="ttdeci">unsigned int caching</div><div class="ttdoc">Wizard is acting as an object cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00111">sorcery.c:111</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_ac23e23ba60f358de78a893d537c0afa4"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#ac23e23ba60f358de78a893d537c0afa4">ast_sorcery_object_type::serializer</a></div><div class="ttdeci">struct ast_taskprocessor * serializer</div><div class="ttdoc">Serializer for observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00183">sorcery.c:183</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_a125405cfc225fb137c9b067652123565"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">ast_sorcery_object_type::wizards</a></div><div class="ttdeci">struct ast_sorcery_object_wizards wizards</div><div class="ttdoc">Wizard instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00165">sorcery.c:165</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="sorcery_8c_html_ad299df374e28d717fa8c2f81b39c379f"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ad299df374e28d717fa8c2f81b39c379f">sorcery_wizard_delete</a></div><div class="ttdeci">static int sorcery_wizard_delete(const struct ast_sorcery_object_wizard *object_wizard, const struct sorcery_details *details)</div><div class="ttdoc">Internal function which returns if a wizard has deleted the object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02219">sorcery.c:2219</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="structsorcery__observer__invocation_html_a7b50328940299b05c0e0a3bf7b7bd868"><div class="ttname"><a href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">sorcery_observer_invocation::object_type</a></div><div class="ttdeci">struct ast_sorcery_object_type * object_type</div><div class="ttdoc">Pointer to the object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00198">sorcery.c:198</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="sorcery_8c_html_a3cd88dfc5a1f28a2c53e3ff50a61de9f"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a3cd88dfc5a1f28a2c53e3ff50a61de9f">sorcery_observers_notify_delete</a></div><div class="ttdeci">static int sorcery_observers_notify_delete(void *data)</div><div class="ttdoc">Internal callback function which notifies observers that an object has been deleted. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02208">sorcery.c:2208</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d9dce6b6af3d1e2e658d9361f64dc58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d9dce6b6af3d1e2e658d9361f64dc58">&#9670;&nbsp;</a></span>ast_sorcery_diff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_diff </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>modified</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **&#160;</td>
          <td class="paramname"><em>changes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a changeset of two objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">original</td><td>Original object </td></tr>
    <tr><td class="paramname">modified</td><td>Modified object </td></tr>
    <tr><td class="paramname">changes</td><td>Pointer which will be populated with changes if any exist</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list must be destroyed using ast_variables_destroy</dd>
<dd>
While the objects must be of the same type they do not have to be the same object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01805">1805</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01663">ast_sorcery_changeset_create()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02324">ast_sorcery_object_get_type()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l01136">ast_sorcery_objectset_create</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00919">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00632">transport_apply()</a>.</p>
<div class="fragment"><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;{</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, <a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#ac6d61f7f74e9face6219d1d3f5f0671c">ast_sorcery_object_get_type</a>(original), <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;   *changes = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d7/d69/sorcery_8c.html#ac6d61f7f74e9face6219d1d3f5f0671c">ast_sorcery_object_get_type</a>(original), <a class="code" href="../../d7/d69/sorcery_8c.html#ac6d61f7f74e9face6219d1d3f5f0671c">ast_sorcery_object_get_type</a>(modified))) {</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   }</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;   <span class="keywordflow">if</span> (original == modified) {</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#aa0c2f9ad1e21122d23bcf3e999d38d99">diff</a>) {</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, objectset1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, objectset2, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      objectset1 = <a class="code" href="../../d8/d25/sorcery_8h.html#a197b6724158db0da59852d25d36fa5f1">ast_sorcery_objectset_create</a>(sorcery, original);</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      objectset2 = <a class="code" href="../../d8/d25/sorcery_8h.html#a197b6724158db0da59852d25d36fa5f1">ast_sorcery_objectset_create</a>(sorcery, modified);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/sorcery_8c.html#a9dbf5d1177fd4ab31efe1037f4dc1c24">ast_sorcery_changeset_create</a>(objectset1, objectset2, changes);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#aa0c2f9ad1e21122d23bcf3e999d38d99">diff</a>(original, modified, changes);</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;   }</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;}</div><div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="sorcery_8c_html_ac6d61f7f74e9face6219d1d3f5f0671c"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ac6d61f7f74e9face6219d1d3f5f0671c">ast_sorcery_object_get_type</a></div><div class="ttdeci">const char * ast_sorcery_object_get_type(const void *object)</div><div class="ttdoc">Get the type of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02324">sorcery.c:2324</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_aa0c2f9ad1e21122d23bcf3e999d38d99"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#aa0c2f9ad1e21122d23bcf3e999d38d99">ast_sorcery_object_type::diff</a></div><div class="ttdeci">sorcery_diff_handler diff</div><div class="ttdoc">Optional object diff callback. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00162">sorcery.c:162</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="sorcery_8h_html_a197b6724158db0da59852d25d36fa5f1"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a197b6724158db0da59852d25d36fa5f1">ast_sorcery_objectset_create</a></div><div class="ttdeci">#define ast_sorcery_objectset_create(sorcery, object)</div><div class="ttdoc">Create an object set (KVP list) for an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l01136">sorcery.h:1136</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="sorcery_8c_html_a9dbf5d1177fd4ab31efe1037f4dc1c24"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a9dbf5d1177fd4ab31efe1037f4dc1c24">ast_sorcery_changeset_create</a></div><div class="ttdeci">int ast_sorcery_changeset_create(const struct ast_variable *original, const struct ast_variable *modified, struct ast_variable **changes)</div><div class="ttdoc">Create a changeset given two object sets. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01663">sorcery.c:1663</a></div></div>
<div class="ttc" id="structsorcery__observer__invocation_html_a7b50328940299b05c0e0a3bf7b7bd868"><div class="ttname"><a href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">sorcery_observer_invocation::object_type</a></div><div class="ttdeci">struct ast_sorcery_object_type * object_type</div><div class="ttdoc">Pointer to the object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00198">sorcery.c:198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e5766e667e16567432ab55c0b001d7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e5766e667e16567432ab55c0b001d7f">&#9670;&nbsp;</a></span>ast_sorcery_force_reload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_force_reload </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform any wizards to reload persistent objects, even if no changes determined. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>13.32.0 </dd>
<dd>
16.9.0 </dd>
<dd>
17.3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01425">1425</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00238">ast_sorcery::module_name</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00079">NOTIFY_INSTANCE_OBSERVERS</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00235">ast_sorcery::observers</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery_load_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery_object_load()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>
<div class="fragment"><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;{</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a> details = {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      .<a class="code" href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      .reload = 1,</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      .force = 1,</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;   };</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, instance_loading,</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, sorcery, 1);</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a>, &amp;details);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, instance_loaded,</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, sorcery, 1);</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="structast__sorcery_html_a67afd8cf4e033925cc6fb22f17b5ca01"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">ast_sorcery::module_name</a></div><div class="ttdeci">char * module_name</div><div class="ttdoc">Pointer to module_name in the associated sorcery_proxy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00238">sorcery.c:238</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structast__sorcery_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">ast_sorcery::observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00235">sorcery.c:235</a></div></div>
<div class="ttc" id="structsorcery__load__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_load_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Sorcery structure in use. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery.c:244</a></div></div>
<div class="ttc" id="structsorcery__load__details_html"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a></div><div class="ttdoc">Structure for passing load/reload details. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00242">sorcery.c:242</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="sorcery_8c_html_a9f8c36ae2566ea7e6556b4be48f8f6be"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a></div><div class="ttdeci">#define NOTIFY_INSTANCE_OBSERVERS(container, callback,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00079">sorcery.c:79</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa75322759014af911050ba90ab3df438"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a></div><div class="ttdeci">static int sorcery_object_load(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery.c:1336</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac21494ba05883fa76cdbcff95b008c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac21494ba05883fa76cdbcff95b008c7e">&#9670;&nbsp;</a></span>ast_sorcery_force_reload_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_force_reload_object </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform any wizards of a specific object type to reload persistent objects even if no changes determined. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Name of the object type to reload</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>13.32.0 </dd>
<dd>
16.9.0 </dd>
<dd>
17.3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01457">1457</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery_load_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery_object_load()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01963">acl_change_stasis_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;{</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a> details = {</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      .<a class="code" href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      .reload = 1,</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      .force = 1,</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;   };</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;   }</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a>(object_type, &amp;details, 0);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structsorcery__load__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_load_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Sorcery structure in use. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery.c:244</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structsorcery__load__details_html"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a></div><div class="ttdoc">Structure for passing load/reload details. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00242">sorcery.c:242</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa75322759014af911050ba90ab3df438"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a></div><div class="ttdeci">static int sorcery_object_load(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery.c:1336</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c03ccef909474831717c93679065508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c03ccef909474831717c93679065508">&#9670;&nbsp;</a></span>ast_sorcery_generic_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_sorcery_generic_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a7d525dc3c16f23f4b3fb657db1b1bc64">ao2_destructor_fn</a>&#160;</td>
          <td class="paramname"><em>destructor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a generic sorcery capable object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Size of the object </td></tr>
    <tr><td class="paramname">destructor</td><td>Optional destructor function</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned object does not support AO2 locking. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01728">1728</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00135">ast_sorcery_object::destructor</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01700">sorcery_object_destructor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d5e/res__pjsip__acl_8c_source.html#l00279">acl_alloc()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02306">ast_sip_endpoint_alloc()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00827">asterisk_publication_config_alloc()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00036">auth_alloc()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00402">bucket_alloc()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00640">bucket_file_alloc()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00120">contact_alloc()</a>, <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00036">domain_alias_alloc()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00128">global_alloc()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00165">ip_identify_alloc()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00318">mapping_alloc()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00130">mwi_sorcery_object_alloc()</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00148">phoneprov_alloc()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00567">publication_resource_alloc()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04764">resource_list_alloc()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01283">sip_nat_hook_alloc()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00667">sip_outbound_publish_alloc()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01373">sip_outbound_registration_alloc()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00399">sip_transport_alloc()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00067">stir_shaken_certificate_alloc()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00104">stir_shaken_general_alloc()</a>, <a class="el" href="../../d9/d7e/store_8c_source.html#l00062">stir_shaken_store_alloc()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00631">subscription_persistence_alloc()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00077">system_alloc()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02997">test_data_alloc()</a>, and <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02288">test_sorcery_object_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;{</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;   <span class="keywordtype">void</span> *<span class="keywordtype">object</span> = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(size + <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a>),</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      <a class="code" href="../../d7/d69/sorcery_8c.html#a9c79fcb6d6702688f9019e08e4df86c1">sorcery_object_destructor</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>) {</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;   }</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;   details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a> = <span class="keywordtype">object</span> + size;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;   details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#a93161268ec6c20ec0955810939d89d28">destructor</a> = destructor;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_a93161268ec6c20ec0955810939d89d28"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#a93161268ec6c20ec0955810939d89d28">ast_sorcery_object::destructor</a></div><div class="ttdeci">ao2_destructor_fn destructor</div><div class="ttdoc">Optional object destructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00135">sorcery.c:135</a></div></div>
<div class="ttc" id="structast__sorcery__object_html"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a></div><div class="ttdoc">Structure for internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00127">sorcery.c:127</a></div></div>
<div class="ttc" id="sorcery_8c_html_a9c79fcb6d6702688f9019e08e4df86c1"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a9c79fcb6d6702688f9019e08e4df86c1">sorcery_object_destructor</a></div><div class="ttdeci">static void sorcery_object_destructor(void *object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01700">sorcery.c:1700</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4aa06205a33d1fa168299de936451415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aa06205a33d1fa168299de936451415">&#9670;&nbsp;</a></span>ast_sorcery_get_module()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sorcery_get_module </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the module that has opened the provided sorcery instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>The sorcery instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The module </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02531">2531</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00238">ast_sorcery::module_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01436">sorcery_memory_cache_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;{</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;   <span class="keywordflow">return</span> sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;}</div><div class="ttc" id="structast__sorcery_html_a67afd8cf4e033925cc6fb22f17b5ca01"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">ast_sorcery::module_name</a></div><div class="ttdeci">char * module_name</div><div class="ttdoc">Pointer to module_name in the associated sorcery_proxy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00238">sorcery.c:238</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aedd72977a579b6296e8e1d380ac29043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd72977a579b6296e8e1d380ac29043">&#9670;&nbsp;</a></span>ast_sorcery_get_object_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a>* ast_sorcery_get_object_type </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the sorcery object type given a type name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>The sorcery from which to retrieve the object type </td></tr>
    <tr><td class="paramname">type</td><td>The type name </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02489">2489</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00247">ast_ari_asterisk_delete_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00089">ast_ari_asterisk_get_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03107">AST_TEST_DEFINE()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00093">sorcery_astdb_filter_objectset()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00255">sorcery_is_explicit_name_met()</a>, and <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00111">sorcery_realtime_filter_objectset()</a>.</p>
<div class="fragment"><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;{</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf4565862cba45011e1d7c61f4fa1bc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf4565862cba45011e1d7c61f4fa1bc4">&#9670;&nbsp;</a></span>ast_sorcery_get_wizard_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_get_wizard_mapping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> **&#160;</td>
          <td class="paramname"><em>wizard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>By index, return a wizard mapped to an object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">index</td><td>Index of the wizard </td></tr>
    <tr><td class="paramname">wizard</td><td>A pointer to receive the wizard pointer </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to receive the data pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>The wizard will have its reference count bumped so you must call ao2_cleanup when you're done with it.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The wizard and data returned are valid only for this object type and only while the wizard is applied to the object type.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00790">790</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00108">ast_sorcery_object_wizard::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00105">ast_sorcery_object_wizard::wizard</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03452">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;{</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *owizard;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <span class="keywordflow">if</span> (index &lt; 0 || index &gt;= <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards)) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   owizard = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, index);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   <span class="keywordflow">if</span> (wizard != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      *wizard = &amp;(owizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(owizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">data</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      *<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">data</a> = owizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ac16bd62b448ac0441af4a4e248f045fa"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">ast_sorcery_internal_wizard::callbacks</a></div><div class="ttdeci">struct ast_sorcery_wizard callbacks</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00096">sorcery.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a71f67ffd7e19fbcc54ef3b2844f30147"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">ast_sorcery_object_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_internal_wizard * wizard</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00105">sorcery.c:105</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">ast_sorcery_object_wizard::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">Unique data for the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00108">sorcery.c:108</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a76bda0e38ce9df87eac051ae0e2010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a76bda0e38ce9df87eac051ae0e2010">&#9670;&nbsp;</a></span>ast_sorcery_get_wizard_mapping_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_get_wizard_mapping_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of wizards mapped to an object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of wizards or -1 for error </dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00778">778</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03452">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;{</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3c10bfbd5f420b2e0dafa34bc0c8fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3c10bfbd5f420b2e0dafa34bc0c8fa7">&#9670;&nbsp;</a></span>ast_sorcery_global_observer_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_global_observer_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d3b/structast__sorcery__global__observer.html">ast_sorcery_global_observer</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a global observer to sorcery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>Implementation of the global observer interface</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>You must be ready to accept observer invocations before this function is called </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00498">498</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00267">sorcery_global_observer::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03165">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01327">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/df6/structsorcery__global__observer.html">sorcery_global_observer</a> *cb;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   cb = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*cb), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <span class="keywordflow">if</span> (!cb) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   cb-&gt;<a class="code" href="../../de/df6/structsorcery__global__observer.html#a6d12685f9b9868b00b634c87713a1337">callbacks</a> = <a class="code" href="../../de/df6/structsorcery__global__observer.html#a6d12685f9b9868b00b634c87713a1337">callbacks</a>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, cb);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cb, -1);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div><div class="ttc" id="sorcery_8c_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Registered global observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00281">sorcery.c:281</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structsorcery__global__observer_html"><div class="ttname"><a href="../../de/df6/structsorcery__global__observer.html">sorcery_global_observer</a></div><div class="ttdoc">A global observer wrapper. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00266">sorcery.c:266</a></div></div>
<div class="ttc" id="structsorcery__global__observer_html_a6d12685f9b9868b00b634c87713a1337"><div class="ttname"><a href="../../de/df6/structsorcery__global__observer.html#a6d12685f9b9868b00b634c87713a1337">sorcery_global_observer::callbacks</a></div><div class="ttdeci">const struct ast_sorcery_global_observer * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00267">sorcery.c:267</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acee4537f18676ad3ffe3e8ce6e017809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acee4537f18676ad3ffe3e8ce6e017809">&#9670;&nbsp;</a></span>ast_sorcery_global_observer_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_global_observer_remove </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d3b/structast__sorcery__global__observer.html">ast_sorcery_global_observer</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a global observer from sorcery. </p>
<p>A global observer is notified... After a new wizard is registered. After a new sorcery instance is opened. Before an instance is destroyed. Before a wizard is unregistered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>Implementation of the global observer interface </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00514">514</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00491">sorcery_generic_observer_remove()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03165">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01336">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;{</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#a7c4b7a7ce4d9938ab23318f36554e211">sorcery_generic_observer_remove</a>, (<span class="keywordtype">void</span> *)callbacks);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div><div class="ttc" id="sorcery_8c_html_a7c4b7a7ce4d9938ab23318f36554e211"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a7c4b7a7ce4d9938ab23318f36554e211">sorcery_generic_observer_remove</a></div><div class="ttdeci">static int sorcery_generic_observer_remove(void *obj, void *arg, int flags)</div><div class="ttdoc">Internal callback function for removing a generic observer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00491">sorcery.c:491</a></div></div>
<div class="ttc" id="sorcery_8c_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Registered global observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00281">sorcery.c:281</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af4f32cd7e26c6876aa46a44202b0baa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f32cd7e26c6876aa46a44202b0baa9">&#9670;&nbsp;</a></span>ast_sorcery_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the sorcery API. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the sorcery API.</p>
<p>Hashing function for sorcery instances </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00387">387</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00367">AO2_ALLOC_OPT_LOCK_RWLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00019">ast_register_cleanup()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00915">ast_threadpool_create()</a>, <a class="el" href="../../d3/d40/threadpool_8h_source.html#l00071">AST_THREADPOOL_OPTIONS_VERSION</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00057">INSTANCE_BUCKETS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00369">sorcery_cleanup()</a>, <a class="el" href="../../d3/d40/threadpool_8h_source.html#l00073">ast_threadpool_options::version</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00051">WIZARD_BUCKETS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03947">asterisk_daemon()</a>.</p>
<div class="fragment"><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;{</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/de6/structast__threadpool__options.html">ast_threadpool_options</a> <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a> = {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      .version = <a class="code" href="../../d3/d40/threadpool_8h.html#ae95119c74a92ef5c17f55421b278a25c">AST_THREADPOOL_OPTIONS_VERSION</a>,</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      .auto_increment = 1,</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      .max_size = 0,</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      .idle_timeout = 60,</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      .initial_size = 0,</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   };</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a6dc11fc8f94173cc1af379b74a096abd">threadpool</a> = <a class="code" href="../../d3/d40/threadpool_8h.html#abf6fc4af30779217d37047cbb1fddd1a">ast_threadpool_create</a>(<span class="stringliteral">&quot;sorcery&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;options);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d69/sorcery_8c.html#a6dc11fc8f94173cc1af379b74a096abd">threadpool</a>) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../d7/d69/sorcery_8c.html#a5bfedcce5077b541b046f0c2e7e70434">WIZARD_BUCKETS</a>,</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      ast_sorcery_internal_wizard_hash_fn, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ast_sorcery_internal_wizard_cmp_fn);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a>) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a>, 0, <a class="code" href="../../d7/d69/sorcery_8c.html#a0391d3b32e90b0c93cd74ba5d4de410c">INSTANCE_BUCKETS</a>,</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      sorcery_proxy_hash_fn, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, sorcery_proxy_cmp_fn);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a>) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#ad385272e6d9b3b91a7f7df10841a4cd1">sorcery_cleanup</a>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div><div class="ttc" id="sorcery_8c_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Registered global observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00281">sorcery.c:281</a></div></div>
<div class="ttc" id="sorcery_8c_html_aacba15bc05688aa4cd1e9fdde02ca0be"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a></div><div class="ttdeci">static struct ao2_container * instances</div><div class="ttdoc">Registered sorcery instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00284">sorcery.c:284</a></div></div>
<div class="ttc" id="structast__threadpool__options_html"><div class="ttname"><a href="../../de/de6/structast__threadpool__options.html">ast_threadpool_options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d40/threadpool_8h_source.html#l00070">threadpool.h:70</a></div></div>
<div class="ttc" id="threadpool_8h_html_ae95119c74a92ef5c17f55421b278a25c"><div class="ttname"><a href="../../d3/d40/threadpool_8h.html#ae95119c74a92ef5c17f55421b278a25c">AST_THREADPOOL_OPTIONS_VERSION</a></div><div class="ttdeci">#define AST_THREADPOOL_OPTIONS_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d40/threadpool_8h_source.html#l00071">threadpool.h:71</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="asterisk_8h_html_a412442e1beffe5bec07ed2e9ea72afc3"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a></div><div class="ttdeci">int ast_register_cleanup(void(*func)(void))</div><div class="ttdoc">Register a function to be executed before Asterisk gracefully exits. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00019">clicompat.c:19</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="sorcery_8c_html_a6dc11fc8f94173cc1af379b74a096abd"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a6dc11fc8f94173cc1af379b74a096abd">threadpool</a></div><div class="ttdeci">static struct ast_threadpool * threadpool</div><div class="ttdoc">Thread pool for observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00086">sorcery.c:86</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00367">astobj2.h:367</a></div></div>
<div class="ttc" id="sorcery_8c_html_ad385272e6d9b3b91a7f7df10841a4cd1"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ad385272e6d9b3b91a7f7df10841a4cd1">sorcery_cleanup</a></div><div class="ttdeci">static void sorcery_cleanup(void)</div><div class="ttdoc">Hashing and comparison functions for sorcery wizards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00369">sorcery.c:369</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa929f01f3d7d264cf787e15866b37db3"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a></div><div class="ttdeci">static struct ao2_container * wizards</div><div class="ttdoc">Registered sorcery wizards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00257">sorcery.c:257</a></div></div>
<div class="ttc" id="threadpool_8h_html_abf6fc4af30779217d37047cbb1fddd1a"><div class="ttname"><a href="../../d3/d40/threadpool_8h.html#abf6fc4af30779217d37047cbb1fddd1a">ast_threadpool_create</a></div><div class="ttdeci">struct ast_threadpool * ast_threadpool_create(const char *name, struct ast_threadpool_listener *listener, const struct ast_threadpool_options *options)</div><div class="ttdoc">Create a new threadpool. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/threadpool_8c_source.html#l00915">threadpool.c:915</a></div></div>
<div class="ttc" id="sorcery_8c_html_a0391d3b32e90b0c93cd74ba5d4de410c"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a0391d3b32e90b0c93cd74ba5d4de410c">INSTANCE_BUCKETS</a></div><div class="ttdeci">#define INSTANCE_BUCKETS</div><div class="ttdoc">Number of buckets for instances (should be prime for performance reasons) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00057">sorcery.c:57</a></div></div>
<div class="ttc" id="sorcery_8c_html_a5bfedcce5077b541b046f0c2e7e70434"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a5bfedcce5077b541b046f0c2e7e70434">WIZARD_BUCKETS</a></div><div class="ttdeci">#define WIZARD_BUCKETS</div><div class="ttdoc">Number of buckets for wizards (should be prime for performance reasons) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00051">sorcery.c:51</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0f5f4c63ea1bd82304c9c1bacd10068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f5f4c63ea1bd82304c9c1bacd10068">&#9670;&nbsp;</a></span>ast_sorcery_instance_observer_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_instance_observer_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dc/d45/structast__sorcery__instance__observer.html">ast_sorcery_instance_observer</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an observer to a sorcery instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">callbacks</td><td>Implementation of the instance observer interface</td></tr>
  </table>
  </dd>
</dl>
<p>An instance observer is notified... Before an instance is loaded or reloaded. After an instance is loaded or reloaded. After a wizard is mapped to an object type. After an object type is registered. Before an object type is loaded or reloaded. After an object type is loaded or reloaded.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>You must be ready to accept observer invocations before this function is called </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00520">520</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00272">sorcery_instance_observer::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00235">ast_sorcery::observers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00647">ast_sip_initialize_sorcery_global()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03267">AST_TEST_DEFINE()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01208">instance_created_observer()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02508">load_module()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00342">pjsip_outbound_registration_metrics_init()</a>, and <a class="el" href="../../d1/dca/general_8c_source.html#l00248">stir_shaken_general_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/db4/structsorcery__instance__observer.html">sorcery_instance_observer</a> *cb;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   cb = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*cb), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <span class="keywordflow">if</span> (!cb) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   cb-&gt;<a class="code" href="../../d6/db4/structsorcery__instance__observer.html#a00ffe3d3c79163ed44b849f177bc3132">callbacks</a> = <a class="code" href="../../d6/db4/structsorcery__instance__observer.html#a00ffe3d3c79163ed44b849f177bc3132">callbacks</a>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, cb);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cb, -1);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div><div class="ttc" id="structast__sorcery_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">ast_sorcery::observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00235">sorcery.c:235</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structsorcery__instance__observer_html"><div class="ttname"><a href="../../d6/db4/structsorcery__instance__observer.html">sorcery_instance_observer</a></div><div class="ttdoc">An instance observer wrapper. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00271">sorcery.c:271</a></div></div>
<div class="ttc" id="structsorcery__instance__observer_html_a00ffe3d3c79163ed44b849f177bc3132"><div class="ttname"><a href="../../d6/db4/structsorcery__instance__observer.html#a00ffe3d3c79163ed44b849f177bc3132">sorcery_instance_observer::callbacks</a></div><div class="ttdeci">const struct ast_sorcery_instance_observer * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00272">sorcery.c:272</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27e4472f54af1cf4a00c936b65c3967b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27e4472f54af1cf4a00c936b65c3967b">&#9670;&nbsp;</a></span>ast_sorcery_instance_observer_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_instance_observer_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dc/d45/structast__sorcery__instance__observer.html">ast_sorcery_instance_observer</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an observer from a sorcery instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">callbacks</td><td>Implementation of the instance observer interface </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00537">537</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00235">ast_sorcery::observers</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00491">sorcery_generic_observer_remove()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00630">ast_sip_destroy_sorcery_global()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03267">AST_TEST_DEFINE()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01220">instance_destroying_observer()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00342">pjsip_outbound_registration_metrics_init()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00323">pjsip_outbound_registration_metrics_unload_cb()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00232">stir_shaken_general_unload()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02461">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;{</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#a7c4b7a7ce4d9938ab23318f36554e211">sorcery_generic_observer_remove</a>, (<span class="keywordtype">void</span> *)callbacks);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="ttc" id="sorcery_8c_html_a7c4b7a7ce4d9938ab23318f36554e211"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a7c4b7a7ce4d9938ab23318f36554e211">sorcery_generic_observer_remove</a></div><div class="ttdeci">static int sorcery_generic_observer_remove(void *obj, void *arg, int flags)</div><div class="ttdoc">Internal callback function for removing a generic observer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00491">sorcery.c:491</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structast__sorcery_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">ast_sorcery::observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00235">sorcery.c:235</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab99442a9adf9d1ec437de912286aec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab99442a9adf9d1ec437de912286aec9">&#9670;&nbsp;</a></span>ast_sorcery_is_object_field_registered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_is_object_field_registered </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *&#160;</td>
          <td class="paramname"><em>object_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>field_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a particular object field has been registered with sorcery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object_type</td><td>The object type to check against </td></tr>
    <tr><td class="paramname">field_name</td><td>The name of the field to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>The field is not registered for this sorcery type </td></tr>
    <tr><td class="paramname">1</td><td>The field is registered for this sorcery type </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02509">2509</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00168">ast_sorcery_object_type::fields</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02495">is_registered_cb()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03107">AST_TEST_DEFINE()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00093">sorcery_astdb_filter_objectset()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00255">sorcery_is_explicit_name_met()</a>, and <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00111">sorcery_realtime_filter_objectset()</a>.</p>
<div class="fragment"><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;{</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a> *object_field;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;   <span class="keywordtype">int</span> res = 1;</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(object_type != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;   object_field = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a46a5ead2920319cfc713da3dc7d7e1e8">fields</a>, field_name, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;   <span class="keywordflow">if</span> (!object_field) {</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      object_field = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a46a5ead2920319cfc713da3dc7d7e1e8">fields</a>, 0, <a class="code" href="../../d7/d69/sorcery_8c.html#ae3226403b323497374f2d962b050af46">is_registered_cb</a>, (<span class="keywordtype">char</span> *)field_name);</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;   }</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;   <span class="keywordflow">if</span> (!object_field) {</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      res = 0;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;   }</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(object_field);</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object__field_html"><div class="ttname"><a href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a></div><div class="ttdoc">Structure for registered object field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00205">sorcery.c:205</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_a46a5ead2920319cfc713da3dc7d7e1e8"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#a46a5ead2920319cfc713da3dc7d7e1e8">ast_sorcery_object_type::fields</a></div><div class="ttdeci">struct ao2_container * fields</div><div class="ttdoc">Object fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00168">sorcery.c:168</a></div></div>
<div class="ttc" id="sorcery_8c_html_ae3226403b323497374f2d962b050af46"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ae3226403b323497374f2d962b050af46">is_registered_cb</a></div><div class="ttdeci">static int is_registered_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02495">sorcery.c:2495</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf633d11cfc74bd08b324e54476b2b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf633d11cfc74bd08b324e54476b2b42">&#9670;&nbsp;</a></span>ast_sorcery_is_stale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_is_stale </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a sorcery object is stale with respect to its backing datastore. </p>
<dl class="section since"><dt>Since</dt><dd>14.0.0</dd></dl>
<p>This function will query the wizard(s) backing the particular sorcery object to determine if the in-memory object is now stale. No action is taken to update the object. Callers of this function may use one of the ast_sorcery_retrieve functions to obtain a new instance of the object if desired.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>the object is not stale </td></tr>
    <tr><td class="paramname">1</td><td>the object is stale </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02283">2283</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00108">ast_sorcery_object_wizard::data</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00325">ast_sorcery_wizard::is_stale</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00278">ast_sorcery_wizard::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00105">ast_sorcery_object_wizard::wizard</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d43/bucket_8c_source.html#l00824">ast_bucket_file_is_stale()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00524">ast_bucket_is_stale()</a>, and <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l02234">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;{</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *found_wizard;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;   }</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;      found_wizard = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <span class="keywordflow">if</span> (found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ac0fdc21b6ceb953a7d826dc1f9d4dabc">is_stale</a>) {</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;         res |= found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ac0fdc21b6ceb953a7d826dc1f9d4dabc">is_stale</a>(sorcery, found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <span class="keywordtype">object</span>);</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;After calling wizard &#39;%s&#39;, object &#39;%s&#39; is %s\n&quot;</span>,</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;            found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;            <a class="code" href="../../d7/d69/sorcery_8c.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(<span class="keywordtype">object</span>),</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;            res ? <span class="stringliteral">&quot;stale&quot;</span> : <span class="stringliteral">&quot;not stale&quot;</span>);</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      }</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;   }</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="sorcery_8c_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">ast_sorcery_wizard::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Name of the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00278">sorcery.h:278</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ac16bd62b448ac0441af4a4e248f045fa"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">ast_sorcery_internal_wizard::callbacks</a></div><div class="ttdeci">struct ast_sorcery_wizard callbacks</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00096">sorcery.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a71f67ffd7e19fbcc54ef3b2844f30147"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">ast_sorcery_object_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_internal_wizard * wizard</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00105">sorcery.c:105</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">ast_sorcery_object_wizard::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">Unique data for the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00108">sorcery.c:108</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_ac0fdc21b6ceb953a7d826dc1f9d4dabc"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ac0fdc21b6ceb953a7d826dc1f9d4dabc">ast_sorcery_wizard::is_stale</a></div><div class="ttdeci">int(* is_stale)(const struct ast_sorcery *sorcery, void *data, void *object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00325">sorcery.h:325</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3454f8b35930698abffa65243dfcad02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3454f8b35930698abffa65243dfcad02">&#9670;&nbsp;</a></span>ast_sorcery_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_load </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform any wizards to load persistent objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01377">1377</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00238">ast_sorcery::module_name</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00079">NOTIFY_INSTANCE_OBSERVERS</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00235">ast_sorcery::observers</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery_load_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery_object_load()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00175">ast_sip_initialize_system()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l02570">AST_TEST_DEFINE()</a>, and <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00655">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;{</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a> details = {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      .<a class="code" href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      .reload = 0,</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;   };</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, instance_loading,</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, sorcery, 0);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a>, &amp;details);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, instance_loaded,</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, sorcery, 0);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="structast__sorcery_html_a67afd8cf4e033925cc6fb22f17b5ca01"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">ast_sorcery::module_name</a></div><div class="ttdeci">char * module_name</div><div class="ttdoc">Pointer to module_name in the associated sorcery_proxy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00238">sorcery.c:238</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structast__sorcery_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">ast_sorcery::observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00235">sorcery.c:235</a></div></div>
<div class="ttc" id="structsorcery__load__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_load_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Sorcery structure in use. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery.c:244</a></div></div>
<div class="ttc" id="structsorcery__load__details_html"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a></div><div class="ttdoc">Structure for passing load/reload details. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00242">sorcery.c:242</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="sorcery_8c_html_a9f8c36ae2566ea7e6556b4be48f8f6be"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a></div><div class="ttdeci">#define NOTIFY_INSTANCE_OBSERVERS(container, callback,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00079">sorcery.c:79</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa75322759014af911050ba90ab3df438"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a></div><div class="ttdeci">static int sorcery_object_load(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery.c:1336</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f052c6dd5e388e519725406a6af5215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f052c6dd5e388e519725406a6af5215">&#9670;&nbsp;</a></span>ast_sorcery_load_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_load_object </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform any wizards of a specific object type to load persistent objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Name of the object type to load </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01393">1393</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery_load_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery_object_load()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03267">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d5e/res__pjsip__acl_8c_source.html#l00297">load_module()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01918">reregister_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;{</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a> details = {</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      .<a class="code" href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      .reload = 0,</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;   };</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;   }</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a>(object_type, &amp;details, 0);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structsorcery__load__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_load_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Sorcery structure in use. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery.c:244</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structsorcery__load__details_html"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a></div><div class="ttdoc">Structure for passing load/reload details. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00242">sorcery.c:242</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa75322759014af911050ba90ab3df438"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a></div><div class="ttdeci">static int sorcery_object_load(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery.c:1336</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3750ffe75b90d002fa8c1675358e0136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3750ffe75b90d002fa8c1675358e0136">&#9670;&nbsp;</a></span>ast_sorcery_lockable_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_sorcery_lockable_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a7d525dc3c16f23f4b3fb657db1b1bc64">ao2_destructor_fn</a>&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lockobj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a generic sorcery capable object with locking. </p>
<dl class="section since"><dt>Since</dt><dd>14.1.0</dd></dl>
<p>Sorcery objects may be replaced with new allocations during reloads. If locking is required on sorcery objects it must be shared between the old object and the new one. lockobj can be any AO2 object with locking enabled, but in most cases named locks should be used to provide stable locking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Size of the object </td></tr>
    <tr><td class="paramname">destructor</td><td>Optional destructor function </td></tr>
    <tr><td class="paramname">lockobj</td><td>An AO2 object that will provide locking.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01712">1712</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00433">ao2_alloc_with_lockobj</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00135">ast_sorcery_object::destructor</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01700">sorcery_object_destructor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00050">aor_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;{</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;   <span class="keywordtype">void</span> *<span class="keywordtype">object</span> = <a class="code" href="../../d5/da5/astobj2_8h.html#a867e29f3bc8faab84d301e54ab9fc9b6">ao2_alloc_with_lockobj</a>(size + <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a>),</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      <a class="code" href="../../d7/d69/sorcery_8c.html#a9c79fcb6d6702688f9019e08e4df86c1">sorcery_object_destructor</a>, lockobj, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;   <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>) {</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;   }</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;   details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a> = <span class="keywordtype">object</span> + size;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;   details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#a93161268ec6c20ec0955810939d89d28">destructor</a> = destructor;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a867e29f3bc8faab84d301e54ab9fc9b6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a867e29f3bc8faab84d301e54ab9fc9b6">ao2_alloc_with_lockobj</a></div><div class="ttdeci">#define ao2_alloc_with_lockobj(data_size, destructor_fn, lockobj, tag)</div><div class="ttdoc">Allocate and initialize an object with separate locking. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00433">astobj2.h:433</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_a93161268ec6c20ec0955810939d89d28"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#a93161268ec6c20ec0955810939d89d28">ast_sorcery_object::destructor</a></div><div class="ttdeci">ao2_destructor_fn destructor</div><div class="ttdoc">Optional object destructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00135">sorcery.c:135</a></div></div>
<div class="ttc" id="structast__sorcery__object_html"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html">ast_sorcery_object</a></div><div class="ttdoc">Structure for internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00127">sorcery.c:127</a></div></div>
<div class="ttc" id="sorcery_8c_html_a9c79fcb6d6702688f9019e08e4df86c1"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a9c79fcb6d6702688f9019e08e4df86c1">sorcery_object_destructor</a></div><div class="ttdeci">static void sorcery_object_destructor(void *object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01700">sorcery.c:1700</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f0ff2b69990cd594471a830dea51f6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0ff2b69990cd594471a830dea51f6c">&#9670;&nbsp;</a></span>ast_sorcery_object_fields_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_object_fields_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>regex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dfe/config__options_8h.html#a125d968d49c3de5aa2cad7d723682ee0">aco_option_handler</a>&#160;</td>
          <td class="paramname"><em>config_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d25/sorcery_8h.html#a47b87d91c7d50f1d1f2e833783833973">sorcery_fields_handler</a>&#160;</td>
          <td class="paramname"><em>sorcery_handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a regex for multiple fields within an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">regex</td><td>A regular expression pattern for the fields </td></tr>
    <tr><td class="paramname">config_handler</td><td>A custom handler for translating the string representation of the fields </td></tr>
    <tr><td class="paramname">sorcery_handler</td><td>A custom handler for translating the native representation of the fields</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01160">1160</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00300">__aco_option_register()</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00065">ACO_REGEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00290">ast_alloca</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d7/d69/sorcery_8c.html#a46e524af59f26e0f0825b21acf9ea886">MAX_REGEX_ERROR_LEN</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00351">OPT_CUSTOM_T</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01150">sorcery_object_field_destructor()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01080">__ast_sorcery_object_register()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00665">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00368">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;{</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="preprocessor">#define MAX_REGEX_ERROR_LEN 128</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a> *, object_field, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;   <span class="keywordtype">int</span> rc;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;   <span class="keywordflow">if</span> (!object_type || !object_type-&gt;type.item_alloc || !<a class="code" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      || !(object_field = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*object_field), <a class="code" href="../../d7/d69/sorcery_8c.html#ae374134c03338df962252d11479b9040">sorcery_object_field_destructor</a>))) {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;   }</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(object_field-&gt;name, <a class="code" href="../../d9/d1e/func__strings_8c.html#a1b62eb9e3ebf087509f4301aa6336931">regex</a>, <span class="keyword">sizeof</span>(object_field-&gt;name));</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   object_field-&gt;multiple_handler = sorcery_handler;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;   <span class="keywordflow">if</span> (!(object_field-&gt;name_regex = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(regex_t)))) {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;   }</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;   <span class="keywordflow">if</span> ((rc = regcomp(object_field-&gt;name_regex, <a class="code" href="../../d9/d1e/func__strings_8c.html#a1b62eb9e3ebf087509f4301aa6336931">regex</a>, REG_EXTENDED | REG_NOSUB))) {</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="keywordtype">char</span> *regerr = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#a46e524af59f26e0f0825b21acf9ea886">MAX_REGEX_ERROR_LEN</a>);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      regerror(rc, object_field-&gt;name_regex, regerr, <a class="code" href="../../d7/d69/sorcery_8c.html#a46e524af59f26e0f0825b21acf9ea886">MAX_REGEX_ERROR_LEN</a>);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Regular expression &#39;%s&#39; failed to compile: %s\n&quot;</span>, <a class="code" href="../../d9/d1e/func__strings_8c.html#a1b62eb9e3ebf087509f4301aa6336931">regex</a>, regerr);</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   }</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(object_type-&gt;fields, object_field);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#aea040de44c8cae1a54114e9c7143698e">__aco_option_register</a>(object_type-&gt;info, <a class="code" href="../../d9/d1e/func__strings_8c.html#a1b62eb9e3ebf087509f4301aa6336931">regex</a>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572addc09c8f4d22367db9ba30a9ec6803a7">ACO_REGEX</a>, object_type-&gt;file-&gt;types, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a73fe8fd0e2998744abd43b5908515f34">OPT_CUSTOM_T</a>, <a class="code" href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a>, 0, 1, 0);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="config__options_8h_html_a1b87da445ce6937e5cfbdaed1288a572addc09c8f4d22367db9ba30a9ec6803a7"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572addc09c8f4d22367db9ba30a9ec6803a7">ACO_REGEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00065">config_options.h:65</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="config__options_8h_html_a61bb4940517e7d00e7104de8273c2144a73fe8fd0e2998744abd43b5908515f34"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a73fe8fd0e2998744abd43b5908515f34">OPT_CUSTOM_T</a></div><div class="ttdoc">Type for a custom (user-defined) option handler. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00351">config_options.h:351</a></div></div>
<div class="ttc" id="sorcery_8c_html_a46e524af59f26e0f0825b21acf9ea886"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a46e524af59f26e0f0825b21acf9ea886">MAX_REGEX_ERROR_LEN</a></div><div class="ttdeci">#define MAX_REGEX_ERROR_LEN</div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__object__field_html"><div class="ttname"><a href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a></div><div class="ttdoc">Structure for registered object field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00205">sorcery.c:205</a></div></div>
<div class="ttc" id="config__options_8h_html_aea040de44c8cae1a54114e9c7143698e"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#aea040de44c8cae1a54114e9c7143698e">__aco_option_register</a></div><div class="ttdeci">int __aco_option_register(struct aco_info *info, const char *name, enum aco_matchtype match_type, struct aco_type **types, const char *default_val, enum aco_option_type type, aco_option_handler handler, unsigned int flags, unsigned int no_doc, size_t argc,...)</div><div class="ttdoc">register a config option </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00300">config_options.c:300</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="func__strings_8c_html_a1b62eb9e3ebf087509f4301aa6336931"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#a1b62eb9e3ebf087509f4301aa6336931">regex</a></div><div class="ttdeci">static int regex(struct ast_channel *chan, const char *cmd, char *parse, char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l00948">func_strings.c:948</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res__config__sqlite_8c_html_a7c363143661597b8480ef856c1acad80"><div class="ttname"><a href="../../d4/dd3/res__config__sqlite_8c.html#a7c363143661597b8480ef856c1acad80">config_handler</a></div><div class="ttdeci">static struct ast_config * config_handler(const char *database, const char *table, const char *file, struct ast_config *cfg, struct ast_flags flags, const char *suggested_incl, const char *who_asked)</div><div class="ttdoc">Asterisk callback function for static configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd3/res__config__sqlite_8c_source.html#l00905">res_config_sqlite.c:905</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="sorcery_8c_html_ae374134c03338df962252d11479b9040"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ae374134c03338df962252d11479b9040">sorcery_object_field_destructor</a></div><div class="ttdeci">static void sorcery_object_field_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01150">sorcery.c:1150</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aafedd9314ddad10fe9d380c12ee1aff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafedd9314ddad10fe9d380c12ee1aff1">&#9670;&nbsp;</a></span>ast_sorcery_object_get_created()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct timeval ast_sorcery_object_get_created </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get when the socery object was created. </p>
<dl class="section since"><dt>Since</dt><dd>14.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>time when the object was created </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02318">2318</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00141">ast_sorcery_object::created</a>, and <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>.</p>
<div class="fragment"><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;{</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;   <span class="keywordflow">return</span> details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#a529e497bc965817d03dbcdc5805305c4">created</a>;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;}</div><div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_a529e497bc965817d03dbcdc5805305c4"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#a529e497bc965817d03dbcdc5805305c4">ast_sorcery_object::created</a></div><div class="ttdeci">struct timeval created</div><div class="ttdoc">Time that the object was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00141">sorcery.c:141</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae70a3da16c7f573f76426568cb156aa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae70a3da16c7f573f76426568cb156aa2">&#9670;&nbsp;</a></span>ast_sorcery_object_get_extended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sorcery_object_get_extended </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an extended field value from a sorcery object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the extended field value</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>if found </td></tr>
    <tr><td class="paramname">NULL</td><td>if not found</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned string does NOT need to be freed and is guaranteed to remain valid for the lifetime of the object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02330">2330</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00138">ast_sorcery_object::extended</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l01514">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00322">asterisk_start_devicestate_publishing()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00401">asterisk_start_mwi_publishing()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00837">delete_existing_cb()</a>, and <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00837">publisher_start()</a>.</p>
<div class="fragment"><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;{</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *field;</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;   <span class="keywordflow">for</span> (field = details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ad55b71f53852ca9bd44fd33cfcc66e52">extended</a>; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;      <span class="keywordflow">if</span> (!strcmp(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> + 1, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;         <span class="keywordflow">return</span> field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>;</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      }</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;   }</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ad55b71f53852ca9bd44fd33cfcc66e52"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ad55b71f53852ca9bd44fd33cfcc66e52">ast_sorcery_object::extended</a></div><div class="ttdeci">struct ast_variable * extended</div><div class="ttdoc">Extended object fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00138">sorcery.c:138</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a97706283a06cbb44e4f0f9620dd5cf07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97706283a06cbb44e4f0f9620dd5cf07">&#9670;&nbsp;</a></span>ast_sorcery_object_get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sorcery_object_get_id </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the unique identifier of a sorcery object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">unique</td><td>identifier </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">2312</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00129">ast_sorcery_object::id</a>, and <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l04347">__print_debug_details()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01405">allocate_subscription_tree()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00729">allow_and_or_replace_unsolicited()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02135">ami_outbound_registration_task()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01190">ami_show_registration_contact_statuses()</a>, <a class="el" href="../../df/dd7/res__pjsip__endpoint__identifier__anonymous_8c_source.html#l00062">anonymous_identify()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00081">aor_deleted_observer()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00701">apply_acls()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00849">ast_bucket_file_json()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00544">ast_bucket_json()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00210">ast_mwi_mailbox_get_id()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00235">ast_mwi_mailbox_update()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00462">ast_res_pjsip_find_or_create_contact_status()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04028">ast_sip_create_dialog_uac()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01868">ast_sip_create_subscription()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00719">ast_sip_for_each_contact()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02717">ast_sip_format_contact_ami()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00523">ast_sip_get_contact_status()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01507">ast_sip_get_device_state()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01618">ast_sip_initialize_sorcery_transport()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00355">ast_sip_location_create_contact()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00219">ast_sip_location_retrieve_aor_contacts_nolock_filtered()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02990">ast_sip_session_alloc()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03317">ast_sip_session_create_outgoing()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l00115">ast_sip_session_get_name()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03907">ast_sip_set_tpselector_from_transport()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01389">ast_sip_subscription_destroy()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02283">ast_sorcery_is_stale()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02470">ast_sorcery_object_id_hash()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02435">ast_sorcery_object_id_sort()</a>, <a class="el" href="../../d1/d2d/test__bucket_8c_source.html#l00160">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00492">asterisk_publication_devicestate()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00559">asterisk_publication_devicestate_refresh()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00594">asterisk_publication_devicestate_state_change()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00524">asterisk_publication_mailboxstate()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00650">asterisk_publication_mwi_refresh()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00685">asterisk_publication_mwi_state_change()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00093">auth_apply()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02332">auth_observer()</a>, <a class="el" href="../../d5/d52/res__http__media__cache_8c_source.html#l00251">bucket_file_run_curl()</a>, <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00150">bucket_file_update_path()</a>, <a class="el" href="../../df/df4/test__media__cache_8c_source.html#l00060">bucket_http_test_wizard_create()</a>, <a class="el" href="../../df/df4/test__media__cache_8c_source.html#l00109">bucket_http_test_wizard_delete()</a>, <a class="el" href="../../df/df4/test__media__cache_8c_source.html#l00074">bucket_http_test_wizard_update()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01135">build_resource_tree()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01461">can_reuse_registration()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01152">cancel_and_unpublish()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l01612">chan_pjsip_indicate()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00547">chan_pjsip_new()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l02226">change_outgoing_sdp_stream_media_address()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02372">check_state()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01151">cli_aor_get_id()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01183">cli_aor_print_body()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00913">cli_complete_endpoint()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01924">cli_complete_registration()</a>, <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00518">cli_complete_uri()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01106">cli_contact_print_body()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01874">cli_endpoint_print_body()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00675">cli_iterator()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04524">cli_list_subscriptions_detail()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00326">cli_print_body()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04384">cli_show_subscriptions_detail()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01169">codec_prefs_handler()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00265">common_identify()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00534">connected_line_method_handler()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01326">contact_apply_handler()</a>, <a class="el" href="../../de/d6a/func__pjsip__contact_8c_source.html#l00075">contact_function_get_permanent()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04177">create_dialog_uas()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04380">create_out_of_dialog_request()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00228">create_rtp()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01188">create_unsolicited_mwi_subscriptions()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01492">current_state_reusable()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01201">destroy_subscription()</a>, <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00405">digest_check_auth()</a>, <a class="el" href="../../d4/d61/res__pjsip__outbound__authenticator__digest_8c_source.html#l00410">digest_create_request_with_auth()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00557">direct_media_glare_mitigation_handler()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00504">direct_media_method_handler()</a>, <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00054">domain_alias_apply()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04751">endpt_send_request()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00498">expire_objects_from_cache()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00453">find_internal_state_by_transport()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00534">find_or_create_temporary_state()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01007">find_registrar_aor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00828">format_ami_aor_handler()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00168">format_ami_auth_handler()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00646">format_ami_endpoint_identify()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00168">format_ami_endpoint_transport()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00995">from_user_handler()</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">get_account_id()</a>, <a class="el" href="../../d5/d52/res__http__media__cache_8c_source.html#l00204">get_curl_instance()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01230">handle_export_primitives()</a>, <a class="el" href="../../d2/d14/res__pjsip__send__to__voicemail_8c_source.html#l00125">handle_incoming_request()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00358">handle_slash()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00682">has_mwi_subscription()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00178">header_identify_match_check()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00400">ident_handler()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00502">internal_state_alloc()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00443">ip_identify_apply()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00245">ip_identify_match_check()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00387">ip_identify_match_handler()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00512">line_identify()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00841">load_module()</a>, <a class="el" href="../../dc/d13/pjsip__session__caps_8c_source.html#l00032">log_caps()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00605">mark_object_as_stale_in_cache()</a>, <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00536">media_cache_handle_show_item()</a>, <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00114">media_cache_item_del_from_astdb()</a>, <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00096">media_cache_item_sync_to_astdb()</a>, <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00478">media_cache_prnt_summary()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01126">memory_cache_stale_update_object()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01221">msg_send()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01361">mwi_contact_changed()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00110">mwi_observe_delete()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00092">mwi_post_event()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00231">mwi_subscription_alloc()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00844">mwi_validate_for_aor()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00412">new_subscribe()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00251">on_load_attestation()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00589">permanent_uri_handler()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00495">permanent_uri_sort_fn()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01413">persistent_endpoint_find_or_create()</a>, <a class="el" href="../../dd/d92/func__pjsip__aor_8c_source.html#l00070">pjsip_aor_function_read()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03214">publish_request_initial()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00837">publisher_start()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00936">publisher_stop()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03614">pubsub_on_rx_mwi_notify_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03326">pubsub_on_rx_publish_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02969">pubsub_on_rx_subscribe_request()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00786">qualify_contact_cb()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00862">read_pjsip()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00485">redirect_handler()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00789">refer_incoming_attended_request()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00886">refer_incoming_blind_request()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00969">refer_incoming_invite_request()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l01088">refer_incoming_refer_request()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00382">refer_progress_alloc()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00403">registrar_contact_delete()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01076">registrar_on_rx_request()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02430">registration_deleted_observer()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00440">registration_state_cmp()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00419">registration_state_hash()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00465">remove_from_cache()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01182">remove_subscription()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04838">resource_list_apply_handler()</a>, <a class="el" href="../../da/d5c/res__pjsip__rfc3326_8c_source.html#l00094">rfc3326_add_reason_header()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01035">rx_data_to_ast_msg()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02900">session_destructor()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05395">session_inv_on_redirected()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l04731">session_inv_on_tsx_state_changed()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05457">session_outgoing_nat_hook()</a>, <a class="el" href="../../d4/d61/res__pjsip__outbound__authenticator__digest_8c_source.html#l00127">set_outbound_authentication_credentials()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00777">sip_aor_to_ami()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01443">sip_endpoint_apply_handler()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00963">sip_options_aor_alloc()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02025">sip_options_aor_observer_deleted_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01960">sip_options_aor_observer_modified_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01240">sip_options_apply_aor_configuration()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00661">sip_options_contact_status_notify_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01863">sip_options_endpoint_observer_deleted_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01893">sip_options_endpoint_observer_modified_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01472">sip_options_endpoint_state_compositor_find_or_alloc()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01819">sip_options_endpoint_unlink_aor_feeders()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00847">sip_options_qualify_contact()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01010">sip_options_remove_contact_status()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01421">sip_options_synchronize_aor()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01584">sip_options_synchronize_endpoint()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01545">sip_outbound_publish_apply()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01260">sip_outbound_publish_callback()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01423">sip_outbound_publish_state_alloc()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00470">sip_outbound_publish_synchronize()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01033">sip_outbound_publisher_alloc()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00935">sip_outbound_publisher_init()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00889">sip_outbound_publisher_set_uris()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01744">sip_outbound_registration_apply()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01603">sip_outbound_registration_regc_alloc()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01314">sip_outbound_registration_state_alloc()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01601">sip_sorcery_object_ami_set_type_name()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01989">sip_subscription_send_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01820">sip_subscription_to_ami()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00066">sorcery_astdb_create()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00384">sorcery_astdb_delete()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00368">sorcery_astdb_update()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00132">sorcery_config_fields_cmp()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01825">sorcery_memory_cache_complete_object_name()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00805">sorcery_memory_cache_create()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01598">sorcery_memory_cache_delete()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01254">sorcery_memory_cache_fields_cmp()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01744">sorcery_memory_cache_print_object()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01219">sorcery_memory_cache_retrieve_id()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00394">sorcery_memory_cached_object_cmp()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00360">sorcery_memory_cached_object_hash()</a>, <a class="el" href="../../d2/d0a/res__sorcery__memory_8c_source.html#l00098">sorcery_memory_cmp()</a>, <a class="el" href="../../d2/d0a/res__sorcery__memory_8c_source.html#l00105">sorcery_memory_create()</a>, <a class="el" href="../../d2/d0a/res__sorcery__memory_8c_source.html#l00244">sorcery_memory_delete()</a>, <a class="el" href="../../d2/d0a/res__sorcery__memory_8c_source.html#l00125">sorcery_memory_fields_cmp()</a>, <a class="el" href="../../d2/d0a/res__sorcery__memory_8c_source.html#l00090">sorcery_memory_hash()</a>, <a class="el" href="../../d2/d0a/res__sorcery__memory_8c_source.html#l00226">sorcery_memory_update()</a>, <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00080">sorcery_realtime_create()</a>, <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00297">sorcery_realtime_delete()</a>, <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00285">sorcery_realtime_update()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00989">stale_item_update()</a>, <a class="el" href="../../d5/d58/stir__shaken_8c_source.html#l00035">stir_shaken_cli_show()</a>, <a class="el" href="../../d5/d58/stir__shaken_8c_source.html#l00066">stir_shaken_tab_complete_name()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00427">subscription_established()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00637">subscription_persistence_create()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00745">subscription_persistence_remove()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01367">subscription_tree_destructor()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00950">tos_handler()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00632">transport_apply()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00880">transport_tls_file_handler()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01419">transport_tos_handler()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l03254">update_devstate()</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00289">users_apply_handler()</a>, and <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01461">validate_publish_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;{</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;   <span class="keywordflow">return</span> details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">id</a>;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;}</div><div class="ttc" id="structast__sorcery__object_html_aecb3b0d045ada529257a2fbf8f829599"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">ast_sorcery_object::id</a></div><div class="ttdeci">char * id</div><div class="ttdoc">Unique identifier of this object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00129">sorcery.c:129</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6d61f7f74e9face6219d1d3f5f0671c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d61f7f74e9face6219d1d3f5f0671c">&#9670;&nbsp;</a></span>ast_sorcery_object_get_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sorcery_object_get_type </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the type of a sorcery object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">type</td><td>of object </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02324">2324</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01805">ast_sorcery_diff()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00714">AST_TEST_DEFINE()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01158">memory_cache_stale_check_object()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01126">memory_cache_stale_update_object()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00777">sip_aor_to_ami()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01601">sip_sorcery_object_ami_set_type_name()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00066">sorcery_astdb_create()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00384">sorcery_astdb_delete()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00368">sorcery_astdb_update()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00989">stale_item_update()</a>, and <a class="el" href="../../d5/d58/stir__shaken_8c_source.html#l00035">stir_shaken_cli_show()</a>.</p>
<div class="fragment"><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;{</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;   <span class="keywordflow">return</span> details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;}</div><div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98bf438f6fd3c4f9a2de8bd4c0949cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98bf438f6fd3c4f9a2de8bd4c0949cf1">&#9670;&nbsp;</a></span>ast_sorcery_object_has_dynamic_contents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sorcery_object_has_dynamic_contents </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get whether an object contains dynamic contents or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>19 </dd>
<dd>
18.3.0 </dd>
<dd>
16.17.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02372">2372</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00144">ast_sorcery_object::has_dynamic_contents</a>, and <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00316">sorcery_config_internal_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;{</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;   <span class="keywordflow">return</span> details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#a33f16d96196467f3b40236e900f467e6">has_dynamic_contents</a>;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;}</div><div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_a33f16d96196467f3b40236e900f467e6"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#a33f16d96196467f3b40236e900f467e6">ast_sorcery_object::has_dynamic_contents</a></div><div class="ttdeci">unsigned int has_dynamic_contents</div><div class="ttdoc">Whether this object has dynamic contents or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00144">sorcery.c:144</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83eba565782cb769634180b88db29d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83eba565782cb769634180b88db29d45">&#9670;&nbsp;</a></span>ast_sorcery_object_id_compare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_object_id_compare </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ao2 object comparator based on sorcery id. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02459">2459</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02435">ast_sorcery_object_id_sort()</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00688">ast_media_cache_init()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00879">cli_aor_get_container()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01796">cli_endpoint_get_container()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00277">cli_get_container()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">handle_registrations()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00963">sip_options_aor_alloc()</a>, and <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00316">sorcery_config_internal_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;{</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;   <span class="keywordtype">int</span> cmp;</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;   cmp = <a class="code" href="../../d7/d69/sorcery_8c.html#aafb892d94b22a7cee58517f4ab19387f">ast_sorcery_object_id_sort</a>(obj, arg, flags);</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;   <span class="keywordflow">if</span> (cmp) {</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;   }</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;}</div><div class="ttc" id="sorcery_8c_html_aafb892d94b22a7cee58517f4ab19387f"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aafb892d94b22a7cee58517f4ab19387f">ast_sorcery_object_id_sort</a></div><div class="ttdeci">int ast_sorcery_object_id_sort(const void *obj, const void *arg, int flags)</div><div class="ttdoc">ao2 object sorter based on sorcery id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02435">sorcery.c:2435</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1f5af56d5d734902a6df545843a8d55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1f5af56d5d734902a6df545843a8d55">&#9670;&nbsp;</a></span>ast_sorcery_object_id_hash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_object_id_hash </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ao2 object hasher based on sorcery id. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02470">2470</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01206">ast_str_hash()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01076">OBJ_SEARCH_MASK</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01091">OBJ_SEARCH_OBJECT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00688">ast_media_cache_init()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00963">sip_options_aor_alloc()</a>, and <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00316">sorcery_config_internal_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;{</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *key;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;   <span class="keywordflow">switch</span> (flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca61056b5855dc9921faa4f10a67b1a250">OBJ_SEARCH_MASK</a>) {</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>:</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;      key = obj;</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4a56217fdad3e940fa6b87dfd296c829">OBJ_SEARCH_OBJECT</a>:</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      key = <a class="code" href="../../d7/d69/sorcery_8c.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(obj);</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      <span class="comment">/* Hash can only work on something with a full key. */</span></div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;   }</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a>(key);</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="sorcery_8c_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca4a56217fdad3e940fa6b87dfd296c829"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4a56217fdad3e940fa6b87dfd296c829">OBJ_SEARCH_OBJECT</a></div><div class="ttdoc">The arg parameter is an object of the same type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01091">astobj2.h:1091</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca61056b5855dc9921faa4f10a67b1a250"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca61056b5855dc9921faa4f10a67b1a250">OBJ_SEARCH_MASK</a></div><div class="ttdoc">Search option field mask. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01076">astobj2.h:1076</a></div></div>
<div class="ttc" id="strings_8h_html_a33ab7fa091d5513d8507d3bd33ef5b55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01206">strings.h:1206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aafb892d94b22a7cee58517f4ab19387f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb892d94b22a7cee58517f4ab19387f">&#9670;&nbsp;</a></span>ast_sorcery_object_id_sort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_object_id_sort </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ao2 object sorter based on sorcery id. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02435">2435</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01076">OBJ_SEARCH_MASK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01091">OBJ_SEARCH_OBJECT</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01120">OBJ_SEARCH_PARTIAL_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02459">ast_sorcery_object_id_compare()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00879">cli_aor_get_container()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01796">cli_endpoint_get_container()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00277">cli_get_container()</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00963">sip_options_aor_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;{</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">void</span> *object_left = obj;</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">void</span> *object_right = arg;</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *right_key = arg;</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;   <span class="keywordtype">int</span> cmp;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;   <span class="keywordflow">switch</span> (flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca61056b5855dc9921faa4f10a67b1a250">OBJ_SEARCH_MASK</a>) {</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4a56217fdad3e940fa6b87dfd296c829">OBJ_SEARCH_OBJECT</a>:</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      right_key = <a class="code" href="../../d7/d69/sorcery_8c.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(object_right);</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      <span class="comment">/* Fall through */</span></div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>:</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      cmp = strcmp(<a class="code" href="../../d7/d69/sorcery_8c.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(object_left), right_key);</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca269370d42230fc6aa6700e2948e1eb20">OBJ_SEARCH_PARTIAL_KEY</a>:</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      cmp = strncmp(<a class="code" href="../../d7/d69/sorcery_8c.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(object_left), right_key, strlen(right_key));</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      cmp = 0;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;   }</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;   <span class="keywordflow">return</span> cmp;</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="sorcery_8c_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca269370d42230fc6aa6700e2948e1eb20"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca269370d42230fc6aa6700e2948e1eb20">OBJ_SEARCH_PARTIAL_KEY</a></div><div class="ttdoc">The arg parameter is a partial search key similar to OBJ_SEARCH_KEY. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01120">astobj2.h:1120</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca4a56217fdad3e940fa6b87dfd296c829"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca4a56217fdad3e940fa6b87dfd296c829">OBJ_SEARCH_OBJECT</a></div><div class="ttdoc">The arg parameter is an object of the same type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01091">astobj2.h:1091</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca61056b5855dc9921faa4f10a67b1a250"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca61056b5855dc9921faa4f10a67b1a250">OBJ_SEARCH_MASK</a></div><div class="ttdoc">Search option field mask. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01076">astobj2.h:1076</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae85042bbb251fbfdb893d6f2ed6500c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae85042bbb251fbfdb893d6f2ed6500c3">&#9670;&nbsp;</a></span>ast_sorcery_object_set_congestion_levels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_object_set_congestion_levels </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>low_water</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>high_water</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the high and low alert water marks of the sorcery object type. </p>
<dl class="section since"><dt>Since</dt><dd>13.10.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">low_water</td><td>New queue low water mark. (-1 to set as 90% of high_water) </td></tr>
    <tr><td class="paramname">high_water</td><td>New queue high water mark.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error (water marks not changed). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01114">1114</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00830">ast_taskprocessor_alert_set_levels()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00183">ast_sorcery_object_type::serializer</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>.</p>
<div class="fragment"><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;{</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *object_type;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   object_type = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;   <span class="keywordflow">if</span> (object_type) {</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#ad4d9150df7126ae11064d38c755d0813">ast_taskprocessor_alert_set_levels</a>(object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#ac23e23ba60f358de78a893d537c0afa4">serializer</a>,</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;         low_water, high_water);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(object_type, -1);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_ad4d9150df7126ae11064d38c755d0813"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#ad4d9150df7126ae11064d38c755d0813">ast_taskprocessor_alert_set_levels</a></div><div class="ttdeci">int ast_taskprocessor_alert_set_levels(struct ast_taskprocessor *tps, long low_water, long high_water)</div><div class="ttdoc">Set the high and low alert water marks of the given taskprocessor queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l00830">taskprocessor.c:830</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_ac23e23ba60f358de78a893d537c0afa4"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#ac23e23ba60f358de78a893d537c0afa4">ast_sorcery_object_type::serializer</a></div><div class="ttdeci">struct ast_taskprocessor * serializer</div><div class="ttdoc">Serializer for observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00183">sorcery.c:183</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a491958842ab12e57b6508a7759e9f8f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491958842ab12e57b6508a7759e9f8f5">&#9670;&nbsp;</a></span>ast_sorcery_object_set_copy_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_object_set_copy_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d25/sorcery_8h.html#a987241524cd0fcb400bf58bff9e814d2">sorcery_copy_handler</a>&#160;</td>
          <td class="paramname"><em>copy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the copy handler for an object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">copy</td><td>Copy handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01128">1128</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l04629">copy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d43/bucket_8c_source.html#l00954">ast_bucket_init()</a>, and <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00862">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;{</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;   }</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;   object_type-&gt;copy = <a class="code" href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="app__voicemail_8c_html_abe15777a07ac747625b018ac01f92531"><div class="ttname"><a href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a></div><div class="ttdeci">static int copy(char *infile, char *outfile)</div><div class="ttdoc">Utility function to copy a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/app__voicemail_8c_source.html#l04629">app_voicemail.c:4629</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd74f6681809ec08103d74b3f1e0c148"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd74f6681809ec08103d74b3f1e0c148">&#9670;&nbsp;</a></span>ast_sorcery_object_set_diff_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_object_set_diff_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d25/sorcery_8h.html#a7d47110070fafb04ee89e3eef65f9dcb">sorcery_diff_handler</a>&#160;</td>
          <td class="paramname"><em>diff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the diff handler for an object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object </td></tr>
    <tr><td class="paramname">diff</td><td>Diff handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01139">1139</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00162">ast_sorcery_object_type::diff</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l01003">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;{</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   object_type-&gt;diff = <a class="code" href="../../d9/d60/structast__sorcery__object__type.html#aa0c2f9ad1e21122d23bcf3e999d38d99">diff</a>;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_aa0c2f9ad1e21122d23bcf3e999d38d99"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#aa0c2f9ad1e21122d23bcf3e999d38d99">ast_sorcery_object_type::diff</a></div><div class="ttdeci">sorcery_diff_handler diff</div><div class="ttdoc">Optional object diff callback. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00162">sorcery.c:162</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a217532be2b914ca2ac4e242e4ea14383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217532be2b914ca2ac4e242e4ea14383">&#9670;&nbsp;</a></span>ast_sorcery_object_set_extended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_object_set_extended </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an extended field value on a sorcery object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the extended field </td></tr>
    <tr><td class="paramname">value</td><td>Value of the extended field</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The field name MUST begin with '@' to indicate it is an extended field. </dd>
<dd>
If the extended field already exists it will be overwritten with the new value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02344">2344</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00138">ast_sorcery_object::extended</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l01514">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01043">sorcery_extended_config_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;{</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, field, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *extended = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;&quot;</span>), *previous = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;   <span class="keywordflow">if</span> (!extended) {</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;   }</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;   <span class="keywordflow">for</span> (field = details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ad55b71f53852ca9bd44fd33cfcc66e52">extended</a>; field; previous = field, field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;      <span class="keywordflow">if</span> (!strcmp(field-&gt;name, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;         <span class="keywordflow">if</span> (previous) {</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;            previous-&gt;next = field-&gt;next;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;            details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ad55b71f53852ca9bd44fd33cfcc66e52">extended</a> = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;         }</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;         field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;      }</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;   }</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;   extended-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a> = details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ad55b71f53852ca9bd44fd33cfcc66e52">extended</a>;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;   details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ad55b71f53852ca9bd44fd33cfcc66e52">extended</a> = extended;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ad55b71f53852ca9bd44fd33cfcc66e52"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ad55b71f53852ca9bd44fd33cfcc66e52">ast_sorcery_object::extended</a></div><div class="ttdeci">struct ast_variable * extended</div><div class="ttdoc">Extended object fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00138">sorcery.c:138</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a49eed1ef2c9b59a9f15c8bb943b28ba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49eed1ef2c9b59a9f15c8bb943b28ba8">&#9670;&nbsp;</a></span>ast_sorcery_object_set_has_dynamic_contents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_object_set_has_dynamic_contents </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the dynamic contents flag on a sorcery object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>19 </dd>
<dd>
18.3.0 </dd>
<dd>
16.17.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02379">2379</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00144">ast_sorcery_object::has_dynamic_contents</a>, and <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00443">ip_identify_apply()</a>.</p>
<div class="fragment"><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;{</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;   details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#a33f16d96196467f3b40236e900f467e6">has_dynamic_contents</a> = 1;</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;}</div><div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_a33f16d96196467f3b40236e900f467e6"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#a33f16d96196467f3b40236e900f467e6">ast_sorcery_object::has_dynamic_contents</a></div><div class="ttdeci">unsigned int has_dynamic_contents</div><div class="ttdoc">Whether this object has dynamic contents or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00144">sorcery.c:144</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7956acdd8675b6d55407ea134fb371cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7956acdd8675b6d55407ea134fb371cc">&#9670;&nbsp;</a></span>ast_sorcery_object_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_object_unregister </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister an object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01061">1061</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/dfe/config__options_8h_source.html#l00042">ACO_ITEM</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01622">ao2_unlink_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00720">ao2_wrlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00177">ast_sorcery_object_type::type</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00123">aco_type::type</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01622">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;{</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *object_type;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   object_type = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   <span class="keywordflow">if</span> (object_type &amp;&amp; object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#ac8c0e9a73f52949558237561185dd95f">type</a>.<a class="code" href="../../de/d71/structaco__type.html#a41ea490a42392545d2f6e2c6888cd94e">type</a> == <a class="code" href="../../db/dfe/config__options_8h.html#a840871f014617f5415dacb9a7d32a59ba423543a2da4422bd5c7664a0b8ca84d8">ACO_ITEM</a>) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a77df7775a2a8b6cbef307e211dbf045c">ao2_unlink_flags</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      res = 0;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;   <span class="comment">/* XXX may need to add an instance unregister observer callback on success. */</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(object_type);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="config__options_8h_html_a840871f014617f5415dacb9a7d32a59ba423543a2da4422bd5c7664a0b8ca84d8"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a840871f014617f5415dacb9a7d32a59ba423543a2da4422bd5c7664a0b8ca84d8">ACO_ITEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00042">config_options.h:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3498e30d6154a052e7b64b7a96da8b4b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a></div><div class="ttdeci">#define ao2_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00720">astobj2.h:720</a></div></div>
<div class="ttc" id="structaco__type_html_a41ea490a42392545d2f6e2c6888cd94e"><div class="ttname"><a href="../../de/d71/structaco__type.html#a41ea490a42392545d2f6e2c6888cd94e">aco_type::type</a></div><div class="ttdeci">enum aco_type_t type</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00123">config_options.h:123</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_ac8c0e9a73f52949558237561185dd95f"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#ac8c0e9a73f52949558237561185dd95f">ast_sorcery_object_type::type</a></div><div class="ttdeci">struct aco_type type</div><div class="ttdoc">Type details. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00177">sorcery.c:177</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="astobj2_8h_html_a77df7775a2a8b6cbef307e211dbf045c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a77df7775a2a8b6cbef307e211dbf045c">ao2_unlink_flags</a></div><div class="ttdeci">#define ao2_unlink_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01622">astobj2.h:1622</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd515bbf4fb5e92afaad574936082871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd515bbf4fb5e92afaad574936082871">&#9670;&nbsp;</a></span>ast_sorcery_objectset_apply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_objectset_apply </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>objectset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply an object set (KVP list) to an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object </td></tr>
    <tr><td class="paramname">objectset</td><td>Object set itself</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This operation is <em>not</em> atomic. If this fails it is possible for the object to be left with a partially applied object set. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01632">1632</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00769">aco_process_var()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00129">ast_sorcery_object::id</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01778">ast_sorcery_copy()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l01259">AST_TEST_DEFINE()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00333">create_object()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00135">sorcery_astdb_retrieve_fields_common()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00191">sorcery_astdb_retrieve_id()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00332">sorcery_astdb_retrieve_prefix()</a>, <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00278">sorcery_astdb_retrieve_regex()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00316">sorcery_config_internal_load()</a>, <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00163">sorcery_realtime_retrieve_fields()</a>, and <a class="el" href="../../d5/d88/res__sorcery__realtime_8c_source.html#l00193">sorcery_realtime_retrieve_multiple()</a>.</p>
<div class="fragment"><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;{</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, transformed, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *field;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;   }</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;   <span class="keywordflow">if</span> (object_type-&gt;transform &amp;&amp; (transformed = object_type-&gt;transform(objectset))) {</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      field = transformed;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      field = objectset;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   }</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;   <span class="keywordflow">for</span> (; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      <span class="keywordflow">if</span> ((res = <a class="code" href="../../db/dfe/config__options_8h.html#abac5bccdf79db344c9e16f9f946c6bed">aco_process_var</a>(&amp;object_type-&gt;type, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">id</a>, field, <span class="keywordtype">object</span>))) {</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      }</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;   }</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;   <span class="keywordflow">if</span> (!res &amp;&amp; object_type-&gt;apply) {</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      res = object_type-&gt;apply(sorcery, <span class="keywordtype">object</span>);</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   }</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_aecb3b0d045ada529257a2fbf8f829599"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#aecb3b0d045ada529257a2fbf8f829599">ast_sorcery_object::id</a></div><div class="ttdeci">char * id</div><div class="ttdoc">Unique identifier of this object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00129">sorcery.c:129</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="config__options_8h_html_abac5bccdf79db344c9e16f9f946c6bed"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#abac5bccdf79db344c9e16f9f946c6bed">aco_process_var</a></div><div class="ttdeci">int aco_process_var(struct aco_type *type, const char *cat, struct ast_variable *var, void *obj)</div><div class="ttdoc">Parse a single ast_variable and apply it to an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00769">config_options.c:769</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afe388a29f4d5aaa1da64f955f115c887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe388a29f4d5aaa1da64f955f115c887">&#9670;&nbsp;</a></span>ast_sorcery_objectset_create2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a>* ast_sorcery_objectset_create2 </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689">ast_sorcery_field_handler_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an object set (KVP list) for an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object </td></tr>
    <tr><td class="paramname">flags</td><td>Flags indicating which handler to use and in what order.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>if error occurred</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list must be destroyed using ast_variables_destroy </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01511">1511</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00140">AST_HANDLER_ONLY_LIST</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00137">AST_HANDLER_ONLY_STRING</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00134">AST_HANDLER_PREFER_LIST</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00131">AST_HANDLER_PREFER_STRING</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00648">ast_variable_list_append_hint()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01495">get_multiple_fields_as_var_list()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01478">get_single_field_as_var_list()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01609">ast_sip_sorcery_object_to_ami()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00777">sip_aor_to_ami()</a>, and <a class="el" href="../../d5/d58/stir__shaken_8c_source.html#l00035">stir_shaken_cli_show()</a>.</p>
<div class="fragment"><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;{</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a> *object_field;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *head = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *tail = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   }</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(object_type-&gt;fields, 0);</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;   <span class="keywordflow">for</span> (; (object_field = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i)); <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(object_field, -1)) {</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="keywordflow">switch</span> (flags) {</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0">AST_HANDLER_PREFER_LIST</a>:</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;         <span class="keywordflow">if</span> ((tmp = <a class="code" href="../../d7/d69/sorcery_8c.html#a0a660a7eb38db8a528150013a917af50">get_multiple_fields_as_var_list</a>(<span class="keywordtype">object</span>, object_field)) ||</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            (tmp = <a class="code" href="../../d7/d69/sorcery_8c.html#a96aa6c2a25330a805810b8f992efd2fa">get_single_field_as_var_list</a>(<span class="keywordtype">object</span>, object_field))) {</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;         }</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a37973030c9fd99f16064cd532f5bce77">AST_HANDLER_PREFER_STRING</a>:</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;         <span class="keywordflow">if</span> ((tmp = <a class="code" href="../../d7/d69/sorcery_8c.html#a96aa6c2a25330a805810b8f992efd2fa">get_single_field_as_var_list</a>(<span class="keywordtype">object</span>, object_field)) ||</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            (tmp = <a class="code" href="../../d7/d69/sorcery_8c.html#a0a660a7eb38db8a528150013a917af50">get_multiple_fields_as_var_list</a>(<span class="keywordtype">object</span>, object_field))) {</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;         }</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a645512a865349672ca1e97f07d84cf2b">AST_HANDLER_ONLY_LIST</a>:</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;         <span class="keywordflow">if</span> ((tmp = <a class="code" href="../../d7/d69/sorcery_8c.html#a0a660a7eb38db8a528150013a917af50">get_multiple_fields_as_var_list</a>(<span class="keywordtype">object</span>, object_field))) {</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;         }</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf">AST_HANDLER_ONLY_STRING</a>:</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;         <span class="keywordflow">if</span> ((tmp = <a class="code" href="../../d7/d69/sorcery_8c.html#a96aa6c2a25330a805810b8f992efd2fa">get_single_field_as_var_list</a>(<span class="keywordtype">object</span>, object_field))) {</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;         }</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      }</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      tail = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abb967f94dc4b108970271657c1cc1a15">ast_variable_list_append_hint</a>(&amp;head, tail, tmp);</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;   }</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;   <span class="keywordflow">return</span> head;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a3f6c77aff7261bdb02a52cbcec183ec0">AST_HANDLER_PREFER_LIST</a></div><div class="ttdoc">Try both handlers, list first. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00134">sorcery.h:134</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="sorcery_8c_html_a96aa6c2a25330a805810b8f992efd2fa"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a96aa6c2a25330a805810b8f992efd2fa">get_single_field_as_var_list</a></div><div class="ttdeci">static struct ast_variable * get_single_field_as_var_list(const void *object, struct ast_sorcery_object_field *object_field)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01478">sorcery.c:1478</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="sorcery_8h_html_ac1fdd981feb0ebfb50d6d8de2aa89689a645512a865349672ca1e97f07d84cf2b"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a645512a865349672ca1e97f07d84cf2b">AST_HANDLER_ONLY_LIST</a></div><div class="ttdoc">Use list handler only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00140">sorcery.h:140</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__object__field_html"><div class="ttname"><a href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a></div><div class="ttdoc">Structure for registered object field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00205">sorcery.c:205</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="sorcery_8h_html_ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf">AST_HANDLER_ONLY_STRING</a></div><div class="ttdoc">Use string handler only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00137">sorcery.h:137</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abb967f94dc4b108970271657c1cc1a15"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abb967f94dc4b108970271657c1cc1a15">ast_variable_list_append_hint</a></div><div class="ttdeci">struct ast_variable * ast_variable_list_append_hint(struct ast_variable **head, struct ast_variable *search_hint, struct ast_variable *new_var)</div><div class="ttdoc">Appends a variable list to the end of another list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00648">main/config.c:648</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="sorcery_8c_html_a0a660a7eb38db8a528150013a917af50"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a0a660a7eb38db8a528150013a917af50">get_multiple_fields_as_var_list</a></div><div class="ttdeci">static struct ast_variable * get_multiple_fields_as_var_list(const void *object, struct ast_sorcery_object_field *object_field)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01495">sorcery.c:1495</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="sorcery_8h_html_ac1fdd981feb0ebfb50d6d8de2aa89689a37973030c9fd99f16064cd532f5bce77"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689a37973030c9fd99f16064cd532f5bce77">AST_HANDLER_PREFER_STRING</a></div><div class="ttdoc">Try both handlers, string first. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00131">sorcery.h:131</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7912b02d883b3ade727afd3aa976bfa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7912b02d883b3ade727afd3aa976bfa0">&#9670;&nbsp;</a></span>ast_sorcery_objectset_json_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* ast_sorcery_objectset_json_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an object set in JSON format for an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>if error occurred</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned <a class="el" href="../../d1/da1/structast__json.html" title="Abstract JSON element (object, array, string, int, ...). ">ast_json</a> object must be unreferenced using ast_json_unref </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01565">1565</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00389">ast_json_object_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00268">ast_json_string_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d43/bucket_8c_source.html#l00849">ast_bucket_file_json()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00544">ast_bucket_json()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l01134">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00066">sorcery_astdb_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;{</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a> *object_field;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json = <a class="code" href="../../d4/d05/json_8h.html#a5892d6cd943e00556180fcf15d30788e">ast_json_object_create</a>();</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   <span class="keywordflow">if</span> (!object_type || !json) {</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;   }</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(object_type-&gt;fields, 0);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   <span class="keywordflow">for</span> (; !res &amp;&amp; (object_field = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i)); <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(object_field, -1)) {</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      <span class="keywordflow">if</span> (object_field-&gt;multiple_handler) {</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *field;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;         <span class="keywordflow">if</span> ((res = object_field-&gt;multiple_handler(<span class="keywordtype">object</span>, &amp;tmp))) {</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(tmp);</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(object_field, -1);</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;         }</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;         <span class="keywordflow">for</span> (field = tmp; field; field = field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> = <a class="code" href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a>(field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            <span class="keywordflow">if</span> (!value || <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, field-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, value)) {</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;               res = -1;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            }</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;         }</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(tmp);</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (object_field-&gt;handler) {</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;         <span class="keywordtype">char</span> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *value = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;         <span class="keywordflow">if</span> (object_field-&gt;handler(<span class="keywordtype">object</span>, object_field-&gt;args, &amp;buf)</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            || !(value = <a class="code" href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a>(buf))</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            || <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, object_field-&gt;name, value)) {</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(buf);</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;Skipping field &#39;%s&#39; for object type &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;               object_field-&gt;name, object_type-&gt;name);</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;         }</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(buf);</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      }</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;   }</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;   <span class="comment">/* If any error occurs we destroy the JSON object so a partial objectset is not returned */</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      json = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;   }</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;   <span class="keywordflow">return</span> json;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="json_8h_html_adc52f8d76b7fdd0c8d12987981fd5bf5"><div class="ttname"><a href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a></div><div class="ttdeci">struct ast_json * ast_json_string_create(const char *value)</div><div class="ttdoc">Construct a JSON string from value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00268">json.c:268</a></div></div>
<div class="ttc" id="structast__sorcery__object__field_html"><div class="ttname"><a href="../../d6/dfd/structast__sorcery__object__field.html">ast_sorcery_object_field</a></div><div class="ttdoc">Structure for registered object field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00205">sorcery.c:205</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="json_8h_html_a5892d6cd943e00556180fcf15d30788e"><div class="ttname"><a href="../../d4/d05/json_8h.html#a5892d6cd943e00556180fcf15d30788e">ast_json_object_create</a></div><div class="ttdeci">struct ast_json * ast_json_object_create(void)</div><div class="ttdoc">Create a new JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00389">json.c:389</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c1928d47eae1172f236e8ee421c2db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c1928d47eae1172f236e8ee421c2db4">&#9670;&nbsp;</a></span>ast_sorcery_observer_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_observer_add </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an observer to a specific object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object that should be observed </td></tr>
    <tr><td class="paramname">callbacks</td><td>Implementation of the observer interface</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>You must be ready to accept observer invocations before this function is called </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02386">2386</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00192">ast_sorcery_object_type_observer::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01056">observer</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d43/bucket_8c_source.html#l00829">ast_bucket_file_observer_add()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00529">ast_bucket_observer_add()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01260">ast_sip_initialize_distributor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00372">ast_sip_initialize_transport_management()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l02425">AST_TEST_DEFINE()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00924">load_module()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00342">pjsip_outbound_registration_metrics_init()</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02885">sip_options_init_task()</a>.</p>
<div class="fragment"><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;{</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/dd6/structast__sorcery__object__type__observer.html">ast_sorcery_object_type_observer</a> *<a class="code" href="../../d9/d63/res__pjsip__config__wizard_8c.html#aa7862536ed74b8f0033c38bce52baa86">observer</a>;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;   <span class="keywordflow">if</span> (!object_type || !callbacks) {</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;   }</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;   <span class="keywordflow">if</span> (!(observer = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*observer), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;   }</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;   observer-&gt;<a class="code" href="../../d7/dd6/structast__sorcery__object__type__observer.html#a158fb68438c9e46617494db2a0c2daeb">callbacks</a> = <a class="code" href="../../d7/dd6/structast__sorcery__object__type__observer.html#a158fb68438c9e46617494db2a0c2daeb">callbacks</a>;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;   res = 0;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(object_type-&gt;observers, observer)) {</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      res = -1;</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;   }</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(observer, -1);</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structast__sorcery__object__type__observer_html"><div class="ttname"><a href="../../d7/dd6/structast__sorcery__object__type__observer.html">ast_sorcery_object_type_observer</a></div><div class="ttdoc">Structure for registered object type observer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00190">sorcery.c:190</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="res__pjsip__config__wizard_8c_html_aa7862536ed74b8f0033c38bce52baa86"><div class="ttname"><a href="../../d9/d63/res__pjsip__config__wizard_8c.html#aa7862536ed74b8f0033c38bce52baa86">observer</a></div><div class="ttdeci">struct ast_sorcery_instance_observer observer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01056">res_pjsip_config_wizard.c:1056</a></div></div>
<div class="ttc" id="structast__sorcery__object__type__observer_html_a158fb68438c9e46617494db2a0c2daeb"><div class="ttname"><a href="../../d7/dd6/structast__sorcery__object__type__observer.html#a158fb68438c9e46617494db2a0c2daeb">ast_sorcery_object_type_observer::callbacks</a></div><div class="ttdeci">const struct ast_sorcery_observer * callbacks</div><div class="ttdoc">Pointer to the observer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00192">sorcery.c:192</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a18d64c360480b458754fc30f781d5011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18d64c360480b458754fc30f781d5011">&#9670;&nbsp;</a></span>ast_sorcery_observer_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_observer_remove </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an observer from a specific object type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object that should no longer be observed </td></tr>
    <tr><td class="paramname">callbacks</td><td>Implementation of the observer interface</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02418">2418</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02411">sorcery_observer_remove()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d43/bucket_8c_source.html#l00834">ast_bucket_file_observer_remove()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00534">ast_bucket_observer_remove()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02835">ast_res_pjsip_cleanup_options_handling()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01334">ast_sip_destroy_distributor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01467">ast_sip_destroy_sorcery_location()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00410">ast_sip_destroy_transport_management()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00543">load_module()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00342">pjsip_outbound_registration_metrics_init()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00323">pjsip_outbound_registration_metrics_unload_cb()</a>, and <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00910">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;{</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a> *cbs = (<span class="keyword">struct </span><a class="code" href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a> *) callbacks;<span class="comment">/* Remove const for traversal. */</span></div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;   <span class="keywordflow">if</span> (!sorcery) {</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;   }</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;   object_type = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>);</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;   }</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(object_type-&gt;observers, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>,</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      <a class="code" href="../../d7/d69/sorcery_8c.html#a6d20022f28cc72b3edad12614c831044">sorcery_observer_remove</a>, cbs);</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="sorcery_8c_html_a6d20022f28cc72b3edad12614c831044"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a6d20022f28cc72b3edad12614c831044">sorcery_observer_remove</a></div><div class="ttdeci">static int sorcery_observer_remove(void *obj, void *arg, int flags)</div><div class="ttdoc">Internal callback function for removing an observer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02411">sorcery.c:2411</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__observer_html"><div class="ttname"><a href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a></div><div class="ttdoc">Interface for a sorcery object type observer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00332">sorcery.h:332</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99020bc3f469a579e1d1fdfb150e374d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99020bc3f469a579e1d1fdfb150e374d">&#9670;&nbsp;</a></span>ast_sorcery_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increase the reference count of a sorcery structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01473">1473</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>.</p>
<div class="fragment"><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;{</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(sorcery, +1);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69912e63564491df0fdca6694409a721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69912e63564491df0fdca6694409a721">&#9670;&nbsp;</a></span>ast_sorcery_reload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_reload </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform any wizards to reload persistent objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01408">1408</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00238">ast_sorcery::module_name</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00079">NOTIFY_INSTANCE_OBSERVERS</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00235">ast_sorcery::observers</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery_load_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery_object_load()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02241">ast_res_pjsip_reload_configuration()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l02425">AST_TEST_DEFINE()</a>, and <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00756">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;{</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a> details = {</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      .<a class="code" href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      .reload = 1,</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   };</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, instance_loading,</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, sorcery, 1);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a>, &amp;details);</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, instance_loaded,</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a>, sorcery, 1);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="structast__sorcery_html_a67afd8cf4e033925cc6fb22f17b5ca01"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#a67afd8cf4e033925cc6fb22f17b5ca01">ast_sorcery::module_name</a></div><div class="ttdeci">char * module_name</div><div class="ttdoc">Pointer to module_name in the associated sorcery_proxy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00238">sorcery.c:238</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structast__sorcery_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ab7457ba025773f49bfa9029aab54007f">ast_sorcery::observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00235">sorcery.c:235</a></div></div>
<div class="ttc" id="structsorcery__load__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_load_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Sorcery structure in use. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery.c:244</a></div></div>
<div class="ttc" id="structsorcery__load__details_html"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a></div><div class="ttdoc">Structure for passing load/reload details. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00242">sorcery.c:242</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="sorcery_8c_html_a9f8c36ae2566ea7e6556b4be48f8f6be"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a9f8c36ae2566ea7e6556b4be48f8f6be">NOTIFY_INSTANCE_OBSERVERS</a></div><div class="ttdeci">#define NOTIFY_INSTANCE_OBSERVERS(container, callback,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00079">sorcery.c:79</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa75322759014af911050ba90ab3df438"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a></div><div class="ttdeci">static int sorcery_object_load(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery.c:1336</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad98ae6e153f53b0c3c40119acc5e5266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98ae6e153f53b0c3c40119acc5e5266">&#9670;&nbsp;</a></span>ast_sorcery_reload_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_reload_object </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform any wizards of a specific object type to reload persistent objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Name of the object type to reload </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01442">1442</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery_load_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery_object_load()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04857">apply_list_configuration()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01260">ast_sip_initialize_distributor()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00372">ast_sip_initialize_transport_management()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03267">AST_TEST_DEFINE()</a>, <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00542">load_module()</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00343">load_users()</a>, and <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00880">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;{</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a> details = {</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      .<a class="code" href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      .reload = 1,</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;   };</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;   }</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   <a class="code" href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a>(object_type, &amp;details, 0);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structsorcery__load__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_load_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Sorcery structure in use. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00244">sorcery.c:244</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structsorcery__load__details_html"><div class="ttname"><a href="../../d4/dcc/structsorcery__load__details.html">sorcery_load_details</a></div><div class="ttdoc">Structure for passing load/reload details. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00242">sorcery.c:242</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa75322759014af911050ba90ab3df438"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa75322759014af911050ba90ab3df438">sorcery_object_load</a></div><div class="ttdeci">static int sorcery_object_load(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01336">sorcery.c:1336</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa9cd237841a70862001f580b23212c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9cd237841a70862001f580b23212c9">&#9670;&nbsp;</a></span>ast_sorcery_retrieve_by_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_sorcery_retrieve_by_fields </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve an object or multiple objects using specific fields. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to retrieve </td></tr>
    <tr><td class="paramname">flags</td><td>Flags to control behavior </td></tr>
    <tr><td class="paramname">fields</td><td>Optional object fields and values to match against</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>if found </td></tr>
    <tr><td class="paramname">NULL</td><td>if not found</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If the AST_RETRIEVE_FLAG_MULTIPLE flag is specified the returned value will be an <a class="el" href="../../d2/da9/structao2__container.html" title="Generic container type. ">ao2_container</a> that must be unreferenced after use.</dd>
<dd>
If the AST_RETRIEVE_FLAG_ALL flag is used you may omit fields to retrieve all objects of the given type.</dd>
<dd>
The fields parameter can contain realtime-style expressions in variable-&gt;name. All operators defined for ast_strings_match can be used except for regex as there's no common support for regex in the realtime backends at this time. If multiple variables are in the fields list, all must match for an object to be returned. See ast_strings_match for more information.</dd></dl>
<p>Example:</p>
<p>The following code can be significantly faster when a realtime backend is in use because the expression "qualify_frequency &gt; 0" is passed to the database to limit the number of rows returned.</p>
<p>struct <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> *var = ast_variable_new("qualify_frequency &gt;", "0", ""); struct <a class="el" href="../../d2/da9/structao2__container.html" title="Generic container type. ">ao2_container</a> *aors;</p>
<p>if (!var) { return; }</p>
<p>aors = ast_sorcery_retrieve_by_fields(<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8" title="Get a pointer to the SIP sorcery structure. ">ast_sip_get_sorcery()</a>, "aor", AST_RETRIEVE_FLAG_MULTIPLE, var); </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01897">1897</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00120">AST_RETRIEVE_FLAG_MULTIPLE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00768">AST_VECTOR_CALLBACK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00111">ast_sorcery_object_wizard::caching</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00108">ast_sorcery_object_wizard::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00310">ast_sorcery_wizard::retrieve_fields</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00313">ast_sorcery_wizard::retrieve_multiple</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01839">sorcery_cache_create()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00105">ast_sorcery_object_wizard::wizard</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d5e/res__pjsip__acl_8c_source.html#l00215">acl_on_rx_msg()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01190">ami_show_registration_contact_statuses()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04112">ami_show_resource_lists()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00176">ast_mwi_mailbox_get_all()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02344">ast_sip_get_endpoints()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01618">ast_sip_initialize_sorcery_transport()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00175">ast_sip_initialize_system()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00469">ast_sip_location_prune_boot_contacts()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03245">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00766">asterisk_publication_send_refresh()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02332">auth_observer()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01266">check_expiration_thread()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01924">cli_complete_registration()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01026">cli_contact_get_container()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01229">cli_get_aors()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00216">cli_get_auths()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00675">cli_iterator()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00265">common_identify()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01301">create_mwi_subscriptions()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00646">format_ami_endpoint_identify()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02400">get_all_contacts()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00323">get_publishes_and_update_state()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00481">get_registrations()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00141">get_system_cfg()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00570">global_loaded_observer()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01230">handle_export_primitives()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01955">load_all_endpoints()</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00343">load_users()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l01034">memory_cache_populate()</a>, <a class="el" href="../../d4/dc3/res__pjsip__nat_8c_source.html#l00365">process_nat()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00212">registration_loaded_observer()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01960">sip_options_aor_observer_modified_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01749">sip_options_synchronize_task()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00908">stale_cache_update()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00053">stir_shaken_certificate_get_all()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00084">stir_shaken_certificate_get_by_caller_id_number()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00054">stir_shaken_general_get()</a>, <a class="el" href="../../d9/d7e/store_8c_source.html#l00049">stir_shaken_store_get_all()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01750">subscription_persistence_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;{</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;   <span class="keywordtype">void</span> *<span class="keywordtype">object</span> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cached = 0;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;   }</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;   <span class="comment">/* If returning multiple objects create a container to store them in */</span></div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;   <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a>)) {</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      <span class="keywordtype">object</span> = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>) {</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      }</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;   }</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a> =</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      <span class="keywordflow">if</span> ((flags &amp; AST_RETRIEVE_FLAG_MULTIPLE)) {</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;         <span class="keywordflow">if</span> (wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a38dde1642df819377f271922ea5c1b84">retrieve_multiple</a>) {</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a38dde1642df819377f271922ea5c1b84">retrieve_multiple</a>(sorcery, wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">data</a>, object_type-&gt;name, <span class="keywordtype">object</span>, fields);</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;         }</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fields &amp;&amp; wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a02686fec748033c721a9a840624268ea">retrieve_fields</a>) {</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;         <span class="keywordflow">if</span> (wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a02686fec748033c721a9a840624268ea">retrieve_fields</a>) {</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;            <span class="keywordtype">object</span> = wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a02686fec748033c721a9a840624268ea">retrieve_fields</a>(sorcery, wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">data</a>, object_type-&gt;name, fields);</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;         }</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      }</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      <span class="keywordflow">if</span> (((flags &amp; AST_RETRIEVE_FLAG_MULTIPLE) &amp;&amp; (!<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(<span class="keywordtype">object</span>) || !wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a>)) || !<span class="keywordtype">object</span>) {</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;      }</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      cached = wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a>;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;   }</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;   <span class="comment">/* If we are returning a single object and it came from a non-cache source create it in any caches */</span></div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;   <span class="keywordflow">if</span> (!(flags &amp; AST_RETRIEVE_FLAG_MULTIPLE) &amp;&amp; !cached &amp;&amp; <span class="keywordtype">object</span>) {</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#abf09292b8b66dbc3d6beca5662cdadac">AST_VECTOR_CALLBACK</a>(&amp;object_type-&gt;wizards, <a class="code" href="../../d7/d69/sorcery_8c.html#a37cf6fd70d9e811322bd60a64d05aab3">sorcery_cache_create</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keywordtype">object</span>, 0);</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;   }</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;   <span class="keywordflow">return</span> object;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="sorcery_8c_html_a37cf6fd70d9e811322bd60a64d05aab3"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a37cf6fd70d9e811322bd60a64d05aab3">sorcery_cache_create</a></div><div class="ttdeci">static int sorcery_cache_create(void *obj, void *arg, int flags)</div><div class="ttdoc">Internal function used to create an object in caching wizards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01839">sorcery.c:1839</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a></div><div class="ttdoc">Return all matching objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00120">sorcery.h:120</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ac16bd62b448ac0441af4a4e248f045fa"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">ast_sorcery_internal_wizard::callbacks</a></div><div class="ttdeci">struct ast_sorcery_wizard callbacks</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00096">sorcery.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a02686fec748033c721a9a840624268ea"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a02686fec748033c721a9a840624268ea">ast_sorcery_wizard::retrieve_fields</a></div><div class="ttdeci">void *(* retrieve_fields)(const struct ast_sorcery *sorcery, void *data, const char *type, const struct ast_variable *fields)</div><div class="ttdoc">Optional callback for retrieving an object using fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00310">sorcery.h:310</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a3de5a8e94ff94b1105ac88cf99ab3f86"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">ast_sorcery_object_wizard::caching</a></div><div class="ttdeci">unsigned int caching</div><div class="ttdoc">Wizard is acting as an object cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00111">sorcery.c:111</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a71f67ffd7e19fbcc54ef3b2844f30147"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">ast_sorcery_object_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_internal_wizard * wizard</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00105">sorcery.c:105</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a38dde1642df819377f271922ea5c1b84"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a38dde1642df819377f271922ea5c1b84">ast_sorcery_wizard::retrieve_multiple</a></div><div class="ttdeci">void(* retrieve_multiple)(const struct ast_sorcery *sorcery, void *data, const char *type, struct ao2_container *objects, const struct ast_variable *fields)</div><div class="ttdoc">Optional callback for retrieving multiple objects using some optional field criteria. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00313">sorcery.h:313</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">ast_sorcery_object_wizard::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">Unique data for the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00108">sorcery.c:108</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="vector_8h_html_abf09292b8b66dbc3d6beca5662cdadac"><div class="ttname"><a href="../../d6/d68/vector_8h.html#abf09292b8b66dbc3d6beca5662cdadac">AST_VECTOR_CALLBACK</a></div><div class="ttdeci">#define AST_VECTOR_CALLBACK(vec, callback, default_value,...)</div><div class="ttdoc">Execute a callback on every element in a vector returning the first matched. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00768">vector.h:768</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a100106a82d72aa59a66513ef3ad161c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a100106a82d72aa59a66513ef3ad161c8">&#9670;&nbsp;</a></span>ast_sorcery_retrieve_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_sorcery_retrieve_by_id </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve an object using its unique identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to retrieve </td></tr>
    <tr><td class="paramname">id</td><td>Unique object identifier</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>if found </td></tr>
    <tr><td class="paramname">NULL</td><td>if not found </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">1853</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00768">AST_VECTOR_CALLBACK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00111">ast_sorcery_object_wizard::caching</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00108">ast_sorcery_object_wizard::data</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00150">ast_sorcery_object_type::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00296">ast_sorcery_wizard::retrieve_id</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01833">sorcery_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01839">sorcery_cache_create()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00105">ast_sorcery_object_wizard::wizard</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00165">ast_sorcery_object_type::wizards</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01676">ami_show_endpoint()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02666">ami_sip_qualify()</a>, <a class="el" href="../../df/dd7/res__pjsip__endpoint__identifier__anonymous_8c_source.html#l00062">anonymous_identify()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00247">ast_ari_asterisk_delete_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00089">ast_ari_asterisk_get_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00815">ast_bucket_file_retrieve()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00515">ast_bucket_retrieve()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00187">ast_mwi_mailbox_get()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00235">ast_mwi_mailbox_update()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02353">ast_sip_default_outbound_endpoint()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00135">ast_sip_for_each_auth()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00147">ast_sip_location_retrieve_aor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00350">ast_sip_location_retrieve_contact()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02360">ast_sip_retrieve_auths()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02385">ast_sip_retrieve_auths_vector()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03957">ast_sip_set_tpselector_from_transport_name()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03118">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00594">asterisk_publication_devicestate_state_change()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00685">asterisk_publication_mwi_state_change()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00479">asterisk_publication_new()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l01174">chan_pjsip_devicestate()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02372">check_state()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01146">cli_aor_retrieve_by_id()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01827">cli_endpoint_retrieve_by_id()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01479">cli_iterate()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02346">cli_qualify()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02630">cli_reload_qualify_aor()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02576">cli_reload_qualify_endpoint()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00306">cli_retrieve_by_id()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02483">cli_show_qualify_endpoint()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00265">common_identify()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02225">contact_observer_updated()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00228">create_rtp()</a>, <a class="el" href="../../d9/d91/res__pjsip__path_8c_source.html#l00039">find_aor()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00947">find_aor_name()</a>, <a class="el" href="../../d9/d24/res__pjsip__endpoint__identifier__user_8c_source.html#l00081">find_endpoint()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00168">format_ami_endpoint_transport()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00156">get_log_mappings()</a>, <a class="el" href="../../d2/db8/res__pjsip__transport__websocket_8c_source.html#l00311">get_write_timeout()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00505">handle_atsign()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00288">handle_single_token()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00358">handle_slash()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00512">line_identify()</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00223">load_endpoint()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01361">mwi_contact_changed()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01414">mwi_contact_deleted()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00587">mwi_subscription_shutdown()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00505">on_rx_process_symmetric_transport()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00983">pjsip_acf_dial_contacts_read()</a>, <a class="el" href="../../dd/d92/func__pjsip__aor_8c_source.html#l00070">pjsip_aor_function_read()</a>, <a class="el" href="../../de/d6a/func__pjsip__contact_8c_source.html#l00086">pjsip_contact_function_read()</a>, <a class="el" href="../../d0/d7b/func__pjsip__endpoint_8c_source.html#l00071">pjsip_endpoint_function_read()</a>, <a class="el" href="../../d4/dc3/res__pjsip__nat_8c_source.html#l00365">process_nat()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03214">publish_request_initial()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00803">push_notify()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02559">request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00902">retrieve_resource_list()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00490">send_unsolicited_mwi_notify()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02154">sip_options_contact_add_management_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00847">sip_options_qualify_contact()</a>, <a class="el" href="../../d3/dc6/func__sorcery_8c_source.html#l00079">sorcery_function_read()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00267">sorcery_memory_cache_thrash_retrieve()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00989">stale_item_update()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00048">stir_shaken_certificate_get()</a>, <a class="el" href="../../d9/d7e/store_8c_source.html#l00044">stir_shaken_store_get()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01556">sub_persistence_recreate()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02096">transfer()</a>, and <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03099">wait_for_cache_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;{</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *object_type;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;   <span class="keywordtype">void</span> *<span class="keywordtype">object</span> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cached = 0;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>)) {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;   }</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;   object_type = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;   }</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">wizards</a>);</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">wizards</a>); i++) {</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a> =</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">wizards</a>, i);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="keywordflow">if</span> (wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a952f0fcef7c2ab963fb99f99293750af">retrieve_id</a> &amp;&amp;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;         !(<span class="keywordtype">object</span> = wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a952f0fcef7c2ab963fb99f99293750af">retrieve_id</a>(sorcery, wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">data</a>, object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a76c81db7935335c8d9a7b15f197a0566">name</a>, <span class="keywordtype">id</span>))) {</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      }</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      cached = wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a>;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;   }</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;   <span class="keywordflow">if</span> (!cached &amp;&amp; <span class="keywordtype">object</span>) {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d2/dbf/structsorcery__details.html">sorcery_details</a> sdetails = {</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;         .<a class="code" href="../../d2/dbf/structsorcery__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;         .obj = object,</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      };</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#abf09292b8b66dbc3d6beca5662cdadac">AST_VECTOR_CALLBACK</a>(&amp;object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">wizards</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#a37cf6fd70d9e811322bd60a64d05aab3">sorcery_cache_create</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;sdetails, 0);</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;   }</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">wizards</a>);</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(object_type, -1);</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;   <span class="keywordflow">return</span> object;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;}</div><div class="ttc" id="structsorcery__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d2/dbf/structsorcery__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Pointer to the sorcery instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01833">sorcery.c:1833</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structsorcery__details_html"><div class="ttname"><a href="../../d2/dbf/structsorcery__details.html">sorcery_details</a></div><div class="ttdoc">Structure used when calling create, update, or delete. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01831">sorcery.c:1831</a></div></div>
<div class="ttc" id="sorcery_8c_html_a37cf6fd70d9e811322bd60a64d05aab3"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a37cf6fd70d9e811322bd60a64d05aab3">sorcery_cache_create</a></div><div class="ttdeci">static int sorcery_cache_create(void *obj, void *arg, int flags)</div><div class="ttdoc">Internal function used to create an object in caching wizards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01839">sorcery.c:1839</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ac16bd62b448ac0441af4a4e248f045fa"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">ast_sorcery_internal_wizard::callbacks</a></div><div class="ttdeci">struct ast_sorcery_wizard callbacks</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00096">sorcery.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a3de5a8e94ff94b1105ac88cf99ab3f86"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">ast_sorcery_object_wizard::caching</a></div><div class="ttdeci">unsigned int caching</div><div class="ttdoc">Wizard is acting as an object cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00111">sorcery.c:111</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a71f67ffd7e19fbcc54ef3b2844f30147"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">ast_sorcery_object_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_internal_wizard * wizard</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00105">sorcery.c:105</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_a125405cfc225fb137c9b067652123565"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">ast_sorcery_object_type::wizards</a></div><div class="ttdeci">struct ast_sorcery_object_wizards wizards</div><div class="ttdoc">Wizard instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00165">sorcery.c:165</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">ast_sorcery_object_wizard::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">Unique data for the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00108">sorcery.c:108</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a952f0fcef7c2ab963fb99f99293750af"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a952f0fcef7c2ab963fb99f99293750af">ast_sorcery_wizard::retrieve_id</a></div><div class="ttdeci">void *(* retrieve_id)(const struct ast_sorcery *sorcery, void *data, const char *type, const char *id)</div><div class="ttdoc">Callback for retrieving an object using an id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00296">sorcery.h:296</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="vector_8h_html_abf09292b8b66dbc3d6beca5662cdadac"><div class="ttname"><a href="../../d6/d68/vector_8h.html#abf09292b8b66dbc3d6beca5662cdadac">AST_VECTOR_CALLBACK</a></div><div class="ttdeci">#define AST_VECTOR_CALLBACK(vec, callback, default_value,...)</div><div class="ttdoc">Execute a callback on every element in a vector returning the first matched. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00768">vector.h:768</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_a76c81db7935335c8d9a7b15f197a0566"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#a76c81db7935335c8d9a7b15f197a0566">ast_sorcery_object_type::name</a></div><div class="ttdeci">char name[MAX_OBJECT_TYPE]</div><div class="ttdoc">Unique name of the object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00150">sorcery.c:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98a1572ab2afcbc6014e0846f356b6fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a1572ab2afcbc6014e0846f356b6fc">&#9670;&nbsp;</a></span>ast_sorcery_retrieve_by_module_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a>* ast_sorcery_retrieve_by_module_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves an existing sorcery instance by module name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">module</td><td>The module name</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>if no instance was found</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned instance has its reference count incremented. The caller must decrement the count when they're finished with it.</dd></dl>
<p>Retrieves an existing sorcery instance by module name. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00672">672</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01768">ao2_weakproxy_find</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00247">ast_ari_asterisk_delete_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00089">ast_ari_asterisk_get_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00391">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d3/dc6/func__sorcery_8c_source.html#l00079">sorcery_function_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;{</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#aa78a383f537bc7a35efb8eaabcdc44e9">ao2_weakproxy_find</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a>, module_name, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="sorcery_8c_html_aacba15bc05688aa4cd1e9fdde02ca0be"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aacba15bc05688aa4cd1e9fdde02ca0be">instances</a></div><div class="ttdeci">static struct ao2_container * instances</div><div class="ttdoc">Registered sorcery instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00284">sorcery.c:284</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa78a383f537bc7a35efb8eaabcdc44e9"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa78a383f537bc7a35efb8eaabcdc44e9">ao2_weakproxy_find</a></div><div class="ttdeci">#define ao2_weakproxy_find(c, arg, flags, tag)</div><div class="ttdoc">Perform an ao2_find on a container with ao2_weakproxy objects, returning the real object...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01768">astobj2.h:1768</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7214aea6ccfa9c7a6d08ee9a4fad9af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7214aea6ccfa9c7a6d08ee9a4fad9af9">&#9670;&nbsp;</a></span>ast_sorcery_retrieve_by_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_sorcery_retrieve_by_prefix </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>prefix_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve multiple objects whose id begins with the specified prefix. </p>
<dl class="section since"><dt>Since</dt><dd>13.19.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to retrieve </td></tr>
    <tr><td class="paramname">prefix</td><td>Object id prefix </td></tr>
    <tr><td class="paramname">prefix_len</td><td>The length of prefix in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>if error occurs </td></tr>
    <tr><td class="paramname">NULL</td><td>success</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The prefix is matched in a case sensitive manner. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01984">1984</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00111">ast_sorcery_object_wizard::caching</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00108">ast_sorcery_object_wizard::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00302">ast_sorcery_wizard::retrieve_prefix</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00105">ast_sorcery_object_wizard::wizard</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00081">aor_deleted_observer()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00219">ast_sip_location_retrieve_aor_contacts_nolock_filtered()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00913">cli_complete_endpoint()</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01240">sip_options_apply_aor_configuration()</a>.</p>
<div class="fragment"><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;{</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *objects;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;   }</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;   objects = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;   <span class="keywordflow">if</span> (!objects) {</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;   }</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a> =</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      <span class="keywordflow">if</span> (!wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ac4a70f6092d7780226c710c900708bdf">retrieve_prefix</a>) {</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ac4a70f6092d7780226c710c900708bdf">retrieve_prefix</a>(sorcery, wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">data</a>, object_type-&gt;name, objects, <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, prefix_len);</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;      <span class="keywordflow">if</span> (wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a> &amp;&amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(objects)) {</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      }</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;   }</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;   <span class="keywordflow">return</span> objects;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ac16bd62b448ac0441af4a4e248f045fa"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">ast_sorcery_internal_wizard::callbacks</a></div><div class="ttdeci">struct ast_sorcery_wizard callbacks</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00096">sorcery.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_ac4a70f6092d7780226c710c900708bdf"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ac4a70f6092d7780226c710c900708bdf">ast_sorcery_wizard::retrieve_prefix</a></div><div class="ttdeci">void(* retrieve_prefix)(const struct ast_sorcery *sorcery, void *data, const char *type, struct ao2_container *objects, const char *prefix, const size_t prefix_len)</div><div class="ttdoc">Optional callback for retrieving multiple objects by matching their id with a prefix. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00302">sorcery.h:302</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a3de5a8e94ff94b1105ac88cf99ab3f86"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">ast_sorcery_object_wizard::caching</a></div><div class="ttdeci">unsigned int caching</div><div class="ttdoc">Wizard is acting as an object cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00111">sorcery.c:111</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a71f67ffd7e19fbcc54ef3b2844f30147"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">ast_sorcery_object_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_internal_wizard * wizard</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00105">sorcery.c:105</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">ast_sorcery_object_wizard::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">Unique data for the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00108">sorcery.c:108</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a57392a9d5ccf946ae992af2ad83cf7b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57392a9d5ccf946ae992af2ad83cf7b0">&#9670;&nbsp;</a></span>ast_sorcery_retrieve_by_regex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_sorcery_retrieve_by_regex </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>regex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve multiple objects using a regular expression on their id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">type</td><td>Type of object to retrieve </td></tr>
    <tr><td class="paramname">regex</td><td>Regular expression</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>if error occurs </td></tr>
    <tr><td class="paramname">NULL</td><td>success</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The provided regex is treated as extended case sensitive. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01949">1949</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00111">ast_sorcery_object_wizard::caching</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00108">ast_sorcery_object_wizard::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00299">ast_sorcery_wizard::retrieve_regex</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00105">ast_sorcery_object_wizard::wizard</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00182">ast_mwi_mailbox_get_by_regex()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l01993">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00879">cli_aor_get_container()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01026">cli_contact_get_container()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01796">cli_endpoint_get_container()</a>, and <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00277">cli_get_container()</a>.</p>
<div class="fragment"><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;{</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *objects;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;   }</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;   objects = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;   <span class="keywordflow">if</span> (!objects) {</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;   }</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a> =</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <span class="keywordflow">if</span> (!wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ae5a1f799681970549c36a8b35ff828f1">retrieve_regex</a>) {</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;      }</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">wizard</a>-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#ae5a1f799681970549c36a8b35ff828f1">retrieve_regex</a>(sorcery, wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">data</a>, object_type-&gt;name, objects, <a class="code" href="../../d9/d1e/func__strings_8c.html#a1b62eb9e3ebf087509f4301aa6336931">regex</a>);</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      <span class="keywordflow">if</span> (wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a> &amp;&amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(objects)) {</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      }</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;   }</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;   <span class="keywordflow">return</span> objects;</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ac16bd62b448ac0441af4a4e248f045fa"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">ast_sorcery_internal_wizard::callbacks</a></div><div class="ttdeci">struct ast_sorcery_wizard callbacks</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00096">sorcery.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_ae5a1f799681970549c36a8b35ff828f1"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#ae5a1f799681970549c36a8b35ff828f1">ast_sorcery_wizard::retrieve_regex</a></div><div class="ttdeci">void(* retrieve_regex)(const struct ast_sorcery *sorcery, void *data, const char *type, struct ao2_container *objects, const char *regex)</div><div class="ttdoc">Callback for retrieving multiple objects using a regex on their id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00299">sorcery.h:299</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a3de5a8e94ff94b1105ac88cf99ab3f86"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">ast_sorcery_object_wizard::caching</a></div><div class="ttdeci">unsigned int caching</div><div class="ttdoc">Wizard is acting as an object cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00111">sorcery.c:111</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a71f67ffd7e19fbcc54ef3b2844f30147"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a71f67ffd7e19fbcc54ef3b2844f30147">ast_sorcery_object_wizard::wizard</a></div><div class="ttdeci">struct ast_sorcery_internal_wizard * wizard</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00105">sorcery.c:105</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="func__strings_8c_html_a1b62eb9e3ebf087509f4301aa6336931"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#a1b62eb9e3ebf087509f4301aa6336931">regex</a></div><div class="ttdeci">static int regex(struct ast_channel *chan, const char *cmd, char *parse, char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l00948">func_strings.c:948</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a735984d41155bc1032e09bece8f8d66d">ast_sorcery_object_wizard::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">Unique data for the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00108">sorcery.c:108</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9184a8cdeb14537309e5e020948ecd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9184a8cdeb14537309e5e020948ecd3">&#9670;&nbsp;</a></span>ast_sorcery_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td>
          <td class="paramname"><em>sorcery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">object</td><td>Pointer to a sorcery object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02145">2145</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00880">AST_VECTOR_RW_RDLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00900">AST_VECTOR_RW_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00111">ast_sorcery_object_wizard::caching</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00352">ast_sorcery_object_details::object</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00198">sorcery_observer_invocation::object_type</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00183">ast_sorcery_object_type::serializer</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01833">sorcery_details::sorcery</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01292">sorcery_observer_invocation_alloc()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02120">sorcery_observers_notify_update()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02131">sorcery_wizard_update()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00132">ast_sorcery_object::type</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00232">ast_sorcery::types</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00165">ast_sorcery_object_type::wizards</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00839">ast_bucket_file_update()</a>, <a class="el" href="../../d2/d94/res__mwi__external_8c_source.html#l00235">ast_mwi_mailbox_update()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00445">ast_sip_location_update_contact()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l02061">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00237">sorcery_memory_cache_thrash_update()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00662">subscription_persistence_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;{</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a> *details = <a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>;</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a> *, object_type, <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(sorcery-&gt;<a class="code" href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">types</a>, details-&gt;<a class="code" href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">object</a>-&gt;<a class="code" href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">type</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *object_wizard = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a> *found_wizard;</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/dbf/structsorcery__details.html">sorcery_details</a> sdetails = {</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      .<a class="code" href="../../d2/dbf/structsorcery__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery</a> = <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>,</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      .obj = object,</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;   };</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;   <span class="keywordflow">if</span> (!object_type) {</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;   }</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a>(&amp;object_type-&gt;wizards);</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      found_wizard = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      <span class="keywordflow">if</span> (!found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a></div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;         &amp;&amp; <a class="code" href="../../d7/d69/sorcery_8c.html#abf5780f9f94ed66d7c81a7d38f70ee0d">sorcery_wizard_update</a>(found_wizard, &amp;sdetails) == <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>) {</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;         object_wizard = found_wizard;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      }</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;   }</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;   <span class="keywordflow">if</span> (object_wizard) {</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;object_type-&gt;wizards); i++) {</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;         found_wizard = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;object_type-&gt;wizards, i);</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;         <span class="keywordflow">if</span> (found_wizard-&gt;<a class="code" href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">caching</a>) {</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;            <a class="code" href="../../d7/d69/sorcery_8c.html#abf5780f9f94ed66d7c81a7d38f70ee0d">sorcery_wizard_update</a>(found_wizard, &amp;sdetails);</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;         }</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      }</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(object_type-&gt;observers)) {</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d8/d17/structsorcery__observer__invocation.html">sorcery_observer_invocation</a> *invocation;</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;         invocation = <a class="code" href="../../d7/d69/sorcery_8c.html#a2db7cdc19c558c3c3adfe43284d3f851">sorcery_observer_invocation_alloc</a>(<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>, <span class="keywordtype">object</span>);</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;         <span class="keywordflow">if</span> (invocation</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            &amp;&amp; <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#ac23e23ba60f358de78a893d537c0afa4">serializer</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#ad9eccf0c428a613d2c6612b843878d67">sorcery_observers_notify_update</a>,</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;               invocation)) {</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(invocation);</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;         }</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      }</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;   }</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a>(&amp;<a class="code" href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">object_type</a>-&gt;<a class="code" href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">wizards</a>);</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;   <span class="keywordflow">return</span> object_wizard ? 0 : -1;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;}</div><div class="ttc" id="structsorcery__details_html_aeb33dcb5573e1661c82b5370681fb626"><div class="ttname"><a href="../../d2/dbf/structsorcery__details.html#aeb33dcb5573e1661c82b5370681fb626">sorcery_details::sorcery</a></div><div class="ttdeci">const struct ast_sorcery * sorcery</div><div class="ttdoc">Pointer to the sorcery instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01833">sorcery.c:1833</a></div></div>
<div class="ttc" id="sorcery_8c_html_a2db7cdc19c558c3c3adfe43284d3f851"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a2db7cdc19c558c3c3adfe43284d3f851">sorcery_observer_invocation_alloc</a></div><div class="ttdeci">static struct sorcery_observer_invocation * sorcery_observer_invocation_alloc(struct ast_sorcery_object_type *object_type, void *object)</div><div class="ttdoc">Allocator function for observer invocation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01292">sorcery.c:1292</a></div></div>
<div class="ttc" id="structsorcery__details_html"><div class="ttname"><a href="../../d2/dbf/structsorcery__details.html">sorcery_details</a></div><div class="ttdoc">Structure used when calling create, update, or delete. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01831">sorcery.c:1831</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="vector_8h_html_a5ad3dd1d3da5d4ebf6a44d32e42c4c91"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a5ad3dd1d3da5d4ebf6a44d32e42c4c91">AST_VECTOR_RW_UNLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_UNLOCK(vec)</div><div class="ttdoc">Unlock vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00900">vector.h:900</a></div></div>
<div class="ttc" id="vector_8h_html_ad414eae87431bad2a7fc4dffa9d06350"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad414eae87431bad2a7fc4dffa9d06350">AST_VECTOR_RW_RDLOCK</a></div><div class="ttdeci">#define AST_VECTOR_RW_RDLOCK(vec)</div><div class="ttdoc">Obtain read lock on vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00880">vector.h:880</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structsorcery__observer__invocation_html"><div class="ttname"><a href="../../d8/d17/structsorcery__observer__invocation.html">sorcery_observer_invocation</a></div><div class="ttdoc">Structure used for observer invocations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00196">sorcery.c:196</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html_a3de5a8e94ff94b1105ac88cf99ab3f86"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html#a3de5a8e94ff94b1105ac88cf99ab3f86">ast_sorcery_object_wizard::caching</a></div><div class="ttdeci">unsigned int caching</div><div class="ttdoc">Wizard is acting as an object cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00111">sorcery.c:111</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_ac23e23ba60f358de78a893d537c0afa4"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#ac23e23ba60f358de78a893d537c0afa4">ast_sorcery_object_type::serializer</a></div><div class="ttdeci">struct ast_taskprocessor * serializer</div><div class="ttdoc">Serializer for observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00183">sorcery.c:183</a></div></div>
<div class="ttc" id="sorcery_8c_html_abf5780f9f94ed66d7c81a7d38f70ee0d"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#abf5780f9f94ed66d7c81a7d38f70ee0d">sorcery_wizard_update</a></div><div class="ttdeci">static int sorcery_wizard_update(const struct ast_sorcery_object_wizard *object_wizard, const struct sorcery_details *details)</div><div class="ttdoc">Internal function which returns if a wizard has updated the object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02131">sorcery.c:2131</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html">ast_sorcery_object_type</a></div><div class="ttdoc">Structure for registered object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00148">sorcery.c:148</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html">ast_sorcery_object_details</a></div><div class="ttdoc">Structure which contains details about a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00350">sorcery.h:350</a></div></div>
<div class="ttc" id="structast__sorcery_html_ac2c4296da5f4343af42fd67d90f34f9b"><div class="ttname"><a href="../../d2/d88/structast__sorcery.html#ac2c4296da5f4343af42fd67d90f34f9b">ast_sorcery::types</a></div><div class="ttdeci">struct ao2_container * types</div><div class="ttdoc">Container for known object types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00232">sorcery.c:232</a></div></div>
<div class="ttc" id="structast__sorcery__object__type_html_a125405cfc225fb137c9b067652123565"><div class="ttname"><a href="../../d9/d60/structast__sorcery__object__type.html#a125405cfc225fb137c9b067652123565">ast_sorcery_object_type::wizards</a></div><div class="ttdeci">struct ast_sorcery_object_wizards wizards</div><div class="ttdoc">Wizard instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00165">sorcery.c:165</a></div></div>
<div class="ttc" id="sorcery_8c_html_ad9eccf0c428a613d2c6612b843878d67"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ad9eccf0c428a613d2c6612b843878d67">sorcery_observers_notify_update</a></div><div class="ttdeci">static int sorcery_observers_notify_update(void *data)</div><div class="ttdoc">Internal callback function which notifies observers that an object has been updated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02120">sorcery.c:2120</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sorcery__object__wizard_html"><div class="ttname"><a href="../../d3/dbc/structast__sorcery__object__wizard.html">ast_sorcery_object_wizard</a></div><div class="ttdoc">Structure for a wizard instance which operates on objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00103">sorcery.c:103</a></div></div>
<div class="ttc" id="structsorcery__observer__invocation_html_a7b50328940299b05c0e0a3bf7b7bd868"><div class="ttname"><a href="../../d8/d17/structsorcery__observer__invocation.html#a7b50328940299b05c0e0a3bf7b7bd868">sorcery_observer_invocation::object_type</a></div><div class="ttdeci">struct ast_sorcery_object_type * object_type</div><div class="ttdoc">Pointer to the object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00198">sorcery.c:198</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="structast__sorcery__object_html_ae9403613c8acbe677b90d7922d3d2a25"><div class="ttname"><a href="../../de/da7/structast__sorcery__object.html#ae9403613c8acbe677b90d7922d3d2a25">ast_sorcery_object::type</a></div><div class="ttdeci">char type[MAX_OBJECT_TYPE]</div><div class="ttdoc">Type of object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00132">sorcery.c:132</a></div></div>
<div class="ttc" id="structast__sorcery__object__details_html_ac62a73b108cb7dc154e511c33460b255"><div class="ttname"><a href="../../db/da2/structast__sorcery__object__details.html#ac62a73b108cb7dc154e511c33460b255">ast_sorcery_object_details::object</a></div><div class="ttdeci">struct ast_sorcery_object * object</div><div class="ttdoc">Pointer to internal sorcery object information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00352">sorcery.h:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acee362371c58add5fb6680cf17e94a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acee362371c58add5fb6680cf17e94a61">&#9670;&nbsp;</a></span>ast_sorcery_wizard_observer_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_wizard_observer_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *&#160;</td>
          <td class="paramname"><em>wizard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../db/da1/structast__sorcery__wizard__observer.html">ast_sorcery_wizard_observer</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an observer to a sorcery wizard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a previously registered wizard structure </td></tr>
    <tr><td class="paramname">callbacks</td><td>Implementation of the wizard observer interface</td></tr>
  </table>
  </dd>
</dl>
<p>A wizard observer is notified... Before a wizard is loaded or reloaded. After a wizard is loaded or reloaded.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>You must be ready to accept observer invocations before this function is called </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00543">543</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00277">sorcery_wizard_observer::callbacks</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00278">ast_sorcery_wizard::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03380">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a> *, wizard,</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      interface ? <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>, interface-&gt;name, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <span class="keywordflow">if</span> (wizard) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d4/d70/structsorcery__wizard__observer.html">sorcery_wizard_observer</a> *cb;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      cb = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*cb), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">if</span> (!cb) {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      cb-&gt;<a class="code" href="../../d4/d70/structsorcery__wizard__observer.html#a496e0f9ec56db5b01a44813460701c2d">callbacks</a> = <a class="code" href="../../d4/d70/structsorcery__wizard__observer.html#a496e0f9ec56db5b01a44813460701c2d">callbacks</a>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(wizard-&gt;observers, cb);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cb, -1);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structsorcery__wizard__observer_html_a496e0f9ec56db5b01a44813460701c2d"><div class="ttname"><a href="../../d4/d70/structsorcery__wizard__observer.html#a496e0f9ec56db5b01a44813460701c2d">sorcery_wizard_observer::callbacks</a></div><div class="ttdeci">const struct ast_sorcery_wizard_observer * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00277">sorcery.c:277</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a></div><div class="ttdoc">Structure for an internal wizard instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00089">sorcery.c:89</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa929f01f3d7d264cf787e15866b37db3"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a></div><div class="ttdeci">static struct ao2_container * wizards</div><div class="ttdoc">Registered sorcery wizards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00257">sorcery.c:257</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structsorcery__wizard__observer_html"><div class="ttname"><a href="../../d4/d70/structsorcery__wizard__observer.html">sorcery_wizard_observer</a></div><div class="ttdoc">A wizard observer wrapper. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00276">sorcery.c:276</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac52251703805c48a10e61c61bdebac7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac52251703805c48a10e61c61bdebac7d">&#9670;&nbsp;</a></span>ast_sorcery_wizard_observer_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sorcery_wizard_observer_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *&#160;</td>
          <td class="paramname"><em>wizard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../db/da1/structast__sorcery__wizard__observer.html">ast_sorcery_wizard_observer</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an observer from a sorcery wizard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sorcery</td><td>Pointer to a sorcery structure </td></tr>
    <tr><td class="paramname">callbacks</td><td>Implementation of the wizard observer interface </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00568">568</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00278">ast_sorcery_wizard::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00491">sorcery_generic_observer_remove()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l03380">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;{</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a> *, wizard,</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      interface ? <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>, interface-&gt;name, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <span class="keywordflow">if</span> (wizard) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(wizard-&gt;observers, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>, <a class="code" href="../../d7/d69/sorcery_8c.html#a7c4b7a7ce4d9938ab23318f36554e211">sorcery_generic_observer_remove</a>, (<span class="keywordtype">void</span> *)callbacks);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div><div class="ttc" id="sorcery_8c_html_a7c4b7a7ce4d9938ab23318f36554e211"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a7c4b7a7ce4d9938ab23318f36554e211">sorcery_generic_observer_remove</a></div><div class="ttdeci">static int sorcery_generic_observer_remove(void *obj, void *arg, int flags)</div><div class="ttdoc">Internal callback function for removing a generic observer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00491">sorcery.c:491</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a></div><div class="ttdoc">Structure for an internal wizard instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00089">sorcery.c:89</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa929f01f3d7d264cf787e15866b37db3"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a></div><div class="ttdeci">static struct ao2_container * wizards</div><div class="ttdoc">Registered sorcery wizards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00257">sorcery.c:257</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a14ed6490f3390526922655ab5dbc344f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ed6490f3390526922655ab5dbc344f">&#9670;&nbsp;</a></span>ast_sorcery_wizard_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sorcery_wizard_unregister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d0a/structast__sorcery__wizard.html">ast_sorcery_wizard</a> *&#160;</td>
          <td class="paramname"><em>interface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a sorcery wizard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interface</td><td>Pointer to the wizard interface</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00474">474</a> of file <a class="el" href="../../d7/d69/sorcery_8c_source.html">sorcery.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01598">ao2_unlink</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00096">ast_sorcery_internal_wizard::callbacks</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00868">if()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00278">ast_sorcery_wizard::name</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00076">NOTIFY_GLOBAL_OBSERVERS</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l03118">AST_TEST_DEFINE()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00928">bucket_cleanup()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00141">sorcery_memory_cache_thrash_destroy()</a>, and <a class="el" href="../../d8/dce/res__sorcery__astdb_8c_source.html#l00423">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a> *wizard =</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keyword">interface </span>? <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>, interface-&gt;<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a33e91cd0cef6786e9e3a27ac67707207">if</a> (wizard) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <a class="code" href="../../d7/d69/sorcery_8c.html#a3f60d4ca66dcd4b17d2db0998e6af438">NOTIFY_GLOBAL_OBSERVERS</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a>, wizard_unregistering, wizard-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>.<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, &amp;wizard-&gt;<a class="code" href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">callbacks</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(<a class="code" href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a>, wizard);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(wizard, -1);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Sorcery unregistered wizard &#39;%s&#39;\n&quot;</span>, interface-&gt;<a class="code" href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="sorcery_8c_html_ab7457ba025773f49bfa9029aab54007f"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#ab7457ba025773f49bfa9029aab54007f">observers</a></div><div class="ttdeci">struct ao2_container * observers</div><div class="ttdoc">Registered global observers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00281">sorcery.c:281</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a33e91cd0cef6786e9e3a27ac67707207"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a33e91cd0cef6786e9e3a27ac67707207">if</a></div><div class="ttdeci">if(!yyg-&gt;yy_init)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00868">ast_expr2f.c:868</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sorcery__wizard_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d0a/structast__sorcery__wizard.html#a8f8f80d37794cde9472343e4487ba3eb">ast_sorcery_wizard::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Name of the wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00278">sorcery.h:278</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html_ac16bd62b448ac0441af4a4e248f045fa"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html#ac16bd62b448ac0441af4a4e248f045fa">ast_sorcery_internal_wizard::callbacks</a></div><div class="ttdeci">struct ast_sorcery_wizard callbacks</div><div class="ttdoc">Wizard interface itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00096">sorcery.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__sorcery__internal__wizard_html"><div class="ttname"><a href="../../d5/db1/structast__sorcery__internal__wizard.html">ast_sorcery_internal_wizard</a></div><div class="ttdoc">Structure for an internal wizard instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00089">sorcery.c:89</a></div></div>
<div class="ttc" id="astobj2_8h_html_a64f51be4bee35c38dbe59b0a788b5ce8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a></div><div class="ttdeci">#define ao2_unlink(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01598">astobj2.h:1598</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="sorcery_8c_html_aa929f01f3d7d264cf787e15866b37db3"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#aa929f01f3d7d264cf787e15866b37db3">wizards</a></div><div class="ttdeci">static struct ao2_container * wizards</div><div class="ttdoc">Registered sorcery wizards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00257">sorcery.c:257</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="sorcery_8c_html_a3f60d4ca66dcd4b17d2db0998e6af438"><div class="ttname"><a href="../../d7/d69/sorcery_8c.html#a3f60d4ca66dcd4b17d2db0998e6af438">NOTIFY_GLOBAL_OBSERVERS</a></div><div class="ttdeci">#define NOTIFY_GLOBAL_OBSERVERS(container, callback,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l00076">sorcery.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:48 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
