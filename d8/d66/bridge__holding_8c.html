<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: bridge_holding.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_248c5494cbf50d375c6b51a2b292aa12.html">bridges</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bridge_holding.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Bridging technology for storing channels in a bridge for the purpose of holding, parking, queues, and other such states where a channel may need to be in a bridge but not actually communicating with anything.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d56/bridge_8h_source.html">asterisk/bridge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d3b/bridge__technology_8h_source.html">asterisk/bridge_technology.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html">asterisk/frame.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d07/musiconhold_8h_source.html">asterisk/musiconhold.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bridge_holding.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d12/bridge__holding_8c__incl.png" border="0" usemap="#bridge__holding_8c" alt=""/></div>
<map name="bridge__holding_8c" id="bridge__holding_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="577,453,661,480"/>
<area shape="rect" id="node18" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="768,229,904,256"/>
<area shape="rect" id="node22" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1355,304,1493,331"/>
<area shape="rect" id="node30" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="95,453,222,480"/>
<area shape="rect" id="node42" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="2017,80,2145,107"/>
<area shape="rect" id="node45" href="../../d0/d3b/bridge__technology_8h.html" title="Channel Bridging API. " alt="" coords="1668,229,1871,256"/>
<area shape="rect" id="node49" href="../../dc/d07/musiconhold_8h.html" title="Music on hold handling. " alt="" coords="2631,80,2801,107"/>
<area shape="rect" id="node50" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2825,80,3001,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="625,528,780,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="991,528,1129,555"/>
<area shape="rect" id="node16" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="466,528,601,555"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="581,603,728,629"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1329,677,1471,704"/>
<area shape="rect" id="node19" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="827,453,941,480"/>
<area shape="rect" id="node20" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1690,603,1803,629"/>
<area shape="rect" id="node21" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1204,528,1361,555"/>
<area shape="rect" id="node23" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="724,379,868,405"/>
<area shape="rect" id="node24" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="246,453,405,480"/>
<area shape="rect" id="node27" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1946,453,2081,480"/>
<area shape="rect" id="node28" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1607,528,1758,555"/>
<area shape="rect" id="node29" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1538,379,1702,405"/>
<area shape="rect" id="node32" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1436,453,1583,480"/>
<area shape="rect" id="node33" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="893,379,1019,405"/>
<area shape="rect" id="node34" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1727,379,1833,405"/>
<area shape="rect" id="node35" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1607,453,1758,480"/>
<area shape="rect" id="node36" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1858,379,2019,405"/>
<area shape="rect" id="node37" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="297,379,468,405"/>
<area shape="rect" id="node38" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1194,379,1310,405"/>
<area shape="rect" id="node39" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="543,379,700,405"/>
<area shape="rect" id="node40" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1044,379,1169,405"/>
<area shape="rect" id="node41" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="2043,379,2194,405"/>
<area shape="rect" id="node26" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="311,528,441,555"/>
<area shape="rect" id="node31" href="../../d1/d84/endian_8h.html" title="Asterisk architecture endianess compatibility definitions. " alt="" coords="44,528,175,555"/>
<area shape="rect" id="node43" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="1987,229,2175,256"/>
<area shape="rect" id="node44" href="../../de/d41/bridge__channel_8h.html" title="asterisk/bridge_channel.h" alt="" coords="1989,155,2174,181"/>
<area shape="rect" id="node46" href="../../dd/dff/bridge__roles_8h.html" title="Channel Bridging Roles API. " alt="" coords="2179,304,2346,331"/>
<area shape="rect" id="node47" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="1714,155,1825,181"/>
<area shape="rect" id="node48" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="1849,155,1964,181"/>
</map>
</div>
</div>
<p><a href="../../d8/d66/bridge__holding_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/ded/structdeferred__data.html">deferred_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d12/structholding__channel.html">holding_channel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure which contains per-channel role information.  <a href="../../d7/d12/structholding__channel.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa579038e893046d485e70c5ef3bc8d18"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#aa579038e893046d485e70c5ef3bc8d18">deferred_cb</a>) (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:aa579038e893046d485e70c5ef3bc8d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a3819c4fd25218af8402ab866031b0355"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355">holding_roles</a> { <a class="el" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9">HOLDING_ROLE_PARTICIPANT</a>, 
<a class="el" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9">HOLDING_ROLE_ANNOUNCER</a>
 }</td></tr>
<tr class="separator:a3819c4fd25218af8402ab866031b0355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446d6689bd1b1f2180879175f4447196"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196">idle_modes</a> { <br />
&#160;&#160;<a class="el" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3">IDLE_MODE_NONE</a>, 
<a class="el" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a>, 
<a class="el" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920">IDLE_MODE_RINGING</a>, 
<a class="el" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6">IDLE_MODE_HOLD</a>
<br />
 }</td></tr>
<tr class="separator:a446d6689bd1b1f2180879175f4447196"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ae6ef2806c96cf608770d4e24eff3c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a58ae6ef2806c96cf608770d4e24eff3c">defer_action</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, <a class="el" href="../../d8/d66/bridge__holding_8c.html#aa579038e893046d485e70c5ef3bc8d18">deferred_cb</a> callback)</td></tr>
<tr class="separator:a58ae6ef2806c96cf608770d4e24eff3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf38df86af98cfdb636531a8426af096"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#adf38df86af98cfdb636531a8426af096">deferred_action</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, const void *payload, size_t payload_size)</td></tr>
<tr class="separator:adf38df86af98cfdb636531a8426af096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90048c2fd3034266b3b3a9c0b3639d66"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a90048c2fd3034266b3b3a9c0b3639d66">handle_participant_join</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *announcer_channel)</td></tr>
<tr class="separator:a90048c2fd3034266b3b3a9c0b3639d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27aa8fbf436c1a7b85d6ab16ccc82891"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a27aa8fbf436c1a7b85d6ab16ccc82891">holding_bridge_join</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a27aa8fbf436c1a7b85d6ab16ccc82891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0f5b1e5dc919cb3f9d1b807b253d42"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a5e0f5b1e5dc919cb3f9d1b807b253d42">holding_bridge_leave</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a5e0f5b1e5dc919cb3f9d1b807b253d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5780a2ddf66d24037819ec1c70ac0769"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a5780a2ddf66d24037819ec1c70ac0769">holding_bridge_suspend</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a5780a2ddf66d24037819ec1c70ac0769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf2462ae62e3714ae2bc1c1569b90d06"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#abf2462ae62e3714ae2bc1c1569b90d06">holding_bridge_unsuspend</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:abf2462ae62e3714ae2bc1c1569b90d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f99e0814be5a9230a91a24f051746e5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a6f99e0814be5a9230a91a24f051746e5">holding_bridge_write</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame)</td></tr>
<tr class="separator:a6f99e0814be5a9230a91a24f051746e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79170f350aca78021a42ec85b5b1e628"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a79170f350aca78021a42ec85b5b1e628">participant_entertainment_start</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a79170f350aca78021a42ec85b5b1e628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4090100326cec5e967cd96fda0789aed"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a4090100326cec5e967cd96fda0789aed">participant_entertainment_stop</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a4090100326cec5e967cd96fda0789aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a6b43181cf3208d9feae1d72d59652c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a2a6b43181cf3208d9feae1d72d59652c">participant_idle_mode_setup</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a2a6b43181cf3208d9feae1d72d59652c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c6dd11cecfb2ec4ed8a0607d98d504b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a8c6dd11cecfb2ec4ed8a0607d98d504b">participant_reaction_announcer_join</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a8c6dd11cecfb2ec4ed8a0607d98d504b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d27ec05ecc0c223dd6981876a34c296"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a9d27ec05ecc0c223dd6981876a34c296">participant_reaction_announcer_leave</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a9d27ec05ecc0c223dd6981876a34c296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Holding bridge module&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_DEFAULT, .support_level = AST_MODULE_SUPPORT_CORE, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a1d578fb86e3c78c97c3701edb7da29"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/d04/structast__bridge__technology.html">ast_bridge_technology</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d66/bridge__holding_8c.html#a7a1d578fb86e3c78c97c3701edb7da29">holding_bridge</a></td></tr>
<tr class="separator:a7a1d578fb86e3c78c97c3701edb7da29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Bridging technology for storing channels in a bridge for the purpose of holding, parking, queues, and other such states where a channel may need to be in a bridge but not actually communicating with anything. </p>
<dl class="section author"><dt>Author</dt><dd>Jonathan Rose <a href="#" onclick="location.href='mai'+'lto:'+'jro'+'se'+'@di'+'gi'+'um.'+'co'+'m'; return false;">jrose<span style="display: none;">.nosp@m.</span>@dig<span style="display: none;">.nosp@m.</span>ium.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="aa579038e893046d485e70c5ef3bc8d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa579038e893046d485e70c5ef3bc8d18">&#9670;&nbsp;</a></span>deferred_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* deferred_cb) (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00073">73</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a3819c4fd25218af8402ab866031b0355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3819c4fd25218af8402ab866031b0355">&#9670;&nbsp;</a></span>holding_roles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355">holding_roles</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9"></a>HOLDING_ROLE_PARTICIPANT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9"></a>HOLDING_ROLE_ANNOUNCER&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00051">51</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                   {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9">HOLDING_ROLE_PARTICIPANT</a>,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9">HOLDING_ROLE_ANNOUNCER</a>,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;};</div><div class="ttc" id="bridge__holding_8c_html_a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9">HOLDING_ROLE_PARTICIPANT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00052">bridge_holding.c:52</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9">HOLDING_ROLE_ANNOUNCER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00053">bridge_holding.c:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a446d6689bd1b1f2180879175f4447196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446d6689bd1b1f2180879175f4447196">&#9670;&nbsp;</a></span>idle_modes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196">idle_modes</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3"></a>IDLE_MODE_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8"></a>IDLE_MODE_MOH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920"></a>IDLE_MODE_RINGING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967"></a>IDLE_MODE_SILENCE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6"></a>IDLE_MODE_HOLD&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00056">56</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3">IDLE_MODE_NONE</a>,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a>,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920">IDLE_MODE_RINGING</a>,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a>,</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6">IDLE_MODE_HOLD</a>,</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;};</div><div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3">IDLE_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00057">bridge_holding.c:57</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00058">bridge_holding.c:58</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00060">bridge_holding.c:60</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6">IDLE_MODE_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00061">bridge_holding.c:61</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920">IDLE_MODE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00059">bridge_holding.c:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00446">446</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00446">446</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00446">446</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

</div>
</div>
<a id="a58ae6ef2806c96cf608770d4e24eff3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ae6ef2806c96cf608770d4e24eff3c">&#9670;&nbsp;</a></span>defer_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int defer_action </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d66/bridge__holding_8c.html#aa579038e893046d485e70c5ef3bc8d18">deferred_cb</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00093">93</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01492">ast_bridge_channel_queue_callback()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00100">ast_bridge_channel::bridge</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00077">deferred_data::callback</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00416">deferred_action()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00228">handle_participant_join()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00244">holding_bridge_join()</a>, and <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00303">holding_bridge_leave()</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/ded/structdeferred__data.html">deferred_data</a> data = { .<a class="code" href="../../d4/ded/structdeferred__data.html#a72dd46efba7a7417e3553afe461a234e">callback</a> = <a class="code" href="../../d4/ded/structdeferred__data.html#a72dd46efba7a7417e3553afe461a234e">callback</a> };</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   res = <a class="code" href="../../de/d41/bridge__channel_8h.html#ad7de2a71d5af8f85035713f1f3cb69a9">ast_bridge_channel_queue_callback</a>(bridge_channel, 0, <a class="code" href="../../d8/d66/bridge__holding_8c.html#adf38df86af98cfdb636531a8426af096">deferred_action</a>,</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      &amp;data, <span class="keyword">sizeof</span>(data));</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Bridge %s: Could not defer action on %s.\n&quot;</span>,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;         bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="ttc" id="structdeferred__data_html"><div class="ttname"><a href="../../d4/ded/structdeferred__data.html">deferred_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00075">bridge_holding.c:75</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">ast_bridge_channel::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdoc">Bridge this channel is participating in. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00100">bridge_channel.h:100</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad7de2a71d5af8f85035713f1f3cb69a9"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad7de2a71d5af8f85035713f1f3cb69a9">ast_bridge_channel_queue_callback</a></div><div class="ttdeci">int ast_bridge_channel_queue_callback(struct ast_bridge_channel *bridge_channel, enum ast_bridge_channel_custom_callback_option flags, ast_bridge_custom_callback_fn callback, const void *payload, size_t payload_size)</div><div class="ttdoc">Queue a bridge action custom callback frame onto the bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01492">bridge_channel.c:1492</a></div></div>
<div class="ttc" id="structdeferred__data_html_a72dd46efba7a7417e3553afe461a234e"><div class="ttname"><a href="../../d4/ded/structdeferred__data.html#a72dd46efba7a7417e3553afe461a234e">deferred_data::callback</a></div><div class="ttdeci">deferred_cb callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00077">bridge_holding.c:77</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="bridge__holding_8c_html_adf38df86af98cfdb636531a8426af096"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#adf38df86af98cfdb636531a8426af096">deferred_action</a></div><div class="ttdeci">static void deferred_action(struct ast_bridge_channel *bridge_channel, const void *payload, size_t payload_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00416">bridge_holding.c:416</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf38df86af98cfdb636531a8426af096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf38df86af98cfdb636531a8426af096">&#9670;&nbsp;</a></span>deferred_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void deferred_action </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>payload_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00416">416</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00222">ast_bridge_channel_lock_bridge()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00100">ast_bridge_channel::bridge</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00077">deferred_data::callback</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00363">ast_bridge::technology</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00093">defer_action()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l00998">smart_bridge_operation()</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d4/ded/structdeferred__data.html">deferred_data</a> *data = payload;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#a7d01ff5caf025a97796d2dbb78f5f02c">ast_bridge_channel_lock_bridge</a>(bridge_channel);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a> != &amp;<a class="code" href="../../d8/d66/bridge__holding_8c.html#a7a1d578fb86e3c78c97c3701edb7da29">holding_bridge</a></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      || !bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>) {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="comment">/* Not valid anymore. */</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   data-&gt;<a class="code" href="../../d4/ded/structdeferred__data.html#a72dd46efba7a7417e3553afe461a234e">callback</a>(bridge_channel);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div><div class="ttc" id="structdeferred__data_html"><div class="ttname"><a href="../../d4/ded/structdeferred__data.html">deferred_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00075">bridge_holding.c:75</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">ast_bridge_channel::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdoc">Bridge this channel is participating in. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00100">bridge_channel.h:100</a></div></div>
<div class="ttc" id="structast__bridge_html_aabb60a181a9e98fb31f8666fb4f5d0b8"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">ast_bridge::technology</a></div><div class="ttdeci">struct ast_bridge_technology * technology</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00363">bridge.h:363</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a7a1d578fb86e3c78c97c3701edb7da29"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a7a1d578fb86e3c78c97c3701edb7da29">holding_bridge</a></div><div class="ttdeci">static struct ast_bridge_technology holding_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00394">bridge_holding.c:394</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="structdeferred__data_html_a72dd46efba7a7417e3553afe461a234e"><div class="ttname"><a href="../../d4/ded/structdeferred__data.html#a72dd46efba7a7417e3553afe461a234e">deferred_data::callback</a></div><div class="ttdeci">deferred_cb callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00077">bridge_holding.c:77</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a7d01ff5caf025a97796d2dbb78f5f02c"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a7d01ff5caf025a97796d2dbb78f5f02c">ast_bridge_channel_lock_bridge</a></div><div class="ttdeci">void ast_bridge_channel_lock_bridge(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Lock the bridge associated with the bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00222">bridge_channel.c:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a90048c2fd3034266b3b3a9c0b3639d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90048c2fd3034266b3b3a9c0b3639d66">&#9670;&nbsp;</a></span>handle_participant_join()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_participant_join </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>announcer_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00228">228</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00041">ast_format_slin</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05890">ast_set_write_format()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00093">defer_action()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00188">participant_entertainment_start()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00244">holding_bridge_join()</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *us = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="comment">/* If the announcer channel isn&#39;t present, we need to set up ringing, music on hold, or whatever. */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keywordflow">if</span> (!announcer_channel) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <a class="code" href="../../d8/d66/bridge__holding_8c.html#a58ae6ef2806c96cf608770d4e24eff3c">defer_action</a>(bridge_channel, <a class="code" href="../../d8/d66/bridge__holding_8c.html#a79170f350aca78021a42ec85b5b1e628">participant_entertainment_start</a>);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="comment">/* We need to get compatible with the announcer. */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(us, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>)) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not make participant %s compatible.\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(us));</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a79170f350aca78021a42ec85b5b1e628"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a79170f350aca78021a42ec85b5b1e628">participant_entertainment_start</a></div><div class="ttdeci">static void participant_entertainment_start(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00188">bridge_holding.c:188</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a58ae6ef2806c96cf608770d4e24eff3c"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a58ae6ef2806c96cf608770d4e24eff3c">defer_action</a></div><div class="ttdeci">static int defer_action(struct ast_bridge_channel *bridge_channel, deferred_cb callback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00093">bridge_holding.c:93</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_abbdfb98077180544657b2d16c5d25f74"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a></div><div class="ttdeci">int ast_set_write_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets write format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05890">channel.c:5890</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="format__cache_8h_html_a771d7c34570e8e492c25a0c2eb41889d"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a></div><div class="ttdeci">struct ast_format * ast_format_slin</div><div class="ttdoc">Built-in cached signed linear 8kHz format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00041">format_cache.c:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27aa8fbf436c1a7b85d6ab16ccc82891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27aa8fbf436c1a7b85d6ab16ccc82891">&#9670;&nbsp;</a></span>holding_bridge_join()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int holding_bridge_join </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00244">244</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00418">ast_bridge_channel_has_role()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00041">ast_format_slin</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05849">ast_set_read_format()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00093">defer_action()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00228">handle_participant_join()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00053">HOLDING_ROLE_ANNOUNCER</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00052">HOLDING_ROLE_PARTICIPANT</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00176">participant_reaction_announcer_join()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00067">holding_channel::role</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00365">ast_bridge::tech_pvt</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *other_channel;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *announcer_channel;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d12/structholding__channel.html">holding_channel</a> *hc;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *us = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>; <span class="comment">/* The joining channel */</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="keywordflow">if</span> (!(hc = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*hc)))) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> = hc;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <span class="comment">/* The bridge pvt holds the announcer channel if we have one. */</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   announcer_channel = bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/dff/bridge__roles_8h.html#abc192ffe6ffc292806e647e0fa9b775e">ast_bridge_channel_has_role</a>(bridge_channel, <span class="stringliteral">&quot;announcer&quot;</span>)) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">if</span> (announcer_channel) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;         <span class="comment">/* Another announcer already exists. */</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;         bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(hc);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Bridge %s: Channel %s tried to be an announcer.  Bridge already has one.\n&quot;</span>,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> = bridge_channel;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">role</a> = <a class="code" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9">HOLDING_ROLE_ANNOUNCER</a>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="comment">/* The announcer should always be made compatible with signed linear */</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(us, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>)) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not make announcer %s compatible.\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(us));</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="comment">/* Make everyone listen to the announcer. */</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, other_channel, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;         <span class="comment">/* Skip the reaction if we are the channel in question */</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         <span class="keywordflow">if</span> (bridge_channel == other_channel) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;         }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;         <a class="code" href="../../d8/d66/bridge__holding_8c.html#a58ae6ef2806c96cf608770d4e24eff3c">defer_action</a>(other_channel, <a class="code" href="../../d8/d66/bridge__holding_8c.html#a8c6dd11cecfb2ec4ed8a0607d98d504b">participant_reaction_announcer_join</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">role</a> = <a class="code" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9">HOLDING_ROLE_PARTICIPANT</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a90048c2fd3034266b3b3a9c0b3639d66">handle_participant_join</a>(bridge_channel, announcer_channel);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div><div class="ttc" id="bridge__roles_8h_html_abc192ffe6ffc292806e647e0fa9b775e"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#abc192ffe6ffc292806e647e0fa9b775e">ast_bridge_channel_has_role</a></div><div class="ttdeci">int ast_bridge_channel_has_role(struct ast_bridge_channel *bridge_channel, const char *role_name)</div><div class="ttdoc">Check to see if a bridge channel inherited a specific role from its channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00418">bridge_roles.c:418</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a90048c2fd3034266b3b3a9c0b3639d66"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a90048c2fd3034266b3b3a9c0b3639d66">handle_participant_join</a></div><div class="ttdeci">static void handle_participant_join(struct ast_bridge_channel *bridge_channel, struct ast_bridge_channel *announcer_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00228">bridge_holding.c:228</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a58ae6ef2806c96cf608770d4e24eff3c"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a58ae6ef2806c96cf608770d4e24eff3c">defer_action</a></div><div class="ttdeci">static int defer_action(struct ast_bridge_channel *bridge_channel, deferred_cb callback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00093">bridge_holding.c:93</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structholding__channel_html"><div class="ttname"><a href="../../d7/d12/structholding__channel.html">holding_channel</a></div><div class="ttdoc">Structure which contains per-channel role information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00065">bridge_holding.c:65</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a8c6dd11cecfb2ec4ed8a0607d98d504b"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a8c6dd11cecfb2ec4ed8a0607d98d504b">participant_reaction_announcer_join</a></div><div class="ttdeci">static void participant_reaction_announcer_join(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00176">bridge_holding.c:176</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9">HOLDING_ROLE_PARTICIPANT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00052">bridge_holding.c:52</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="bridge__holding_8c_html_a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9">HOLDING_ROLE_ANNOUNCER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00053">bridge_holding.c:53</a></div></div>
<div class="ttc" id="structast__bridge_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00365">bridge.h:365</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="format__cache_8h_html_a771d7c34570e8e492c25a0c2eb41889d"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a></div><div class="ttdeci">struct ast_format * ast_format_slin</div><div class="ttdoc">Built-in cached signed linear 8kHz format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00041">format_cache.c:41</a></div></div>
<div class="ttc" id="structholding__channel_html_a961f3f411ebee1ba6a89ac3870faeaf3"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">holding_channel::role</a></div><div class="ttdeci">enum holding_roles role</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00067">bridge_holding.c:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e0f5b1e5dc919cb3f9d1b807b253d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e0f5b1e5dc919cb3f9d1b807b253d42">&#9670;&nbsp;</a></span>holding_bridge_leave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void holding_bridge_leave </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00303">303</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00093">defer_action()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00053">HOLDING_ROLE_ANNOUNCER</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00143">participant_entertainment_stop()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00297">participant_reaction_announcer_leave()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00067">holding_channel::role</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00365">ast_bridge::tech_pvt</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *other_channel;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d12/structholding__channel.html">holding_channel</a> *hc = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <span class="keywordflow">if</span> (!hc) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <span class="keywordflow">switch</span> (hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">role</a>) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9">HOLDING_ROLE_ANNOUNCER</a>:</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="comment">/* The announcer is leaving */</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">/* Reset the other channels back to moh/ringing. */</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, other_channel, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;         <a class="code" href="../../d8/d66/bridge__holding_8c.html#a58ae6ef2806c96cf608770d4e24eff3c">defer_action</a>(other_channel, <a class="code" href="../../d8/d66/bridge__holding_8c.html#a9d27ec05ecc0c223dd6981876a34c296">participant_reaction_announcer_leave</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="comment">/* Nothing needs to react to its departure. */</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <a class="code" href="../../d8/d66/bridge__holding_8c.html#a4090100326cec5e967cd96fda0789aed">participant_entertainment_stop</a>(bridge_channel);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(hc);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a58ae6ef2806c96cf608770d4e24eff3c"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a58ae6ef2806c96cf608770d4e24eff3c">defer_action</a></div><div class="ttdeci">static int defer_action(struct ast_bridge_channel *bridge_channel, deferred_cb callback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00093">bridge_holding.c:93</a></div></div>
<div class="ttc" id="structholding__channel_html"><div class="ttname"><a href="../../d7/d12/structholding__channel.html">holding_channel</a></div><div class="ttdoc">Structure which contains per-channel role information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00065">bridge_holding.c:65</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a4090100326cec5e967cd96fda0789aed"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a4090100326cec5e967cd96fda0789aed">participant_entertainment_stop</a></div><div class="ttdeci">static void participant_entertainment_stop(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00143">bridge_holding.c:143</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9">HOLDING_ROLE_ANNOUNCER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00053">bridge_holding.c:53</a></div></div>
<div class="ttc" id="structast__bridge_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00365">bridge.h:365</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a9d27ec05ecc0c223dd6981876a34c296"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a9d27ec05ecc0c223dd6981876a34c296">participant_reaction_announcer_leave</a></div><div class="ttdeci">static void participant_reaction_announcer_leave(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00297">bridge_holding.c:297</a></div></div>
<div class="ttc" id="structholding__channel_html_a961f3f411ebee1ba6a89ac3870faeaf3"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">holding_channel::role</a></div><div class="ttdeci">enum holding_roles role</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00067">bridge_holding.c:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5780a2ddf66d24037819ec1c70ac0769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5780a2ddf66d24037819ec1c70ac0769">&#9670;&nbsp;</a></span>holding_bridge_suspend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void holding_bridge_suspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00354">354</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00052">HOLDING_ROLE_PARTICIPANT</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00143">participant_entertainment_stop()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00067">holding_channel::role</a>, and <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>.</p>
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d12/structholding__channel.html">holding_channel</a> *hc = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keywordflow">if</span> (!hc) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keywordflow">switch</span> (hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">role</a>) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9">HOLDING_ROLE_PARTICIPANT</a>:</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="../../d8/d66/bridge__holding_8c.html#a4090100326cec5e967cd96fda0789aed">participant_entertainment_stop</a>(bridge_channel);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="ttc" id="structholding__channel_html"><div class="ttname"><a href="../../d7/d12/structholding__channel.html">holding_channel</a></div><div class="ttdoc">Structure which contains per-channel role information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00065">bridge_holding.c:65</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9">HOLDING_ROLE_PARTICIPANT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00052">bridge_holding.c:52</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a4090100326cec5e967cd96fda0789aed"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a4090100326cec5e967cd96fda0789aed">participant_entertainment_stop</a></div><div class="ttdeci">static void participant_entertainment_stop(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00143">bridge_holding.c:143</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structholding__channel_html_a961f3f411ebee1ba6a89ac3870faeaf3"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">holding_channel::role</a></div><div class="ttdeci">enum holding_roles role</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00067">bridge_holding.c:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf2462ae62e3714ae2bc1c1569b90d06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf2462ae62e3714ae2bc1c1569b90d06">&#9670;&nbsp;</a></span>holding_bridge_unsuspend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void holding_bridge_unsuspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00371">371</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00052">HOLDING_ROLE_PARTICIPANT</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00188">participant_entertainment_start()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00067">holding_channel::role</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00365">ast_bridge::tech_pvt</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d12/structholding__channel.html">holding_channel</a> *hc = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *announcer_channel = bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <span class="keywordflow">if</span> (!hc) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keywordflow">switch</span> (hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">role</a>) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9">HOLDING_ROLE_PARTICIPANT</a>:</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">if</span> (announcer_channel) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;         <span class="comment">/* There is an announcer channel in the bridge. */</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="comment">/* We need to restart the entertainment. */</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <a class="code" href="../../d8/d66/bridge__holding_8c.html#a79170f350aca78021a42ec85b5b1e628">participant_entertainment_start</a>(bridge_channel);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div><div class="ttc" id="bridge__holding_8c_html_a79170f350aca78021a42ec85b5b1e628"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a79170f350aca78021a42ec85b5b1e628">participant_entertainment_start</a></div><div class="ttdeci">static void participant_entertainment_start(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00188">bridge_holding.c:188</a></div></div>
<div class="ttc" id="structholding__channel_html"><div class="ttname"><a href="../../d7/d12/structholding__channel.html">holding_channel</a></div><div class="ttdoc">Structure which contains per-channel role information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00065">bridge_holding.c:65</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a59fece813de6d0f536ec9b9d6fa670c9">HOLDING_ROLE_PARTICIPANT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00052">bridge_holding.c:52</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="structast__bridge_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00365">bridge.h:365</a></div></div>
<div class="ttc" id="structholding__channel_html_a961f3f411ebee1ba6a89ac3870faeaf3"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">holding_channel::role</a></div><div class="ttdeci">enum holding_roles role</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00067">bridge_holding.c:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f99e0814be5a9230a91a24f051746e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f99e0814be5a9230a91a24f051746e5">&#9670;&nbsp;</a></span>holding_bridge_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int holding_bridge_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00331">331</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01122">ast_bridge_queue_everyone_else()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00053">HOLDING_ROLE_ANNOUNCER</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00067">holding_channel::role</a>, and <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d12/structholding__channel.html">holding_channel</a> *hc = bridge_channel ? bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="comment">/* If there is no tech_pvt, then the channel failed to allocate one when it joined and is borked. Don&#39;t listen to him. */</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="keywordflow">if</span> (!hc) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">/* &quot;Accept&quot; the frame and discard it. */</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">switch</span> (hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">role</a>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9">HOLDING_ROLE_ANNOUNCER</a>:</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="comment">/* Write the frame to all other channels if any. */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a>(bridge, bridge_channel, frame);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="comment">/* &quot;Accept&quot; the frame and discard it. */</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_aef93dd372b07227b9aa10c530d5039f8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a></div><div class="ttdeci">int ast_bridge_queue_everyone_else(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel, struct ast_frame *frame)</div><div class="ttdoc">Queue the given frame to everyone else. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01122">bridge_channel.c:1122</a></div></div>
<div class="ttc" id="structholding__channel_html"><div class="ttname"><a href="../../d7/d12/structholding__channel.html">holding_channel</a></div><div class="ttdoc">Structure which contains per-channel role information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00065">bridge_holding.c:65</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a3819c4fd25218af8402ab866031b0355a8b02016e8beb0def097649f73031aed9">HOLDING_ROLE_ANNOUNCER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00053">bridge_holding.c:53</a></div></div>
<div class="ttc" id="structholding__channel_html_a961f3f411ebee1ba6a89ac3870faeaf3"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#a961f3f411ebee1ba6a89ac3870faeaf3">holding_channel::role</a></div><div class="ttdeci">enum holding_roles role</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00067">bridge_holding.c:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00437">437</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d3b/bridge__technology_8h_source.html#l00223">ast_bridge_technology_register</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, and <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00431">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d3b/bridge__technology_8h.html#ac2da6e2d9c71311ada917906641e8f9f">ast_bridge_technology_register</a>(&amp;<a class="code" href="../../d8/d66/bridge__holding_8c.html#a7a1d578fb86e3c78c97c3701edb7da29">holding_bridge</a>)) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="../../d8/d66/bridge__holding_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>();</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_ad09fa931f468002152a3cc2d5ce25eae"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a></div><div class="ttdeci">static int unload_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00431">bridge_holding.c:431</a></div></div>
<div class="ttc" id="bridge__technology_8h_html_ac2da6e2d9c71311ada917906641e8f9f"><div class="ttname"><a href="../../d0/d3b/bridge__technology_8h.html#ac2da6e2d9c71311ada917906641e8f9f">ast_bridge_technology_register</a></div><div class="ttdeci">#define ast_bridge_technology_register(technology)</div><div class="ttdoc">See __ast_bridge_technology_register() </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3b/bridge__technology_8h_source.html#l00223">bridge_technology.h:223</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a7a1d578fb86e3c78c97c3701edb7da29"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a7a1d578fb86e3c78c97c3701edb7da29">holding_bridge</a></div><div class="ttdeci">static struct ast_bridge_technology holding_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00394">bridge_holding.c:394</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a79170f350aca78021a42ec85b5b1e628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79170f350aca78021a42ec85b5b1e628">&#9670;&nbsp;</a></span>participant_entertainment_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void participant_entertainment_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00188">188</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00427">ast_bridge_channel_get_role_option()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08266">ast_channel_start_silence_generator()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">AST_CONTROL_HOLD</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">AST_CONTROL_RINGING</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04698">ast_indicate_data()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07866">ast_moh_start()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00070">holding_channel::entertainment_active</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00068">holding_channel::idle_mode</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00061">IDLE_MODE_HOLD</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00058">IDLE_MODE_MOH</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00057">IDLE_MODE_NONE</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00059">IDLE_MODE_RINGING</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00060">IDLE_MODE_SILENCE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00116">participant_idle_mode_setup()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00066">holding_channel::silence_generator</a>, and <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00228">handle_participant_join()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00371">holding_bridge_unsuspend()</a>, and <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00297">participant_reaction_announcer_leave()</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d12/structholding__channel.html">holding_channel</a> *hc = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *moh_class;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <span class="keywordtype">size_t</span> moh_length;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(hc != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   <span class="keywordflow">if</span> (hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a8afa6a70a7fbc006dcb87f6e2cd0cec2">entertainment_active</a>) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="comment">/* Already started */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a8afa6a70a7fbc006dcb87f6e2cd0cec2">entertainment_active</a> = 1;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a2a6b43181cf3208d9feae1d72d59652c">participant_idle_mode_setup</a>(bridge_channel);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   <span class="keywordflow">switch</span>(hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a>) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a>:</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      moh_class = <a class="code" href="../../dd/dff/bridge__roles_8h.html#ac114a541f2409bc882f142162391b6e7">ast_bridge_channel_get_role_option</a>(bridge_channel, <span class="stringliteral">&quot;holding_participant&quot;</span>, <span class="stringliteral">&quot;moh_class&quot;</span>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d07/musiconhold_8h.html#a2acec01f2fddd8ca494d874003815cf7">ast_moh_start</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, moh_class, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to start moh, starting silence generator instead\n&quot;</span>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;         hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a> = <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;         hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a87c42de19812445fe260742dc3762669">silence_generator</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a2a2e0ff24c57491a877cac39cb670024">ast_channel_start_silence_generator</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920">IDLE_MODE_RINGING</a>:</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3">IDLE_MODE_NONE</a>:</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a>:</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a87c42de19812445fe260742dc3762669">silence_generator</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a2a2e0ff24c57491a877cac39cb670024">ast_channel_start_silence_generator</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6">IDLE_MODE_HOLD</a>:</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      moh_class = <a class="code" href="../../dd/dff/bridge__roles_8h.html#ac114a541f2409bc882f142162391b6e7">ast_bridge_channel_get_role_option</a>(bridge_channel, <span class="stringliteral">&quot;holding_participant&quot;</span>, <span class="stringliteral">&quot;moh_class&quot;</span>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      moh_length = moh_class ? strlen(moh_class + 1) : 0;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aa8c3522af1bc639cbd5b38f5fdf171fa">ast_indicate_data</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a>, moh_class, moh_length);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">include/asterisk/frame.h:293</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3">IDLE_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00057">bridge_holding.c:57</a></div></div>
<div class="ttc" id="structholding__channel_html_a87c42de19812445fe260742dc3762669"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#a87c42de19812445fe260742dc3762669">holding_channel::silence_generator</a></div><div class="ttdeci">struct ast_silence_generator * silence_generator</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00066">bridge_holding.c:66</a></div></div>
<div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structholding__channel_html_ad4fa50b4d0029597a06c999e28d84d9f"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">holding_channel::idle_mode</a></div><div class="ttdeci">enum idle_modes idle_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00068">bridge_holding.c:68</a></div></div>
<div class="ttc" id="channel_8h_html_aa8c3522af1bc639cbd5b38f5fdf171fa"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8c3522af1bc639cbd5b38f5fdf171fa">ast_indicate_data</a></div><div class="ttdeci">int ast_indicate_data(struct ast_channel *chan, int condition, const void *data, size_t datalen)</div><div class="ttdoc">Indicates condition of channel, with payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04698">channel.c:4698</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00058">bridge_holding.c:58</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00060">bridge_holding.c:60</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structholding__channel_html"><div class="ttname"><a href="../../d7/d12/structholding__channel.html">holding_channel</a></div><div class="ttdoc">Structure which contains per-channel role information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00065">bridge_holding.c:65</a></div></div>
<div class="ttc" id="channel_8h_html_a2a2e0ff24c57491a877cac39cb670024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2a2e0ff24c57491a877cac39cb670024">ast_channel_start_silence_generator</a></div><div class="ttdeci">struct ast_silence_generator * ast_channel_start_silence_generator(struct ast_channel *chan)</div><div class="ttdoc">Starts a silence generator on the given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08266">channel.c:8266</a></div></div>
<div class="ttc" id="musiconhold_8h_html_a2acec01f2fddd8ca494d874003815cf7"><div class="ttname"><a href="../../dc/d07/musiconhold_8h.html#a2acec01f2fddd8ca494d874003815cf7">ast_moh_start</a></div><div class="ttdeci">int ast_moh_start(struct ast_channel *chan, const char *mclass, const char *interpclass)</div><div class="ttdoc">Turn on music on hold on a given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07866">channel.c:7866</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6">IDLE_MODE_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00061">bridge_holding.c:61</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">include/asterisk/frame.h:280</a></div></div>
<div class="ttc" id="bridge__roles_8h_html_ac114a541f2409bc882f142162391b6e7"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#ac114a541f2409bc882f142162391b6e7">ast_bridge_channel_get_role_option</a></div><div class="ttdeci">const char * ast_bridge_channel_get_role_option(struct ast_bridge_channel *bridge_channel, const char *role_name, const char *option)</div><div class="ttdoc">Retrieve the value of a requested role option from a bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00427">bridge_roles.c:427</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a2a6b43181cf3208d9feae1d72d59652c"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a2a6b43181cf3208d9feae1d72d59652c">participant_idle_mode_setup</a></div><div class="ttdeci">static void participant_idle_mode_setup(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00116">bridge_holding.c:116</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920">IDLE_MODE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00059">bridge_holding.c:59</a></div></div>
<div class="ttc" id="structholding__channel_html_a8afa6a70a7fbc006dcb87f6e2cd0cec2"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#a8afa6a70a7fbc006dcb87f6e2cd0cec2">holding_channel::entertainment_active</a></div><div class="ttdeci">unsigned int entertainment_active</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00070">bridge_holding.c:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4090100326cec5e967cd96fda0789aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4090100326cec5e967cd96fda0789aed">&#9670;&nbsp;</a></span>participant_entertainment_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void participant_entertainment_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00143">143</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08312">ast_channel_stop_silence_generator()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">AST_CONTROL_UNHOLD</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07876">ast_moh_stop()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00070">holding_channel::entertainment_active</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00068">holding_channel::idle_mode</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00061">IDLE_MODE_HOLD</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00058">IDLE_MODE_MOH</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00057">IDLE_MODE_NONE</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00059">IDLE_MODE_RINGING</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00060">IDLE_MODE_SILENCE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00066">holding_channel::silence_generator</a>, and <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00303">holding_bridge_leave()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00354">holding_bridge_suspend()</a>, and <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00176">participant_reaction_announcer_join()</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d12/structholding__channel.html">holding_channel</a> *hc = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(hc != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">if</span> (!hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a8afa6a70a7fbc006dcb87f6e2cd0cec2">entertainment_active</a>) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="comment">/* Already stopped */</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a8afa6a70a7fbc006dcb87f6e2cd0cec2">entertainment_active</a> = 0;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordflow">switch</span> (hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a>) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a>:</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="../../dc/d07/musiconhold_8h.html#a52fead32f69533450f3c05b2e6960149">ast_moh_stop</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920">IDLE_MODE_RINGING</a>:</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, -1);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3">IDLE_MODE_NONE</a>:</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a>:</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">if</span> (hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a87c42de19812445fe260742dc3762669">silence_generator</a>) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a87c42de19812445fe260742dc3762669">silence_generator</a>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;         hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#a87c42de19812445fe260742dc3762669">silence_generator</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6">IDLE_MODE_HOLD</a>:</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a>);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div><div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3">IDLE_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00057">bridge_holding.c:57</a></div></div>
<div class="ttc" id="structholding__channel_html_a87c42de19812445fe260742dc3762669"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#a87c42de19812445fe260742dc3762669">holding_channel::silence_generator</a></div><div class="ttdeci">struct ast_silence_generator * silence_generator</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00066">bridge_holding.c:66</a></div></div>
<div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="structholding__channel_html_ad4fa50b4d0029597a06c999e28d84d9f"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">holding_channel::idle_mode</a></div><div class="ttdeci">enum idle_modes idle_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00068">bridge_holding.c:68</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="musiconhold_8h_html_a52fead32f69533450f3c05b2e6960149"><div class="ttname"><a href="../../dc/d07/musiconhold_8h.html#a52fead32f69533450f3c05b2e6960149">ast_moh_stop</a></div><div class="ttdeci">void ast_moh_stop(struct ast_channel *chan)</div><div class="ttdoc">Turn off music on hold on a given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07876">channel.c:7876</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00058">bridge_holding.c:58</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00060">bridge_holding.c:60</a></div></div>
<div class="ttc" id="structholding__channel_html"><div class="ttname"><a href="../../d7/d12/structholding__channel.html">holding_channel</a></div><div class="ttdoc">Structure which contains per-channel role information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00065">bridge_holding.c:65</a></div></div>
<div class="ttc" id="channel_8h_html_a6643cbe766a051d2d06750ab5b3e933d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a></div><div class="ttdeci">void ast_channel_stop_silence_generator(struct ast_channel *chan, struct ast_silence_generator *state)</div><div class="ttdoc">Stops a previously-started silence generator on the given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08312">channel.c:8312</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6">IDLE_MODE_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00061">bridge_holding.c:61</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">include/asterisk/frame.h:294</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920">IDLE_MODE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00059">bridge_holding.c:59</a></div></div>
<div class="ttc" id="structholding__channel_html_a8afa6a70a7fbc006dcb87f6e2cd0cec2"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#a8afa6a70a7fbc006dcb87f6e2cd0cec2">holding_channel::entertainment_active</a></div><div class="ttdeci">unsigned int entertainment_active</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00070">bridge_holding.c:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a6b43181cf3208d9feae1d72d59652c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a6b43181cf3208d9feae1d72d59652c">&#9670;&nbsp;</a></span>participant_idle_mode_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void participant_idle_mode_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00116">116</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00427">ast_bridge_channel_get_role_option()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00068">holding_channel::idle_mode</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00061">IDLE_MODE_HOLD</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00058">IDLE_MODE_MOH</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00057">IDLE_MODE_NONE</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00059">IDLE_MODE_RINGING</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00060">IDLE_MODE_SILENCE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00188">participant_entertainment_start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a> = <a class="code" href="../../dd/dff/bridge__roles_8h.html#ac114a541f2409bc882f142162391b6e7">ast_bridge_channel_get_role_option</a>(bridge_channel, <span class="stringliteral">&quot;holding_participant&quot;</span>, <span class="stringliteral">&quot;idle_mode&quot;</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d12/structholding__channel.html">holding_channel</a> *hc = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(hc != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(idle_mode)) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a> = <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(idle_mode, <span class="stringliteral">&quot;musiconhold&quot;</span>)) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a> = <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(idle_mode, <span class="stringliteral">&quot;ringing&quot;</span>)) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a> = <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920">IDLE_MODE_RINGING</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(idle_mode, <span class="stringliteral">&quot;none&quot;</span>)) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a> = <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3">IDLE_MODE_NONE</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(idle_mode, <span class="stringliteral">&quot;silence&quot;</span>)) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a> = <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(idle_mode, <span class="stringliteral">&quot;hold&quot;</span>)) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      hc-&gt;<a class="code" href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">idle_mode</a> = <a class="code" href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6">IDLE_MODE_HOLD</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="comment">/* Invalid idle mode requested. */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;channel %s idle mode &#39;%s&#39; doesn&#39;t match any defined idle mode\n&quot;</span>,</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), idle_mode);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div><div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196af0a107b324762ca9b7a4d202b22342c3">IDLE_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00057">bridge_holding.c:57</a></div></div>
<div class="ttc" id="structholding__channel_html_ad4fa50b4d0029597a06c999e28d84d9f"><div class="ttname"><a href="../../d7/d12/structholding__channel.html#ad4fa50b4d0029597a06c999e28d84d9f">holding_channel::idle_mode</a></div><div class="ttdeci">enum idle_modes idle_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00068">bridge_holding.c:68</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a3c9f413b4c8b307ad0d22b27da4354d8">IDLE_MODE_MOH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00058">bridge_holding.c:58</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a6b5048aba4a3532b3191612052581967">IDLE_MODE_SILENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00060">bridge_holding.c:60</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structholding__channel_html"><div class="ttname"><a href="../../d7/d12/structholding__channel.html">holding_channel</a></div><div class="ttdoc">Structure which contains per-channel role information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00065">bridge_holding.c:65</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a71d1200da333ca884bc919478f1641d6">IDLE_MODE_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00061">bridge_holding.c:61</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="bridge__roles_8h_html_ac114a541f2409bc882f142162391b6e7"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#ac114a541f2409bc882f142162391b6e7">ast_bridge_channel_get_role_option</a></div><div class="ttdeci">const char * ast_bridge_channel_get_role_option(struct ast_bridge_channel *bridge_channel, const char *role_name, const char *option)</div><div class="ttdoc">Retrieve the value of a requested role option from a bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00427">bridge_roles.c:427</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a446d6689bd1b1f2180879175f4447196a4968184b540467012d232341cc08e920">IDLE_MODE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00059">bridge_holding.c:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c6dd11cecfb2ec4ed8a0607d98d504b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c6dd11cecfb2ec4ed8a0607d98d504b">&#9670;&nbsp;</a></span>participant_reaction_announcer_join()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void participant_reaction_announcer_join </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00176">176</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00041">ast_format_slin</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05890">ast_set_write_format()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00143">participant_entertainment_stop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00244">holding_bridge_join()</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   chan = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a4090100326cec5e967cd96fda0789aed">participant_entertainment_stop</a>(bridge_channel);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>)) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not make participant %s compatible.\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_abbdfb98077180544657b2d16c5d25f74"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a></div><div class="ttdeci">int ast_set_write_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets write format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05890">channel.c:5890</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a4090100326cec5e967cd96fda0789aed"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a4090100326cec5e967cd96fda0789aed">participant_entertainment_stop</a></div><div class="ttdeci">static void participant_entertainment_stop(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00143">bridge_holding.c:143</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="format__cache_8h_html_a771d7c34570e8e492c25a0c2eb41889d"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a></div><div class="ttdeci">struct ast_format * ast_format_slin</div><div class="ttdoc">Built-in cached signed linear 8kHz format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00041">format_cache.c:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d27ec05ecc0c223dd6981876a34c296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d27ec05ecc0c223dd6981876a34c296">&#9670;&nbsp;</a></span>participant_reaction_announcer_leave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void participant_reaction_announcer_leave </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00297">297</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00337">ast_bridge_channel_restore_formats()</a>, and <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00188">participant_entertainment_start()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00303">holding_bridge_leave()</a>.</p>
<div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;{</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#ac77801ebc652f818148d6da29869970c">ast_bridge_channel_restore_formats</a>(bridge_channel);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <a class="code" href="../../d8/d66/bridge__holding_8c.html#a79170f350aca78021a42ec85b5b1e628">participant_entertainment_start</a>(bridge_channel);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div><div class="ttc" id="bridge__holding_8c_html_a79170f350aca78021a42ec85b5b1e628"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a79170f350aca78021a42ec85b5b1e628">participant_entertainment_start</a></div><div class="ttdeci">static void participant_entertainment_start(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00188">bridge_holding.c:188</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ac77801ebc652f818148d6da29869970c"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ac77801ebc652f818148d6da29869970c">ast_bridge_channel_restore_formats</a></div><div class="ttdeci">void ast_bridge_channel_restore_formats(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Restore the formats of a bridge channel&amp;#39;s channel to how they were before bridge_channel_internal_joi...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00337">bridge_channel.c:337</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00431">431</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l00265">ast_bridge_technology_unregister()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00437">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <a class="code" href="../../d0/d3b/bridge__technology_8h.html#ac74018e91ff4fc7374f6137dd76c40f5">ast_bridge_technology_unregister</a>(&amp;<a class="code" href="../../d8/d66/bridge__holding_8c.html#a7a1d578fb86e3c78c97c3701edb7da29">holding_bridge</a>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="ttc" id="bridge__technology_8h_html_ac74018e91ff4fc7374f6137dd76c40f5"><div class="ttname"><a href="../../d0/d3b/bridge__technology_8h.html#ac74018e91ff4fc7374f6137dd76c40f5">ast_bridge_technology_unregister</a></div><div class="ttdeci">int ast_bridge_technology_unregister(struct ast_bridge_technology *technology)</div><div class="ttdoc">Unregister a bridge technology from use. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00265">bridge.c:265</a></div></div>
<div class="ttc" id="bridge__holding_8c_html_a7a1d578fb86e3c78c97c3701edb7da29"><div class="ttname"><a href="../../d8/d66/bridge__holding_8c.html#a7a1d578fb86e3c78c97c3701edb7da29">holding_bridge</a></div><div class="ttdeci">static struct ast_bridge_technology holding_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d66/bridge__holding_8c_source.html#l00394">bridge_holding.c:394</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Holding bridge module&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_DEFAULT, .support_level = AST_MODULE_SUPPORT_CORE, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00446">446</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00446">446</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

</div>
</div>
<a id="a7a1d578fb86e3c78c97c3701edb7da29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a1d578fb86e3c78c97c3701edb7da29">&#9670;&nbsp;</a></span>holding_bridge</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/d04/structast__bridge__technology.html">ast_bridge_technology</a> holding_bridge</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00394">394</a> of file <a class="el" href="../../d8/d66/bridge__holding_8c_source.html">bridge_holding.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:53 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
