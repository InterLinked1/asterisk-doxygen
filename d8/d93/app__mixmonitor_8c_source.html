<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: app_mixmonitor.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">app_mixmonitor.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d8/d93/app__mixmonitor_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Asterisk -- An open source telephony toolkit.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2005, Anthony Minessale II</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (C) 2005 - 2006, Digium, Inc.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Mark Spencer &lt;markster@digium.com&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Kevin P. Fleming &lt;kpfleming@digium.com&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Based on app_muxmon.c provided by</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * Anthony Minessale II &lt;anthmct@yahoo.com&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * See http://www.asterisk.org for more information about</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * the Asterisk project. Please do not directly contact</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * any of the maintainers of this project for assistance;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * the project provides a web site, mailing lists and IRC</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * channels for your use.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * This program is free software, distributed under the terms of</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * at the top of the source tree.</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*! \file</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * \brief MixMonitor() - Record a call and mix the audio during the recording</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * \ingroup applications</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * \author Mark Spencer &lt;markster@digium.com&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * \author Kevin P. Fleming &lt;kpfleming@digium.com&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * \note Based on app_muxmon.c provided by</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * Anthony Minessale II &lt;anthmct@yahoo.com&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*** MODULEINFO</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">   &lt;use type=&quot;module&quot;&gt;func_periodic_hook&lt;/use&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">   &lt;support_level&gt;core&lt;/support_level&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> ***/</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/db2/asterisk_8h.html">asterisk.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/df2/paths_8h.html">asterisk/paths.h</a>&quot;</span>   <span class="comment">/* use ast_config_AST_MONITOR_DIR */</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d0f/stringfields_8h.html">asterisk/stringfields.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d4d/file_8h.html">asterisk/file.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d79/audiohook_8h.html">asterisk/audiohook.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/de0/pbx_8h.html">asterisk/pbx.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d16/module_8h.html">asterisk/module.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/db0/cli_8h.html">asterisk/cli.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html">asterisk/app.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d7b/channel_8h.html">asterisk/channel.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d6c/autochan_8h.html">asterisk/autochan.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d45/manager_8h.html">asterisk/manager.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d79/stasis_8h.html">asterisk/stasis.h</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d4a/stasis__channels_8h.html">asterisk/stasis_channels.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d47/callerid_8h.html">asterisk/callerid.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d5d/mod__format_8h.html">asterisk/mod_format.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d90/linkedlists_8h.html">asterisk/linkedlists.h</a>&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/ddc/test_8h.html">asterisk/test.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d40/mixmonitor_8h.html">asterisk/mixmonitor.h</a>&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d1c/format__cache_8h.html">asterisk/format_cache.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d36/beep_8h.html">asterisk/beep.h</a>&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/*** DOCUMENTATION</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">   &lt;application name=&quot;MixMonitor&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">         Record a call and mix the audio during the recording.  Use of StopMixMonitor is required</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">         to guarantee the audio file is available for processing during dialplan execution.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">         &lt;parameter name=&quot;file&quot; required=&quot;true&quot; argsep=&quot;.&quot;&gt;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">            &lt;argument name=&quot;filename&quot; required=&quot;true&quot;&gt;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">               &lt;para&gt;If &lt;replaceable&gt;filename&lt;/replaceable&gt; is an absolute path, uses that path, otherwise</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">               creates the file in the configured monitoring directory from &lt;filename&gt;asterisk.conf.&lt;/filename&gt;&lt;/para&gt;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">            &lt;/argument&gt;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">            &lt;argument name=&quot;extension&quot; required=&quot;true&quot; /&gt;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">         &lt;parameter name=&quot;options&quot;&gt;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">            &lt;optionlist&gt;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">               &lt;option name=&quot;a&quot;&gt;</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">                  &lt;para&gt;Append to the file instead of overwriting it.&lt;/para&gt;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">               &lt;option name=&quot;b&quot;&gt;</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">                  &lt;para&gt;Only save audio to the file while the channel is bridged.&lt;/para&gt;</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">                  &lt;note&gt;&lt;para&gt;If you utilize this option inside a Local channel, you must make sure the Local</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">                  channel is not optimized away. To do this, be sure to call your Local channel with the</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">                  &lt;literal&gt;/n&lt;/literal&gt; option. For example: Dial(Local/start@mycontext/n)&lt;/para&gt;&lt;/note&gt;</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">               &lt;option name=&quot;B&quot;&gt;</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">                  &lt;para&gt;Play a periodic beep while this call is being recorded.&lt;/para&gt;</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">                  &lt;argument name=&quot;interval&quot;&gt;&lt;para&gt;Interval, in seconds. Default is 15.&lt;/para&gt;&lt;/argument&gt;</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">               &lt;option name=&quot;v&quot;&gt;</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">                  &lt;para&gt;Adjust the &lt;emphasis&gt;heard&lt;/emphasis&gt; volume by a factor of &lt;replaceable&gt;x&lt;/replaceable&gt;</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">                  (range &lt;literal&gt;-4&lt;/literal&gt; to &lt;literal&gt;4&lt;/literal&gt;)&lt;/para&gt;</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">                  &lt;argument name=&quot;x&quot; required=&quot;true&quot; /&gt;</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">               &lt;option name=&quot;V&quot;&gt;</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">                  &lt;para&gt;Adjust the &lt;emphasis&gt;spoken&lt;/emphasis&gt; volume by a factor</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">                  of &lt;replaceable&gt;x&lt;/replaceable&gt; (range &lt;literal&gt;-4&lt;/literal&gt; to &lt;literal&gt;4&lt;/literal&gt;)&lt;/para&gt;</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">                  &lt;argument name=&quot;x&quot; required=&quot;true&quot; /&gt;</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">               &lt;option name=&quot;W&quot;&gt;</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">                  &lt;para&gt;Adjust both, &lt;emphasis&gt;heard and spoken&lt;/emphasis&gt; volumes by a factor</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">                  of &lt;replaceable&gt;x&lt;/replaceable&gt; (range &lt;literal&gt;-4&lt;/literal&gt; to &lt;literal&gt;4&lt;/literal&gt;)&lt;/para&gt;</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">                  &lt;argument name=&quot;x&quot; required=&quot;true&quot; /&gt;</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">               &lt;option name=&quot;r&quot;&gt;</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">                  &lt;argument name=&quot;file&quot; required=&quot;true&quot; /&gt;</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">                  &lt;para&gt;Use the specified file to record the &lt;emphasis&gt;receive&lt;/emphasis&gt; audio feed.</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">                  Like with the basic filename argument, if an absolute path isn&#39;t given, it will create</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">                  the file in the configured monitoring directory.&lt;/para&gt;</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">               &lt;option name=&quot;t&quot;&gt;</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">                  &lt;argument name=&quot;file&quot; required=&quot;true&quot; /&gt;</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">                  &lt;para&gt;Use the specified file to record the &lt;emphasis&gt;transmit&lt;/emphasis&gt; audio feed.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">                  Like with the basic filename argument, if an absolute path isn&#39;t given, it will create</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">                  the file in the configured monitoring directory.&lt;/para&gt;</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">               &lt;option name=&quot;n&quot;&gt;</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">                  &lt;para&gt;When the &lt;replaceable&gt;r&lt;/replaceable&gt; or &lt;replaceable&gt;t&lt;/replaceable&gt; option is</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">                  used, MixMonitor will insert silence into the specified files to maintain</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">                  synchronization between them. Use this option to disable that behavior.&lt;/para&gt;</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">               &lt;option name=&quot;i&quot;&gt;</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">                  &lt;argument name=&quot;chanvar&quot; required=&quot;true&quot; /&gt;</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">                  &lt;para&gt;Stores the MixMonitor&#39;s ID on this channel variable.&lt;/para&gt;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">               &lt;option name=&quot;p&quot;&gt;</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">                  &lt;para&gt;Play a beep on the channel that starts the recording.&lt;/para&gt;</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">               &lt;option name=&quot;P&quot;&gt;</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">                  &lt;para&gt;Play a beep on the channel that stops the recording.&lt;/para&gt;</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">               &lt;option name=&quot;m&quot;&gt;</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">                  &lt;argument name=&quot;mailbox&quot; required=&quot;true&quot; /&gt;</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">                  &lt;para&gt;Create a copy of the recording as a voicemail in the indicated &lt;emphasis&gt;mailbox&lt;/emphasis&gt;(es)</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">                  separated by commas eg. m(1111@default,2222@default,...).  Folders can be optionally specified using</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">                  the syntax: mailbox@context/folder&lt;/para&gt;</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">               &lt;/option&gt;</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">            &lt;/optionlist&gt;</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">         &lt;parameter name=&quot;command&quot;&gt;</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">            &lt;para&gt;Will be executed when the recording is over.&lt;/para&gt;</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">            &lt;para&gt;Any strings matching &lt;literal&gt;^{X}&lt;/literal&gt; will be unescaped to &lt;variable&gt;X&lt;/variable&gt;.&lt;/para&gt;</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">            &lt;para&gt;All variables will be evaluated at the time MixMonitor is called.&lt;/para&gt;</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">            &lt;warning&gt;&lt;para&gt;Do not use untrusted strings such as &lt;variable&gt;CALLERID(num)&lt;/variable&gt;</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">            or &lt;variable&gt;CALLERID(name)&lt;/variable&gt; as part of the command parameters.  You</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">            risk a command injection attack executing arbitrary commands if the untrusted</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">            strings aren&#39;t filtered to remove dangerous characters.  See function</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">            &lt;variable&gt;FILTER()&lt;/variable&gt;.&lt;/para&gt;&lt;/warning&gt;</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">         &lt;para&gt;Records the audio on the current channel to the specified file.&lt;/para&gt;</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">         &lt;para&gt;This application does not automatically answer and should be preceeded by</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">         an application such as Answer or Progress().&lt;/para&gt;</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">         &lt;note&gt;&lt;para&gt;MixMonitor runs as an audiohook.&lt;/para&gt;&lt;/note&gt;</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">         &lt;note&gt;&lt;para&gt;If a filename passed to MixMonitor ends with</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">         &lt;literal&gt;.wav49&lt;/literal&gt;, Asterisk will silently convert the extension to</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">         &lt;literal&gt;.WAV&lt;/literal&gt; for legacy reasons. &lt;variable&gt;MIXMONITOR_FILENAME&lt;/variable&gt;</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">         will contain the actual filename that Asterisk is writing to, not necessarily the</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">         value that was passed in.&lt;/para&gt;&lt;/note&gt;</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">         &lt;variablelist&gt;</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">            &lt;variable name=&quot;MIXMONITOR_FILENAME&quot;&gt;</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">               &lt;para&gt;Will contain the filename used to record.&lt;/para&gt;</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">            &lt;/variable&gt;</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">         &lt;/variablelist&gt;</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">         &lt;warning&gt;&lt;para&gt;Do not use untrusted strings such as &lt;variable&gt;CALLERID(num)&lt;/variable&gt;</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">         or &lt;variable&gt;CALLERID(name)&lt;/variable&gt; as part of ANY of the application&#39;s</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">         parameters.  You risk a command injection attack executing arbitrary commands</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">         if the untrusted strings aren&#39;t filtered to remove dangerous characters.  See</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">         function &lt;variable&gt;FILTER()&lt;/variable&gt;.&lt;/para&gt;&lt;/warning&gt;</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">      &lt;see-also&gt;</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">         &lt;ref type=&quot;application&quot;&gt;Monitor&lt;/ref&gt;</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">         &lt;ref type=&quot;application&quot;&gt;StopMixMonitor&lt;/ref&gt;</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">         &lt;ref type=&quot;application&quot;&gt;PauseMonitor&lt;/ref&gt;</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">         &lt;ref type=&quot;application&quot;&gt;UnpauseMonitor&lt;/ref&gt;</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">         &lt;ref type=&quot;function&quot;&gt;AUDIOHOOK_INHERIT&lt;/ref&gt;</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">      &lt;/see-also&gt;</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">   &lt;/application&gt;</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">   &lt;application name=&quot;StopMixMonitor&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">         Stop recording a call through MixMonitor, and free the recording&#39;s file handle.</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">         &lt;parameter name=&quot;MixMonitorID&quot; required=&quot;false&quot;&gt;</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">            &lt;para&gt;If a valid ID is provided, then this command will stop only that specific</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">            MixMonitor.&lt;/para&gt;</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">         &lt;para&gt;Stops the audio recording that was started with a call to &lt;literal&gt;MixMonitor()&lt;/literal&gt;</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">         on the current channel.&lt;/para&gt;</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">      &lt;see-also&gt;</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">         &lt;ref type=&quot;application&quot;&gt;MixMonitor&lt;/ref&gt;</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">      &lt;/see-also&gt;</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">   &lt;/application&gt;</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">   &lt;manager name=&quot;MixMonitorMute&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">         Mute / unMute a Mixmonitor recording.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">         &lt;xi:include xpointer=&quot;xpointer(/docs/manager[@name=&#39;Login&#39;]/syntax/parameter[@name=&#39;ActionID&#39;])&quot; /&gt;</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">         &lt;parameter name=&quot;Channel&quot; required=&quot;true&quot;&gt;</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">            &lt;para&gt;Used to specify the channel to mute.&lt;/para&gt;</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">         &lt;parameter name=&quot;Direction&quot;&gt;</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">            &lt;para&gt;Which part of the recording to mute:  read, write or both (from channel, to channel or both channels).&lt;/para&gt;</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">         &lt;parameter name=&quot;State&quot;&gt;</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">            &lt;para&gt;Turn mute on or off : 1 to turn on, 0 to turn off.&lt;/para&gt;</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">         &lt;para&gt;This action may be used to mute a MixMonitor recording.&lt;/para&gt;</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">   &lt;/manager&gt;</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">   &lt;manager name=&quot;MixMonitor&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">         Record a call and mix the audio during the recording.  Use of StopMixMonitor is required</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">         to guarantee the audio file is available for processing during dialplan execution.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">         &lt;xi:include xpointer=&quot;xpointer(/docs/manager[@name=&#39;Login&#39;]/syntax/parameter[@name=&#39;ActionID&#39;])&quot; /&gt;</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">         &lt;parameter name=&quot;Channel&quot; required=&quot;true&quot;&gt;</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">            &lt;para&gt;Used to specify the channel to record.&lt;/para&gt;</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">         &lt;parameter name=&quot;File&quot;&gt;</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">            &lt;para&gt;Is the name of the file created in the monitor spool directory.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">            Defaults to the same name as the channel (with slashes replaced with dashes).</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">            This argument is optional if you specify to record unidirectional audio with</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">            either the r(filename) or t(filename) options in the options field. If</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">            neither MIXMONITOR_FILENAME or this parameter is set, the mixed stream won&#39;t</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">            be recorded.&lt;/para&gt;</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">         &lt;parameter name=&quot;options&quot;&gt;</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">            &lt;para&gt;Options that apply to the MixMonitor in the same way as they</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">            would apply if invoked from the MixMonitor application. For a list of</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">            available options, see the documentation for the mixmonitor application. &lt;/para&gt;</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">         &lt;parameter name=&quot;Command&quot;&gt;</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">            &lt;para&gt;Will be executed when the recording is over.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">            Any strings matching &lt;literal&gt;^{X}&lt;/literal&gt; will be unescaped to &lt;variable&gt;X&lt;/variable&gt;.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">            All variables will be evaluated at the time MixMonitor is called.&lt;/para&gt;</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">            &lt;warning&gt;&lt;para&gt;Do not use untrusted strings such as &lt;variable&gt;CALLERID(num)&lt;/variable&gt;</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">            or &lt;variable&gt;CALLERID(name)&lt;/variable&gt; as part of the command parameters.  You</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">            risk a command injection attack executing arbitrary commands if the untrusted</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">            strings aren&#39;t filtered to remove dangerous characters.  See function</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">            &lt;variable&gt;FILTER()&lt;/variable&gt;.&lt;/para&gt;&lt;/warning&gt;</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">         &lt;para&gt;This action records the audio on the current channel to the specified file.&lt;/para&gt;</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">         &lt;variablelist&gt;</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">            &lt;variable name=&quot;MIXMONITOR_FILENAME&quot;&gt;</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">               &lt;para&gt;Will contain the filename used to record the mixed stream.&lt;/para&gt;</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">            &lt;/variable&gt;</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">         &lt;/variablelist&gt;</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">   &lt;/manager&gt;</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">   &lt;manager name=&quot;StopMixMonitor&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">         Stop recording a call through MixMonitor, and free the recording&#39;s file handle.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">         &lt;xi:include xpointer=&quot;xpointer(/docs/manager[@name=&#39;Login&#39;]/syntax/parameter[@name=&#39;ActionID&#39;])&quot; /&gt;</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">         &lt;parameter name=&quot;Channel&quot; required=&quot;true&quot;&gt;</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">            &lt;para&gt;The name of the channel monitored.&lt;/para&gt;</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">         &lt;parameter name=&quot;MixMonitorID&quot; required=&quot;false&quot;&gt;</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">            &lt;para&gt;If a valid ID is provided, then this command will stop only that specific</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">            MixMonitor.&lt;/para&gt;</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">         &lt;para&gt;This action stops the audio recording that was started with the &lt;literal&gt;MixMonitor&lt;/literal&gt;</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">         action on the current channel.&lt;/para&gt;</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">   &lt;/manager&gt;</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">   &lt;function name=&quot;MIXMONITOR&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">         Retrieve data pertaining to specific instances of MixMonitor on a channel.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">         &lt;parameter name=&quot;id&quot; required=&quot;true&quot;&gt;</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">            &lt;para&gt;The unique ID of the MixMonitor instance. The unique ID can be retrieved through the channel</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">            variable used as an argument to the &lt;replaceable&gt;i&lt;/replaceable&gt; option to MixMonitor.&lt;/para&gt;</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">         &lt;parameter name=&quot;key&quot; required=&quot;true&quot;&gt;</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">            &lt;para&gt;The piece of data to retrieve from the MixMonitor.&lt;/para&gt;</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">            &lt;enumlist&gt;</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">               &lt;enum name=&quot;filename&quot; /&gt;</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">            &lt;/enumlist&gt;</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">   &lt;/function&gt;</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">   &lt;managerEvent language=&quot;en_US&quot; name=&quot;MixMonitorStart&quot;&gt;</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">      &lt;managerEventInstance class=&quot;EVENT_FLAG_CALL&quot;&gt;</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">         &lt;synopsis&gt;Raised when monitoring has started on a channel.&lt;/synopsis&gt;</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">         &lt;syntax&gt;</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">            &lt;channel_snapshot/&gt;</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">         &lt;/syntax&gt;</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">         &lt;see-also&gt;</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">            &lt;ref type=&quot;managerEvent&quot;&gt;MixMonitorStop&lt;/ref&gt;</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">            &lt;ref type=&quot;application&quot;&gt;MixMonitor&lt;/ref&gt;</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">            &lt;ref type=&quot;manager&quot;&gt;MixMonitor&lt;/ref&gt;</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">         &lt;/see-also&gt;</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">      &lt;/managerEventInstance&gt;</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">   &lt;/managerEvent&gt;</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">   &lt;managerEvent language=&quot;en_US&quot; name=&quot;MixMonitorStop&quot;&gt;</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">      &lt;managerEventInstance class=&quot;EVENT_FLAG_CALL&quot;&gt;</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">      &lt;synopsis&gt;Raised when monitoring has stopped on a channel.&lt;/synopsis&gt;</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">         &lt;channel_snapshot/&gt;</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">      &lt;see-also&gt;</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">         &lt;ref type=&quot;managerEvent&quot;&gt;MixMonitorStart&lt;/ref&gt;</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">         &lt;ref type=&quot;application&quot;&gt;StopMixMonitor&lt;/ref&gt;</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">         &lt;ref type=&quot;manager&quot;&gt;StopMixMonitor&lt;/ref&gt;</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">      &lt;/see-also&gt;</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">      &lt;/managerEventInstance&gt;</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">   &lt;/managerEvent&gt;</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">   &lt;managerEvent language=&quot;en_US&quot; name=&quot;MixMonitorMute&quot;&gt;</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">      &lt;managerEventInstance class=&quot;EVENT_FLAG_CALL&quot;&gt;</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">      &lt;synopsis&gt;Raised when monitoring is muted or unmuted on a channel.&lt;/synopsis&gt;</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">         &lt;channel_snapshot/&gt;</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">         &lt;parameter name=&quot;Direction&quot;&gt;</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">            &lt;para&gt;Which part of the recording was muted or unmuted: read, write or both</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">            (from channel, to channel or both directions).&lt;/para&gt;</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">         &lt;parameter name=&quot;State&quot;&gt;</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">            &lt;para&gt;If the monitoring was muted or unmuted: 1 when muted, 0 when unmuted.&lt;/para&gt;</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">      &lt;see-also&gt;</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">         &lt;ref type=&quot;manager&quot;&gt;MixMonitorMute&lt;/ref&gt;</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">      &lt;/see-also&gt;</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">      &lt;/managerEventInstance&gt;</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">   &lt;/managerEvent&gt;</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> ***/</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a7b7f65a1a133e53f30380778711f927d">  348</a></span>&#160;<span class="preprocessor">#define get_volfactor(x) x ? ((x &gt; 0) ? (1 &lt;&lt; x) : ((1 &lt;&lt; abs(x)) * -1)) : 0</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a3ed16a1a934fc63de92ab3128228402b">  350</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a3ed16a1a934fc63de92ab3128228402b">app</a> = <span class="stringliteral">&quot;MixMonitor&quot;</span>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ab715ac77dd679d28f99a14426cb724a1">  352</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ab715ac77dd679d28f99a14426cb724a1">stop_app</a> = <span class="stringliteral">&quot;StopMixMonitor&quot;</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ae4d8626bafc0788638c26976d170ed44">  354</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae4d8626bafc0788638c26976d170ed44">mixmonitor_spy_type</a> = <span class="stringliteral">&quot;MixMonitor&quot;</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"> * \brief This struct is a list item holds data needed to find a vm_recipient within voicemail</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="../../d6/d7b/structvm__recipient.html">  360</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/d7b/structvm__recipient.html">vm_recipient</a> {</div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="../../d6/d7b/structvm__recipient.html#a00f8d8e4c11662ae283f77679412563b">  361</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d6/d7b/structvm__recipient.html#a00f8d8e4c11662ae283f77679412563b">mailbox</a>[<a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a>];</div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="../../d6/d7b/structvm__recipient.html#a579ca8125bbf48d9ce8691d522f99933">  362</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d6/d7b/structvm__recipient.html#a579ca8125bbf48d9ce8691d522f99933">context</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="../../d6/d7b/structvm__recipient.html#abe153a80b751a34e41cb1b6f42ef4d2a">  363</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d6/d7b/structvm__recipient.html#abe153a80b751a34e41cb1b6f42ef4d2a">folder</a>[80];</div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="../../d6/d7b/structvm__recipient.html#a9f186e375501e814034f2b1c46b38655">  364</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../d6/d7b/structvm__recipient.html">vm_recipient</a>) <a class="code" href="../../d6/d7b/structvm__recipient.html#a2b153a76aa44df9199ba08ae9d424e89">list</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;};</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html">  367</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> {</div><div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">  368</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d49/structast__audiohook.html">ast_audiohook</a> audiohook;</div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#aeac90097f29f7529968697163cea5c18">  369</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/dfe/structmixmonitor.html#aeac90097f29f7529968697163cea5c18">filename</a>;</div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#ac3d2d8f5aeaf31b3c15858b01a4f691f">  370</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/dfe/structmixmonitor.html#ac3d2d8f5aeaf31b3c15858b01a4f691f">filename_read</a>;</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#a5960ec0b6f6975ddae24792b8acfc693">  371</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/dfe/structmixmonitor.html#a5960ec0b6f6975ddae24792b8acfc693">filename_write</a>;</div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#aab95b2f7cc117dbd2526c525685aa1a0">  372</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/dfe/structmixmonitor.html#aab95b2f7cc117dbd2526c525685aa1a0">post_process</a>;</div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">  373</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">name</a>;</div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#a62f8995a6eac6c8a48205a6f3815d54b">  374</a></span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> <a class="code" href="../../d5/dfe/structmixmonitor.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>;</div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#ac92588540e8c1d014a08cd8a45462b19">  375</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d5/dfe/structmixmonitor.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">  376</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>;</div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">  377</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d69/structmixmonitor__ds.html">mixmonitor_ds</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <span class="comment">/* the below string fields describe data used for creating voicemails from the recording */</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a>(</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(call_context);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(call_macrocontext);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(call_extension);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(call_callerchan);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(call_callerid);</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#a29e2f9d32a5e270df22ec41e8def7fab">  386</a></span>&#160;   );</div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#a6c4ee520c857eb74851962c54f6c2bf1">  387</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d5/dfe/structmixmonitor.html#a6c4ee520c857eb74851962c54f6c2bf1">call_priority</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="comment">/* FUTURE DEVELOPMENT NOTICE</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">    * recipient_list will need locks if we make it editable after the monitor is started */</span></div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="../../d5/dfe/structmixmonitor.html#ac13b5414f1bec5f38745fd1c68d87e6a">  391</a></span>&#160;   <a class="code" href="../../d1/d8f/reqresp__parser_8h.html#a7e4aa55331b8292eff94249de72b807d">AST_LIST_HEAD_NOLOCK</a>(, <a class="code" href="../../d6/d7b/structvm__recipient.html">vm_recipient</a>) recipient_list;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;};</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9">  394</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9">mixmonitor_flags</a> {</div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a8da5042db3ea81408feccf82d48eadd5">  395</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a8da5042db3ea81408feccf82d48eadd5">MUXFLAG_APPEND</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9af9d12e60fba57ac8badf29deda354942">  396</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9af9d12e60fba57ac8badf29deda354942">MUXFLAG_BRIDGED</a> = (1 &lt;&lt; 2),</div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a69179585167d4a418b54c7bb4bacbca3">  397</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a69179585167d4a418b54c7bb4bacbca3">MUXFLAG_VOLUME</a> = (1 &lt;&lt; 3),</div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9affb82cf8b7a66458423f4408c29a9c85">  398</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9affb82cf8b7a66458423f4408c29a9c85">MUXFLAG_READVOLUME</a> = (1 &lt;&lt; 4),</div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a3b7b3b914db0d19b3e0a899a06d4de2f">  399</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a3b7b3b914db0d19b3e0a899a06d4de2f">MUXFLAG_WRITEVOLUME</a> = (1 &lt;&lt; 5),</div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0ec43ce5b7e79fd05a140e0eb7b3d968">  400</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0ec43ce5b7e79fd05a140e0eb7b3d968">MUXFLAG_READ</a> = (1 &lt;&lt; 6),</div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9acfd8f77477e73531053efa57ffbe5d4b">  401</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9acfd8f77477e73531053efa57ffbe5d4b">MUXFLAG_WRITE</a> = (1 &lt;&lt; 7),</div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9ad0f0a7231f9ba246408e98ff25febb96">  402</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9ad0f0a7231f9ba246408e98ff25febb96">MUXFLAG_COMBINED</a> = (1 &lt;&lt; 8),</div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a83410e6c631314ce6fee8bbae722349f">  403</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a83410e6c631314ce6fee8bbae722349f">MUXFLAG_UID</a> = (1 &lt;&lt; 9),</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0d933d98f63a5535adb5eb37b527d078">  404</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0d933d98f63a5535adb5eb37b527d078">MUXFLAG_VMRECIPIENTS</a> = (1 &lt;&lt; 10),</div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aec188e556878f4706b133e8a1ffd1e1b">  405</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aec188e556878f4706b133e8a1ffd1e1b">MUXFLAG_BEEP</a> = (1 &lt;&lt; 11),</div><div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aa4008fc495cdb7ab4b7a525d4d78a552">  406</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aa4008fc495cdb7ab4b7a525d4d78a552">MUXFLAG_BEEP_START</a> = (1 &lt;&lt; 12),</div><div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a6d1b0b9f476e0e7e1807fca8687dc163">  407</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a6d1b0b9f476e0e7e1807fca8687dc163">MUXFLAG_BEEP_STOP</a> = (1 &lt;&lt; 13),</div><div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a1547333aac568d63fa032ee0c1027f62">  408</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a1547333aac568d63fa032ee0c1027f62">MUXFLAG_DEPRECATED_RWSYNC</a> = (1 &lt;&lt; 14),</div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a65a221e2faf49821947780f0b1002f00">  409</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a65a221e2faf49821947780f0b1002f00">MUXFLAG_NO_RWSYNC</a> = (1 &lt;&lt; 15),</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;};</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fc">  412</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fc">mixmonitor_args</a> {</div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd8fecd9c47d39f57bb4fc79ebc25036">  413</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd8fecd9c47d39f57bb4fc79ebc25036">OPT_ARG_READVOLUME</a> = 0,</div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca1f6b3d7cf2898c975a3d31af56d67ca5">  414</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca1f6b3d7cf2898c975a3d31af56d67ca5">OPT_ARG_WRITEVOLUME</a>,</div><div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcac31114b0c2250979c4021b4170e046ca">  415</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcac31114b0c2250979c4021b4170e046ca">OPT_ARG_VOLUME</a>,</div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca92cdfa177fca4a7b90ac94e8aa0adb0e">  416</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca92cdfa177fca4a7b90ac94e8aa0adb0e">OPT_ARG_WRITENAME</a>,</div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaae3c1ae2b79b560f13e56fd69959430a">  417</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaae3c1ae2b79b560f13e56fd69959430a">OPT_ARG_READNAME</a>,</div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca344643c03243c3c3e52beae49da213ca">  418</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca344643c03243c3c3e52beae49da213ca">OPT_ARG_UID</a>,</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca5cc3ea6209e94bac1b4af7bcef440dc1">  419</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca5cc3ea6209e94bac1b4af7bcef440dc1">OPT_ARG_VMRECIPIENTS</a>,</div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd291105be378e735584c891220cc632">  420</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd291105be378e735584c891220cc632">OPT_ARG_BEEP_INTERVAL</a>,</div><div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca60fa2cbb3bca05830ba6e5aacf42664a">  421</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca60fa2cbb3bca05830ba6e5aacf42664a">OPT_ARG_DEPRECATED_RWSYNC</a>,</div><div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca6c1301db72792bb0507cde157085ecef">  422</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca6c1301db72792bb0507cde157085ecef">OPT_ARG_NO_RWSYNC</a>,</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaec7326f60e7edad15d96ff935e5616d6">  423</a></span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a>,  <span class="comment">/* Always last element of the enum */</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;};</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a520a3c6b7d57903d9a616051da1a019d">AST_APP_OPTIONS</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a3cd55b841a2212f5e218caa074ac01ce">mixmonitor_opts</a>, {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#aca036489931bf5571e2472331c8ac80b">AST_APP_OPTION</a>(<span class="charliteral">&#39;a&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a8da5042db3ea81408feccf82d48eadd5">MUXFLAG_APPEND</a>),</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#aca036489931bf5571e2472331c8ac80b">AST_APP_OPTION</a>(<span class="charliteral">&#39;b&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9af9d12e60fba57ac8badf29deda354942">MUXFLAG_BRIDGED</a>),</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;B&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aec188e556878f4706b133e8a1ffd1e1b">MUXFLAG_BEEP</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd291105be378e735584c891220cc632">OPT_ARG_BEEP_INTERVAL</a>),</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#aca036489931bf5571e2472331c8ac80b">AST_APP_OPTION</a>(<span class="charliteral">&#39;p&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aa4008fc495cdb7ab4b7a525d4d78a552">MUXFLAG_BEEP_START</a>),</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#aca036489931bf5571e2472331c8ac80b">AST_APP_OPTION</a>(<span class="charliteral">&#39;P&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a6d1b0b9f476e0e7e1807fca8687dc163">MUXFLAG_BEEP_STOP</a>),</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;v&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9affb82cf8b7a66458423f4408c29a9c85">MUXFLAG_READVOLUME</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd8fecd9c47d39f57bb4fc79ebc25036">OPT_ARG_READVOLUME</a>),</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;V&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a3b7b3b914db0d19b3e0a899a06d4de2f">MUXFLAG_WRITEVOLUME</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca1f6b3d7cf2898c975a3d31af56d67ca5">OPT_ARG_WRITEVOLUME</a>),</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;W&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a69179585167d4a418b54c7bb4bacbca3">MUXFLAG_VOLUME</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcac31114b0c2250979c4021b4170e046ca">OPT_ARG_VOLUME</a>),</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;r&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0ec43ce5b7e79fd05a140e0eb7b3d968">MUXFLAG_READ</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaae3c1ae2b79b560f13e56fd69959430a">OPT_ARG_READNAME</a>),</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;t&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9acfd8f77477e73531053efa57ffbe5d4b">MUXFLAG_WRITE</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca92cdfa177fca4a7b90ac94e8aa0adb0e">OPT_ARG_WRITENAME</a>),</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;i&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a83410e6c631314ce6fee8bbae722349f">MUXFLAG_UID</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca344643c03243c3c3e52beae49da213ca">OPT_ARG_UID</a>),</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;m&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0d933d98f63a5535adb5eb37b527d078">MUXFLAG_VMRECIPIENTS</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca5cc3ea6209e94bac1b4af7bcef440dc1">OPT_ARG_VMRECIPIENTS</a>),</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;S&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a1547333aac568d63fa032ee0c1027f62">MUXFLAG_DEPRECATED_RWSYNC</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca60fa2cbb3bca05830ba6e5aacf42664a">OPT_ARG_DEPRECATED_RWSYNC</a>),</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a>(<span class="charliteral">&#39;n&#39;</span>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a65a221e2faf49821947780f0b1002f00">MUXFLAG_NO_RWSYNC</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca6c1301db72792bb0507cde157085ecef">OPT_ARG_NO_RWSYNC</a>),</div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a3cd55b841a2212f5e218caa074ac01ce">  441</a></span>&#160;});</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html">  443</a></span>&#160;<span class="keyword">struct </span>mixmonitor_ds {</div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#a023fcb4c183644068357e31aa9ec415e">  444</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/d69/structmixmonitor__ds.html#a023fcb4c183644068357e31aa9ec415e">destruction_ok</a>;</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#af71da74e76e685cba3bcde2b4cd889f8">  445</a></span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> <a class="code" href="../../d7/d69/structmixmonitor__ds.html#af71da74e76e685cba3bcde2b4cd889f8">destruction_condition</a>;</div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">  446</a></span>&#160;   <a class="code" href="../../d8/dc5/structast__mutex__info.html">ast_mutex_t</a> <a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="comment">/* The filestream is held in the datastore so it can be stopped</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">    * immediately during stop_mixmonitor or channel destruction. */</span></div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#a7e325cf39431d5b36e4339f7212132da">  450</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d7/d69/structmixmonitor__ds.html#a7e325cf39431d5b36e4339f7212132da">fs_quit</a>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#a518672a3c95902e10965e14197590b31">  452</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> *<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a518672a3c95902e10965e14197590b31">fs</a>;</div><div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#a1c4e033233d9bb69755e542c5c1a48f7">  453</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> *<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a1c4e033233d9bb69755e542c5c1a48f7">fs_read</a>;</div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#a35739b54ded130bfcd48626c2b0a8ada">  454</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> *<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a35739b54ded130bfcd48626c2b0a8ada">fs_write</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">  456</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d49/structast__audiohook.html">ast_audiohook</a> *<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#ad2860f67af0fadd225de13fec375f701">  458</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/d69/structmixmonitor__ds.html#ad2860f67af0fadd225de13fec375f701">samp_rate</a>;</div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#aeac90097f29f7529968697163cea5c18">  459</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aeac90097f29f7529968697163cea5c18">filename</a>;</div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="../../d7/d69/structmixmonitor__ds.html#aea3efee612128fbeb6773a141ae7f405">  460</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aea3efee612128fbeb6773a141ae7f405">beep_id</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;};</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"> * \pre mixmonitor_ds must be locked before calling this function</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ab929b47c53e696579eab1c2925b8fb40">  467</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ab929b47c53e696579eab1c2925b8fb40">mixmonitor_ds_close_fs</a>(<span class="keyword">struct</span> mixmonitor_ds *mixmonitor_ds)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> quitting = 0;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keywordflow">if</span> (mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a518672a3c95902e10965e14197590b31">fs</a>) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      quitting = 1;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#ab53bd2c3c55d509790c7f7620aac6373">ast_closestream</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a518672a3c95902e10965e14197590b31">fs</a>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a518672a3c95902e10965e14197590b31">fs</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;MixMonitor close filestream (mixed)\n&quot;</span>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keywordflow">if</span> (mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a1c4e033233d9bb69755e542c5c1a48f7">fs_read</a>) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      quitting = 1;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#ab53bd2c3c55d509790c7f7620aac6373">ast_closestream</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a1c4e033233d9bb69755e542c5c1a48f7">fs_read</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a1c4e033233d9bb69755e542c5c1a48f7">fs_read</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;MixMonitor close filestream (read)\n&quot;</span>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <span class="keywordflow">if</span> (mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a35739b54ded130bfcd48626c2b0a8ada">fs_write</a>) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      quitting = 1;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#ab53bd2c3c55d509790c7f7620aac6373">ast_closestream</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a35739b54ded130bfcd48626c2b0a8ada">fs_write</a>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a35739b54ded130bfcd48626c2b0a8ada">fs_write</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;MixMonitor close filestream (write)\n&quot;</span>);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="keywordflow">if</span> (quitting) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a7e325cf39431d5b36e4339f7212132da">fs_quit</a> = 1;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ae5fd6b48bcd8b0679428c86f204b16a8">  497</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae5fd6b48bcd8b0679428c86f204b16a8">mixmonitor_ds_destroy</a>(<span class="keywordtype">void</span> *data)</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;{</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keyword">struct </span>mixmonitor_ds *mixmonitor_ds = data;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a023fcb4c183644068357e31aa9ec415e">destruction_ok</a> = 1;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aeac90097f29f7529968697163cea5c18">filename</a>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aea3efee612128fbeb6773a141ae7f405">beep_id</a>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#af71da74e76e685cba3bcde2b4cd889f8">destruction_condition</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a1f363cf2aee532487b6a4981d1c57003">  510</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a1f363cf2aee532487b6a4981d1c57003">mixmonitor_ds_info</a> = {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   .<a class="code" href="../../d9/dfb/structast__datastore__info.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a> = <span class="stringliteral">&quot;mixmonitor&quot;</span>,</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   .destroy = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae5fd6b48bcd8b0679428c86f204b16a8">mixmonitor_ds_destroy</a>,</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;};</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a1e2f74dac95f4bd1112b3963c6992e26">  515</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a1e2f74dac95f4bd1112b3963c6992e26">destroy_monitor_audiohook</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a>)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;{</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <span class="keywordflow">if</span> (mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   <span class="comment">/* kill the audiohook.*/</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <a class="code" href="../../d0/d79/audiohook_8h.html#a6456e346fe813617f13d5bbf7e92db5a">ast_audiohook_lock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <a class="code" href="../../d0/d79/audiohook_8h.html#a88b9ad3730e7adbc3b396bef4e85b12a">ast_audiohook_detach</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <a class="code" href="../../d0/d79/audiohook_8h.html#aae4ac794c0f7ab8decd713cb9c43acf4">ast_audiohook_unlock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <a class="code" href="../../d0/d79/audiohook_8h.html#a9fa661730d6fa6b9b12e410d66a3437b">ast_audiohook_destroy</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad7eaaa376cd430417b5a3c548b4a09f3">  529</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad7eaaa376cd430417b5a3c548b4a09f3">startmon</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">struct</span> <a class="code" href="../../d2/d49/structast__audiohook.html">ast_audiohook</a> *audiohook)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d79/audiohook_8h.html#a94abfad20db137f9d6a33f641d37ac31">ast_audiohook_attach</a>(chan, audiohook);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"> * \brief adds recipients to a mixmonitor&#39;s recipient list</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"> * \param mixmonitor mixmonitor being affected</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> * \param vm_recipients string containing the desired recipients to add</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#aed5c8ff18120704cdb2b6bd316d6b032">  544</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#aed5c8ff18120704cdb2b6bd316d6b032">add_vm_recipients_from_string</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *vm_recipients)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="comment">/* recipients are in a single string with a format format resembling &quot;mailbox@context/INBOX,mailbox2@context2,mailbox3@context3/Work&quot; */</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordtype">char</span> *cur_mailbox = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(vm_recipients);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <span class="keywordtype">char</span> *cur_context;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   <span class="keywordtype">char</span> *cur_folder;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d6/d7b/structvm__recipient.html#a9f186e375501e814034f2b1c46b38655">next</a>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordtype">int</span> elements_processed = 0;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   <span class="keywordflow">while</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cur_mailbox)) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;attempting to add next element %d from %s\n&quot;</span>, elements_processed, cur_mailbox);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">if</span> ((next = strchr(cur_mailbox, <span class="charliteral">&#39;,&#39;</span>)) || (next = strchr(cur_mailbox, <span class="charliteral">&#39;&amp;&#39;</span>))) {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;         *(next++) = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      }</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">if</span> ((cur_folder = strchr(cur_mailbox, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;         *(cur_folder++) = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;         cur_folder = <span class="stringliteral">&quot;INBOX&quot;</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keywordflow">if</span> ((cur_context = strchr(cur_mailbox, <span class="charliteral">&#39;@&#39;</span>))) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;         *(cur_context++) = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;         cur_context = <span class="stringliteral">&quot;default&quot;</span>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cur_mailbox) &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cur_context)) {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d6/d7b/structvm__recipient.html">vm_recipient</a> *recipient;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;         <span class="keywordflow">if</span> (!(recipient = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*recipient)))) {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to allocate recipient. Aborting function.\n&quot;</span>);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;         }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, cur_context, <span class="keyword">sizeof</span>(recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#a579ca8125bbf48d9ce8691d522f99933">context</a>));</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#a00f8d8e4c11662ae283f77679412563b">mailbox</a>, cur_mailbox, <span class="keyword">sizeof</span>(recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#a00f8d8e4c11662ae283f77679412563b">mailbox</a>));</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#abe153a80b751a34e41cb1b6f42ef4d2a">folder</a>, cur_folder, <span class="keyword">sizeof</span>(recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#abe153a80b751a34e41cb1b6f42ef4d2a">folder</a>));</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;         <span class="comment">/* Add to list */</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;Adding %s@%s to recipient list\n&quot;</span>, recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#a00f8d8e4c11662ae283f77679412563b">mailbox</a>, recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#a579ca8125bbf48d9ce8691d522f99933">context</a>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a7d2e979cf787aadddb3ea2b12b09dd8c">recipient_list</a>, recipient, <a class="code" href="../../d6/d7b/structvm__recipient.html#a2b153a76aa44df9199ba08ae9d424e89">list</a>);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to properly parse extension and/or context from element %d of recipient string: %s\n&quot;</span>, elements_processed, vm_recipients);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      cur_mailbox = <a class="code" href="../../d6/d7b/structvm__recipient.html#a9f186e375501e814034f2b1c46b38655">next</a>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      elements_processed++;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#afd1a0a2889be6bf17afdeedf674c8f32">  593</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#afd1a0a2889be6bf17afdeedf674c8f32">clear_mixmonitor_recipient_list</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a>)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;{</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7b/structvm__recipient.html">vm_recipient</a> *current;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keywordflow">while</span> ((current = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a7d2e979cf787aadddb3ea2b12b09dd8c">recipient_list</a>, <a class="code" href="../../d6/d7b/structvm__recipient.html#a2b153a76aa44df9199ba08ae9d424e89">list</a>))) {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="comment">/* Clear list element data */</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(current);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">  602</a></span>&#160;<span class="preprocessor">#define SAMPLES_PER_FRAME 160</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a884c0c655d224af1045845766529ce00">  604</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a884c0c655d224af1045845766529ce00">mixmonitor_free</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a>)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <span class="keywordflow">if</span> (mixmonitor) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="keywordflow">if</span> (mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#af71da74e76e685cba3bcde2b4cd889f8">destruction_condition</a>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aab95b2f7cc117dbd2526c525685aa1a0">post_process</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aeac90097f29f7529968697163cea5c18">filename</a>);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5960ec0b6f6975ddae24792b8acfc693">filename_write</a>);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ac3d2d8f5aeaf31b3c15858b01a4f691f">filename_read</a>);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="comment">/* Free everything in the recipient list */</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#afd1a0a2889be6bf17afdeedf674c8f32">clear_mixmonitor_recipient_list</a>(mixmonitor);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="comment">/* clean stringfields */</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(mixmonitor);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment"> * \internal</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"> * \brief Copies the mixmonitor to all voicemail recipients</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment"> * \param mixmonitor The mixmonitor that needs to forward its file to recipients</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"> * \param ext Format of the file that was saved</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a6f280979316181df57f3c2ae2eb8e6ef">  635</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a6f280979316181df57f3c2ae2eb8e6ef">copy_to_voicemail</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename)</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;{</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7b/structvm__recipient.html">vm_recipient</a> *recipient = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d45/structast__vm__recording__data.html">ast_vm_recording_data</a> recording_data;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(&amp;recording_data, 512)) {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to string_field_init, skipping copy_to_voicemail\n&quot;</span>);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <span class="comment">/* Copy strings to stringfields that will be used for all recipients */</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../df/d45/structast__vm__recording__data.html#a40dd33d7fa211edd276ab547f4ad5d73">recording_file</a>, filename);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../df/d45/structast__vm__recording__data.html#ab99aadde533836bd12636e2d3ab3912b">recording_ext</a>, ext);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../df/d45/structast__vm__recording__data.html#ab72e1828c8ae3ac5b663c22ac5f7f7eb">call_context</a>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ab72e1828c8ae3ac5b663c22ac5f7f7eb">call_context</a>);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../df/d45/structast__vm__recording__data.html#a29e2f9d32a5e270df22ec41e8def7fab">call_macrocontext</a>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a29e2f9d32a5e270df22ec41e8def7fab">call_macrocontext</a>);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../df/d45/structast__vm__recording__data.html#abb2534e0096a9f91aa1541900be4edf1">call_extension</a>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#abb2534e0096a9f91aa1541900be4edf1">call_extension</a>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../df/d45/structast__vm__recording__data.html#a6289cadce5fd2b3dbf516cdd824638f5">call_callerchan</a>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a6289cadce5fd2b3dbf516cdd824638f5">call_callerchan</a>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../df/d45/structast__vm__recording__data.html#a8531d21b3ca3a109d9b8d0d88d079c3b">call_callerid</a>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8531d21b3ca3a109d9b8d0d88d079c3b">call_callerid</a>);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="comment">/* and call_priority gets copied too */</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   recording_data.<a class="code" href="../../df/d45/structast__vm__recording__data.html#a6c4ee520c857eb74851962c54f6c2bf1">call_priority</a> = mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a6c4ee520c857eb74851962c54f6c2bf1">call_priority</a>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a7d2e979cf787aadddb3ea2b12b09dd8c">recipient_list</a>, recipient, <a class="code" href="../../d6/d7b/structvm__recipient.html#a2b153a76aa44df9199ba08ae9d424e89">list</a>) {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="comment">/* context, mailbox, and folder need to be set per recipient */</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../d6/d7b/structvm__recipient.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#a579ca8125bbf48d9ce8691d522f99933">context</a>);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../d6/d7b/structvm__recipient.html#a00f8d8e4c11662ae283f77679412563b">mailbox</a>, recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#a00f8d8e4c11662ae283f77679412563b">mailbox</a>);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;recording_data, <a class="code" href="../../d6/d7b/structvm__recipient.html#abe153a80b751a34e41cb1b6f42ef4d2a">folder</a>, recipient-&gt;<a class="code" href="../../d6/d7b/structvm__recipient.html#abe153a80b751a34e41cb1b6f42ef4d2a">folder</a>);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;MixMonitor attempting to send voicemail copy to %s@%s\n&quot;</span>, recording_data.<a class="code" href="../../df/d45/structast__vm__recording__data.html#aea357396b4d70e149a76d9911689eb4b">mailbox</a>,</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;         recording_data.<a class="code" href="../../df/d45/structast__vm__recording__data.html#a7faec841658b88ad0cfbc684853acad3">context</a>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a9f71d68f1b317e6d4ad5f8f820d4b50a">ast_app_copy_recording_to_vm</a>(&amp;recording_data);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <span class="comment">/* Free the string fields for recording_data before exiting the function. */</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(&amp;recording_data);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a4429a2ec15f98ee26b8e701d27c58f36">  670</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a4429a2ec15f98ee26b8e701d27c58f36">mixmonitor_save_prep</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a>, <span class="keywordtype">char</span> *filename, <span class="keyword">struct</span> <a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> **fs, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *oflags, <span class="keywordtype">int</span> *errflag, <span class="keywordtype">char</span> **<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a>)</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;{</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="comment">/* Initialize the file if not already done so */</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <span class="keywordtype">char</span> *last_slash = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(filename)) {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordflow">if</span> (!*fs &amp;&amp; !*errflag &amp;&amp; !mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a7e325cf39431d5b36e4339f7212132da">fs_quit</a>) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;         *oflags = O_CREAT | O_WRONLY;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;         *oflags |= <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(mixmonitor, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a8da5042db3ea81408feccf82d48eadd5">MUXFLAG_APPEND</a>) ? O_APPEND : O_TRUNC;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;         last_slash = strrchr(filename, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;         <span class="keywordflow">if</span> ((*ext = strrchr(filename, <span class="charliteral">&#39;.&#39;</span>)) &amp;&amp; (*ext &gt; last_slash)) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            **ext = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            *ext = *ext + 1;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            *ext = <span class="stringliteral">&quot;raw&quot;</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;         }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;         <span class="keywordflow">if</span> (!(*fs = <a class="code" href="../../d2/d4d/file_8h.html#a964f8ef393c07609d7b9e02937faed52">ast_writefile</a>(filename, *ext, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *oflags, 0, 0666))) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Cannot open %s.%s\n&quot;</span>, filename, *ext);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            *errflag = 1;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = *fs;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#ad2860f67af0fadd225de13fec375f701">samp_rate</a> = <a class="code" href="../../d5/d60/utils_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#ad2860f67af0fadd225de13fec375f701">samp_rate</a>, <a class="code" href="../../d0/d0a/format_8h.html#a499e920008f775eebadd958a42e85862">ast_format_get_sample_rate</a>(tmp-&gt;<a class="code" href="../../db/dbc/structast__filestream.html#a8e5f2c67c624fc84557ef2bdd855ebb9">fmt</a>-&gt;<a class="code" href="../../d0/d57/structast__format__def.html#ab425a484a0916077c5a30d9d7b229b44">format</a>));</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;         }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;}</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a4abab196ba4a91dd81c0d71e7a0a0328">  699</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a4abab196ba4a91dd81c0d71e7a0a0328">mixmonitor_autochan_is_bridged</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d7f/structast__autochan.html">ast_autochan</a> *autochan)</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;{</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   <span class="keywordtype">int</span> is_bridged;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <a class="code" href="../../d8/d6c/autochan_8h.html#a9d985413624c2500ae36de4bc3d8a3b8">ast_autochan_channel_lock</a>(autochan);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   is_bridged = <a class="code" href="../../d5/d7b/channel_8h.html#aa0a52e573af67cb0f29095177128d186">ast_channel_is_bridged</a>(autochan-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <a class="code" href="../../d8/d6c/autochan_8h.html#afd3962988a64d457ceb0ad6e1ee1f400">ast_autochan_channel_unlock</a>(autochan);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <span class="keywordflow">return</span> is_bridged;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a1aea2eda946ae45ff5f6c32e17bc83c2">  709</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a1aea2eda946ae45ff5f6c32e17bc83c2">mixmonitor_thread</a>(<span class="keywordtype">void</span> *obj)</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> = obj;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <span class="keywordtype">char</span> *fs_ext = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keywordtype">char</span> *fs_read_ext = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   <span class="keywordtype">char</span> *fs_write_ext = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> **fs = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> **fs_read = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> **fs_write = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> oflags;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   <span class="keywordtype">int</span> errflag = 0;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *format_slin;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <span class="comment">/* Keep callid association before any log messages */</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   <span class="keywordflow">if</span> (mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a6956becf4d7e3906c74b6e30b834ebd8">ast_callid_threadassoc_add</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Begin MixMonitor Recording %s\n&quot;</span>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;   fs = &amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a518672a3c95902e10965e14197590b31">fs</a>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   fs_read = &amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a1c4e033233d9bb69755e542c5c1a48f7">fs_read</a>;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   fs_write = &amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a35739b54ded130bfcd48626c2b0a8ada">fs_write</a>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a4429a2ec15f98ee26b8e701d27c58f36">mixmonitor_save_prep</a>(mixmonitor, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aeac90097f29f7529968697163cea5c18">filename</a>, fs, &amp;oflags, &amp;errflag, &amp;fs_ext);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a4429a2ec15f98ee26b8e701d27c58f36">mixmonitor_save_prep</a>(mixmonitor, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ac3d2d8f5aeaf31b3c15858b01a4f691f">filename_read</a>, fs_read, &amp;oflags, &amp;errflag, &amp;fs_read_ext);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a4429a2ec15f98ee26b8e701d27c58f36">mixmonitor_save_prep</a>(mixmonitor, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5960ec0b6f6975ddae24792b8acfc693">filename_write</a>, fs_write, &amp;oflags, &amp;errflag, &amp;fs_write_ext);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;   format_slin = <a class="code" href="../../db/d1c/format__cache_8h.html#ab660f51155ceeabb4abd0e25cd3a11a6">ast_format_cache_get_slin_by_rate</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#ad2860f67af0fadd225de13fec375f701">samp_rate</a>);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   <span class="comment">/* The audiohook must enter and exit the loop locked */</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;   <a class="code" href="../../d0/d79/audiohook_8h.html#a6456e346fe813617f13d5bbf7e92db5a">ast_audiohook_lock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   <span class="keywordflow">while</span> (mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>.<a class="code" href="../../d2/d49/structast__audiohook.html#a9c2c1a66c786d5e486ac428388d62e28">status</a> == <a class="code" href="../../d0/d79/audiohook_8h.html#acf2dd361123daa6446ade7c7ecfe55adabcc7793ac9fbdcaa9e727aacfda27f26">AST_AUDIOHOOK_STATUS_RUNNING</a> &amp;&amp; !mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a7e325cf39431d5b36e4339f7212132da">fs_quit</a>) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *fr = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *fr_read = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *fr_write = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">if</span> (!(fr = <a class="code" href="../../d0/d79/audiohook_8h.html#a38494f36536e00ab9a4a9f0f3f65ac03">ast_audiohook_read_frame_all</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a>, format_slin,</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                  &amp;fr_read, &amp;fr_write))) {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;         <a class="code" href="../../d0/d79/audiohook_8h.html#a47bb160cbe5e534c0fca6560015ffe59">ast_audiohook_trigger_wait</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;         <span class="keywordflow">if</span> (mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>.<a class="code" href="../../d2/d49/structast__audiohook.html#a9c2c1a66c786d5e486ac428388d62e28">status</a> != <a class="code" href="../../d0/d79/audiohook_8h.html#acf2dd361123daa6446ade7c7ecfe55adabcc7793ac9fbdcaa9e727aacfda27f26">AST_AUDIOHOOK_STATUS_RUNNING</a>) {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;         }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="comment">/* audiohook lock is not required for the next block.</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">       * Unlock it, but remember to lock it before looping or exiting */</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <a class="code" href="../../d0/d79/audiohook_8h.html#aae4ac794c0f7ab8decd713cb9c43acf4">ast_audiohook_unlock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(mixmonitor, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9af9d12e60fba57ac8badf29deda354942">MUXFLAG_BRIDGED</a>)</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;         || <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a4abab196ba4a91dd81c0d71e7a0a0328">mixmonitor_autochan_is_bridged</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>)) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;         <span class="comment">/* Write out the frame(s) */</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;         <span class="keywordflow">if</span> ((*fs_read) &amp;&amp; (fr_read)) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *cur;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            <span class="keywordflow">for</span> (cur = fr_read; cur; cur = <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(cur, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>)) {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;               <a class="code" href="../../d2/d4d/file_8h.html#a3608386b919ef0949d2858cdeb02d12e">ast_writestream</a>(*fs_read, cur);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;         }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;         <span class="keywordflow">if</span> ((*fs_write) &amp;&amp; (fr_write)) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *cur;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <span class="keywordflow">for</span> (cur = fr_write; cur; cur = <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(cur, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>)) {</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;               <a class="code" href="../../d2/d4d/file_8h.html#a3608386b919ef0949d2858cdeb02d12e">ast_writestream</a>(*fs_write, cur);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;         }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;         <span class="keywordflow">if</span> ((*fs) &amp;&amp; (fr)) {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *cur;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <span class="keywordflow">for</span> (cur = fr; cur; cur = <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(cur, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>)) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;               <a class="code" href="../../d2/d4d/file_8h.html#a3608386b919ef0949d2858cdeb02d12e">ast_writestream</a>(*fs, cur);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;         }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="comment">/* All done! free it. */</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="keywordflow">if</span> (fr) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a27385fd97f84847f7aa3b7bfcb861361">ast_frame_free</a>(fr, 0);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">if</span> (fr_read) {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a27385fd97f84847f7aa3b7bfcb861361">ast_frame_free</a>(fr_read, 0);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keywordflow">if</span> (fr_write) {</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a27385fd97f84847f7aa3b7bfcb861361">ast_frame_free</a>(fr_write, 0);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      fr = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      fr_write = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      fr_read = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <a class="code" href="../../d0/d79/audiohook_8h.html#a6456e346fe813617f13d5bbf7e92db5a">ast_audiohook_lock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   <a class="code" href="../../d0/d79/audiohook_8h.html#aae4ac794c0f7ab8decd713cb9c43acf4">ast_audiohook_unlock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(mixmonitor, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a6d1b0b9f476e0e7e1807fca8687dc163">MUXFLAG_BEEP_STOP</a>)) {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <a class="code" href="../../d8/d6c/autochan_8h.html#a9d985413624c2500ae36de4bc3d8a3b8">ast_autochan_channel_lock</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#a95b94a020720147325a486e210b36775">ast_stream_and_wait</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <span class="stringliteral">&quot;beep&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <a class="code" href="../../d8/d6c/autochan_8h.html#afd3962988a64d457ceb0ad6e1ee1f400">ast_autochan_channel_unlock</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <a class="code" href="../../d8/d6c/autochan_8h.html#a9410a77465d5ba8317c33039a1ef3aad">ast_autochan_destroy</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="comment">/* Datastore cleanup.  close the filestream and wait for ds destruction */</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ab929b47c53e696579eab1c2925b8fb40">mixmonitor_ds_close_fs</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keywordflow">if</span> (!mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a023fcb4c183644068357e31aa9ec415e">destruction_ok</a>) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#af71da74e76e685cba3bcde2b4cd889f8">destruction_condition</a>, &amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a>-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <span class="comment">/* kill the audiohook */</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a1e2f74dac95f4bd1112b3963c6992e26">destroy_monitor_audiohook</a>(mixmonitor);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <span class="keywordflow">if</span> (mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aab95b2f7cc117dbd2526c525685aa1a0">post_process</a>) {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Executing [%s]\n&quot;</span>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aab95b2f7cc117dbd2526c525685aa1a0">post_process</a>);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a9fb5cf0385848033ee3e98625e5f9784">ast_safe_system</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aab95b2f7cc117dbd2526c525685aa1a0">post_process</a>);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;End MixMonitor Recording %s\n&quot;</span>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a>(<span class="stringliteral">&quot;MIXMONITOR_END&quot;</span>, <span class="stringliteral">&quot;File: %s\r\n&quot;</span>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aeac90097f29f7529968697163cea5c18">filename</a>);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a7d2e979cf787aadddb3ea2b12b09dd8c">recipient_list</a>)) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(fs_ext)) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;No file extension set for Mixmonitor %s. Skipping copy to voicemail.\n&quot;</span>,</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            mixmonitor -&gt; name);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Copying recordings for Mixmonitor %s to voicemail recipients\n&quot;</span>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;         <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a6f280979316181df57f3c2ae2eb8e6ef">copy_to_voicemail</a>(mixmonitor, fs_ext, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aeac90097f29f7529968697163cea5c18">filename</a>);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(fs_read_ext)) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Copying read recording for Mixmonitor %s to voicemail recipients\n&quot;</span>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;         <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a6f280979316181df57f3c2ae2eb8e6ef">copy_to_voicemail</a>(mixmonitor, fs_read_ext, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ac3d2d8f5aeaf31b3c15858b01a4f691f">filename_read</a>);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(fs_write_ext)) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Copying write recording for Mixmonitor %s to voicemail recipients\n&quot;</span>, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;         <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a6f280979316181df57f3c2ae2eb8e6ef">copy_to_voicemail</a>(mixmonitor, fs_write_ext, mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5960ec0b6f6975ddae24792b8acfc693">filename_write</a>);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;No recipients to forward monitor to, moving on.\n&quot;</span>);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   }</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a884c0c655d224af1045845766529ce00">mixmonitor_free</a>(mixmonitor);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(<a class="code" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">self</a>);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ac970461525d979219b3b7b0ad52e867d">  868</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ac970461525d979219b3b7b0ad52e867d">setup_mixmonitor_ds</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a>, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keywordtype">char</span> **datastore_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *beep_id)</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="keyword">struct </span>mixmonitor_ds *mixmonitor_ds;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   <span class="keywordflow">if</span> (!(mixmonitor_ds = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*mixmonitor_ds)))) {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a>(datastore_id, <span class="stringliteral">&quot;%p&quot;</span>, mixmonitor_ds) == -1) {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to allocate memory for MixMonitor ID.\n&quot;</span>);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor_ds);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;   }</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#af71da74e76e685cba3bcde2b4cd889f8">destruction_condition</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;mixmonitor_ds_info, *datastore_id))) {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#af71da74e76e685cba3bcde2b4cd889f8">destruction_condition</a>);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mixmonitor_ds);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(mixmonitor, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aa4008fc495cdb7ab4b7a525d4d78a552">MUXFLAG_BEEP_START</a>)) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <a class="code" href="../../d8/d6c/autochan_8h.html#a9d985413624c2500ae36de4bc3d8a3b8">ast_autochan_channel_lock</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#a95b94a020720147325a486e210b36775">ast_stream_and_wait</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>-&gt;<a class="code" href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <span class="stringliteral">&quot;beep&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <a class="code" href="../../d8/d6c/autochan_8h.html#afd3962988a64d457ceb0ad6e1ee1f400">ast_autochan_channel_unlock</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#ad2860f67af0fadd225de13fec375f701">samp_rate</a> = 8000;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a> = &amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aeac90097f29f7529968697163cea5c18">filename</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aeac90097f29f7529968697163cea5c18">filename</a>);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(beep_id)) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aea3efee612128fbeb6773a141ae7f405">beep_id</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(beep_id);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;   }</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = mixmonitor_ds;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor_ds</a> = mixmonitor_ds;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ac5f94927a8b6f1e2ef623bec0d06a485">  915</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ac5f94927a8b6f1e2ef623bec0d06a485">mixmonitor_ds_remove_and_free</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *datastore_id)</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;{</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;mixmonitor_ds_info, datastore_id);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">    * Currently the one place this function is called from guarantees a</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">    * datastore is present, thus return checks can be avoided here.</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a>(chan, datastore);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;}</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div><div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a549a21ef185182b21da773876038baa5">  933</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a549a21ef185182b21da773876038baa5">launch_monitor_thread</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename,</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;              <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> readvol, <span class="keywordtype">int</span> writevol,</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;              <span class="keyword">const</span> <span class="keywordtype">char</span> *post_process, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename_write,</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;              <span class="keywordtype">char</span> *filename_read, <span class="keyword">const</span> <span class="keywordtype">char</span> *uid_channel_var,</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;              <span class="keyword">const</span> <span class="keywordtype">char</span> *recipients, <span class="keyword">const</span> <span class="keywordtype">char</span> *beep_id)</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;{</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   pthread_t <a class="code" href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a> *<a class="code" href="../../d5/dfe/structmixmonitor.html">mixmonitor</a>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   <span class="keywordtype">char</span> postprocess2[1024] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   <span class="keywordtype">char</span> *datastore_id = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   postprocess2[0] = 0;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   <span class="comment">/* If a post process system command is given attach it to the structure */</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(post_process)) {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordtype">char</span> *p1, *p2;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      p1 = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(post_process);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">for</span> (p2 = p1; *p2; p2++) {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;         <span class="keywordflow">if</span> (*p2 == <span class="charliteral">&#39;^&#39;</span> &amp;&amp; *(p2+1) == <span class="charliteral">&#39;{&#39;</span>) {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            *p2 = <span class="charliteral">&#39;$&#39;</span>;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;         }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      }</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a>(chan, p1, postprocess2, <span class="keyword">sizeof</span>(postprocess2) - 1);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   <span class="comment">/* Pre-allocate mixmonitor structure and spy */</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   <span class="keywordflow">if</span> (!(mixmonitor = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*mixmonitor)))) {</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   }</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   <span class="comment">/* Now that the struct has been calloced, go ahead and initialize the string fields. */</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(mixmonitor, 512)) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a884c0c655d224af1045845766529ce00">mixmonitor_free</a>(mixmonitor);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   <span class="comment">/* Setup the actual spy before creating our thread */</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d79/audiohook_8h.html#a2cdfa0bb99da5247ab56d5ca67483a8f">ast_audiohook_init</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>, <a class="code" href="../../d0/d79/audiohook_8h.html#abce1d2faae234aa016905215014542b0a29865bbf4732a7e78748db47b91e46f5">AST_AUDIOHOOK_TYPE_SPY</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae4d8626bafc0788638c26976d170ed44">mixmonitor_spy_type</a>, 0)) {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a884c0c655d224af1045845766529ce00">mixmonitor_free</a>(mixmonitor);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   <span class="comment">/* Copy over flags and channel name */</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = <a class="code" href="../../d5/dfe/structmixmonitor.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   <span class="keywordflow">if</span> (!(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a> = <a class="code" href="../../d8/d6c/autochan_8h.html#ae303d7a863e7cac5c4897b200da77217">ast_autochan_setup</a>(chan))) {</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a884c0c655d224af1045845766529ce00">mixmonitor_free</a>(mixmonitor);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(filename)) {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aeac90097f29f7529968697163cea5c18">filename</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(filename);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   }</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(filename_write)) {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5960ec0b6f6975ddae24792b8acfc693">filename_write</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(filename_write);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(filename_read)) {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#ac3d2d8f5aeaf31b3c15858b01a4f691f">filename_read</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(filename_read);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   }</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ac970461525d979219b3b7b0ad52e867d">setup_mixmonitor_ds</a>(mixmonitor, chan, &amp;datastore_id, beep_id)) {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <a class="code" href="../../d8/d6c/autochan_8h.html#a9410a77465d5ba8317c33039a1ef3aad">ast_autochan_destroy</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a884c0c655d224af1045845766529ce00">mixmonitor_free</a>(mixmonitor);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(datastore_id);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   }</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(uid_channel_var)) {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordflow">if</span> (datastore_id) {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, uid_channel_var, datastore_id);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   }</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(postprocess2)) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aab95b2f7cc117dbd2526c525685aa1a0">post_process</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(postprocess2);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   }</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(recipients)) {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <span class="keywordtype">char</span> callerid[256];</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dc/d9e/structast__party__connected__line.html">ast_party_connected_line</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a414b69d7583bb4cfc6daf5276aac6d14">connected</a>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="comment">/* We use the connected line of the invoking channel for caller ID. */</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      connected = <a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(chan);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Connected Line CID = %d - %s : %d - %s\n&quot;</span>, connected-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>,</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;         connected-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, connected-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>,</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;         connected-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <a class="code" href="../../de/d47/callerid_8h.html#a1c25633b1ed63682c95ec613d7cbe559">ast_callerid_merge</a>(callerid, <span class="keyword">sizeof</span>(callerid),</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(connected-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>, connected-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(connected-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>, connected-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;         <span class="stringliteral">&quot;Unknown&quot;</span>);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(mixmonitor, call_context, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan));</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(mixmonitor, call_macrocontext, <a class="code" href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a>(chan));</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(mixmonitor, call_extension, <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan));</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(mixmonitor, call_callerchan, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(mixmonitor, call_callerid, callerid);</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a6c4ee520c857eb74851962c54f6c2bf1">call_priority</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chan);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#aed5c8ff18120704cdb2b6bd316d6b032">add_vm_recipients_from_string</a>(mixmonitor, recipients);</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>, <a class="code" href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951afe01f1fbfa9f1096386a2c7905f2630e">AST_AUDIOHOOK_TRIGGER_SYNC</a>);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(mixmonitor, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a65a221e2faf49821947780f0b1002f00">MUXFLAG_NO_RWSYNC</a>)) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>, <a class="code" href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951abb1912897be4282234afc9ffca28e238">AST_AUDIOHOOK_SUBSTITUTE_SILENCE</a>);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;   }</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   <span class="keywordflow">if</span> (readvol)</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>.<a class="code" href="../../d2/d49/structast__audiohook.html#a9334d7560b8f09767b5202780731fb0f">options</a>.<a class="code" href="../../da/d77/structast__audiohook__options.html#a7cc03ad396ddfb53729e9c02edd14703">read_volume</a> = readvol;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   <span class="keywordflow">if</span> (writevol)</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>.<a class="code" href="../../d2/d49/structast__audiohook.html#a9334d7560b8f09767b5202780731fb0f">options</a>.<a class="code" href="../../da/d77/structast__audiohook__options.html#aebed8739a031eafdf88cf936abac9388">write_volume</a> = writevol;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad7eaaa376cd430417b5a3c548b4a09f3">startmon</a>(chan, &amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>)) {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to add &#39;%s&#39; spy to channel &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;         <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae4d8626bafc0788638c26976d170ed44">mixmonitor_spy_type</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ac5f94927a8b6f1e2ef623bec0d06a485">mixmonitor_ds_remove_and_free</a>(chan, datastore_id);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(datastore_id);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <a class="code" href="../../d8/d6c/autochan_8h.html#a9410a77465d5ba8317c33039a1ef3aad">ast_autochan_destroy</a>(mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">autochan</a>);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <a class="code" href="../../d0/d79/audiohook_8h.html#a9fa661730d6fa6b9b12e410d66a3437b">ast_audiohook_destroy</a>(&amp;mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">audiohook</a>);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a884c0c655d224af1045845766529ce00">mixmonitor_free</a>(mixmonitor);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(datastore_id);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   <span class="comment">/* reference be released at mixmonitor destruction */</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   mixmonitor-&gt;<a class="code" href="../../d5/dfe/structmixmonitor.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a> = <a class="code" href="../../d1/d8c/logger_8h.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a>();</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d60/utils_8h.html#aa73be876e3a4024b91ce2e09d8b945d1">ast_pthread_create_detached_background</a>(&amp;thread, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a1aea2eda946ae45ff5f6c32e17bc83c2">mixmonitor_thread</a>, mixmonitor);</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;}</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">/* a note on filename_parse: creates directory structure and assigns absolute path from relative paths for filenames */</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">/* requires immediate copying of string from return to retain data since otherwise it will immediately lose scope */</span></div><div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ae8ec96e23b1751d8ff6cf7e9d991bc56"> 1075</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae8ec96e23b1751d8ff6cf7e9d991bc56">filename_parse</a>(<span class="keywordtype">char</span> *filename, <span class="keywordtype">char</span> *buffer, <span class="keywordtype">size_t</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   <span class="keywordtype">char</span> *slash;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(len &gt; 0);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(filename)) {</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No file name was provided for a file save option.\n&quot;</span>);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      buffer[0] = 0;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="keywordflow">return</span> buffer;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;   }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   <span class="comment">/* If we don&#39;t have an absolute path, make one */</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   <span class="keywordflow">if</span> (*filename != <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="keywordtype">char</span> *build = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(strlen(<a class="code" href="../../dd/df2/paths_8h.html#ae8b54021bf362dc04d5783fa3b4b4abd">ast_config_AST_MONITOR_DIR</a>) + strlen(filename) + 3);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      sprintf(build, <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#ae8b54021bf362dc04d5783fa3b4b4abd">ast_config_AST_MONITOR_DIR</a>, filename);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      filename = build;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;   }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buffer, filename, len);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;   <span class="comment">/* If the provided filename has a .wav49 extension, we need to convert it to .WAV to</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment">      match the behavior of build_filename in main/file.c. Otherwise MIXMONITOR_FILENAME</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment">      ends up referring to a file that does not/will not exist */</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   ext = strrchr(buffer, <span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   <span class="keywordflow">if</span> (ext &amp;&amp; !strcmp(ext, <span class="stringliteral">&quot;.wav49&quot;</span>)) {</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="comment">/* Change to WAV - we know we have at least 6 writeable bytes where &#39;ext&#39; points,</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment">       * so this is safe */</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      memcpy(ext, <span class="stringliteral">&quot;.WAV&quot;</span>, <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;.WAV&quot;</span>));</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   }</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   <span class="keywordflow">if</span> ((slash = strrchr(filename, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      *slash = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;   }</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a>(filename, 0777);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;   <span class="keywordflow">return</span> buffer;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a053a7e92c2b94d80c09ee262887f5d0a"> 1115</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a053a7e92c2b94d80c09ee262887f5d0a">mixmonitor_exec</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *data)</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;{</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   <span class="keywordtype">int</span> x, readvol = 0, writevol = 0;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   <span class="keywordtype">char</span> *filename_read = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   <span class="keywordtype">char</span> *filename_write = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;   <span class="keywordtype">char</span> filename_buffer[1024] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   <span class="keywordtype">char</span> *uid_channel_var = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   <span class="keywordtype">char</span> beep_id[64] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> flags = { 0 };</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;   <span class="keywordtype">char</span> *recipients = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a>;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *, <a class="code" href="../../d8/d9e/structmessage.html">message</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(filename);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(post_process);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   );</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data)) {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;MixMonitor requires an argument (filename or ,t(filename) and/or r(filename)\n&quot;</span>);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;   }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   parse = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, parse);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options) {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordtype">char</span> *opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a>] = { <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, };</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a3cd55b841a2212f5e218caa074ac01ce">mixmonitor_opts</a>, &amp;flags, opts, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a1547333aac568d63fa032ee0c1027f62">MUXFLAG_DEPRECATED_RWSYNC</a>)) {</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;The synchronization behavior enabled by the &#39;S&#39; option is now the default&quot;</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            <span class="stringliteral">&quot; and does not need to be specified.\n&quot;</span>);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      }</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9affb82cf8b7a66458423f4408c29a9c85">MUXFLAG_READVOLUME</a>)) {</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd8fecd9c47d39f57bb4fc79ebc25036">OPT_ARG_READVOLUME</a>])) {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No volume level was provided for the heard volume (&#39;v&#39;) option.\n&quot;</span>);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((sscanf(opts[OPT_ARG_READVOLUME], <span class="stringliteral">&quot;%2d&quot;</span>, &amp;x) != 1) || (x &lt; -4) || (x &gt; 4)) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Heard volume must be a number between -4 and 4, not &#39;%s&#39;\n&quot;</span>, opts[OPT_ARG_READVOLUME]);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            readvol = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a7b7f65a1a133e53f30380778711f927d">get_volfactor</a>(x);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;         }</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      }</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a3b7b3b914db0d19b3e0a899a06d4de2f">MUXFLAG_WRITEVOLUME</a>)) {</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca1f6b3d7cf2898c975a3d31af56d67ca5">OPT_ARG_WRITEVOLUME</a>])) {</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No volume level was provided for the spoken volume (&#39;V&#39;) option.\n&quot;</span>);</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((sscanf(opts[OPT_ARG_WRITEVOLUME], <span class="stringliteral">&quot;%2d&quot;</span>, &amp;x) != 1) || (x &lt; -4) || (x &gt; 4)) {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Spoken volume must be a number between -4 and 4, not &#39;%s&#39;\n&quot;</span>, opts[OPT_ARG_WRITEVOLUME]);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            writevol = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a7b7f65a1a133e53f30380778711f927d">get_volfactor</a>(x);</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;         }</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      }</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a69179585167d4a418b54c7bb4bacbca3">MUXFLAG_VOLUME</a>)) {</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcac31114b0c2250979c4021b4170e046ca">OPT_ARG_VOLUME</a>])) {</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No volume level was provided for the combined volume (&#39;W&#39;) option.\n&quot;</span>);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((sscanf(opts[OPT_ARG_VOLUME], <span class="stringliteral">&quot;%2d&quot;</span>, &amp;x) != 1) || (x &lt; -4) || (x &gt; 4)) {</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Combined volume must be a number between -4 and 4, not &#39;%s&#39;\n&quot;</span>, opts[OPT_ARG_VOLUME]);</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            readvol = writevol = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a7b7f65a1a133e53f30380778711f927d">get_volfactor</a>(x);</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;         }</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      }</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0d933d98f63a5535adb5eb37b527d078">MUXFLAG_VMRECIPIENTS</a>)) {</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca5cc3ea6209e94bac1b4af7bcef440dc1">OPT_ARG_VMRECIPIENTS</a>])) {</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No voicemail recipients were specified for the vm copy (&#39;m&#39;) option.\n&quot;</span>);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            recipients = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(opts[OPT_ARG_VMRECIPIENTS]);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;         }</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      }</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9acfd8f77477e73531053efa57ffbe5d4b">MUXFLAG_WRITE</a>)) {</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;         filename_write = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae8ec96e23b1751d8ff6cf7e9d991bc56">filename_parse</a>(opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca92cdfa177fca4a7b90ac94e8aa0adb0e">OPT_ARG_WRITENAME</a>], filename_buffer, <span class="keyword">sizeof</span>(filename_buffer)));</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      }</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0ec43ce5b7e79fd05a140e0eb7b3d968">MUXFLAG_READ</a>)) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;         filename_read = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae8ec96e23b1751d8ff6cf7e9d991bc56">filename_parse</a>(opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaae3c1ae2b79b560f13e56fd69959430a">OPT_ARG_READNAME</a>], filename_buffer, <span class="keyword">sizeof</span>(filename_buffer)));</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      }</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a83410e6c631314ce6fee8bbae722349f">MUXFLAG_UID</a>)) {</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;         uid_channel_var = opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca344643c03243c3c3e52beae49da213ca">OPT_ARG_UID</a>];</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aec188e556878f4706b133e8a1ffd1e1b">MUXFLAG_BEEP</a>)) {</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span> *interval_str = <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd291105be378e735584c891220cc632">OPT_ARG_BEEP_INTERVAL</a>], <span class="stringliteral">&quot;15&quot;</span>);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interval = 15;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;         <span class="keywordflow">if</span> (sscanf(interval_str, <span class="stringliteral">&quot;%30u&quot;</span>, &amp;interval) != 1) {</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid interval &#39;%s&#39; for periodic beep. Using default of %u\n&quot;</span>,</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                  interval_str, interval);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;         }</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dc/dcf/func__periodic__hook_8c.html#aa62d539d9d64098331237c2fb9391040">ast_beep_start</a>(chan, interval, beep_id, <span class="keyword">sizeof</span>(beep_id))) {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to enable periodic beep, please ensure func_periodic_hook is loaded.\n&quot;</span>);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;         }</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      }</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;   }</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;   <span class="comment">/* If there are no file writing arguments/options for the mix monitor, send a warning message and return -1 */</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9acfd8f77477e73531053efa57ffbe5d4b">MUXFLAG_WRITE</a>) &amp;&amp; !<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0ec43ce5b7e79fd05a140e0eb7b3d968">MUXFLAG_READ</a>) &amp;&amp; <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename)) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;MixMonitor requires an argument (filename)\n&quot;</span>);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;   }</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;   <span class="comment">/* If filename exists, try to create directories for it */</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename))) {</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae8ec96e23b1751d8ff6cf7e9d991bc56">filename_parse</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename, filename_buffer, <span class="keyword">sizeof</span>(filename_buffer)));</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;   }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;MIXMONITOR_FILENAME&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <span class="comment">/* If launch_monitor_thread works, the module reference must not be released until it is finished. */</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a>(<a class="code" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">self</a>);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a549a21ef185182b21da773876038baa5">launch_monitor_thread</a>(chan,</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;         <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename,</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;         flags.<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>,</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;         readvol,</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;         writevol,</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;         <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.post_process,</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;         filename_write,</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;         filename_read,</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;         uid_channel_var,</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;         recipients,</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;         beep_id)) {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(<a class="code" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">self</a>);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   }</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   <a class="code" href="../../d8/d9e/structmessage.html">message</a> = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan),</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga1d79ca992d986295b77e209c1de4e9d5">ast_channel_mixmonitor_start_type</a>(), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9e/structmessage.html">message</a>) {</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(chan), <a class="code" href="../../d8/d9e/structmessage.html">message</a>);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   }</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;}</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div><div class="line"><a name="l01257"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad2c8f0c4d059d499eb5582f8ee334b74"> 1257</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad2c8f0c4d059d499eb5582f8ee334b74">stop_mixmonitor_full</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *data)</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;{</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   <span class="keyword">struct </span>mixmonitor_ds *mixmonitor_ds;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aea3efee612128fbeb6773a141ae7f405">beep_id</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *, <a class="code" href="../../d8/d9e/structmessage.html">message</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(mixmonid);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;   );</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data)) {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      parse = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;   }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, parse);</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;mixmonitor_ds_info,</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.mixmonid, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;   }</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;   mixmonitor_ds = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <span class="comment">/* closing the filestream here guarantees the file is available to the dialplan</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">    * after calling StopMixMonitor */</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ab929b47c53e696579eab1c2925b8fb40">mixmonitor_ds_close_fs</a>(mixmonitor_ds);</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;   <span class="comment">/* The mixmonitor thread may be waiting on the audiohook trigger.</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">    * In order to exit from the mixmonitor loop before waiting on channel</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">    * destruction, poke the audiohook trigger. */</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   <span class="keywordflow">if</span> (mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a>) {</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <span class="keywordflow">if</span> (mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a>-&gt;<a class="code" href="../../d2/d49/structast__audiohook.html#a9c2c1a66c786d5e486ac428388d62e28">status</a> != <a class="code" href="../../d0/d79/audiohook_8h.html#acf2dd361123daa6446ade7c7ecfe55ada82b3db86f4b5d34ca212dfb6fec2db14">AST_AUDIOHOOK_STATUS_DONE</a>) {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;         <a class="code" href="../../d0/d79/audiohook_8h.html#a5f263b2006fa3bd3e9a96d4580d0125c">ast_audiohook_update_status</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a>, <a class="code" href="../../d0/d79/audiohook_8h.html#acf2dd361123daa6446ade7c7ecfe55adac1d3e44970c0af0ebd25b95f59b5cf57">AST_AUDIOHOOK_STATUS_SHUTDOWN</a>);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <a class="code" href="../../d0/d79/audiohook_8h.html#a6456e346fe813617f13d5bbf7e92db5a">ast_audiohook_lock</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a>);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a>-&gt;<a class="code" href="../../d2/d49/structast__audiohook.html#a1730983172cdc5373cf60e0e40294fb0">trigger</a>);</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <a class="code" href="../../d0/d79/audiohook_8h.html#aae4ac794c0f7ab8decd713cb9c43acf4">ast_audiohook_unlock</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a>);</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">audiohook</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;   }</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aea3efee612128fbeb6773a141ae7f405">beep_id</a>)) {</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      beep_id = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aea3efee612128fbeb6773a141ae7f405">beep_id</a>);</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;   }</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;   <span class="comment">/* Remove the datastore so the monitor thread can exit */</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a>(chan, datastore)) {</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;   }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(beep_id)) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <a class="code" href="../../dc/dcf/func__periodic__hook_8c.html#adfab28e53497c1ed062d197e361b4599">ast_beep_stop</a>(chan, beep_id);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;   }</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;   <a class="code" href="../../d8/d9e/structmessage.html">message</a> = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan),</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                                                <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gacf301e77203685c2968fb91f7ba6f068">ast_channel_mixmonitor_stop_type</a>(),</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                                                <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9e/structmessage.html">message</a>) {</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(chan), <a class="code" href="../../d8/d9e/structmessage.html">message</a>);</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;   }</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;}</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div><div class="line"><a name="l01331"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a8b138ff6e25436326e3ad1196200affb"> 1331</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a8b138ff6e25436326e3ad1196200affb">stop_mixmonitor_exec</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *data)</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;{</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad2c8f0c4d059d499eb5582f8ee334b74">stop_mixmonitor_full</a>(chan, data);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;}</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a47807527da8b15a523f21d61e9631480"> 1337</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a47807527da8b15a523f21d61e9631480">handle_cli_mixmonitor</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;{</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="keyword">struct </span>mixmonitor_ds *mixmonitor_ds = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;mixmonitor {start|stop|list}&quot;</span>;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;         <span class="stringliteral">&quot;Usage: mixmonitor start &lt;chan_name&gt; [args]\n&quot;</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;         <span class="stringliteral">&quot;         The optional arguments are passed to the MixMonitor application.\n&quot;</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;         <span class="stringliteral">&quot;       mixmonitor stop &lt;chan_name&gt; [args]\n&quot;</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;         <span class="stringliteral">&quot;         The optional arguments are passed to the StopMixMonitor application.\n&quot;</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;         <span class="stringliteral">&quot;       mixmonitor list &lt;chan_name&gt;\n&quot;</span>;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a3a116acde8f18aa530e5b4a6df420273">ast_complete_channels</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>, 2);</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;   }</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 3) {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;   }</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;   <span class="keywordflow">if</span> (!(chan = <a class="code" href="../../d5/d7b/channel_8h.html#a71d89dbc5107b1f851dcbf1686a0d9d9">ast_channel_get_by_name_prefix</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2], strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2])))) {</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;No channel matching &#39;%s&#39; found.\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2]);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <span class="comment">/* Technically this is a failure, but we don&#39;t want 2 errors printing out */</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;   }</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[1], <span class="stringliteral">&quot;start&quot;</span>)) {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a053a7e92c2b94d80c09ee262887f5d0a">mixmonitor_exec</a>(chan, (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &gt;= 4) ? a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3] : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[1], <span class="stringliteral">&quot;stop&quot;</span>)){</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a8b138ff6e25436326e3ad1196200affb">stop_mixmonitor_exec</a>(chan, (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &gt;= 4) ? a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3] : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[1], <span class="stringliteral">&quot;list&quot;</span>)) {</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;MixMonitor ID\tFile\tReceive File\tTransmit File\n&quot;</span>);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;=========================================================================\n&quot;</span>);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aae56765bab2eed7bd11d8dca29b2975c">ast_channel_datastores</a>(chan), datastore, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;         <span class="keywordflow">if</span> (datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">info</a> == &amp;mixmonitor_ds_info) {</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <span class="keywordtype">char</span> *filename = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <span class="keywordtype">char</span> *filename_read = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <span class="keywordtype">char</span> *filename_write = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            mixmonitor_ds = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            <span class="keywordflow">if</span> (mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a518672a3c95902e10965e14197590b31">fs</a>) {</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;               filename = mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a518672a3c95902e10965e14197590b31">fs</a>-&gt;<a class="code" href="../../db/dbc/structast__filestream.html#aeac90097f29f7529968697163cea5c18">filename</a>;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            }</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            <span class="keywordflow">if</span> (mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a1c4e033233d9bb69755e542c5c1a48f7">fs_read</a>) {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;               filename_read = mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a1c4e033233d9bb69755e542c5c1a48f7">fs_read</a>-&gt;<a class="code" href="../../db/dbc/structast__filestream.html#aeac90097f29f7529968697163cea5c18">filename</a>;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            }</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            <span class="keywordflow">if</span> (mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a35739b54ded130bfcd48626c2b0a8ada">fs_write</a>) {</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;               filename_write = mixmonitor_ds-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#a35739b54ded130bfcd48626c2b0a8ada">fs_write</a>-&gt;<a class="code" href="../../db/dbc/structast__filestream.html#aeac90097f29f7529968697163cea5c18">filename</a>;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            }</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%p\t%s\t%s\t%s\n&quot;</span>, mixmonitor_ds, filename, filename_read, filename_write);</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;         }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      }</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      chan = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(chan);</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   }</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;   chan = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(chan);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">/*! \brief  Mute / unmute  a MixMonitor channel */</span></div><div class="line"><a name="l01406"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a55a4f4a66509c65ade70c73958c38746"> 1406</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a55a4f4a66509c65ade70c73958c38746">manager_mute_mixmonitor</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m)</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;{</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *name = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Channel&quot;</span>);</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;ActionID&quot;</span>);</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d88/structstate.html">state</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;State&quot;</span>);</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m,<span class="stringliteral">&quot;Direction&quot;</span>);</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   <span class="keywordtype">int</span> clearmute = 1;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951">ast_audiohook_flags</a> <a class="code" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *, <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, stasis_message_blob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(direction)) {</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;No direction specified. Must be read, write or both&quot;</span>);</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;   }</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(direction, <span class="stringliteral">&quot;read&quot;</span>)) {</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      flag = <a class="code" href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951aa612c089312c6841fa6225b3efef44e2">AST_AUDIOHOOK_MUTE_READ</a>;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;   } <span class="keywordflow">else</span>  <span class="keywordflow">if</span> (!strcasecmp(direction, <span class="stringliteral">&quot;write&quot;</span>)) {</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      flag = <a class="code" href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951aa7f52dd0d5d1d0cc63e0d62b98f97f5c">AST_AUDIOHOOK_MUTE_WRITE</a>;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   } <span class="keywordflow">else</span>  <span class="keywordflow">if</span> (!strcasecmp(direction, <span class="stringliteral">&quot;both&quot;</span>)) {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      flag = <a class="code" href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951aa612c089312c6841fa6225b3efef44e2">AST_AUDIOHOOK_MUTE_READ</a> | <a class="code" href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951aa7f52dd0d5d1d0cc63e0d62b98f97f5c">AST_AUDIOHOOK_MUTE_WRITE</a>;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Invalid direction specified. Must be read, write or both&quot;</span>);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;   }</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(name)) {</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;No channel specified&quot;</span>);</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;   }</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(state)) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;No state specified&quot;</span>);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;   }</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;   clearmute = <a class="code" href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a>(state);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;   c = <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(name);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;   <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;No such channel&quot;</span>);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   }</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d79/audiohook_8h.html#a305c3d4f03f737f1958d9b2fd4af0a37">ast_audiohook_set_mute</a>(c, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae4d8626bafc0788638c26976d170ed44">mixmonitor_spy_type</a>, flag, clearmute)) {</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(c);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Cannot set mute flag&quot;</span>);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;   stasis_message_blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: b}&quot;</span>,</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="stringliteral">&quot;direction&quot;</span>, direction,</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="stringliteral">&quot;state&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(state));</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;   <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(c),</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4a0dd953a7a98de22b02e9748093e9d7">ast_channel_mixmonitor_mute_type</a>(), stasis_message_blob);</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a>) {</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(c), <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a>);</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   }</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Response: Success\r\n&quot;</span>);</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>)) {</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;ActionID: %s\r\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;   }</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(c);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;}</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a7c98c8feb04b830466c778150a22de76"> 1482</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a7c98c8feb04b830466c778150a22de76">start_mixmonitor_callback</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>)</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;{</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(options)) {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      snprintf(args, <span class="keyword">sizeof</span>(args), <span class="stringliteral">&quot;%s&quot;</span>, filename);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      snprintf(args, <span class="keyword">sizeof</span>(args), <span class="stringliteral">&quot;%s,%s&quot;</span>, filename, options);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;   }</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a053a7e92c2b94d80c09ee262887f5d0a">mixmonitor_exec</a>(chan, args);</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;}</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ae675d5ac662bdfbdaf1cff9d6358f11d"> 1495</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae675d5ac662bdfbdaf1cff9d6358f11d">stop_mixmonitor_callback</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *mixmonitor_id)</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;{</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad2c8f0c4d059d499eb5582f8ee334b74">stop_mixmonitor_full</a>(chan, mixmonitor_id);</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;}</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div><div class="line"><a name="l01500"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ac8d4f021564a88f6821c80e75c6c80cc"> 1500</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ac8d4f021564a88f6821c80e75c6c80cc">manager_mixmonitor</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m)</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;{</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *name = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Channel&quot;</span>);</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;ActionID&quot;</span>);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;File&quot;</span>);</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Options&quot;</span>);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *command = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Command&quot;</span>);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;   <span class="keywordtype">char</span> *opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a>] = { <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, };</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> flags = { 0 };</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;   <span class="keywordtype">char</span> *uid_channel_var = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *mixmonitor_id = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(name)) {</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;No channel specified&quot;</span>);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;   }</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;   c = <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(name);</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;No such channel&quot;</span>);</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;   }</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(options)) {</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a3cd55b841a2212f5e218caa074ac01ce">mixmonitor_opts</a>, &amp;flags, opts, <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(options));</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;   }</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;   snprintf(args, <span class="keyword">sizeof</span>(args), <span class="stringliteral">&quot;%s,%s,%s&quot;</span>, file, options, command);</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;   res = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a053a7e92c2b94d80c09ee262887f5d0a">mixmonitor_exec</a>(c, args);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a83410e6c631314ce6fee8bbae722349f">MUXFLAG_UID</a>)) {</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      uid_channel_var = opts[<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca344643c03243c3c3e52beae49da213ca">OPT_ARG_UID</a>];</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(c);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      mixmonitor_id = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(c, uid_channel_var);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      mixmonitor_id = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(mixmonitor_id, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(c);</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   }</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(c);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Could not start monitoring channel&quot;</span>);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   }</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Response: Success\r\n&quot;</span>);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>)) {</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;ActionID: %s\r\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;   }</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(mixmonitor_id)) {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;MixMonitorID: %s\r\n&quot;</span>, mixmonitor_id);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   }</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(c);</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;}</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;</div><div class="line"><a name="l01565"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a0c9f87883ea51d567d274cac986acb27"> 1565</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a0c9f87883ea51d567d274cac986acb27">manager_stop_mixmonitor</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m)</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;{</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *name = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Channel&quot;</span>);</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;ActionID&quot;</span>);</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *mixmonitor_id = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;MixMonitorID&quot;</span>);</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(name)) {</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;No channel specified&quot;</span>);</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   }</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   c = <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(name);</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;No such channel&quot;</span>);</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   }</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   res = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad2c8f0c4d059d499eb5582f8ee334b74">stop_mixmonitor_full</a>(c, mixmonitor_id);</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(c);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Could not stop monitoring channel&quot;</span>);</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;   }</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Response: Success\r\n&quot;</span>);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>)) {</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;ActionID: %s\r\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;   }</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(c);</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;}</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#aaaeb8db82fdb14926b8951d7cf35b255"> 1604</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#aaaeb8db82fdb14926b8951d7cf35b255">func_mixmonitor_read</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, <span class="keywordtype">char</span> *<a class="code" href="../../df/d3c/structast__channel.html#a8f64897c7ccc5c13f276d1d07c4e7095">data</a>,</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="keywordtype">size_t</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;{</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;   <span class="keyword">struct </span>mixmonitor_ds *ds_data;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(key);</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;   );</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, data);</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.id) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.key)) {</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Not enough arguments provided to %s. &quot;</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            <span class="stringliteral">&quot;An ID and key must be provided\n&quot;</span>, cmd);</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;   }</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;mixmonitor_ds_info, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.id);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find MixMonitor with ID %s\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.id);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;   }</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;   ds_data = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.key, <span class="stringliteral">&quot;filename&quot;</span>)) {</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buf, ds_data-&gt;<a class="code" href="../../d7/d69/structmixmonitor__ds.html#aeac90097f29f7529968697163cea5c18">filename</a>, len);</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unrecognized %s option %s\n&quot;</span>, cmd, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.key);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   }</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;}</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div><div class="line"><a name="l01642"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a1b95c38536e2028fe378cedd10015ba7"> 1642</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a1b95c38536e2028fe378cedd10015ba7">mixmonitor_function</a> = {</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;   .<a class="code" href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">name</a> = <span class="stringliteral">&quot;MIXMONITOR&quot;</span>,</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;   .read = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#aaaeb8db82fdb14926b8951d7cf35b255">func_mixmonitor_read</a>,</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;};</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a10a2684f56ffcf4c2ba8c635269c60bb"> 1647</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a10a2684f56ffcf4c2ba8c635269c60bb">cli_mixmonitor</a>[] = {</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a47807527da8b15a523f21d61e9631480">handle_cli_mixmonitor</a>, <span class="stringliteral">&quot;Execute a MixMonitor command&quot;</span>)</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;};</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div><div class="line"><a name="l01651"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a3ad349c72615e79656f8dadece20540d"> 1651</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a3ad349c72615e79656f8dadece20540d">set_mixmonitor_methods</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;{</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db5/structast__mixmonitor__methods.html">ast_mixmonitor_methods</a> mixmonitor_methods = {</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      .<a class="code" href="../../d1/db5/structast__mixmonitor__methods.html#afd369ea5933bdb367ef788ca34ed1749">start</a> = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a7c98c8feb04b830466c778150a22de76">start_mixmonitor_callback</a>,</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      .stop = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ae675d5ac662bdfbdaf1cff9d6358f11d">stop_mixmonitor_callback</a>,</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;   };</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d9/d40/mixmonitor_8h.html#a20e413f65ec28c666ee08c4308994e4d">ast_set_mixmonitor_methods</a>(&amp;mixmonitor_methods);</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;}</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;</div><div class="line"><a name="l01661"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a5bde5228d73e6e34a54fbe64c18c78c6"> 1661</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a5bde5228d73e6e34a54fbe64c18c78c6">clear_mixmonitor_methods</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;{</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d9/d40/mixmonitor_8h.html#ae4ba211c606541983b87a0028cbdd782">ast_clear_mixmonitor_methods</a>();</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;}</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div><div class="line"><a name="l01666"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ad09fa931f468002152a3cc2d5ce25eae"> 1666</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;{</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(cli_mixmonitor, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(cli_mixmonitor));</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   res = <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ab715ac77dd679d28f99a14426cb724a1">stop_app</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a3ed16a1a934fc63de92ab3128228402b">app</a>);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   res |= <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;MixMonitorMute&quot;</span>);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   res |= <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;MixMonitor&quot;</span>);</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   res |= <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;StopMixMonitor&quot;</span>);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;mixmonitor_function);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   res |= <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a5bde5228d73e6e34a54fbe64c18c78c6">clear_mixmonitor_methods</a>();</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div><div class="line"><a name="l01682"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9"> 1682</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;{</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(cli_mixmonitor, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(cli_mixmonitor));</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;   res = <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a3ed16a1a934fc63de92ab3128228402b">app</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a053a7e92c2b94d80c09ee262887f5d0a">mixmonitor_exec</a>);</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ab715ac77dd679d28f99a14426cb724a1">stop_app</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a8b138ff6e25436326e3ad1196200affb">stop_mixmonitor_exec</a>);</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;   res |= <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;MixMonitorMute&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a> | <a class="code" href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a55a4f4a66509c65ade70c73958c38746">manager_mute_mixmonitor</a>);</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;   res |= <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;MixMonitor&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ac8d4f021564a88f6821c80e75c6c80cc">manager_mixmonitor</a>);</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   res |= <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;StopMixMonitor&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a> | <a class="code" href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a>, <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a0c9f87883ea51d567d274cac986acb27">manager_stop_mixmonitor</a>);</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;mixmonitor_function);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   res |= <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#a3ad349c72615e79656f8dadece20540d">set_mixmonitor_methods</a>();</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;}</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<a class="code" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO</a>(<a class="code" href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a>, <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a>, <span class="stringliteral">&quot;Mixed Audio Monitoring Application&quot;</span>,</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;   .support_level = <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>,</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   .load = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>,</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;   .unload = <a class="code" href="../../d8/d93/app__mixmonitor_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>,</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;   .optional_modules = <span class="stringliteral">&quot;func_periodic_hook&quot;</span>,</div><div class="line"><a name="l01703"></a><span class="lineno"><a class="line" href="../../d8/d93/app__mixmonitor_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae"> 1703</a></span>&#160;);</div><div class="ttc" id="structast__custom__function_html_afcd1706c9144e6d6eee6127661ae3be2"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">ast_custom_function::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00119">pbx.h:119</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a3ad349c72615e79656f8dadece20540d"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a3ad349c72615e79656f8dadece20540d">set_mixmonitor_methods</a></div><div class="ttdeci">static int set_mixmonitor_methods(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01651">app_mixmonitor.c:1651</a></div></div>
<div class="ttc" id="structast__datastore__info_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d9/dfb/structast__datastore__info.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_datastore_info::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00032">datastore.h:32</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a8b138ff6e25436326e3ad1196200affb"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a8b138ff6e25436326e3ad1196200affb">stop_mixmonitor_exec</a></div><div class="ttdeci">static int stop_mixmonitor_exec(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01331">app_mixmonitor.c:1331</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01089">app_meetme.c:1089</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="audiohook_8h_html_a6d4c98ade1d3dd2e755ffb52b1106951abb1912897be4282234afc9ffca28e238"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951abb1912897be4282234afc9ffca28e238">AST_AUDIOHOOK_SUBSTITUTE_SILENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00068">audiohook.h:68</a></div></div>
<div class="ttc" id="cli_8h_html_a5c4130cf8f1e93acfdd84416cebf1aef"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a></div><div class="ttdeci">#define AST_CLI_DEFINE(fn, txt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00197">cli.h:197</a></div></div>
<div class="ttc" id="structast__party__number_html_ab50d783982593ef993ea0b68f7ad8b80"><div class="ttname"><a href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">ast_party_number::str</a></div><div class="ttdeci">char * str</div><div class="ttdoc">Subscriber phone number (Malloced) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00292">channel.h:292</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="audiohook_8h_html_a6d4c98ade1d3dd2e755ffb52b1106951"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951">ast_audiohook_flags</a></div><div class="ttdeci">ast_audiohook_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00054">audiohook.h:54</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_a1c4e033233d9bb69755e542c5c1a48f7"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#a1c4e033233d9bb69755e542c5c1a48f7">mixmonitor_ds::fs_read</a></div><div class="ttdeci">struct ast_filestream * fs_read</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00453">app_mixmonitor.c:453</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac2d42f7be13c532b6a70d50f1b8983d2"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a></div><div class="ttdeci">void astman_append(struct mansession *s, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03080">manager.c:3080</a></div></div>
<div class="ttc" id="stasis__channels_8h_html"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html">stasis_channels.h</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html">mixmonitor_ds</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00443">app_mixmonitor.c:443</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9aa4008fc495cdb7ab4b7a525d4d78a552"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aa4008fc495cdb7ab4b7a525d4d78a552">MUXFLAG_BEEP_START</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00406">app_mixmonitor.c:406</a></div></div>
<div class="ttc" id="asterisk_8h_html"><div class="ttname"><a href="../../db/db2/asterisk_8h.html">asterisk.h</a></div><div class="ttdoc">Asterisk main include file. File version handling, generic pbx functions. </div></div>
<div class="ttc" id="structmixmonitor_html"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html">mixmonitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00367">app_mixmonitor.c:367</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9a65a221e2faf49821947780f0b1002f00"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a65a221e2faf49821947780f0b1002f00">MUXFLAG_NO_RWSYNC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00409">app_mixmonitor.c:409</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_aaaeb8db82fdb14926b8951d7cf35b255"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#aaaeb8db82fdb14926b8951d7cf35b255">func_mixmonitor_read</a></div><div class="ttdeci">static int func_mixmonitor_read(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01604">app_mixmonitor.c:1604</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="structmixmonitor_html_ac3d2d8f5aeaf31b3c15858b01a4f691f"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#ac3d2d8f5aeaf31b3c15858b01a4f691f">mixmonitor::filename_read</a></div><div class="ttdeci">char * filename_read</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00370">app_mixmonitor.c:370</a></div></div>
<div class="ttc" id="module_8h_html_ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00121">module.h:121</a></div></div>
<div class="ttc" id="autochan_8h_html_a9d985413624c2500ae36de4bc3d8a3b8"><div class="ttname"><a href="../../d8/d6c/autochan_8h.html#a9d985413624c2500ae36de4bc3d8a3b8">ast_autochan_channel_lock</a></div><div class="ttdeci">#define ast_autochan_channel_lock(autochan)</div><div class="ttdoc">Lock the autochan&amp;#39;s channel lock. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00075">autochan.h:75</a></div></div>
<div class="ttc" id="callerid_8h_html"><div class="ttname"><a href="../../de/d47/callerid_8h.html">callerid.h</a></div><div class="ttdoc">CallerID (and other GR30) management and generation Includes code and algorithms from the Zapata libr...</div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a1e2f74dac95f4bd1112b3963c6992e26"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a1e2f74dac95f4bd1112b3963c6992e26">destroy_monitor_audiohook</a></div><div class="ttdeci">static void destroy_monitor_audiohook(struct mixmonitor *mixmonitor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00515">app_mixmonitor.c:515</a></div></div>
<div class="ttc" id="structast__party__connected__line_html_a8791d240f8a9c2dc271a1c8542cfe8cc"><div class="ttname"><a href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">ast_party_connected_line::id</a></div><div class="ttdeci">struct ast_party_id id</div><div class="ttdoc">Connected party ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00459">channel.h:459</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a0c9f87883ea51d567d274cac986acb27"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a0c9f87883ea51d567d274cac986acb27">manager_stop_mixmonitor</a></div><div class="ttdeci">static int manager_stop_mixmonitor(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01565">app_mixmonitor.c:1565</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="structmixmonitor_html_a62f8995a6eac6c8a48205a6f3815d54b"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#a62f8995a6eac6c8a48205a6f3815d54b">mixmonitor::callid</a></div><div class="ttdeci">ast_callid callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00374">app_mixmonitor.c:374</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_a518672a3c95902e10965e14197590b31"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#a518672a3c95902e10965e14197590b31">mixmonitor_ds::fs</a></div><div class="ttdeci">struct ast_filestream * fs</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00452">app_mixmonitor.c:452</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_a40dd33d7fa211edd276ab547f4ad5d73"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#a40dd33d7fa211edd276ab547f4ad5d73">ast_vm_recording_data::recording_file</a></div><div class="ttdeci">const ast_string_field recording_file</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00103">include/asterisk/app.h:103</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structast__party__id_html_aab4036618469f3fa9ab26a22726ba2db"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">ast_party_id::name</a></div><div class="ttdeci">struct ast_party_name name</div><div class="ttdoc">Subscriber name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00341">channel.h:341</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_aea357396b4d70e149a76d9911689eb4b"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#aea357396b4d70e149a76d9911689eb4b">ast_vm_recording_data::mailbox</a></div><div class="ttdeci">const ast_string_field mailbox</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00103">include/asterisk/app.h:103</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_a023fcb4c183644068357e31aa9ec415e"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#a023fcb4c183644068357e31aa9ec415e">mixmonitor_ds::destruction_ok</a></div><div class="ttdeci">unsigned int destruction_ok</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00444">app_mixmonitor.c:444</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_aed5c8ff18120704cdb2b6bd316d6b032"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#aed5c8ff18120704cdb2b6bd316d6b032">add_vm_recipients_from_string</a></div><div class="ttdeci">static void add_vm_recipients_from_string(struct mixmonitor *mixmonitor, const char *vm_recipients)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00544">app_mixmonitor.c:544</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="structvm__recipient_html_a00f8d8e4c11662ae283f77679412563b"><div class="ttname"><a href="../../d6/d7b/structvm__recipient.html#a00f8d8e4c11662ae283f77679412563b">vm_recipient::mailbox</a></div><div class="ttdeci">char mailbox[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00361">app_mixmonitor.c:361</a></div></div>
<div class="ttc" id="structast__module__info_html"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html">ast_module_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00336">module.h:336</a></div></div>
<div class="ttc" id="stasis_8h_html"><div class="ttname"><a href="../../dd/d79/stasis_8h.html">stasis.h</a></div><div class="ttdoc">Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. </div></div>
<div class="ttc" id="structast__cli__entry_html"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a></div><div class="ttdoc">descriptor for a cli entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00171">cli.h:171</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="audiohook_8h_html"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html">audiohook.h</a></div><div class="ttdoc">Audiohooks Architecture. </div></div>
<div class="ttc" id="audiohook_8h_html_a5f263b2006fa3bd3e9a96d4580d0125c"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a5f263b2006fa3bd3e9a96d4580d0125c">ast_audiohook_update_status</a></div><div class="ttdeci">void ast_audiohook_update_status(struct ast_audiohook *audiohook, enum ast_audiohook_status status)</div><div class="ttdoc">Update audiohook&amp;#39;s status. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00565">audiohook.c:565</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_a6c4ee520c857eb74851962c54f6c2bf1"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#a6c4ee520c857eb74851962c54f6c2bf1">ast_vm_recording_data::call_priority</a></div><div class="ttdeci">int call_priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00104">include/asterisk/app.h:104</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ae8ec96e23b1751d8ff6cf7e9d991bc56"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ae8ec96e23b1751d8ff6cf7e9d991bc56">filename_parse</a></div><div class="ttdeci">static char * filename_parse(char *filename, char *buffer, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01075">app_mixmonitor.c:1075</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad7eaaa376cd430417b5a3c548b4a09f3"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad7eaaa376cd430417b5a3c548b4a09f3">startmon</a></div><div class="ttdeci">static int startmon(struct ast_channel *chan, struct ast_audiohook *audiohook)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00529">app_mixmonitor.c:529</a></div></div>
<div class="ttc" id="structast__flags_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">ast_flags::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00200">utils.h:200</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ae5fd6b48bcd8b0679428c86f204b16a8"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ae5fd6b48bcd8b0679428c86f204b16a8">mixmonitor_ds_destroy</a></div><div class="ttdeci">static void mixmonitor_ds_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00497">app_mixmonitor.c:497</a></div></div>
<div class="ttc" id="audiohook_8h_html_a305c3d4f03f737f1958d9b2fd4af0a37"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a305c3d4f03f737f1958d9b2fd4af0a37">ast_audiohook_set_mute</a></div><div class="ttdeci">int ast_audiohook_set_mute(struct ast_channel *chan, const char *source, enum ast_audiohook_flags flag, int clear)</div><div class="ttdoc">Mute frames read from or written to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l01424">audiohook.c:1424</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ae234825bcb65b88c0554b995ff1b8ba6"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a></div><div class="ttdeci">#define AST_LIST_NEXT(elm, field)</div><div class="ttdoc">Returns the next entry in the list after the given entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00438">linkedlists.h:438</a></div></div>
<div class="ttc" id="test_8h_html"><div class="ttname"><a href="../../d2/ddc/test_8h.html">test.h</a></div><div class="ttdoc">Test Framework API. </div></div>
<div class="ttc" id="manager_8h_html_ab5db3cc603d7e798d61cb4cd94fbb4e2"><div class="ttname"><a href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a></div><div class="ttdeci">#define EVENT_FLAG_CALL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00072">manager.h:72</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structast__datastore__info_html"><div class="ttname"><a href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a></div><div class="ttdoc">Structure for a data store type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00031">datastore.h:31</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9a0ec43ce5b7e79fd05a140e0eb7b3d968"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0ec43ce5b7e79fd05a140e0eb7b3d968">MUXFLAG_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00400">app_mixmonitor.c:400</a></div></div>
<div class="ttc" id="structast__party__name_html_ab50d783982593ef993ea0b68f7ad8b80"><div class="ttname"><a href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">ast_party_name::str</a></div><div class="ttdeci">char * str</div><div class="ttdoc">Subscriber name (Malloced) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00265">channel.h:265</a></div></div>
<div class="ttc" id="audiohook_8h_html_a6d4c98ade1d3dd2e755ffb52b1106951aa612c089312c6841fa6225b3efef44e2"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951aa612c089312c6841fa6225b3efef44e2">AST_AUDIOHOOK_MUTE_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00064">audiohook.h:64</a></div></div>
<div class="ttc" id="structast__format_html"><div class="ttname"><a href="../../d0/d98/structast__format.html">ast_format</a></div><div class="ttdoc">Definition of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00043">format.c:43</a></div></div>
<div class="ttc" id="audiohook_8h_html_a94abfad20db137f9d6a33f641d37ac31"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a94abfad20db137f9d6a33f641d37ac31">ast_audiohook_attach</a></div><div class="ttdeci">int ast_audiohook_attach(struct ast_channel *chan, struct ast_audiohook *audiohook)</div><div class="ttdoc">Attach audiohook to channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00501">audiohook.c:501</a></div></div>
<div class="ttc" id="lock_8h_html_a36233c5520173c095bf732a788356aee"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a></div><div class="ttdeci">#define ast_cond_wait(cond, mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00203">lock.h:203</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="func__periodic__hook_8c_html_adfab28e53497c1ed062d197e361b4599"><div class="ttname"><a href="../../dc/dcf/func__periodic__hook_8c.html#adfab28e53497c1ed062d197e361b4599">ast_beep_stop</a></div><div class="ttdeci">int AST_OPTIONAL_API_NAME() ast_beep_stop(struct ast_channel *chan, const char *beep_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcf/func__periodic__hook_8c_source.html#l00513">func_periodic_hook.c:513</a></div></div>
<div class="ttc" id="structast__autochan_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html#a84d1435c5b8d387806714ea7079304b7">ast_autochan::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00033">autochan.h:33</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fca5cc3ea6209e94bac1b4af7bcef440dc1"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca5cc3ea6209e94bac1b4af7bcef440dc1">OPT_ARG_VMRECIPIENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00419">app_mixmonitor.c:419</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a549a21ef185182b21da773876038baa5"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a549a21ef185182b21da773876038baa5">launch_monitor_thread</a></div><div class="ttdeci">static int launch_monitor_thread(struct ast_channel *chan, const char *filename, unsigned int flags, int readvol, int writevol, const char *post_process, const char *filename_write, char *filename_read, const char *uid_channel_var, const char *recipients, const char *beep_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00933">app_mixmonitor.c:933</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9aec188e556878f4706b133e8a1ffd1e1b"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9aec188e556878f4706b133e8a1ffd1e1b">MUXFLAG_BEEP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00405">app_mixmonitor.c:405</a></div></div>
<div class="ttc" id="stringfields_8h_html_a061580e89c55282a7140fa3fdfd52b6d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a></div><div class="ttdeci">#define AST_DECLARE_STRING_FIELDS(field_list)</div><div class="ttdoc">Declare the fields needed in a structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00337">stringfields.h:337</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ac5f94927a8b6f1e2ef623bec0d06a485"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ac5f94927a8b6f1e2ef623bec0d06a485">mixmonitor_ds_remove_and_free</a></div><div class="ttdeci">static void mixmonitor_ds_remove_and_free(struct ast_channel *chan, const char *datastore_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00915">app_mixmonitor.c:915</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4a1884cde93e53bef32ca85c194a1d05"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a></div><div class="ttdeci">#define AST_LIST_EMPTY(head)</div><div class="ttdoc">Checks whether the specified list contains any entries. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00449">linkedlists.h:449</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structmixmonitor_html_aab95b2f7cc117dbd2526c525685aa1a0"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#aab95b2f7cc117dbd2526c525685aa1a0">mixmonitor::post_process</a></div><div class="ttdeci">char * post_process</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00372">app_mixmonitor.c:372</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9a6d1b0b9f476e0e7e1807fca8687dc163"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a6d1b0b9f476e0e7e1807fca8687dc163">MUXFLAG_BEEP_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00407">app_mixmonitor.c:407</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="structmixmonitor_html_ae409469acaf38c7f1ff968dd1ce331dd"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#ae409469acaf38c7f1ff968dd1ce331dd">mixmonitor::mixmonitor_ds</a></div><div class="ttdeci">struct mixmonitor_ds * mixmonitor_ds</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00377">app_mixmonitor.c:377</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a55a4f4a66509c65ade70c73958c38746"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a55a4f4a66509c65ade70c73958c38746">manager_mute_mixmonitor</a></div><div class="ttdeci">static int manager_mute_mixmonitor(struct mansession *s, const struct message *m)</div><div class="ttdoc">Mute / unmute a MixMonitor channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01406">app_mixmonitor.c:1406</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="file_8h_html"><div class="ttname"><a href="../../d2/d4d/file_8h.html">file.h</a></div><div class="ttdoc">Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. </div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a27385fd97f84847f7aa3b7bfcb861361"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a27385fd97f84847f7aa3b7bfcb861361">ast_frame_free</a></div><div class="ttdeci">void ast_frame_free(struct ast_frame *fr, int cache)</div><div class="ttdoc">Requests a frame to be allocated. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d55/main_2frame_8c_source.html#l00176">main/frame.c:176</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__channel_html_a8f64897c7ccc5c13f276d1d07c4e7095"><div class="ttname"><a href="../../df/d3c/structast__channel.html#a8f64897c7ccc5c13f276d1d07c4e7095">ast_channel::data</a></div><div class="ttdeci">const char * data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00083">channel_internal_api.c:83</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a1f363cf2aee532487b6a4981d1c57003"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a1f363cf2aee532487b6a4981d1c57003">mixmonitor_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info mixmonitor_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00510">app_mixmonitor.c:510</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad2c8f0c4d059d499eb5582f8ee334b74"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad2c8f0c4d059d499eb5582f8ee334b74">stop_mixmonitor_full</a></div><div class="ttdeci">static int stop_mixmonitor_full(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01257">app_mixmonitor.c:1257</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_ad2860f67af0fadd225de13fec375f701"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#ad2860f67af0fadd225de13fec375f701">mixmonitor_ds::samp_rate</a></div><div class="ttdeci">unsigned int samp_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00458">app_mixmonitor.c:458</a></div></div>
<div class="ttc" id="structmixmonitor_html_a6289cadce5fd2b3dbf516cdd824638f5"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#a6289cadce5fd2b3dbf516cdd824638f5">mixmonitor::call_callerchan</a></div><div class="ttdeci">const ast_string_field call_callerchan</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00386">app_mixmonitor.c:386</a></div></div>
<div class="ttc" id="mixmonitor_8h_html_a20e413f65ec28c666ee08c4308994e4d"><div class="ttname"><a href="../../d9/d40/mixmonitor_8h.html#a20e413f65ec28c666ee08c4308994e4d">ast_set_mixmonitor_methods</a></div><div class="ttdeci">int ast_set_mixmonitor_methods(struct ast_mixmonitor_methods *vmethod_table)</div><div class="ttdoc">Setup MixMonitor virtual methods table. Use this to provide the MixMonitor functionality from a loada...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd8/mixmonitor_8c_source.html#l00043">mixmonitor.c:43</a></div></div>
<div class="ttc" id="http_8c_html_af9b32121c4ad80b0887a3d73fd24de5f"><div class="ttname"><a href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a></div><div class="ttdeci">const char * ext</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00147">http.c:147</a></div></div>
<div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
<div class="ttc" id="audiohook_8h_html_a9fa661730d6fa6b9b12e410d66a3437b"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a9fa661730d6fa6b9b12e410d66a3437b">ast_audiohook_destroy</a></div><div class="ttdeci">int ast_audiohook_destroy(struct ast_audiohook *audiohook)</div><div class="ttdoc">Destroys an audiohook structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00133">audiohook.c:133</a></div></div>
<div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="channel_8h_html_a6610c8171ced0a69738622c11736ff5e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a></div><div class="ttdeci">int ast_channel_priority(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00444">channel_internal_api.c:444</a></div></div>
<div class="ttc" id="utils_8h_html_aa73be876e3a4024b91ce2e09d8b945d1"><div class="ttname"><a href="../../d5/d60/utils_8h.html#aa73be876e3a4024b91ce2e09d8b945d1">ast_pthread_create_detached_background</a></div><div class="ttdeci">#define ast_pthread_create_detached_background(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00572">utils.h:572</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__cli__args_html_a2a7a1aa13a4f14075411123a4495593c"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">ast_cli_args::line</a></div><div class="ttdeci">const char * line</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00162">cli.h:162</a></div></div>
<div class="ttc" id="beep_8h_html"><div class="ttname"><a href="../../d7/d36/beep_8h.html">beep.h</a></div><div class="ttdoc">Periodic beeps into the audio of a call. </div></div>
<div class="ttc" id="pbx_8h_html_a965977ea9a3144bc203e0ce7a64680a1"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a></div><div class="ttdeci">int ast_custom_function_unregister(struct ast_custom_function *acf)</div><div class="ttdoc">Unregister a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00273">pbx_functions.c:273</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9acfd8f77477e73531053efa57ffbe5d4b"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9acfd8f77477e73531053efa57ffbe5d4b">MUXFLAG_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00401">app_mixmonitor.c:401</a></div></div>
<div class="ttc" id="mod__format_8h_html"><div class="ttname"><a href="../../d7/d5d/mod__format_8h.html">mod_format.h</a></div><div class="ttdoc">Header for providers of file and format handling routines. Clients of these routines should include &quot;...</div></div>
<div class="ttc" id="logger_8h_html_a5b3f39ea262ffa795ce4b597968ad00b"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a></div><div class="ttdeci">ast_callid ast_read_threadstorage_callid(void)</div><div class="ttdoc">extracts the callerid from the thread </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01962">logger.c:1962</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_ab99aadde533836bd12636e2d3ab3912b"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#ab99aadde533836bd12636e2d3ab3912b">ast_vm_recording_data::recording_ext</a></div><div class="ttdeci">const ast_string_field recording_ext</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00103">include/asterisk/app.h:103</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a053a7e92c2b94d80c09ee262887f5d0a"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a053a7e92c2b94d80c09ee262887f5d0a">mixmonitor_exec</a></div><div class="ttdeci">static int mixmonitor_exec(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01115">app_mixmonitor.c:1115</a></div></div>
<div class="ttc" id="stringfields_8h_html"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html">stringfields.h</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a3cd55b841a2212f5e218caa074ac01ce"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a3cd55b841a2212f5e218caa074ac01ce">mixmonitor_opts</a></div><div class="ttdeci">static const struct ast_app_option mixmonitor_opts[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00441">app_mixmonitor.c:441</a></div></div>
<div class="ttc" id="astmm_8h_html_ada667b6f84a08e6848cb37c5ffb94a5f"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a></div><div class="ttdeci">#define ast_asprintf(ret, fmt,...)</div><div class="ttdoc">A wrapper for asprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00269">astmm.h:269</a></div></div>
<div class="ttc" id="channel_8h_html_a71d89dbc5107b1f851dcbf1686a0d9d9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a71d89dbc5107b1f851dcbf1686a0d9d9">ast_channel_get_by_name_prefix</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name_prefix(const char *name, size_t name_len)</div><div class="ttdoc">Find a channel by a name prefix. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01434">channel.c:1434</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac6a9f3498f9afffecfd78c485af41556"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a></div><div class="ttdeci">const char * astman_get_header(const struct message *m, char *var)</div><div class="ttdoc">Get header from mananger transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02820">manager.c:2820</a></div></div>
<div class="ttc" id="module_8h_html_a15896c26e51e8162df5eb9a0124c841f"><div class="ttname"><a href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a></div><div class="ttdeci">#define ast_module_unref(mod)</div><div class="ttdoc">Release a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00469">module.h:469</a></div></div>
<div class="ttc" id="lock_8h_html_ab134d98cdfe7de0f7a72b377c0765dc7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a></div><div class="ttdeci">pthread_cond_t ast_cond_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00176">lock.h:176</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_aeac90097f29f7529968697163cea5c18"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#aeac90097f29f7529968697163cea5c18">mixmonitor_ds::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00459">app_mixmonitor.c:459</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_af71da74e76e685cba3bcde2b4cd889f8"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#af71da74e76e685cba3bcde2b4cd889f8">mixmonitor_ds::destruction_condition</a></div><div class="ttdeci">ast_cond_t destruction_condition</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00445">app_mixmonitor.c:445</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fc"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fc">mixmonitor_args</a></div><div class="ttdeci">mixmonitor_args</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00412">app_mixmonitor.c:412</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9a83410e6c631314ce6fee8bbae722349f"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a83410e6c631314ce6fee8bbae722349f">MUXFLAG_UID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00403">app_mixmonitor.c:403</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a7b7f65a1a133e53f30380778711f927d"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a7b7f65a1a133e53f30380778711f927d">get_volfactor</a></div><div class="ttdeci">#define get_volfactor(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00348">app_mixmonitor.c:348</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a520a3c6b7d57903d9a616051da1a019d"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a520a3c6b7d57903d9a616051da1a019d">AST_APP_OPTIONS</a></div><div class="ttdeci">#define AST_APP_OPTIONS(holder, options...)</div><div class="ttdoc">Declares an array of options for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01393">include/asterisk/app.h:1393</a></div></div>
<div class="ttc" id="audiohook_8h_html_a2cdfa0bb99da5247ab56d5ca67483a8f"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a2cdfa0bb99da5247ab56d5ca67483a8f">ast_audiohook_init</a></div><div class="ttdeci">int ast_audiohook_init(struct ast_audiohook *audiohook, enum ast_audiohook_type type, const char *source, enum ast_audiohook_init_flags flags)</div><div class="ttdoc">Initialize an audiohook structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00108">audiohook.c:108</a></div></div>
<div class="ttc" id="logger_8h_html_a6956becf4d7e3906c74b6e30b834ebd8"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6956becf4d7e3906c74b6e30b834ebd8">ast_callid_threadassoc_add</a></div><div class="ttdeci">int ast_callid_threadassoc_add(ast_callid callid)</div><div class="ttdoc">Adds a known callid to thread storage of the calling thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01984">logger.c:1984</a></div></div>
<div class="ttc" id="structast__mixmonitor__methods_html"><div class="ttname"><a href="../../d1/db5/structast__mixmonitor__methods.html">ast_mixmonitor_methods</a></div><div class="ttdoc">MixMonitor virtual methods table definition. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/mixmonitor_8h_source.html#l00058">mixmonitor.h:58</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_a7e325cf39431d5b36e4339f7212132da"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#a7e325cf39431d5b36e4339f7212132da">mixmonitor_ds::fs_quit</a></div><div class="ttdeci">int fs_quit</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00450">app_mixmonitor.c:450</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9a69179585167d4a418b54c7bb4bacbca3"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a69179585167d4a418b54c7bb4bacbca3">MUXFLAG_VOLUME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00397">app_mixmonitor.c:397</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fca92cdfa177fca4a7b90ac94e8aa0adb0e"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca92cdfa177fca4a7b90ac94e8aa0adb0e">OPT_ARG_WRITENAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00416">app_mixmonitor.c:416</a></div></div>
<div class="ttc" id="audiohook_8h_html_aae4ac794c0f7ab8decd713cb9c43acf4"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#aae4ac794c0f7ab8decd713cb9c43acf4">ast_audiohook_unlock</a></div><div class="ttdeci">#define ast_audiohook_unlock(ah)</div><div class="ttdoc">Unlock an audiohook. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00300">audiohook.h:300</a></div></div>
<div class="ttc" id="manager_8h_html_a420f0f755e1c3378b45ca7f6f0669ffa"><div class="ttname"><a href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a></div><div class="ttdeci">#define EVENT_FLAG_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00071">manager.h:71</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a884c0c655d224af1045845766529ce00"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a884c0c655d224af1045845766529ce00">mixmonitor_free</a></div><div class="ttdeci">static void mixmonitor_free(struct mixmonitor *mixmonitor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00604">app_mixmonitor.c:604</a></div></div>
<div class="ttc" id="utils_8h_html_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00228">utils.h:228</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ab715ac77dd679d28f99a14426cb724a1"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ab715ac77dd679d28f99a14426cb724a1">stop_app</a></div><div class="ttdeci">static const char *const stop_app</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00352">app_mixmonitor.c:352</a></div></div>
<div class="ttc" id="structast__module__info_html_a1aff0615d43e1dfa5c72c1c7d1c6d709"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">ast_module_info::self</a></div><div class="ttdeci">struct ast_module * self</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00342">module.h:342</a></div></div>
<div class="ttc" id="callerid_8h_html_a1c25633b1ed63682c95ec613d7cbe559"><div class="ttname"><a href="../../de/d47/callerid_8h.html#a1c25633b1ed63682c95ec613d7cbe559">ast_callerid_merge</a></div><div class="ttdeci">char * ast_callerid_merge(char *buf, int bufsiz, const char *name, const char *num, const char *unknown)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd5/callerid_8c_source.html#l01073">callerid.c:1073</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_a29e2f9d32a5e270df22ec41e8def7fab"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#a29e2f9d32a5e270df22ec41e8def7fab">ast_vm_recording_data::call_macrocontext</a></div><div class="ttdeci">const ast_string_field call_macrocontext</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00103">include/asterisk/app.h:103</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9af9d12e60fba57ac8badf29deda354942"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9af9d12e60fba57ac8badf29deda354942">MUXFLAG_BRIDGED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00396">app_mixmonitor.c:396</a></div></div>
<div class="ttc" id="channel_8h_html"><div class="ttname"><a href="../../d5/d7b/channel_8h.html">channel.h</a></div><div class="ttdoc">General Asterisk PBX channel definitions. </div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ae4d8626bafc0788638c26976d170ed44"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ae4d8626bafc0788638c26976d170ed44">mixmonitor_spy_type</a></div><div class="ttdeci">static const char *const mixmonitor_spy_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00354">app_mixmonitor.c:354</a></div></div>
<div class="ttc" id="paths_8h_html"><div class="ttname"><a href="../../dd/df2/paths_8h.html">paths.h</a></div><div class="ttdoc">Asterisk file paths, configured in asterisk.conf. </div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a4429a2ec15f98ee26b8e701d27c58f36"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a4429a2ec15f98ee26b8e701d27c58f36">mixmonitor_save_prep</a></div><div class="ttdeci">static void mixmonitor_save_prep(struct mixmonitor *mixmonitor, char *filename, struct ast_filestream **fs, unsigned int *oflags, int *errflag, char **ext)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00670">app_mixmonitor.c:670</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="structast__audiohook__options_html_aebed8739a031eafdf88cf936abac9388"><div class="ttname"><a href="../../da/d77/structast__audiohook__options.html#aebed8739a031eafdf88cf936abac9388">ast_audiohook_options::write_volume</a></div><div class="ttdeci">int write_volume</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00100">audiohook.h:100</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a7c98c8feb04b830466c778150a22de76"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a7c98c8feb04b830466c778150a22de76">start_mixmonitor_callback</a></div><div class="ttdeci">static int start_mixmonitor_callback(struct ast_channel *chan, const char *filename, const char *options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01482">app_mixmonitor.c:1482</a></div></div>
<div class="ttc" id="channel_8h_html_a10f23f1907b804485f62973f66cd9aef"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a></div><div class="ttdeci">struct ast_party_connected_line * ast_channel_connected(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00892">channel_internal_api.c:892</a></div></div>
<div class="ttc" id="audiohook_8h_html_acf2dd361123daa6446ade7c7ecfe55adabcc7793ac9fbdcaa9e727aacfda27f26"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#acf2dd361123daa6446ade7c7ecfe55adabcc7793ac9fbdcaa9e727aacfda27f26">AST_AUDIOHOOK_STATUS_RUNNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00043">audiohook.h:43</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="structast__custom__function_html"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html">ast_custom_function</a></div><div class="ttdoc">Data structure associated with a custom dialplan function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00118">pbx.h:118</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9ad0f0a7231f9ba246408e98ff25febb96"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9ad0f0a7231f9ba246408e98ff25febb96">MUXFLAG_COMBINED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00402">app_mixmonitor.c:402</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="stringfields_8h_html_a51b5729220efb7cda4393ed35ecdfea2"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a></div><div class="ttdeci">#define AST_STRING_FIELD(name)</div><div class="ttdoc">Declare a string field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00299">stringfields.h:299</a></div></div>
<div class="ttc" id="structast__filestream_html_a8e5f2c67c624fc84557ef2bdd855ebb9"><div class="ttname"><a href="../../db/dbc/structast__filestream.html#a8e5f2c67c624fc84557ef2bdd855ebb9">ast_filestream::fmt</a></div><div class="ttdeci">struct ast_format_def * fmt</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5d/mod__format_8h_source.html#l00103">mod_format.h:103</a></div></div>
<div class="ttc" id="strings_8h_html_a38a896048b2ca84076864505f0aa8f01"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a></div><div class="ttdeci">#define S_COR(a, b, c)</div><div class="ttdoc">returns the equivalent of logic or for strings, with an additional boolean check: second one if not e...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00085">strings.h:85</a></div></div>
<div class="ttc" id="channel_8h_html_aae56765bab2eed7bd11d8dca29b2975c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aae56765bab2eed7bd11d8dca29b2975c">ast_channel_datastores</a></div><div class="ttdeci">struct ast_datastore_list * ast_channel_datastores(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00868">channel_internal_api.c:868</a></div></div>
<div class="ttc" id="structmansession_html"><div class="ttname"><a href="../../d2/d8a/structmansession.html">mansession</a></div><div class="ttdoc">In case you didn&amp;#39;t read that giant block of text above the mansession_session struct, the struct mansession is named this solely to keep the API the same in Asterisk. This structure really represents data that is different from Manager action to Manager action. The mansession_session pointer contained within points to session-specific data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01625">manager.c:1625</a></div></div>
<div class="ttc" id="structast__datastore_html_a03ea21247b5d39b165343431b44131f1"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">ast_datastore::info</a></div><div class="ttdeci">const struct ast_datastore_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00071">datastore.h:71</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9">mixmonitor_flags</a></div><div class="ttdeci">mixmonitor_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00394">app_mixmonitor.c:394</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="linkedlists_8h_html"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html">linkedlists.h</a></div><div class="ttdoc">A set of macros to manage forward-linked lists. </div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fca60fa2cbb3bca05830ba6e5aacf42664a"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca60fa2cbb3bca05830ba6e5aacf42664a">OPT_ARG_DEPRECATED_RWSYNC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00421">app_mixmonitor.c:421</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="reqresp__parser_8h_html_a7e4aa55331b8292eff94249de72b807d"><div class="ttname"><a href="../../d1/d8f/reqresp__parser_8h.html#a7e4aa55331b8292eff94249de72b807d">AST_LIST_HEAD_NOLOCK</a></div><div class="ttdeci">AST_LIST_HEAD_NOLOCK(contactliststruct, contact)</div></div>
<div class="ttc" id="structast__format__def_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d0/d57/structast__format__def.html#ab425a484a0916077c5a30d9d7b229b44">ast_format_def::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5d/mod__format_8h_source.html#l00048">mod_format.h:48</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_af40039f1c49c16d0f6fa33fe9c43a0cb"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a></div><div class="ttdeci">int ast_app_parse_options(const struct ast_app_option *options, struct ast_flags *flags, char **args, char *optstr)</div><div class="ttdoc">Parses a string containing application options and sets flags/arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02906">main/app.c:2906</a></div></div>
<div class="ttc" id="structmixmonitor_html_a6c4ee520c857eb74851962c54f6c2bf1"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#a6c4ee520c857eb74851962c54f6c2bf1">mixmonitor::call_priority</a></div><div class="ttdeci">int call_priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00387">app_mixmonitor.c:387</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="pbx_8h_html"><div class="ttname"><a href="../../db/de0/pbx_8h.html">pbx.h</a></div><div class="ttdoc">Core PBX routines and definitions. </div></div>
<div class="ttc" id="func__periodic__hook_8c_html_aa62d539d9d64098331237c2fb9391040"><div class="ttname"><a href="../../dc/dcf/func__periodic__hook_8c.html#aa62d539d9d64098331237c2fb9391040">ast_beep_start</a></div><div class="ttdeci">int AST_OPTIONAL_API_NAME() ast_beep_start(struct ast_channel *chan, unsigned int interval, char *beep_id, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcf/func__periodic__hook_8c_source.html#l00497">func_periodic_hook.c:497</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_a8531d21b3ca3a109d9b8d0d88d079c3b"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#a8531d21b3ca3a109d9b8d0d88d079c3b">ast_vm_recording_data::call_callerid</a></div><div class="ttdeci">const ast_string_field call_callerid</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00103">include/asterisk/app.h:103</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fca1f6b3d7cf2898c975a3d31af56d67ca5"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca1f6b3d7cf2898c975a3d31af56d67ca5">OPT_ARG_WRITEVOLUME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00414">app_mixmonitor.c:414</a></div></div>
<div class="ttc" id="structmixmonitor_html_a5960ec0b6f6975ddae24792b8acfc693"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#a5960ec0b6f6975ddae24792b8acfc693">mixmonitor::filename_write</a></div><div class="ttdeci">char * filename_write</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00371">app_mixmonitor.c:371</a></div></div>
<div class="ttc" id="test_8h_html_a9482d93ea3931853331bdbc745ce7cb4"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a></div><div class="ttdeci">#define ast_test_suite_event_notify(s, f,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00196">test.h:196</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad09fa931f468002152a3cc2d5ce25eae"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a></div><div class="ttdeci">static int unload_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01666">app_mixmonitor.c:1666</a></div></div>
<div class="ttc" id="structframe__list_html"><div class="ttname"><a href="../../d9/d42/structframe__list.html">frame_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00590">res_rtp_asterisk.c:590</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="channel_8h_html_afdeaf9abb1aecc715313a4f62c1cf9c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic(struct ast_channel *chan)</div><div class="ttdoc">A topic which publishes the events for a particular channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01502">channel_internal_api.c:1502</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gafadf012f66a9fd7ecf985ec5b9dee101"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a></div><div class="ttdeci">int ast_manager_unregister(const char *action)</div><div class="ttdoc">Unregister a registered manager command. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07258">manager.c:7258</a></div></div>
<div class="ttc" id="manager_8h_html"><div class="ttname"><a href="../../db/d45/manager_8h.html">manager.h</a></div><div class="ttdoc">The AMI - Asterisk Manager Interface - is a TCP protocol created to manage Asterisk with third-party ...</div></div>
<div class="ttc" id="autochan_8h_html"><div class="ttname"><a href="../../d8/d6c/autochan_8h.html">autochan.h</a></div><div class="ttdoc">&quot;smart&quot; channels that update automatically if a channel is masqueraded </div></div>
<div class="ttc" id="structmixmonitor__ds_html_aea3efee612128fbeb6773a141ae7f405"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#aea3efee612128fbeb6773a141ae7f405">mixmonitor_ds::beep_id</a></div><div class="ttdeci">char * beep_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00460">app_mixmonitor.c:460</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga1d79ca992d986295b77e209c1de4e9d5"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga1d79ca992d986295b77e209c1de4e9d5">ast_channel_mixmonitor_start_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_mixmonitor_start_type(void)</div><div class="ttdoc">Message type for starting mixmonitor on a channel. </div></div>
<div class="ttc" id="audiohook_8h_html_a88b9ad3730e7adbc3b396bef4e85b12a"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a88b9ad3730e7adbc3b396bef4e85b12a">ast_audiohook_detach</a></div><div class="ttdeci">int ast_audiohook_detach(struct ast_audiohook *audiohook)</div><div class="ttdoc">Detach audiohook from channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00579">audiohook.c:579</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structmixmonitor_html_a8531d21b3ca3a109d9b8d0d88d079c3b"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#a8531d21b3ca3a109d9b8d0d88d079c3b">mixmonitor::call_callerid</a></div><div class="ttdeci">const ast_string_field call_callerid</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00386">app_mixmonitor.c:386</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ab929b47c53e696579eab1c2925b8fb40"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ab929b47c53e696579eab1c2925b8fb40">mixmonitor_ds_close_fs</a></div><div class="ttdeci">static void mixmonitor_ds_close_fs(struct mixmonitor_ds *mixmonitor_ds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00467">app_mixmonitor.c:467</a></div></div>
<div class="ttc" id="structmixmonitor_html_a29e2f9d32a5e270df22ec41e8def7fab"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#a29e2f9d32a5e270df22ec41e8def7fab">mixmonitor::call_macrocontext</a></div><div class="ttdeci">const ast_string_field call_macrocontext</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00386">app_mixmonitor.c:386</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gacf301e77203685c2968fb91f7ba6f068"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gacf301e77203685c2968fb91f7ba6f068">ast_channel_mixmonitor_stop_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_mixmonitor_stop_type(void)</div><div class="ttdoc">Message type for stopping mixmonitor on a channel. </div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a9fb5cf0385848033ee3e98625e5f9784"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a9fb5cf0385848033ee3e98625e5f9784">ast_safe_system</a></div><div class="ttdeci">int ast_safe_system(const char *s)</div><div class="ttdoc">Safely spawn an OS shell command while closing file descriptors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l00829">extconf.c:829</a></div></div>
<div class="ttc" id="audiohook_8h_html_a6d4c98ade1d3dd2e755ffb52b1106951aa7f52dd0d5d1d0cc63e0d62b98f97f5c"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951aa7f52dd0d5d1d0cc63e0d62b98f97f5c">AST_AUDIOHOOK_MUTE_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00065">audiohook.h:65</a></div></div>
<div class="ttc" id="audiohook_8h_html_a6d4c98ade1d3dd2e755ffb52b1106951afe01f1fbfa9f1096386a2c7905f2630e"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a6d4c98ade1d3dd2e755ffb52b1106951afe01f1fbfa9f1096386a2c7905f2630e">AST_AUDIOHOOK_TRIGGER_SYNC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00059">audiohook.h:59</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a7549377df87038be737e8cae73acaa9d"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a7549377df87038be737e8cae73acaa9d">AST_APP_OPTION_ARG</a></div><div class="ttdeci">#define AST_APP_OPTION_ARG(option, flagno, argno)</div><div class="ttdoc">Declares an application option that accepts an argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01413">include/asterisk/app.h:1413</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_a7faec841658b88ad0cfbc684853acad3"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#a7faec841658b88ad0cfbc684853acad3">ast_vm_recording_data::context</a></div><div class="ttdeci">const ast_string_field context</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00103">include/asterisk/app.h:103</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structast__party__connected__line_html"><div class="ttname"><a href="../../dc/d9e/structast__party__connected__line.html">ast_party_connected_line</a></div><div class="ttdoc">Connected Line/Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00457">channel.h:457</a></div></div>
<div class="ttc" id="file_8h_html_a964f8ef393c07609d7b9e02937faed52"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a964f8ef393c07609d7b9e02937faed52">ast_writefile</a></div><div class="ttdeci">struct ast_filestream * ast_writefile(const char *filename, const char *type, const char *comment, int flags, int check, mode_t mode)</div><div class="ttdoc">Starts writing a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01361">file.c:1361</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_a35739b54ded130bfcd48626c2b0a8ada"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#a35739b54ded130bfcd48626c2b0a8ada">mixmonitor_ds::fs_write</a></div><div class="ttdeci">struct ast_filestream * fs_write</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00454">app_mixmonitor.c:454</a></div></div>
<div class="ttc" id="lock_8h_html_a1ea2f4040a736cddbecea48b30ffedfd"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a></div><div class="ttdeci">#define ast_cond_destroy(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00200">lock.h:200</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a6f280979316181df57f3c2ae2eb8e6ef"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a6f280979316181df57f3c2ae2eb8e6ef">copy_to_voicemail</a></div><div class="ttdeci">static void copy_to_voicemail(struct mixmonitor *mixmonitor, const char *ext, const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00635">app_mixmonitor.c:635</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_a6289cadce5fd2b3dbf516cdd824638f5"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#a6289cadce5fd2b3dbf516cdd824638f5">ast_vm_recording_data::call_callerchan</a></div><div class="ttdeci">const ast_string_field call_callerchan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00103">include/asterisk/app.h:103</a></div></div>
<div class="ttc" id="channel_8h_html_aa0a52e573af67cb0f29095177128d186"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa0a52e573af67cb0f29095177128d186">ast_channel_is_bridged</a></div><div class="ttdeci">int ast_channel_is_bridged(const struct ast_channel *chan)</div><div class="ttdoc">Determine if a channel is in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10746">channel.c:10746</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a67508a613c8f337732e35d9367b43ae7"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a></div><div class="ttdeci">#define AST_LIST_ENTRY(type)</div><div class="ttdoc">Declare a forward link structure inside a list entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00409">linkedlists.h:409</a></div></div>
<div class="ttc" id="f2c_8h_html_abf5d144da384425ae6cb542ce6eec8d3"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a></div><div class="ttdeci">long int flag</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00083">f2c.h:83</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fcabd291105be378e735584c891220cc632"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd291105be378e735584c891220cc632">OPT_ARG_BEEP_INTERVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00420">app_mixmonitor.c:420</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a2e006acff60d9b3d65d7d60f975d6747"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a></div><div class="ttdeci">static void parse(struct mgcp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l01872">chan_mgcp.c:1872</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="channel_8h_html_abcf1aea85b924e9cd605040b86241e2a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a></div><div class="ttdeci">#define AST_MAX_CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00136">channel.h:136</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#adf04f66344e3fb0a6f6a69bf39d19902">mixmonitor_ds::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00446">app_mixmonitor.c:446</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a5bde5228d73e6e34a54fbe64c18c78c6"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a5bde5228d73e6e34a54fbe64c18c78c6">clear_mixmonitor_methods</a></div><div class="ttdeci">static int clear_mixmonitor_methods(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01661">app_mixmonitor.c:1661</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="paths_8h_html_ae8b54021bf362dc04d5783fa3b4b4abd"><div class="ttname"><a href="../../dd/df2/paths_8h.html#ae8b54021bf362dc04d5783fa3b4b4abd">ast_config_AST_MONITOR_DIR</a></div><div class="ttdeci">const char * ast_config_AST_MONITOR_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00155">options.c:155</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structmixmonitor_html_aeac90097f29f7529968697163cea5c18"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#aeac90097f29f7529968697163cea5c18">mixmonitor::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00369">app_mixmonitor.c:369</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ae675d5ac662bdfbdaf1cff9d6358f11d"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ae675d5ac662bdfbdaf1cff9d6358f11d">stop_mixmonitor_callback</a></div><div class="ttdeci">static int stop_mixmonitor_callback(struct ast_channel *chan, const char *mixmonitor_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01495">app_mixmonitor.c:1495</a></div></div>
<div class="ttc" id="structvm__recipient_html_a2b153a76aa44df9199ba08ae9d424e89"><div class="ttname"><a href="../../d6/d7b/structvm__recipient.html#a2b153a76aa44df9199ba08ae9d424e89">vm_recipient::list</a></div><div class="ttdeci">struct vm_recipient::@57 list</div></div>
<div class="ttc" id="file_8h_html_a95b94a020720147325a486e210b36775"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a95b94a020720147325a486e210b36775">ast_stream_and_wait</a></div><div class="ttdeci">int ast_stream_and_wait(struct ast_channel *chan, const char *file, const char *digits)</div><div class="ttdoc">stream file until digit If the file name is non-empty, try to play it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01814">file.c:1814</a></div></div>
<div class="ttc" id="file_8h_html_ab53bd2c3c55d509790c7f7620aac6373"><div class="ttname"><a href="../../d2/d4d/file_8h.html#ab53bd2c3c55d509790c7f7620aac6373">ast_closestream</a></div><div class="ttdeci">int ast_closestream(struct ast_filestream *f)</div><div class="ttdoc">Closes a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01068">file.c:1068</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a47807527da8b15a523f21d61e9631480"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a47807527da8b15a523f21d61e9631480">handle_cli_mixmonitor</a></div><div class="ttdeci">static char * handle_cli_mixmonitor(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01337">app_mixmonitor.c:1337</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fcabd8fecd9c47d39f57bb4fc79ebc25036"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcabd8fecd9c47d39f57bb4fc79ebc25036">OPT_ARG_READVOLUME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00413">app_mixmonitor.c:413</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a8746ae57f53e99e184ab1e64e71d24c5"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a8746ae57f53e99e184ab1e64e71d24c5">SAMPLES_PER_FRAME</a></div><div class="ttdeci">#define SAMPLES_PER_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00602">app_mixmonitor.c:602</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="audiohook_8h_html_abce1d2faae234aa016905215014542b0a29865bbf4732a7e78748db47b91e46f5"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#abce1d2faae234aa016905215014542b0a29865bbf4732a7e78748db47b91e46f5">AST_AUDIOHOOK_TYPE_SPY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00036">audiohook.h:36</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a3ed16a1a934fc63de92ab3128228402b"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a3ed16a1a934fc63de92ab3128228402b">app</a></div><div class="ttdeci">static const char *const app</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00350">app_mixmonitor.c:350</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="structast__audiohook_html_a1730983172cdc5373cf60e0e40294fb0"><div class="ttname"><a href="../../d2/d49/structast__audiohook.html#a1730983172cdc5373cf60e0e40294fb0">ast_audiohook::trigger</a></div><div class="ttdeci">ast_cond_t trigger</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00105">audiohook.h:105</a></div></div>
<div class="ttc" id="res__phoneprov_8c_html_addaa208b0ed785225e24490fb9f28a80"><div class="ttname"><a href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO</a></div><div class="ttdeci">AST_MODULE_INFO(ASTERISK_GPL_KEY, AST_MODFLAG_GLOBAL_SYMBOLS|AST_MODFLAG_LOAD_ORDER, &quot;HTTP Phone Provisioning&quot;,.support_level=AST_MODULE_SUPPORT_EXTENDED,.load=load_module,.unload=unload_module,.reload=reload,.load_pri=AST_MODPRI_CHANNEL_DEPEND,.requires=&quot;http&quot;,)</div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gafe8b123e0c124e44c3bff016591d3f9c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a></div><div class="ttdeci">struct stasis_message * ast_channel_blob_create_from_cache(const char *uniqueid, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Create a ast_channel_blob message, pulling channel state from the cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00771">stasis_channels.c:771</a></div></div>
<div class="ttc" id="structvm__recipient_html_abe153a80b751a34e41cb1b6f42ef4d2a"><div class="ttname"><a href="../../d6/d7b/structvm__recipient.html#abe153a80b751a34e41cb1b6f42ef4d2a">vm_recipient::folder</a></div><div class="ttdeci">char folder[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00363">app_mixmonitor.c:363</a></div></div>
<div class="ttc" id="module_8h_html_a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b"><div class="ttname"><a href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00315">module.h:315</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="autochan_8h_html_a9410a77465d5ba8317c33039a1ef3aad"><div class="ttname"><a href="../../d8/d6c/autochan_8h.html#a9410a77465d5ba8317c33039a1ef3aad">ast_autochan_destroy</a></div><div class="ttdeci">void ast_autochan_destroy(struct ast_autochan *autochan)</div><div class="ttdoc">destroy an ast_autochan structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4d/autochan_8c_source.html#l00064">autochan.c:64</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="mixmonitor_8h_html_ae4ba211c606541983b87a0028cbdd782"><div class="ttname"><a href="../../d9/d40/mixmonitor_8h.html#ae4ba211c606541983b87a0028cbdd782">ast_clear_mixmonitor_methods</a></div><div class="ttdeci">int ast_clear_mixmonitor_methods(void)</div><div class="ttdoc">Clear the MixMonitor virtual methods table. Use this to cleanup function pointers provided by a modul...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd8/mixmonitor_8c_source.html#l00059">mixmonitor.c:59</a></div></div>
<div class="ttc" id="structvm__recipient_html_a9f186e375501e814034f2b1c46b38655"><div class="ttname"><a href="../../d6/d7b/structvm__recipient.html#a9f186e375501e814034f2b1c46b38655">vm_recipient::next</a></div><div class="ttdeci">struct vm_recipient * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00364">app_mixmonitor.c:364</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9a3b7b3b914db0d19b3e0a899a06d4de2f"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a3b7b3b914db0d19b3e0a899a06d4de2f">MUXFLAG_WRITEVOLUME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00399">app_mixmonitor.c:399</a></div></div>
<div class="ttc" id="audiohook_8h_html_acf2dd361123daa6446ade7c7ecfe55ada82b3db86f4b5d34ca212dfb6fec2db14"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#acf2dd361123daa6446ade7c7ecfe55ada82b3db86f4b5d34ca212dfb6fec2db14">AST_AUDIOHOOK_STATUS_DONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00045">audiohook.h:45</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="autochan_8h_html_ae303d7a863e7cac5c4897b200da77217"><div class="ttname"><a href="../../d8/d6c/autochan_8h.html#ae303d7a863e7cac5c4897b200da77217">ast_autochan_setup</a></div><div class="ttdeci">struct ast_autochan * ast_autochan_setup(struct ast_channel *chan)</div><div class="ttdoc">set up a new ast_autochan structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4d/autochan_8c_source.html#l00038">autochan.c:38</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structast__audiohook_html_a9334d7560b8f09767b5202780731fb0f"><div class="ttname"><a href="../../d2/d49/structast__audiohook.html#a9334d7560b8f09767b5202780731fb0f">ast_audiohook::options</a></div><div class="ttdeci">struct ast_audiohook_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00118">audiohook.h:118</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html">ast_vm_recording_data</a></div><div class="ttdoc">Structure used for ast_copy_recording_to_vm in order to cleanly supply data needed for making the rec...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00090">include/asterisk/app.h:90</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ac8d4f021564a88f6821c80e75c6c80cc"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ac8d4f021564a88f6821c80e75c6c80cc">manager_mixmonitor</a></div><div class="ttdeci">static int manager_mixmonitor(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01500">app_mixmonitor.c:1500</a></div></div>
<div class="ttc" id="audiohook_8h_html_a38494f36536e00ab9a4a9f0f3f65ac03"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a38494f36536e00ab9a4a9f0f3f65ac03">ast_audiohook_read_frame_all</a></div><div class="ttdeci">struct ast_frame * ast_audiohook_read_frame_all(struct ast_audiohook *audiohook, size_t samples, struct ast_format *format, struct ast_frame **read_frame, struct ast_frame **write_frame)</div><div class="ttdoc">Reads a frame in from the audiohook structure in mixed audio mode and copies read and write frame dat...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l00463">audiohook.c:463</a></div></div>
<div class="ttc" id="structast__filestream_html_aeac90097f29f7529968697163cea5c18"><div class="ttname"><a href="../../db/dbc/structast__filestream.html#aeac90097f29f7529968697163cea5c18">ast_filestream::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5d/mod__format_8h_source.html#l00107">mod_format.h:107</a></div></div>
<div class="ttc" id="structast__filestream_html"><div class="ttname"><a href="../../db/dbc/structast__filestream.html">ast_filestream</a></div><div class="ttdoc">This structure is allocated by file.c in one chunk, together with buf_size and desc_size bytes of mem...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5d/mod__format_8h_source.html#l00101">mod_format.h:101</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a1aea2eda946ae45ff5f6c32e17bc83c2"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a1aea2eda946ae45ff5f6c32e17bc83c2">mixmonitor_thread</a></div><div class="ttdeci">static void * mixmonitor_thread(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00709">app_mixmonitor.c:709</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9a8da5042db3ea81408feccf82d48eadd5"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a8da5042db3ea81408feccf82d48eadd5">MUXFLAG_APPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00395">app_mixmonitor.c:395</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="cli_8h_html"><div class="ttname"><a href="../../dc/db0/cli_8h.html">cli.h</a></div><div class="ttdoc">Standard Command Line Interface. </div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="structmixmonitor_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#ac92588540e8c1d014a08cd8a45462b19">mixmonitor::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00375">app_mixmonitor.c:375</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="file_8h_html_a3608386b919ef0949d2858cdeb02d12e"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a3608386b919ef0949d2858cdeb02d12e">ast_writestream</a></div><div class="ttdeci">int ast_writestream(struct ast_filestream *fs, struct ast_frame *f)</div><div class="ttdoc">Writes a frame to a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00209">file.c:209</a></div></div>
<div class="ttc" id="strings_8h_html_a6c3dc0bad204e9dd9890325c1c861e38"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a></div><div class="ttdeci">int attribute_pure ast_false(const char *val)</div><div class="ttdoc">Make sure something is false. Determine if a string containing a boolean value is &quot;false&quot;...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01968">main/utils.c:1968</a></div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ac970461525d979219b3b7b0ad52e867d"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ac970461525d979219b3b7b0ad52e867d">setup_mixmonitor_ds</a></div><div class="ttdeci">static int setup_mixmonitor_ds(struct mixmonitor *mixmonitor, struct ast_channel *chan, char **datastore_id, const char *beep_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00868">app_mixmonitor.c:868</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a1b95c38536e2028fe378cedd10015ba7"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a1b95c38536e2028fe378cedd10015ba7">mixmonitor_function</a></div><div class="ttdeci">static struct ast_custom_function mixmonitor_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01642">app_mixmonitor.c:1642</a></div></div>
<div class="ttc" id="format_8h_html_a499e920008f775eebadd958a42e85862"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a499e920008f775eebadd958a42e85862">ast_format_get_sample_rate</a></div><div class="ttdeci">unsigned int ast_format_get_sample_rate(const struct ast_format *format)</div><div class="ttdoc">Get the sample rate of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00379">format.c:379</a></div></div>
<div class="ttc" id="pbx_8h_html_af5a13a9ab5aac5bb61e4f98ae7e8d296"><div class="ttname"><a href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a></div><div class="ttdeci">void pbx_substitute_variables_helper(struct ast_channel *c, const char *cp1, char *cp2, int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00211">ael_main.c:211</a></div></div>
<div class="ttc" id="structmixmonitor__ds_html_a0e7ab85ba5f8f05fa8006e4538da3210"><div class="ttname"><a href="../../d7/d69/structmixmonitor__ds.html#a0e7ab85ba5f8f05fa8006e4538da3210">mixmonitor_ds::audiohook</a></div><div class="ttdeci">struct ast_audiohook * audiohook</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00456">app_mixmonitor.c:456</a></div></div>
<div class="ttc" id="cli_8h_html_a3a116acde8f18aa530e5b4a6df420273"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a3a116acde8f18aa530e5b4a6df420273">ast_complete_channels</a></div><div class="ttdeci">char * ast_complete_channels(const char *line, const char *word, int pos, int state, int rpos)</div><div class="ttdoc">Command completion for the list of active channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/main_2cli_8c_source.html#l01830">main/cli.c:1830</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fca6c1301db72792bb0507cde157085ecef"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca6c1301db72792bb0507cde157085ecef">OPT_ARG_NO_RWSYNC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00422">app_mixmonitor.c:422</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9a0d933d98f63a5535adb5eb37b527d078"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a0d933d98f63a5535adb5eb37b527d078">MUXFLAG_VMRECIPIENTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00404">app_mixmonitor.c:404</a></div></div>
<div class="ttc" id="structast__cli__args_html"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html">ast_cli_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00158">cli.h:158</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fcaec7326f60e7edad15d96ff935e5616d6"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaec7326f60e7edad15d96ff935e5616d6">OPT_ARG_ARRAY_SIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00423">app_mixmonitor.c:423</a></div></div>
<div class="ttc" id="audiohook_8h_html_acf2dd361123daa6446ade7c7ecfe55adac1d3e44970c0af0ebd25b95f59b5cf57"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#acf2dd361123daa6446ade7c7ecfe55adac1d3e44970c0af0ebd25b95f59b5cf57">AST_AUDIOHOOK_STATUS_SHUTDOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00044">audiohook.h:44</a></div></div>
<div class="ttc" id="structast__audiohook__options_html_a7cc03ad396ddfb53729e9c02edd14703"><div class="ttname"><a href="../../da/d77/structast__audiohook__options.html#a7cc03ad396ddfb53729e9c02edd14703">ast_audiohook_options::read_volume</a></div><div class="ttdeci">int read_volume</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00099">audiohook.h:99</a></div></div>
<div class="ttc" id="structmixmonitor_html_ab72e1828c8ae3ac5b663c22ac5f7f7eb"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#ab72e1828c8ae3ac5b663c22ac5f7f7eb">mixmonitor::call_context</a></div><div class="ttdeci">const ast_string_field call_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00386">app_mixmonitor.c:386</a></div></div>
<div class="ttc" id="mixmonitor_8h_html"><div class="ttname"><a href="../../d9/d40/mixmonitor_8h.html">mixmonitor.h</a></div><div class="ttdoc">loadable MixMonitor functionality </div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="structast__audiohook_html_a9c2c1a66c786d5e486ac428388d62e28"><div class="ttname"><a href="../../d2/d49/structast__audiohook.html#a9c2c1a66c786d5e486ac428388d62e28">ast_audiohook::status</a></div><div class="ttdeci">enum ast_audiohook_status status</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00107">audiohook.h:107</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_afd1a0a2889be6bf17afdeedf674c8f32"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#afd1a0a2889be6bf17afdeedf674c8f32">clear_mixmonitor_recipient_list</a></div><div class="ttdeci">static void clear_mixmonitor_recipient_list(struct mixmonitor *mixmonitor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00593">app_mixmonitor.c:593</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
<div class="ttc" id="autochan_8h_html_afd3962988a64d457ceb0ad6e1ee1f400"><div class="ttname"><a href="../../d8/d6c/autochan_8h.html#afd3962988a64d457ceb0ad6e1ee1f400">ast_autochan_channel_unlock</a></div><div class="ttdeci">#define ast_autochan_channel_unlock(autochan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00084">autochan.h:84</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a10a2684f56ffcf4c2ba8c635269c60bb"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a10a2684f56ffcf4c2ba8c635269c60bb">cli_mixmonitor</a></div><div class="ttdeci">static struct ast_cli_entry cli_mixmonitor[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01647">app_mixmonitor.c:1647</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_ab72e1828c8ae3ac5b663c22ac5f7f7eb"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#ab72e1828c8ae3ac5b663c22ac5f7f7eb">ast_vm_recording_data::call_context</a></div><div class="ttdeci">const ast_string_field call_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00103">include/asterisk/app.h:103</a></div></div>
<div class="ttc" id="lock_8h_html_a76e8ed6bb354be6c6dd9e51acc1d7a1b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a></div><div class="ttdeci">#define ast_mutex_init(pmutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00184">lock.h:184</a></div></div>
<div class="ttc" id="structast__party__name_html_aaa04218f9e3a9065afa8be2491da8904"><div class="ttname"><a href="../../d8/d6f/structast__party__name.html#aaa04218f9e3a9065afa8be2491da8904">ast_party_name::valid</a></div><div class="ttdeci">unsigned char valid</div><div class="ttdoc">TRUE if the name information is valid/present. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00280">channel.h:280</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_aca036489931bf5571e2472331c8ac80b"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#aca036489931bf5571e2472331c8ac80b">AST_APP_OPTION</a></div><div class="ttdeci">#define AST_APP_OPTION(option, flagno)</div><div class="ttdoc">Declares an application option that does not accept an argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01402">include/asterisk/app.h:1402</a></div></div>
<div class="ttc" id="lock_8h_html_ab8977a71822daa556f19f30ba6eec765"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a></div><div class="ttdeci">#define ast_mutex_destroy(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00186">lock.h:186</a></div></div>
<div class="ttc" id="structast__mixmonitor__methods_html_afd369ea5933bdb367ef788ca34ed1749"><div class="ttname"><a href="../../d1/db5/structast__mixmonitor__methods.html#afd369ea5933bdb367ef788ca34ed1749">ast_mixmonitor_methods::start</a></div><div class="ttdeci">ast_mixmonitor_start_fn start</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/mixmonitor_8h_source.html#l00059">mixmonitor.h:59</a></div></div>
<div class="ttc" id="structmixmonitor_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#a5ac083a645d964373f022d03df4849c8">mixmonitor::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00373">app_mixmonitor.c:373</a></div></div>
<div class="ttc" id="structast__audiohook_html"><div class="ttname"><a href="../../d2/d49/structast__audiohook.html">ast_audiohook</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00103">audiohook.h:103</a></div></div>
<div class="ttc" id="channel_8h_html_adf593d68a333075c1fcae8a73b68c069"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a></div><div class="ttdeci">const char * ast_channel_macrocontext(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00362">channel_internal_api.c:362</a></div></div>
<div class="ttc" id="manager_8h_html_a5b63b8a8faede2d852e071e1f7b31c11"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a></div><div class="ttdeci">#define ast_manager_register_xml(action, authority, func)</div><div class="ttdoc">Register a manager callback using XML documentation to describe the manager. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00186">manager.h:186</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a4abab196ba4a91dd81c0d71e7a0a0328"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a4abab196ba4a91dd81c0d71e7a0a0328">mixmonitor_autochan_is_bridged</a></div><div class="ttdeci">static int mixmonitor_autochan_is_bridged(struct ast_autochan *autochan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00699">app_mixmonitor.c:699</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fca344643c03243c3c3e52beae49da213ca"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fca344643c03243c3c3e52beae49da213ca">OPT_ARG_UID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00418">app_mixmonitor.c:418</a></div></div>
<div class="ttc" id="module_8h_html_aba2c8d4be709a254658b21a834f8294a"><div class="ttname"><a href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a></div><div class="ttdeci">#define ASTERISK_GPL_KEY</div><div class="ttdoc">The text the key() function should return. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00046">module.h:46</a></div></div>
<div class="ttc" id="structmixmonitor_html_aaf5379c0defdcacdae37add0d0c8af1d"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#aaf5379c0defdcacdae37add0d0c8af1d">mixmonitor::audiohook</a></div><div class="ttdeci">struct ast_audiohook audiohook</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00368">app_mixmonitor.c:368</a></div></div>
<div class="ttc" id="func__frame__drop_8c_html_a99f26e6ee9fcd62f75203b5402df8098"><div class="ttname"><a href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8b/func__frame__drop_8c_source.html#l00137">func_frame_drop.c:137</a></div></div>
<div class="ttc" id="channel_8h_html_ac7e42045272530c8678418993e75fd56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name(const char *name)</div><div class="ttdoc">Find a channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01454">channel.c:1454</a></div></div>
<div class="ttc" id="audiohook_8h_html_a6456e346fe813617f13d5bbf7e92db5a"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a6456e346fe813617f13d5bbf7e92db5a">ast_audiohook_lock</a></div><div class="ttdeci">#define ast_audiohook_lock(ah)</div><div class="ttdoc">Lock an audiohook. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/audiohook_8h_source.html#l00295">audiohook.h:295</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga31a02a7d3cc36aa66ebebdedfc574d1c"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a></div><div class="ttdeci">void astman_send_error(struct mansession *s, const struct message *m, char *error)</div><div class="ttdoc">Send error in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03159">manager.c:3159</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a414b69d7583bb4cfc6daf5276aac6d14"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a414b69d7583bb4cfc6daf5276aac6d14">connected</a></div><div class="ttdeci">char connected</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00082">eagi_proxy.c:82</a></div></div>
<div class="ttc" id="module_8h_html"><div class="ttname"><a href="../../d5/d16/module_8h.html">module.h</a></div><div class="ttdoc">Asterisk module definitions. </div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
<div class="ttc" id="structvm__recipient_html"><div class="ttname"><a href="../../d6/d7b/structvm__recipient.html">vm_recipient</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00360">app_mixmonitor.c:360</a></div></div>
<div class="ttc" id="structmixmonitor_html_a8b8feabde563f04c7e0e1186f7e9862c"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#a8b8feabde563f04c7e0e1186f7e9862c">mixmonitor::autochan</a></div><div class="ttdeci">struct ast_autochan * autochan</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00376">app_mixmonitor.c:376</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html">app.h</a></div><div class="ttdoc">Application convenience functions, designed to give consistent look and feel to Asterisk apps...</div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9a1547333aac568d63fa032ee0c1027f62"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9a1547333aac568d63fa032ee0c1027f62">MUXFLAG_DEPRECATED_RWSYNC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00408">app_mixmonitor.c:408</a></div></div>
<div class="ttc" id="structvm__recipient_html_a579ca8125bbf48d9ce8691d522f99933"><div class="ttname"><a href="../../d6/d7b/structvm__recipient.html#a579ca8125bbf48d9ce8691d522f99933">vm_recipient::context</a></div><div class="ttdeci">char context[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00362">app_mixmonitor.c:362</a></div></div>
<div class="ttc" id="audiohook_8h_html_a47bb160cbe5e534c0fca6560015ffe59"><div class="ttname"><a href="../../d0/d79/audiohook_8h.html#a47bb160cbe5e534c0fca6560015ffe59">ast_audiohook_trigger_wait</a></div><div class="ttdeci">void ast_audiohook_trigger_wait(struct ast_audiohook *audiohook)</div><div class="ttdoc">Wait for audiohook trigger to be triggered. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/audiohook_8c_source.html#l01142">audiohook.c:1142</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a9f71d68f1b317e6d4ad5f8f820d4b50a"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a9f71d68f1b317e6d4ad5f8f820d4b50a">ast_app_copy_recording_to_vm</a></div><div class="ttdeci">int ast_app_copy_recording_to_vm(struct ast_vm_recording_data *vm_rec_data)</div><div class="ttdoc">param[in] vm_rec_data Contains data needed to make the recording. retval 0 voicemail successfully cre...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00669">main/app.c:669</a></div></div>
<div class="ttc" id="structast__party__number_html_aaa04218f9e3a9065afa8be2491da8904"><div class="ttname"><a href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">ast_party_number::valid</a></div><div class="ttdeci">unsigned char valid</div><div class="ttdoc">TRUE if the number information is valid/present. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00298">channel.h:298</a></div></div>
<div class="ttc" id="structast__autochan_html"><div class="ttname"><a href="../../d8/d7f/structast__autochan.html">ast_autochan</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6c/autochan_8h_source.html#l00032">autochan.h:32</a></div></div>
<div class="ttc" id="channel_8h_html_a1ff1c62b6d50823da93a920575c9c0c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a></div><div class="ttdeci">int ast_channel_datastore_remove(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Remove a datastore from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02399">channel.c:2399</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fcaae3c1ae2b79b560f13e56fd69959430a"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcaae3c1ae2b79b560f13e56fd69959430a">OPT_ARG_READNAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00417">app_mixmonitor.c:417</a></div></div>
<div class="ttc" id="pbx_8h_html_a8af0e93442a9e468425f63cc52b0ac7b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a></div><div class="ttdeci">#define ast_custom_function_register(acf)</div><div class="ttdoc">Register a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01508">pbx.h:1508</a></div></div>
<div class="ttc" id="structmixmonitor_html_abb2534e0096a9f91aa1541900be4edf1"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#abb2534e0096a9f91aa1541900be4edf1">mixmonitor::call_extension</a></div><div class="ttdeci">const ast_string_field call_extension</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00386">app_mixmonitor.c:386</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ad3e67b1804fa4ad006b6646e84a558b9affb82cf8b7a66458423f4408c29a9c85"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ad3e67b1804fa4ad006b6646e84a558b9affb82cf8b7a66458423f4408c29a9c85">MUXFLAG_READVOLUME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00398">app_mixmonitor.c:398</a></div></div>
<div class="ttc" id="module_8h_html_afba4eb7a910b10969041ae4cd488729d"><div class="ttname"><a href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a></div><div class="ttdeci">#define ast_register_application_xml(app, execute)</div><div class="ttdoc">Register an application using XML documentation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00626">module.h:626</a></div></div>
<div class="ttc" id="manager_8h_html_a15c09363d6bdc7162c154ab2a20ec545"><div class="ttname"><a href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a></div><div class="ttdeci">#define AMI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00065">manager.h:65</a></div></div>
<div class="ttc" id="structast__mutex__info_html"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html">ast_mutex_info</a></div><div class="ttdoc">Structure for mutex and tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00135">lock.h:135</a></div></div>
<div class="ttc" id="format__cache_8h_html_ab660f51155ceeabb4abd0e25cd3a11a6"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#ab660f51155ceeabb4abd0e25cd3a11a6">ast_format_cache_get_slin_by_rate</a></div><div class="ttdeci">struct ast_format * ast_format_cache_get_slin_by_rate(unsigned int rate)</div><div class="ttdoc">Retrieve the best signed linear format given a sample rate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00520">format_cache.c:520</a></div></div>
<div class="ttc" id="structast__vm__recording__data_html_abb2534e0096a9f91aa1541900be4edf1"><div class="ttname"><a href="../../df/d45/structast__vm__recording__data.html#abb2534e0096a9f91aa1541900be4edf1">ast_vm_recording_data::call_extension</a></div><div class="ttdeci">const ast_string_field call_extension</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l00103">include/asterisk/app.h:103</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_a234e52925a6b545baf3846dd805374fcac31114b0c2250979c4021b4170e046ca"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#a234e52925a6b545baf3846dd805374fcac31114b0c2250979c4021b4170e046ca">OPT_ARG_VOLUME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l00415">app_mixmonitor.c:415</a></div></div>
<div class="ttc" id="format__cache_8h_html"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html">format_cache.h</a></div><div class="ttdoc">Media Format Cache API. </div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga4a0dd953a7a98de22b02e9748093e9d7"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga4a0dd953a7a98de22b02e9748093e9d7">ast_channel_mixmonitor_mute_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_mixmonitor_mute_type(void)</div><div class="ttdoc">Message type for muting or unmuting mixmonitor on a channel. </div></div>
<div class="ttc" id="utils_8h_html_a7c38859ed90e96df2b0a0fdf843769d0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a></div><div class="ttdeci">int ast_mkdir(const char *path, int mode)</div><div class="ttdoc">Recursively create directory path. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02231">main/utils.c:2231</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
<div class="ttc" id="structmixmonitor_html_a7d2e979cf787aadddb3ea2b12b09dd8c"><div class="ttname"><a href="../../d5/dfe/structmixmonitor.html#a7d2e979cf787aadddb3ea2b12b09dd8c">mixmonitor::recipient_list</a></div><div class="ttdeci">struct mixmonitor::@58 recipient_list</div></div>
<div class="ttc" id="test__linkedlists_8c_html_a13dd15487fee89a002d17ef3aff62d02"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></div><div class="ttdeci">static struct test_val a</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">test_linkedlists.c:46</a></div></div>
<div class="ttc" id="structast__party__id_html_aca2d7de6c89f201dc8bd0a2642d2a352"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">ast_party_id::number</a></div><div class="ttdeci">struct ast_party_number number</div><div class="ttdoc">Subscriber phone number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00343">channel.h:343</a></div></div>
<div class="ttc" id="module_8h_html_a8dea6491bedba471fc44574d76438577"><div class="ttname"><a href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a></div><div class="ttdeci">#define ast_module_ref(mod)</div><div class="ttdoc">Hold a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00443">module.h:443</a></div></div>
<div class="ttc" id="app__mixmonitor_8c_html_ac3382bf6da54c56b37069bd76bbdf4f9"><div class="ttname"><a href="../../d8/d93/app__mixmonitor_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a></div><div class="ttdeci">static int load_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/app__mixmonitor_8c_source.html#l01682">app_mixmonitor.c:1682</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:43:01 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
