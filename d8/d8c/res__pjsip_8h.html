<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_pjsip.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">res_pjsip.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;pjsip.h&gt;</code><br />
<code>#include &lt;pjsip_simple.h&gt;</code><br />
<code>#include &lt;pjsip/sip_transaction.h&gt;</code><br />
<code>#include &lt;pj/timer.h&gt;</code><br />
<code>#include &lt;pjlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d0f/stringfields_8h_source.html">asterisk/stringfields.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/df1/netsock2_8h_source.html">asterisk/netsock2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d25/sorcery_8h_source.html">asterisk/sorcery.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dc4/dnsmgr_8h_source.html">asterisk/dnsmgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d61/endpoints_8h_source.html">asterisk/endpoints.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da1/udptl_8h_source.html">asterisk/udptl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/dde/rtp__engine_8h_source.html">asterisk/rtp_engine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d68/vector_8h_source.html">asterisk/vector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html">asterisk/stasis_endpoints.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d95/stream_8h_source.html">asterisk/stream.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_pjsip.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfe/res__pjsip_8h__incl.png" border="0" usemap="#res__pjsip_8h" alt=""/></div>
<map name="res__pjsip_8h" id="res__pjsip_8h">
<area shape="rect" id="node7" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="530,393,687,420"/>
<area shape="rect" id="node9" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="2605,468,2732,495"/>
<area shape="rect" id="node12" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="3285,393,3431,420"/>
<area shape="rect" id="node15" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1399,393,1549,420"/>
<area shape="rect" id="node16" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1375,162,1514,189"/>
<area shape="rect" id="node35" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="3169,244,3320,271"/>
<area shape="rect" id="node36" href="../../d8/d25/sorcery_8h.html" title="Sorcery Data Access Layer API. " alt="" coords="1275,80,1409,107"/>
<area shape="rect" id="node39" href="../../db/dc4/dnsmgr_8h.html" title="Background DNS update manager. " alt="" coords="3547,80,3683,107"/>
<area shape="rect" id="node41" href="../../d5/da1/udptl_8h.html" title="UDPTL support for T.38. " alt="" coords="2842,80,2962,107"/>
<area shape="rect" id="node44" href="../../d5/dde/rtp__engine_8h.html" title="Pluggable RTP Architecture. " alt="" coords="2297,162,2453,189"/>
<area shape="rect" id="node47" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="1483,80,1673,107"/>
<area shape="rect" id="node48" href="../../d7/d44/stasis__endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1798,80,1993,107"/>
<area shape="rect" id="node50" href="../../d8/d95/stream_8h.html" title="Media Stream API. " alt="" coords="2707,244,2841,271"/>
<area shape="rect" id="node8" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="343,617,490,644"/>
<area shape="rect" id="node10" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1039,543,1152,569"/>
<area shape="rect" id="node11" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1659,617,1785,644"/>
<area shape="rect" id="node17" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1213,244,1357,271"/>
<area shape="rect" id="node18" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1038,319,1153,345"/>
<area shape="rect" id="node20" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="501,244,660,271"/>
<area shape="rect" id="node21" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="324,319,459,345"/>
<area shape="rect" id="node22" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="2303,244,2467,271"/>
<area shape="rect" id="node23" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1816,319,1943,345"/>
<area shape="rect" id="node24" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1227,319,1374,345"/>
<area shape="rect" id="node25" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="147,244,273,271"/>
<area shape="rect" id="node26" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="735,244,842,271"/>
<area shape="rect" id="node27" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1399,319,1549,345"/>
<area shape="rect" id="node28" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="2117,244,2279,271"/>
<area shape="rect" id="node30" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="967,244,1138,271"/>
<area shape="rect" id="node31" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1573,319,1689,345"/>
<area shape="rect" id="node32" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1583,244,1741,271"/>
<area shape="rect" id="node33" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1866,244,1991,271"/>
<area shape="rect" id="node19" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="3102,393,3241,420"/>
<area shape="rect" id="node29" href="../../d1/d16/codec_8h.html" title="Codec API. " alt="" coords="2319,319,2445,345"/>
<area shape="rect" id="node34" href="../../d4/d05/json_8h.html" title="Asterisk JSON abstraction layer. " alt="" coords="3105,319,3219,345"/>
<area shape="rect" id="node37" href="../../db/dfe/config__options_8h.html" title="Configuration option&#45;handling. " alt="" coords="5,162,185,189"/>
<area shape="rect" id="node38" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="210,162,325,189"/>
<area shape="rect" id="node40" href="../../d5/d60/srv_8h.html" title="Support for DNS SRV records, used in to locate SIP services. " alt="" coords="3598,162,3705,189"/>
<area shape="rect" id="node42" href="../../dc/dac/io_8h.html" title="I/O Management (derived from Cheops&#45;NG) " alt="" coords="2853,162,2951,189"/>
<area shape="rect" id="node43" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="3019,244,3145,271"/>
<area shape="rect" id="node45" href="../../de/d15/res__srtp_8h.html" title="SRTP resource. " alt="" coords="2491,244,2631,271"/>
<area shape="rect" id="node46" href="../../d5/d1f/logger__category_8h.html" title="asterisk/logger_category.h" alt="" coords="2074,543,2263,569"/>
<area shape="rect" id="node49" href="../../d3/d8f/stasis__cache__pattern_8h.html" title="Caching pattern for Stasis Message Bus API topics. " alt="" coords="1799,155,1957,196"/>
</map>
</div>
</div>
<p><a href="../../d8/d8c/res__pjsip_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2f/structast__sip__ami.html">ast_sip_ami</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">AMI variable container.  <a href="../../d4/d2f/structast__sip__ami.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A SIP address of record.  <a href="../../d4/d03/structast__sip__aor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de9/structast__sip__authenticator.html">ast_sip_authenticator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An interchangeable way of handling digest authentication for SIP.  <a href="../../d9/de9/structast__sip__authenticator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d80/structast__sip__body.html">ast_sip_body</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SIP body description.  <a href="../../d5/d80/structast__sip__body.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contact associated with an address of record.  <a href="../../d8/d8a/structast__sip__contact.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d17/structast__sip__contact__status.html">ast_sip_contact_status</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A contact's status.  <a href="../../d5/d17/structast__sip__contact__status.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dd8/structast__sip__contact__wrapper.html">ast_sip_contact_wrapper</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A wrapper for contact that adds the aor_id and a consistent contact id. Used by ast_sip_for_each_contact.  <a href="../../df/dd8/structast__sip__contact__wrapper.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d9d/structast__sip__direct__media__configuration.html">ast_sip_direct_media_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direct media options for SIP endpoints.  <a href="../../d0/d9d/structast__sip__direct__media__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d19/structast__sip__domain__alias.html">ast_sip_domain_alias</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entity with which Asterisk communicates.  <a href="../../d3/d46/structast__sip__endpoint.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de5/structast__sip__endpoint__extensions.html">ast_sip_endpoint_extensions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Endpoint configuration for SIP extensions.  <a href="../../df/de5/structast__sip__endpoint__extensions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d30/structast__sip__endpoint__formatter.html">ast_sip_endpoint_formatter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entity responsible formatting endpoint information.  <a href="../../d6/d30/structast__sip__endpoint__formatter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/df6/structast__sip__endpoint__id__configuration.html">ast_sip_endpoint_id_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Party identification options for endpoints.  <a href="../../d4/df6/structast__sip__endpoint__id__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d97/structast__sip__endpoint__identifier.html">ast_sip_endpoint_identifier</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entity responsible for identifying the source of a SIP message.  <a href="../../d0/d97/structast__sip__endpoint__identifier.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d19/structast__sip__endpoint__info__configuration.html">ast_sip_endpoint_info_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Endpoint configuration options for INFO packages.  <a href="../../d9/d19/structast__sip__endpoint__info__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d35/structast__sip__endpoint__media__configuration.html">ast_sip_endpoint_media_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Media configuration for SIP endpoints.  <a href="../../d3/d35/structast__sip__endpoint__media__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d84/structast__sip__endpoint__nat__configuration.html">ast_sip_endpoint_nat_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">NAT configuration options for endpoints.  <a href="../../d4/d84/structast__sip__endpoint__nat__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc8/structast__sip__endpoint__pickup__configuration.html">ast_sip_endpoint_pickup_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call pickup configuration options for endpoints.  <a href="../../d8/dc8/structast__sip__endpoint__pickup__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d70/structast__sip__endpoint__subscription__configuration.html">ast_sip_endpoint_subscription_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Endpoint subscription configuration.  <a href="../../db/d70/structast__sip__endpoint__subscription__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d30/structast__sip__identify__by__vector.html">ast_sip_identify_by_vector</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dcd/structast__sip__info__recording__configuration.html">ast_sip_info_recording_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration for one-touch INFO recording.  <a href="../../d7/dcd/structast__sip__info__recording__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d14/structast__sip__media__rtp__configuration.html">ast_sip_media_rtp_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTP configuration for SIP endpoints.  <a href="../../dd/d14/structast__sip__media__rtp__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbd/structast__sip__mwi__configuration.html">ast_sip_mwi_configuration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Endpoint configuration for unsolicited MWI.  <a href="../../d9/dbd/structast__sip__mwi__configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/structast__sip__nat__hook.html">ast_sip_nat_hook</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for SIP nat hook information.  <a href="../../d3/dfb/structast__sip__nat__hook.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc2/structast__sip__outbound__authenticator.html">ast_sip_outbound_authenticator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">an interchangeable way of responding to authentication challenges  <a href="../../d0/dc2/structast__sip__outbound__authenticator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A supplement to SIP message processing.  <a href="../../df/d71/structast__sip__supplement.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dae/structast__sip__t38__configuration.html">ast_sip_t38_configuration</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/de1/structast__sip__timer__options.html">ast_sip_timer_options</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Session timers options.  <a href="../../d1/de1/structast__sip__timer__options.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d35/structast__sip__tpmgr__state__callback.html">ast_sip_tpmgr_state_callback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/structast__sip__transport.html">ast_sip_transport</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transport to bind to.  <a href="../../d1/d04/structast__sip__transport.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for SIP transport information.  <a href="../../db/dac/structast__sip__transport__state.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9a1e39bb4db68bc2768dc43cc3d38149"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9a1e39bb4db68bc2768dc43cc3d38149">ast_sip_cleanup_auth_objects_vector</a>(auth_objects)&#160;&#160;&#160;<a class="el" href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a>(auth_objects, <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>)</td></tr>
<tr class="memdesc:a9a1e39bb4db68bc2768dc43cc3d38149"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up retrieved auth objects in vector.  <a href="#a9a1e39bb4db68bc2768dc43cc3d38149">More...</a><br /></td></tr>
<tr class="separator:a9a1e39bb4db68bc2768dc43cc3d38149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad194ead974937834375b0ac8d37a7c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aad194ead974937834375b0ac8d37a7c2">ast_sip_mod_data_get</a>(<a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>,  key)&#160;&#160;&#160;<a class="el" href="../../de/d96/res__pjsip_8c.html#a6245a7a570f7e3909edc946b5584fb9a">ast_sip_dict_get</a>(<a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>[<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>], key)</td></tr>
<tr class="memdesc:aad194ead974937834375b0ac8d37a7c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Using the dictionary stored in mod_data array at a given id, retrieve the value associated with the given key.  <a href="#aad194ead974937834375b0ac8d37a7c2">More...</a><br /></td></tr>
<tr class="separator:aad194ead974937834375b0ac8d37a7c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9937f98867d28da0cc0e8590d9c9ffa4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9937f98867d28da0cc0e8590d9c9ffa4">ast_sip_mod_data_set</a>(<a class="el" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>,  <a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>,  <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>,  key,  <a class="el" href="../../d5/d85/structval.html">val</a>)&#160;&#160;&#160;<a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>[<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>] = <a class="el" href="../../de/d96/res__pjsip_8c.html#acd2eda720356f96b1d56a95321502eeb">ast_sip_dict_set</a>(<a class="el" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, <a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>[<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>], key, <a class="el" href="../../d5/d85/structval.html">val</a>)</td></tr>
<tr class="memdesc:a9937f98867d28da0cc0e8590d9c9ffa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilizing a mod_data array for a given id, set the value associated with the given key.  <a href="#a9937f98867d28da0cc0e8590d9c9ffa4">More...</a><br /></td></tr>
<tr class="separator:a9937f98867d28da0cc0e8590d9c9ffa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1f1558eb7c730d0f51b7832568c9c90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#af1f1558eb7c730d0f51b7832568c9c90">ast_sip_transport_is_local</a>(transport_state,  addr)&#160;&#160;&#160;(transport_state-&gt;localnet &amp;&amp; <a class="el" href="../../d9/db8/acl_8c.html#aa5049380ffb26d76d2f236d886964aac">ast_apply_ha</a>(transport_state-&gt;localnet, addr) != <a class="el" href="../../d5/d59/acl_8h.html#a764d04fe9485be95771e652dc2c87445aa0513e1a62f9d6275b8f3667b7dff6d2">AST_SENSE_ALLOW</a>)</td></tr>
<tr class="separator:af1f1558eb7c730d0f51b7832568c9c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3d1a24de38be6bb5ca698b672b65aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aad3d1a24de38be6bb5ca698b672b65aa">ast_sip_transport_is_nonlocal</a>(transport_state,  addr)&#160;&#160;&#160;(!transport_state-&gt;localnet || <a class="el" href="../../d9/db8/acl_8c.html#aa5049380ffb26d76d2f236d886964aac">ast_apply_ha</a>(transport_state-&gt;localnet, addr) == <a class="el" href="../../d5/d59/acl_8h.html#a764d04fe9485be95771e652dc2c87445aa0513e1a62f9d6275b8f3667b7dff6d2">AST_SENSE_ALLOW</a>)</td></tr>
<tr class="separator:aad3d1a24de38be6bb5ca698b672b65aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb5769d100d0348446c7f032eca58c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6bb5769d100d0348446c7f032eca58c1">AST_SIP_USER_OPTIONS_TRUNCATE_CHECK</a>(<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)</td></tr>
<tr class="memdesc:a6bb5769d100d0348446c7f032eca58c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Truncate the URI user field options string if enabled.  <a href="#a6bb5769d100d0348446c7f032eca58c1">More...</a><br /></td></tr>
<tr class="separator:a6bb5769d100d0348446c7f032eca58c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643c3def003b3009563b8427d10ed0d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a643c3def003b3009563b8427d10ed0d6">AST_SIP_X_AST_TXP</a>&#160;&#160;&#160;&quot;x-ast-txp&quot;</td></tr>
<tr class="separator:a643c3def003b3009563b8427d10ed0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada35df7749f7a33221d126acc6e13b57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ada35df7749f7a33221d126acc6e13b57">AST_SIP_X_AST_TXP_LEN</a>&#160;&#160;&#160;9</td></tr>
<tr class="separator:ada35df7749f7a33221d126acc6e13b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20119f55c48a211b2a552abdcada8ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad20119f55c48a211b2a552abdcada8ea">MAX_RX_CHALLENGES</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ad20119f55c48a211b2a552abdcada8ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4517938f2afe11a1c6f372e28090a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#acd4517938f2afe11a1c6f372e28090a5">PJSIP_EXPIRES_NOT_SPECIFIED</a>&#160;&#160;&#160;((pj_uint32_t)-1)</td></tr>
<tr class="separator:acd4517938f2afe11a1c6f372e28090a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42797ae21646a555dce046bf321b96fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a42797ae21646a555dce046bf321b96fe">PJSIP_MINVERSION</a>(m,  n,  p)&#160;&#160;&#160;(((m &lt;&lt; 24) | (n &lt;&lt; 16) | (p &lt;&lt; 8)) &gt;= PJ_VERSION_NUM)</td></tr>
<tr class="separator:a42797ae21646a555dce046bf321b96fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7389c6e13c38cb4e52ba18ac5ae7c4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae7389c6e13c38cb4e52ba18ac5ae7c4f">SIP_SORCERY_DOMAIN_ALIAS_TYPE</a>&#160;&#160;&#160;&quot;domain_alias&quot;</td></tr>
<tr class="separator:ae7389c6e13c38cb4e52ba18ac5ae7c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d9c20bf53e5967f0eccf3f841f21be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a86d9c20bf53e5967f0eccf3f841f21be">SIP_TLS_MAX_CIPHERS</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:a86d9c20bf53e5967f0eccf3f841f21be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of ciphers supported for a TLS transport.  <a href="#a86d9c20bf53e5967f0eccf3f841f21be">More...</a><br /></td></tr>
<tr class="separator:a86d9c20bf53e5967f0eccf3f841f21be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:adc70d746facfe5192c21846fb4389659"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#adc70d746facfe5192c21846fb4389659">ast_sip_dialog_outbound_auth_cb</a>) (pjsip_dialog *dlg, pjsip_tx_data *tdata, void *user_data)</td></tr>
<tr class="memdesc:adc70d746facfe5192c21846fb4389659"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback called when an outbound request with authentication credentials is to be sent in dialog.  <a href="#adc70d746facfe5192c21846fb4389659">More...</a><br /></td></tr>
<tr class="separator:adc70d746facfe5192c21846fb4389659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03d77afe873d5e87809639c520ef2dd0"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga03d77afe873d5e87809639c520ef2dd0">ast_sip_task</a>) (void *user_data)</td></tr>
<tr class="separator:ga03d77afe873d5e87809639c520ef2dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a170e27cdfa504ce0a20244ae1a46439b"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a170e27cdfa504ce0a20244ae1a46439b">ast_transport_monitor_data_matcher</a>) (void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="memdesc:a170e27cdfa504ce0a20244ae1a46439b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transport shutdown monitor data matcher.  <a href="#a170e27cdfa504ce0a20244ae1a46439b">More...</a><br /></td></tr>
<tr class="separator:a170e27cdfa504ce0a20244ae1a46439b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab796e8903e7cf1836adc07b01df7e4a1"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab796e8903e7cf1836adc07b01df7e4a1">ast_transport_monitor_shutdown_cb</a>) (void *data)</td></tr>
<tr class="memdesc:ab796e8903e7cf1836adc07b01df7e4a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transport shutdown monitor callback.  <a href="#ab796e8903e7cf1836adc07b01df7e4a1">More...</a><br /></td></tr>
<tr class="separator:ab796e8903e7cf1836adc07b01df7e4a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab5b75b4bdba91e178731511c7fa659cd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cd">ast_sip_auth_type</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cdacb1470ed32c61ab7bf30cccb2887ed2b">AST_SIP_AUTH_TYPE_USER_PASS</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cdabbc9332fb29a5f57bc4a9b6c39c3d553">AST_SIP_AUTH_TYPE_MD5</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cda0d8d8506a624618324fd18bb4a7e7079">AST_SIP_AUTH_TYPE_GOOGLE_OAUTH</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cda662c2f6a25954136d58f73a6e7940501">AST_SIP_AUTH_TYPE_ARTIFICIAL</a>
 }<tr class="memdesc:ab5b75b4bdba91e178731511c7fa659cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Methods of storing SIP digest authentication credentials.  <a href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cd">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ab5b75b4bdba91e178731511c7fa659cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7380769212cae6b6305119ed93ebddc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddc">ast_sip_call_codec_pref</a> { <br />
&#160;&#160;<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2">AST_SIP_CALL_CODEC_PREF_INTERSECT</a> = 1 &lt;&lt; 0, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139">AST_SIP_CALL_CODEC_PREF_UNION</a> = 1 &lt;&lt; 1, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7">AST_SIP_CALL_CODEC_PREF_ALL</a> = 1 &lt;&lt; 2, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcac2236d2a2411718e7356980d5b527cb0">AST_SIP_CALL_CODEC_PREF_FIRST</a> = 1 &lt;&lt; 3, 
<br />
&#160;&#160;<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca113b16d3699e4ed2aaefc0446ab24a19">AST_SIP_CALL_CODEC_PREF_LOCAL</a> = 1 &lt;&lt; 4, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca7f7ec01671e26b6aae53c93dd78d39e2">AST_SIP_CALL_CODEC_PREF_REMOTE</a> = 1 &lt;&lt; 5
<br />
 }<tr class="memdesc:ad7380769212cae6b6305119ed93ebddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Incoming/Outgoing call offer/answer joint codec preference.  <a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddc">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ad7380769212cae6b6305119ed93ebddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4af2859e259268e0e51d74b524ac397"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397">ast_sip_check_auth_result</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397a39aaed66adb496e856458909ecdf5446">AST_SIP_AUTHENTICATION_CHALLENGE</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397aa0871afe29e292ca48bcb0b1be287452">AST_SIP_AUTHENTICATION_SUCCESS</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397aa6a63fc1f7fe3fb15d1a957f8ec0cb9c">AST_SIP_AUTHENTICATION_FAILED</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397a9e45ea0dd227514e5e8b420da03e9742">AST_SIP_AUTHENTICATION_ERROR</a>
 }<tr class="memdesc:ad4af2859e259268e0e51d74b524ac397"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible returns from ast_sip_check_authentication.  <a href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ad4af2859e259268e0e51d74b524ac397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eecba6db028d0775d3208ed8b74926e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926e">ast_sip_contact_filter</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7">AST_SIP_CONTACT_FILTER_DEFAULT</a> = 0, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea517c167e994d3131efdf30ef399c8e75">AST_SIP_CONTACT_FILTER_REACHABLE</a> = (1 &lt;&lt; 0)
 }<tr class="memdesc:a8eecba6db028d0775d3208ed8b74926e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contact retrieval filtering flags.  <a href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926e">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a8eecba6db028d0775d3208ed8b74926e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2fef680782a871477d295a4df2126a3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3">ast_sip_contact_status_type</a> { <br />
&#160;&#160;<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a3fde93396dcd04d746a8cd3b6b5914bb">UNAVAILABLE</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a1e229ccb8b53a57de4ebb11c2d15272e">AVAILABLE</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a6ce26a62afab55d7606ad4e92428b30c">UNKNOWN</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3aa387e4668dfb404ce73595c772d57144">CREATED</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a4e9ac82e8594184cb2fb8a4ef86df12d">REMOVED</a>
<br />
 }<tr class="memdesc:ae2fef680782a871477d295a4df2126a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status type for a contact.  <a href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ae2fef680782a871477d295a4df2126a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d80814b235fcc050fda52376de2b65"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#af0d80814b235fcc050fda52376de2b65">ast_sip_direct_media_glare_mitigation</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#af0d80814b235fcc050fda52376de2b65a1b974f79e278c86dc78e77564e7e931c">AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_NONE</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#af0d80814b235fcc050fda52376de2b65ab67a92608203bb8760e72bd685553e0a">AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_OUTGOING</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#af0d80814b235fcc050fda52376de2b65a644fdf45e1546b8fe00d5b083e618a43">AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_INCOMING</a>
 }</td></tr>
<tr class="separator:af0d80814b235fcc050fda52376de2b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa545d9a3491f89266f1218b7a07bab1f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1f">ast_sip_dtmf_mode</a> { <br />
&#160;&#160;<a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe">AST_SIP_DTMF_NONE</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2">AST_SIP_DTMF_RFC_4733</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d">AST_SIP_DTMF_INFO</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728">AST_SIP_DTMF_AUTO_INFO</a>
<br />
 }<tr class="memdesc:aa545d9a3491f89266f1218b7a07bab1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">DTMF modes for SIP endpoints.  <a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aa545d9a3491f89266f1218b7a07bab1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f77bb3c5ec890ab41662c45a08f764"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764">ast_sip_endpoint_identifier_type</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764abae64f41eb012cc76b0af79173298345">AST_SIP_ENDPOINT_IDENTIFY_BY_USERNAME</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764ad9cf563e8ed07f62531c5c7e89895839">AST_SIP_ENDPOINT_IDENTIFY_BY_AUTH_USERNAME</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764ad29ed9cdfc5ef5a90874268aad2e69ec">AST_SIP_ENDPOINT_IDENTIFY_BY_IP</a> = (1 &lt;&lt; 2), 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764a8b29590982b1b737e11e5c51a535a318">AST_SIP_ENDPOINT_IDENTIFY_BY_HEADER</a> = (1 &lt;&lt; 3)
 }<tr class="memdesc:a15f77bb3c5ec890ab41662c45a08f764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Different methods by which incoming requests can be matched to endpoints.  <a href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a15f77bb3c5ec890ab41662c45a08f764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga478c7100d82665dc492845e4213ebc40"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga478c7100d82665dc492845e4213ebc40">ast_sip_scheduler_task_flags</a> { <br />
&#160;&#160;<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40a81c4a53b77f84fb06b3e6f103d48109a">AST_SIP_SCHED_TASK_DEFAULTS</a> = (0 &lt;&lt; 0), 
<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40a8d01d6eb6543f97d3289df2cbe6de212">AST_SIP_SCHED_TASK_FIXED</a> = (0 &lt;&lt; 0), 
<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40ae42fe4e3f352a348a815e0f4c9b67460">AST_SIP_SCHED_TASK_VARIABLE</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40a2381094c68917aa3309e47effd7750ce">AST_SIP_SCHED_TASK_ONESHOT</a> = (1 &lt;&lt; 6), 
<br />
&#160;&#160;<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40a62bbc48c569426c983047dc3663d8f55">AST_SIP_SCHED_TASK_DATA_NOT_AO2</a> = (0 &lt;&lt; 1), 
<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40ac5773e910b212c28550aee8a0a42a22a">AST_SIP_SCHED_TASK_DATA_AO2</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40ae41e93fe2c64bd4648c3f28fc66db39b">AST_SIP_SCHED_TASK_DATA_NO_CLEANUP</a> = (0 &lt;&lt; 3), 
<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40ac902b216ddde8a3ab715dcfeeb9b6dcc">AST_SIP_SCHED_TASK_DATA_FREE</a> = ( 1 &lt;&lt; 3 ), 
<br />
&#160;&#160;<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40a98c1298ee39720ed9ac1d6af774c4124">AST_SIP_SCHED_TASK_PERIODIC</a> = (0 &lt;&lt; 4), 
<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40a2f8d5921c4490ee4619824ba6985c29a">AST_SIP_SCHED_TASK_DELAY</a> = (1 &lt;&lt; 4), 
<a class="el" href="../../d7/dfa/group__pjsip__threading.html#gga478c7100d82665dc492845e4213ebc40a456eb70a4d55688073e2ec56c3c2c709">AST_SIP_SCHED_TASK_TRACK</a> = (1 &lt;&lt; 5)
<br />
 }<tr class="memdesc:ga478c7100d82665dc492845e4213ebc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task flags for the res_pjsip scheduler.  <a href="../../d7/dfa/group__pjsip__threading.html#ga478c7100d82665dc492845e4213ebc40">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga478c7100d82665dc492845e4213ebc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51357a376c62c160570d55f2aeb4a340"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340">ast_sip_session_media_encryption</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340a4680ecc1ce34fe999aed4aebfd769d18">AST_SIP_MEDIA_TRANSPORT_INVALID</a> = 0, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340ab12297b14ec910b415ada33cc9320f6f">AST_SIP_MEDIA_ENCRYPT_NONE</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340a292c74ef93ad10fe50ab7ad466b971bf">AST_SIP_MEDIA_ENCRYPT_SDES</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340afea01c037980f6a2fb8769078b5f3210">AST_SIP_MEDIA_ENCRYPT_DTLS</a>
 }</td></tr>
<tr class="separator:a51357a376c62c160570d55f2aeb4a340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1013345205788e6f0134a24b96483f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2d1013345205788e6f0134a24b96483f">ast_sip_session_redirect</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2d1013345205788e6f0134a24b96483faacea24f679395c50d7467f5bbf4a7e6b">AST_SIP_REDIRECT_USER</a> = 0, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2d1013345205788e6f0134a24b96483fa3c079756396cee2aeac8db347f06d28d">AST_SIP_REDIRECT_URI_CORE</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2d1013345205788e6f0134a24b96483fa585e9f700a59c854bd2e60a20bd771b3">AST_SIP_REDIRECT_URI_PJSIP</a>
 }</td></tr>
<tr class="separator:a2d1013345205788e6f0134a24b96483f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb35a66aecb7cc6a143f8075c3992e0d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0d">ast_sip_session_refresh_method</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0dae9c19ba5b085de7f7cf9a0e1f278f8cc">AST_SIP_SESSION_REFRESH_METHOD_INVITE</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0da02ccc9b52f326c27f7fd3ee072f4f6f1">AST_SIP_SESSION_REFRESH_METHOD_UPDATE</a>
 }</td></tr>
<tr class="separator:afb35a66aecb7cc6a143f8075c3992e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e3c5164d38b50bc0f4f22040dedb2ce"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6e3c5164d38b50bc0f4f22040dedb2ce">ast_sip_supplement_priority</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6e3c5164d38b50bc0f4f22040dedb2ceace76d1cc82383cae30af1ef879a1d347">AST_SIP_SUPPLEMENT_PRIORITY_FIRST</a> = 0, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6e3c5164d38b50bc0f4f22040dedb2cea9dbb0c95071568837209872e28864f43">AST_SIP_SUPPLEMENT_PRIORITY_CHANNEL</a> = 1000000, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6e3c5164d38b50bc0f4f22040dedb2ceada231ff2577ce4d1f8d57afded2cd888">AST_SIP_SUPPLEMENT_PRIORITY_LAST</a> = INT_MAX
 }</td></tr>
<tr class="separator:a6e3c5164d38b50bc0f4f22040dedb2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c70bb53bc418e328a179b3b2466c38"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38">ast_transport_monitor_reg</a> { <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38ac59adc05087cbec38917a63da409029a">AST_TRANSPORT_MONITOR_REG_SUCCESS</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38a9ae6ff42ea7bac5659affc299ab825e7">AST_TRANSPORT_MONITOR_REG_REPLACED</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38a37d88b73103a454dadea3c6fea2d356f">AST_TRANSPORT_MONITOR_REG_NOT_FOUND</a>, 
<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38ab76014283d08b11e00f189aae42e930f">AST_TRANSPORT_MONITOR_REG_FAILED</a>
 }</td></tr>
<tr class="separator:ab6c70bb53bc418e328a179b3b2466c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7da3e1f7ee3fcb77f29d41a76a7528fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a7da3e1f7ee3fcb77f29d41a76a7528fe">ast_copy_pj_str</a> (char *dest, const pj_str_t *src, size_t size)</td></tr>
<tr class="memdesc:a7da3e1f7ee3fcb77f29d41a76a7528fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a pj_str_t into a standard character buffer.  <a href="#a7da3e1f7ee3fcb77f29d41a76a7528fe">More...</a><br /></td></tr>
<tr class="separator:a7da3e1f7ee3fcb77f29d41a76a7528fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2934e044fe8c91950441a53fd47bf846"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2934e044fe8c91950441a53fd47bf846">ast_copy_pj_str2</a> (char **dest, const pj_str_t *src)</td></tr>
<tr class="memdesc:a2934e044fe8c91950441a53fd47bf846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and copy a pj_str_t into a standard character buffer.  <a href="#a2934e044fe8c91950441a53fd47bf846">More...</a><br /></td></tr>
<tr class="separator:a2934e044fe8c91950441a53fd47bf846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc7590db76dcdc0105abc92072d1b06"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a0dc7590db76dcdc0105abc92072d1b06">ast_pjsip_rdata_get_endpoint</a> (pjsip_rx_data *rdata)</td></tr>
<tr class="memdesc:a0dc7590db76dcdc0105abc92072d1b06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the looked-up endpoint on an out-of dialog request or response.  <a href="#a0dc7590db76dcdc0105abc92072d1b06">More...</a><br /></td></tr>
<tr class="separator:a0dc7590db76dcdc0105abc92072d1b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a14851d1f88b087df7237ec180de52e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9a14851d1f88b087df7237ec180de52e">ast_sip_add_body</a> (pjsip_tx_data *tdata, const struct <a class="el" href="../../d5/d80/structast__sip__body.html">ast_sip_body</a> *body)</td></tr>
<tr class="memdesc:a9a14851d1f88b087df7237ec180de52e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a body to an outbound SIP message.  <a href="#a9a14851d1f88b087df7237ec180de52e">More...</a><br /></td></tr>
<tr class="separator:a9a14851d1f88b087df7237ec180de52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ed2b273946f2a95367fb988351187f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab3ed2b273946f2a95367fb988351187f">ast_sip_add_body_multipart</a> (pjsip_tx_data *tdata, const struct <a class="el" href="../../d5/d80/structast__sip__body.html">ast_sip_body</a> *bodies[], int num_bodies)</td></tr>
<tr class="memdesc:ab3ed2b273946f2a95367fb988351187f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a multipart body to an outbound SIP message.  <a href="#ab3ed2b273946f2a95367fb988351187f">More...</a><br /></td></tr>
<tr class="separator:ab3ed2b273946f2a95367fb988351187f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541e93ff798b3c8ce99a158831338718"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a541e93ff798b3c8ce99a158831338718">ast_sip_add_date_header</a> (pjsip_tx_data *tdata)</td></tr>
<tr class="memdesc:a541e93ff798b3c8ce99a158831338718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a Date header to the tdata, formatted like: Date: Wed, 01 Jan 2021 14:53:01 GMT.  <a href="#a541e93ff798b3c8ce99a158831338718">More...</a><br /></td></tr>
<tr class="separator:a541e93ff798b3c8ce99a158831338718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99374c9c5499f5215ecf925d13bbd848"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a99374c9c5499f5215ecf925d13bbd848">ast_sip_add_global_request_header</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>, int <a class="el" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>)</td></tr>
<tr class="separator:a99374c9c5499f5215ecf925d13bbd848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9fba65223b8298a5c1bfe392d8ba494"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab9fba65223b8298a5c1bfe392d8ba494">ast_sip_add_global_response_header</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>, int <a class="el" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>)</td></tr>
<tr class="separator:ab9fba65223b8298a5c1bfe392d8ba494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef4d0aef5bdc92f0b6b188e48f2e90f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a> (pjsip_tx_data *tdata, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:acef4d0aef5bdc92f0b6b188e48f2e90f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a header to an outbound SIP message.  <a href="#acef4d0aef5bdc92f0b6b188e48f2e90f">More...</a><br /></td></tr>
<tr class="separator:acef4d0aef5bdc92f0b6b188e48f2e90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a080baa12d788eb807467308a6cd5c3ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a080baa12d788eb807467308a6cd5c3ac">ast_sip_add_usereqphone</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pj_pool_t *<a class="el" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, pjsip_uri *uri)</td></tr>
<tr class="memdesc:a080baa12d788eb807467308a6cd5c3ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add 'user=phone' parameter to URI if enabled and user is a phone number.  <a href="#a080baa12d788eb807467308a6cd5c3ac">More...</a><br /></td></tr>
<tr class="separator:a080baa12d788eb807467308a6cd5c3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae54046177019ab80202936a02fbee2d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae54046177019ab80202936a02fbee2d5">ast_sip_append_body</a> (pjsip_tx_data *tdata, const char *body_text)</td></tr>
<tr class="memdesc:ae54046177019ab80202936a02fbee2d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append body data to a SIP message.  <a href="#ae54046177019ab80202936a02fbee2d5">More...</a><br /></td></tr>
<tr class="separator:ae54046177019ab80202936a02fbee2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba8e2fef4b7a50dc5b73fb909045c51"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a7ba8e2fef4b7a50dc5b73fb909045c51">ast_sip_auth_type_to_str</a> (enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cd">ast_sip_auth_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a7ba8e2fef4b7a50dc5b73fb909045c51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the given auth type to a string.  <a href="#a7ba8e2fef4b7a50dc5b73fb909045c51">More...</a><br /></td></tr>
<tr class="separator:a7ba8e2fef4b7a50dc5b73fb909045c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5342f99fec726a94fb4b713e43eec12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac5342f99fec726a94fb4b713e43eec12">ast_sip_auth_vector_destroy</a> (struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *vector)</td></tr>
<tr class="memdesc:ac5342f99fec726a94fb4b713e43eec12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free contents of an auth vector.  <a href="#ac5342f99fec726a94fb4b713e43eec12">More...</a><br /></td></tr>
<tr class="separator:ac5342f99fec726a94fb4b713e43eec12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2a70501bd77f6a45cfac6cd343dd7fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2a70501bd77f6a45cfac6cd343dd7fa">ast_sip_auth_vector_init</a> (struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *vector, const char *auth_names)</td></tr>
<tr class="memdesc:ae2a70501bd77f6a45cfac6cd343dd7fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an auth vector with the configured values.  <a href="#ae2a70501bd77f6a45cfac6cd343dd7fa">More...</a><br /></td></tr>
<tr class="separator:ae2a70501bd77f6a45cfac6cd343dd7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfee119fa8decee60b36380e84ffc40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a5dfee119fa8decee60b36380e84ffc40">ast_sip_auths_to_str</a> (const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *auths, char **<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="memdesc:a5dfee119fa8decee60b36380e84ffc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an auths array to a string of comma separated values.  <a href="#a5dfee119fa8decee60b36380e84ffc40">More...</a><br /></td></tr>
<tr class="separator:a5dfee119fa8decee60b36380e84ffc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e4d3b967059e24275b8e295cd56aef"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a50e4d3b967059e24275b8e295cd56aef">ast_sip_call_codec_pref_to_str</a> (struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> pref)</td></tr>
<tr class="memdesc:a50e4d3b967059e24275b8e295cd56aef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the call codec preference flags to a string.  <a href="#a50e4d3b967059e24275b8e295cd56aef">More...</a><br /></td></tr>
<tr class="separator:a50e4d3b967059e24275b8e295cd56aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19bc0248934ffd7776e4ec6a61961096"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a19bc0248934ffd7776e4ec6a61961096">ast_sip_call_codec_str_to_pref</a> (struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *pref, const char *pref_str, int is_outgoing)</td></tr>
<tr class="memdesc:a19bc0248934ffd7776e4ec6a61961096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a call codec preference string to preference flags.  <a href="#a19bc0248934ffd7776e4ec6a61961096">More...</a><br /></td></tr>
<tr class="separator:a19bc0248934ffd7776e4ec6a61961096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64865fb2b6d118505ab9769b41aeb91a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397">ast_sip_check_auth_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a64865fb2b6d118505ab9769b41aeb91a">ast_sip_check_authentication</a> (struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata, pjsip_tx_data *tdata)</td></tr>
<tr class="memdesc:a64865fb2b6d118505ab9769b41aeb91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to determine authentication status of an incoming request.  <a href="#a64865fb2b6d118505ab9769b41aeb91a">More...</a><br /></td></tr>
<tr class="separator:a64865fb2b6d118505ab9769b41aeb91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e8ce0855f5b8cc0e2c64cc59887d779"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a3e8ce0855f5b8cc0e2c64cc59887d779">ast_sip_cleanup_auths</a> (struct <a class="el" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> *auths[], size_t num_auths)</td></tr>
<tr class="memdesc:a3e8ce0855f5b8cc0e2c64cc59887d779"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up retrieved auth structures from memory.  <a href="#a3e8ce0855f5b8cc0e2c64cc59887d779">More...</a><br /></td></tr>
<tr class="separator:a3e8ce0855f5b8cc0e2c64cc59887d779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72306865fa2a2ed587acdd916c874c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae72306865fa2a2ed587acdd916c874c8">ast_sip_contact_to_str</a> (void *object, void *arg, int flags)</td></tr>
<tr class="memdesc:ae72306865fa2a2ed587acdd916c874c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler used to convert a contact to a string.  <a href="#ae72306865fa2a2ed587acdd916c874c8">More...</a><br /></td></tr>
<tr class="separator:ae72306865fa2a2ed587acdd916c874c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b63b1eceb879f2cf0e23f356040737a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a5b63b1eceb879f2cf0e23f356040737a">ast_sip_create_ami_event</a> (const char *<a class="el" href="../../df/d7d/structevent.html">event</a>, struct <a class="el" href="../../d4/d2f/structast__sip__ami.html">ast_sip_ami</a> *ami)</td></tr>
<tr class="memdesc:a5b63b1eceb879f2cf0e23f356040737a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a string to store AMI event data in.  <a href="#a5b63b1eceb879f2cf0e23f356040737a">More...</a><br /></td></tr>
<tr class="separator:a5b63b1eceb879f2cf0e23f356040737a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681ca1bf74a943a8009a5c2ad6894831"><td class="memItemLeft" align="right" valign="top">pjsip_dialog *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a681ca1bf74a943a8009a5c2ad6894831">ast_sip_create_dialog_uac</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, const char *aor_name, const char *request_user)</td></tr>
<tr class="memdesc:a681ca1bf74a943a8009a5c2ad6894831"><td class="mdescLeft">&#160;</td><td class="mdescRight">General purpose method for creating a UAC dialog with an endpoint.  <a href="#a681ca1bf74a943a8009a5c2ad6894831">More...</a><br /></td></tr>
<tr class="separator:a681ca1bf74a943a8009a5c2ad6894831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513bbf0084d764192b5fb60859b4547e"><td class="memItemLeft" align="right" valign="top">pjsip_dialog *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a513bbf0084d764192b5fb60859b4547e">ast_sip_create_dialog_uas</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata, pj_status_t *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>)</td></tr>
<tr class="memdesc:a513bbf0084d764192b5fb60859b4547e"><td class="mdescLeft">&#160;</td><td class="mdescRight">General purpose method for creating a UAS dialog with an endpoint.  <a href="#a513bbf0084d764192b5fb60859b4547e">More...</a><br /></td></tr>
<tr class="separator:a513bbf0084d764192b5fb60859b4547e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d885d67aea1a6b3419ea96692cd2527"><td class="memItemLeft" align="right" valign="top">pjsip_dialog *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9d885d67aea1a6b3419ea96692cd2527">ast_sip_create_dialog_uas_locked</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata, pj_status_t *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>)</td></tr>
<tr class="memdesc:a9d885d67aea1a6b3419ea96692cd2527"><td class="mdescLeft">&#160;</td><td class="mdescRight">General purpose method for creating a UAS dialog with an endpoint.  <a href="#a9d885d67aea1a6b3419ea96692cd2527">More...</a><br /></td></tr>
<tr class="separator:a9d885d67aea1a6b3419ea96692cd2527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642d7c78b3c3f67018a6f93b739b8597"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a642d7c78b3c3f67018a6f93b739b8597">ast_sip_create_rdata</a> (pjsip_rx_data *rdata, char *packet, const char *src_name, int src_port, char *transport_type, const char *local_name, int local_port)</td></tr>
<tr class="memdesc:a642d7c78b3c3f67018a6f93b739b8597"><td class="mdescLeft">&#160;</td><td class="mdescRight">General purpose method for creating an rdata structure using specific information.  <a href="#a642d7c78b3c3f67018a6f93b739b8597">More...</a><br /></td></tr>
<tr class="separator:a642d7c78b3c3f67018a6f93b739b8597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c7bb566c8c49dc6536269d0cb736a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#af7c7bb566c8c49dc6536269d0cb736a8">ast_sip_create_rdata_with_contact</a> (pjsip_rx_data *rdata, char *packet, const char *src_name, int src_port, char *transport_type, const char *local_name, int local_port, const char *contact_uri)</td></tr>
<tr class="memdesc:af7c7bb566c8c49dc6536269d0cb736a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">General purpose method for creating an rdata structure using specific information.  <a href="#af7c7bb566c8c49dc6536269d0cb736a8">More...</a><br /></td></tr>
<tr class="separator:af7c7bb566c8c49dc6536269d0cb736a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac981149e3fb0f7fc8b6e75607b1b2ad0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac981149e3fb0f7fc8b6e75607b1b2ad0">ast_sip_create_request</a> (const char *<a class="el" href="../../de/d96/res__pjsip_8c.html#a8b44a03925325ceaf2de7b079b1541a1">method</a>, struct pjsip_dialog *dlg, struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, const char *uri, struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="el" href="../../d9/d03/structcontact.html">contact</a>, pjsip_tx_data **tdata)</td></tr>
<tr class="memdesc:ac981149e3fb0f7fc8b6e75607b1b2ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">General purpose method for creating a SIP request.  <a href="#ac981149e3fb0f7fc8b6e75607b1b2ad0">More...</a><br /></td></tr>
<tr class="separator:ac981149e3fb0f7fc8b6e75607b1b2ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4810e8d609e3e1a5dd97faaca36d55ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a4810e8d609e3e1a5dd97faaca36d55ee">ast_sip_create_request_with_auth</a> (const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *auths, pjsip_rx_data *<a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c.html#ad920f57db5e8c4e82e415be692af48a8">challenge</a>, pjsip_tx_data *tdata, pjsip_tx_data **new_request)</td></tr>
<tr class="memdesc:a4810e8d609e3e1a5dd97faaca36d55ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a response to an authentication challenge.  <a href="#a4810e8d609e3e1a5dd97faaca36d55ee">More...</a><br /></td></tr>
<tr class="separator:a4810e8d609e3e1a5dd97faaca36d55ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d26a9ba468e7b251897c56032705447"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2d26a9ba468e7b251897c56032705447">ast_sip_create_response</a> (const pjsip_rx_data *rdata, int st_code, struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="el" href="../../d9/d03/structcontact.html">contact</a>, pjsip_tx_data **p_tdata)</td></tr>
<tr class="memdesc:a2d26a9ba468e7b251897c56032705447"><td class="mdescLeft">&#160;</td><td class="mdescRight">General purpose method for creating a SIP response.  <a href="#a2d26a9ba468e7b251897c56032705447">More...</a><br /></td></tr>
<tr class="separator:a2d26a9ba468e7b251897c56032705447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad57aa0b914fbd6adbf8ee2fe176e1fb1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#gad57aa0b914fbd6adbf8ee2fe176e1fb1">ast_sip_create_serializer</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:gad57aa0b914fbd6adbf8ee2fe176e1fb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new serializer for SIP tasks.  <a href="../../d7/dfa/group__pjsip__threading.html#gad57aa0b914fbd6adbf8ee2fe176e1fb1">More...</a><br /></td></tr>
<tr class="separator:gad57aa0b914fbd6adbf8ee2fe176e1fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga575cb798179c82d92b24415d3e174b5b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga575cb798179c82d92b24415d3e174b5b">ast_sip_create_serializer_group</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../dc/d82/structast__serializer__shutdown__group.html">ast_serializer_shutdown_group</a> *<a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c.html#a2c3d0057b62bfa5b08fe977478749c24">shutdown_group</a>)</td></tr>
<tr class="memdesc:ga575cb798179c82d92b24415d3e174b5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new serializer for SIP tasks.  <a href="../../d7/dfa/group__pjsip__threading.html#ga575cb798179c82d92b24415d3e174b5b">More...</a><br /></td></tr>
<tr class="separator:ga575cb798179c82d92b24415d3e174b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6df3c21a0eb11bad3fa1dbfc2f1dfc"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a7f6df3c21a0eb11bad3fa1dbfc2f1dfc">ast_sip_default_outbound_endpoint</a> (void)</td></tr>
<tr class="memdesc:a7f6df3c21a0eb11bad3fa1dbfc2f1dfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the default outbound endpoint.  <a href="#a7f6df3c21a0eb11bad3fa1dbfc2f1dfc">More...</a><br /></td></tr>
<tr class="separator:a7f6df3c21a0eb11bad3fa1dbfc2f1dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f70e0cb65924cc6ace6a1a0b64a87ef"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga8f70e0cb65924cc6ace6a1a0b64a87ef">ast_sip_dialog_get_endpoint</a> (pjsip_dialog *dlg)</td></tr>
<tr class="memdesc:ga8f70e0cb65924cc6ace6a1a0b64a87ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the endpoint associated with this dialog.  <a href="../../d7/dfa/group__pjsip__threading.html#ga8f70e0cb65924cc6ace6a1a0b64a87ef">More...</a><br /></td></tr>
<tr class="separator:ga8f70e0cb65924cc6ace6a1a0b64a87ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d8415024c851216fa63fbb94d0aadcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga6d8415024c851216fa63fbb94d0aadcf">ast_sip_dialog_set_endpoint</a> (pjsip_dialog *dlg, struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:ga6d8415024c851216fa63fbb94d0aadcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an endpoint on a SIP dialog so in-dialog requests do not undergo endpoint lookup.  <a href="../../d7/dfa/group__pjsip__threading.html#ga6d8415024c851216fa63fbb94d0aadcf">More...</a><br /></td></tr>
<tr class="separator:ga6d8415024c851216fa63fbb94d0aadcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86c62fe22e3b7fb409c13ec7fd4fee2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga86c62fe22e3b7fb409c13ec7fd4fee2d">ast_sip_dialog_set_serializer</a> (pjsip_dialog *dlg, struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *<a class="el" href="../../d9/d47/structserializer.html">serializer</a>)</td></tr>
<tr class="memdesc:ga86c62fe22e3b7fb409c13ec7fd4fee2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a serializer on a SIP dialog so requests and responses are automatically serialized.  <a href="../../d7/dfa/group__pjsip__threading.html#ga86c62fe22e3b7fb409c13ec7fd4fee2d">More...</a><br /></td></tr>
<tr class="separator:ga86c62fe22e3b7fb409c13ec7fd4fee2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03947f27d86c6e69ed31fbbbf4981d40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a03947f27d86c6e69ed31fbbbf4981d40">ast_sip_dialog_setup_outbound_authentication</a> (pjsip_dialog *dlg, const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, <a class="el" href="../../d8/d8c/res__pjsip_8h.html#adc70d746facfe5192c21846fb4389659">ast_sip_dialog_outbound_auth_cb</a> cb, void *user_data)</td></tr>
<tr class="memdesc:a03947f27d86c6e69ed31fbbbf4981d40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up outbound authentication on a SIP dialog.  <a href="#a03947f27d86c6e69ed31fbbbf4981d40">More...</a><br /></td></tr>
<tr class="separator:a03947f27d86c6e69ed31fbbbf4981d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6245a7a570f7e3909edc946b5584fb9a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6245a7a570f7e3909edc946b5584fb9a">ast_sip_dict_get</a> (void *ht, const char *key)</td></tr>
<tr class="memdesc:a6245a7a570f7e3909edc946b5584fb9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the value associated with the given key.  <a href="#a6245a7a570f7e3909edc946b5584fb9a">More...</a><br /></td></tr>
<tr class="separator:a6245a7a570f7e3909edc946b5584fb9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2eda720356f96b1d56a95321502eeb"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#acd2eda720356f96b1d56a95321502eeb">ast_sip_dict_set</a> (pj_pool_t *<a class="el" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, void *ht, const char *key, void *<a class="el" href="../../d5/d85/structval.html">val</a>)</td></tr>
<tr class="memdesc:acd2eda720356f96b1d56a95321502eeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value for the given key.  <a href="#acd2eda720356f96b1d56a95321502eeb">More...</a><br /></td></tr>
<tr class="separator:acd2eda720356f96b1d56a95321502eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8871b0dfc62c06643cbfc0e2493d22a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8871b0dfc62c06643cbfc0e2493d22a0">ast_sip_dlg_set_transport</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_dialog *dlg, pjsip_tpselector *selector)</td></tr>
<tr class="memdesc:a8871b0dfc62c06643cbfc0e2493d22a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the transport on a dialog.  <a href="#a8871b0dfc62c06643cbfc0e2493d22a0">More...</a><br /></td></tr>
<tr class="separator:a8871b0dfc62c06643cbfc0e2493d22a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a5c3ffebc2d2aaf9a3c5f661d2287c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a70a5c3ffebc2d2aaf9a3c5f661d2287c">ast_sip_dtmf_to_str</a> (const enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1f">ast_sip_dtmf_mode</a> dtmf, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t buf_len)</td></tr>
<tr class="memdesc:a70a5c3ffebc2d2aaf9a3c5f661d2287c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the DTMF mode enum value into a string.  <a href="#a70a5c3ffebc2d2aaf9a3c5f661d2287c">More...</a><br /></td></tr>
<tr class="separator:a70a5c3ffebc2d2aaf9a3c5f661d2287c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6785f15b1a4576e19da5127ff48f7723"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6785f15b1a4576e19da5127ff48f7723">ast_sip_endpoint_alloc</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a6785f15b1a4576e19da5127ff48f7723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new SIP endpoint.  <a href="#a6785f15b1a4576e19da5127ff48f7723">More...</a><br /></td></tr>
<tr class="separator:a6785f15b1a4576e19da5127ff48f7723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa22bc164a1c4108006f96822318ff14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#afa22bc164a1c4108006f96822318ff14">ast_sip_failover_request</a> (pjsip_tx_data *tdata)</td></tr>
<tr class="memdesc:afa22bc164a1c4108006f96822318ff14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a request to use the next value in the list of resolved addresses.  <a href="#afa22bc164a1c4108006f96822318ff14">More...</a><br /></td></tr>
<tr class="separator:afa22bc164a1c4108006f96822318ff14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a6f16128f131ec8feae5dc0f8545b2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a4a6f16128f131ec8feae5dc0f8545b2f">ast_sip_for_each_aor</a> (const char *aors, <a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> on_aor, void *arg)</td></tr>
<tr class="memdesc:a4a6f16128f131ec8feae5dc0f8545b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">For every aor in the comma separated aors string call the given 'on_aor' handler.  <a href="#a4a6f16128f131ec8feae5dc0f8545b2f">More...</a><br /></td></tr>
<tr class="separator:a4a6f16128f131ec8feae5dc0f8545b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29528938e5f76dbfcc8363698d641424"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a29528938e5f76dbfcc8363698d641424">ast_sip_for_each_auth</a> (const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *<a class="el" href="../../d9/d1e/func__strings_8c.html#ab6e308b3a41c01e08d252e071511495c">array</a>, <a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> on_auth, void *arg)</td></tr>
<tr class="memdesc:a29528938e5f76dbfcc8363698d641424"><td class="mdescLeft">&#160;</td><td class="mdescRight">For every auth in the array call the given 'on_auth' handler.  <a href="#a29528938e5f76dbfcc8363698d641424">More...</a><br /></td></tr>
<tr class="separator:a29528938e5f76dbfcc8363698d641424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2958e96fd24fd16ab0f1fa9a3c20fee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2958e96fd24fd16ab0f1fa9a3c20fee">ast_sip_for_each_channel</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, <a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> on_channel_snapshot, void *arg)</td></tr>
<tr class="memdesc:ae2958e96fd24fd16ab0f1fa9a3c20fee"><td class="mdescLeft">&#160;</td><td class="mdescRight">For every channel snapshot on an endpoint all the given 'on_channel_snapshot' handler.  <a href="#ae2958e96fd24fd16ab0f1fa9a3c20fee">More...</a><br /></td></tr>
<tr class="separator:ae2958e96fd24fd16ab0f1fa9a3c20fee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c40c0d7d16ceb84ec98c0b5fef0083a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a3c40c0d7d16ceb84ec98c0b5fef0083a">ast_sip_for_each_channel_snapshot</a> (const struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *endpoint_snapshot, <a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> on_channel_snapshot, void *arg)</td></tr>
<tr class="memdesc:a3c40c0d7d16ceb84ec98c0b5fef0083a"><td class="mdescLeft">&#160;</td><td class="mdescRight">For every channel snapshot on an endpoint snapshot call the given 'on_channel_snapshot' handler.  <a href="#a3c40c0d7d16ceb84ec98c0b5fef0083a">More...</a><br /></td></tr>
<tr class="separator:a3c40c0d7d16ceb84ec98c0b5fef0083a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4267a8bdd3aed1f82b2720c2c5ab61c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a4267a8bdd3aed1f82b2720c2c5ab61c1">ast_sip_for_each_contact</a> (const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor, <a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> on_contact, void *arg)</td></tr>
<tr class="memdesc:a4267a8bdd3aed1f82b2720c2c5ab61c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">For every contact on an AOR call the given 'on_contact' handler.  <a href="#a4267a8bdd3aed1f82b2720c2c5ab61c1">More...</a><br /></td></tr>
<tr class="separator:a4267a8bdd3aed1f82b2720c2c5ab61c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4690151b996bef01389d22a11ec0b21e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a4690151b996bef01389d22a11ec0b21e">ast_sip_format_auths_ami</a> (const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *auths, struct <a class="el" href="../../d4/d2f/structast__sip__ami.html">ast_sip_ami</a> *ami)</td></tr>
<tr class="memdesc:a4690151b996bef01389d22a11ec0b21e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format auth details for AMI.  <a href="#a4690151b996bef01389d22a11ec0b21e">More...</a><br /></td></tr>
<tr class="separator:a4690151b996bef01389d22a11ec0b21e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b5bfa4330f0b5e0f86311139cc00f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a85b5bfa4330f0b5e0f86311139cc00f7">ast_sip_format_contact_ami</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="memdesc:a85b5bfa4330f0b5e0f86311139cc00f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats the contact and sends over AMI.  <a href="#a85b5bfa4330f0b5e0f86311139cc00f7">More...</a><br /></td></tr>
<tr class="separator:a85b5bfa4330f0b5e0f86311139cc00f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700cedfe01ae2e796a902b52a10b88d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a700cedfe01ae2e796a902b52a10b88d5">ast_sip_format_endpoint_ami</a> (struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, struct <a class="el" href="../../d4/d2f/structast__sip__ami.html">ast_sip_ami</a> *ami, int *count)</td></tr>
<tr class="memdesc:a700cedfe01ae2e796a902b52a10b88d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats the endpoint and sends over AMI.  <a href="#a700cedfe01ae2e796a902b52a10b88d5">More...</a><br /></td></tr>
<tr class="separator:a700cedfe01ae2e796a902b52a10b88d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b41a14917b193124f8da5a1323f33e3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9b41a14917b193124f8da5a1323f33e3">ast_sip_get_artificial_auth</a> (void)</td></tr>
<tr class="memdesc:a9b41a14917b193124f8da5a1323f33e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a reference to the artificial auth.  <a href="#a9b41a14917b193124f8da5a1323f33e3">More...</a><br /></td></tr>
<tr class="separator:a9b41a14917b193124f8da5a1323f33e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261c2cada6e51e2d73574ffe6b1ae7e3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a261c2cada6e51e2d73574ffe6b1ae7e3">ast_sip_get_artificial_endpoint</a> (void)</td></tr>
<tr class="memdesc:a261c2cada6e51e2d73574ffe6b1ae7e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a reference to the artificial endpoint.  <a href="#a261c2cada6e51e2d73574ffe6b1ae7e3">More...</a><br /></td></tr>
<tr class="separator:a261c2cada6e51e2d73574ffe6b1ae7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8faae2d4e4f2b202cbfed36b6f009a1b"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8faae2d4e4f2b202cbfed36b6f009a1b">ast_sip_get_contact_expiration_check_interval</a> (void)</td></tr>
<tr class="memdesc:a8faae2d4e4f2b202cbfed36b6f009a1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the system contact expiration check interval setting.  <a href="#a8faae2d4e4f2b202cbfed36b6f009a1b">More...</a><br /></td></tr>
<tr class="separator:a8faae2d4e4f2b202cbfed36b6f009a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d8a2de856a1596f260db4a23023af1"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a08d8a2de856a1596f260db4a23023af1">ast_sip_get_contact_short_status_label</a> (const enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3">ast_sip_contact_status_type</a> <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>)</td></tr>
<tr class="separator:a08d8a2de856a1596f260db4a23023af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084d996844ec8a81d230ac2305a76fcf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d5/d17/structast__sip__contact__status.html">ast_sip_contact_status</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a084d996844ec8a81d230ac2305a76fcf">ast_sip_get_contact_status</a> (const struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="el" href="../../d9/d03/structcontact.html">contact</a>)</td></tr>
<tr class="memdesc:a084d996844ec8a81d230ac2305a76fcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the current status for a contact.  <a href="#a084d996844ec8a81d230ac2305a76fcf">More...</a><br /></td></tr>
<tr class="separator:a084d996844ec8a81d230ac2305a76fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a972a08491892c70d60830d3e78d4d429"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a972a08491892c70d60830d3e78d4d429">ast_sip_get_contact_status_label</a> (const enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3">ast_sip_contact_status_type</a> <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>)</td></tr>
<tr class="memdesc:a972a08491892c70d60830d3e78d4d429"><td class="mdescLeft">&#160;</td><td class="mdescRight">translate ast_sip_contact_status_type to character string.  <a href="#a972a08491892c70d60830d3e78d4d429">More...</a><br /></td></tr>
<tr class="separator:a972a08491892c70d60830d3e78d4d429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2434368ebb2554e7686c97b95854e60"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad2434368ebb2554e7686c97b95854e60">ast_sip_get_debug</a> (void)</td></tr>
<tr class="memdesc:ad2434368ebb2554e7686c97b95854e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the system debug setting (yes|no|host).  <a href="#ad2434368ebb2554e7686c97b95854e60">More...</a><br /></td></tr>
<tr class="separator:ad2434368ebb2554e7686c97b95854e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae301746d068c22eaacf9a842c4541c34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae301746d068c22eaacf9a842c4541c34">ast_sip_get_default_from_user</a> (char *from_user, size_t size)</td></tr>
<tr class="memdesc:ae301746d068c22eaacf9a842c4541c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global default from user.  <a href="#ae301746d068c22eaacf9a842c4541c34">More...</a><br /></td></tr>
<tr class="separator:ae301746d068c22eaacf9a842c4541c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec3329ebc96c83e7d992cabe78bca58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9ec3329ebc96c83e7d992cabe78bca58">ast_sip_get_default_realm</a> (char *realm, size_t size)</td></tr>
<tr class="memdesc:a9ec3329ebc96c83e7d992cabe78bca58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global default realm.  <a href="#a9ec3329ebc96c83e7d992cabe78bca58">More...</a><br /></td></tr>
<tr class="separator:a9ec3329ebc96c83e7d992cabe78bca58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a137a9f1a65ca1b7d3be0d55d3a87f74d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a137a9f1a65ca1b7d3be0d55d3a87f74d">ast_sip_get_default_voicemail_extension</a> (void)</td></tr>
<tr class="memdesc:a137a9f1a65ca1b7d3be0d55d3a87f74d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the default voicemail extension.  <a href="#a137a9f1a65ca1b7d3be0d55d3a87f74d">More...</a><br /></td></tr>
<tr class="separator:a137a9f1a65ca1b7d3be0d55d3a87f74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a0fc3da8f1974d54f0feae503fbfd9c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a1a0fc3da8f1974d54f0feae503fbfd9c">ast_sip_get_device_state</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:a1a0fc3da8f1974d54f0feae503fbfd9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the device state for an endpoint.  <a href="#a1a0fc3da8f1974d54f0feae503fbfd9c">More...</a><br /></td></tr>
<tr class="separator:a1a0fc3da8f1974d54f0feae503fbfd9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa242d37481e95a685ae02e3559fc5dc7"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa242d37481e95a685ae02e3559fc5dc7">ast_sip_get_disable_multi_domain</a> (void)</td></tr>
<tr class="memdesc:aa242d37481e95a685ae02e3559fc5dc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the system setting 'disable multi domain'.  <a href="#aa242d37481e95a685ae02e3559fc5dc7">More...</a><br /></td></tr>
<tr class="separator:aa242d37481e95a685ae02e3559fc5dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga506c31bc071963fa7ef3ed517fa0a533"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga506c31bc071963fa7ef3ed517fa0a533">ast_sip_get_distributor_serializer</a> (pjsip_rx_data *rdata)</td></tr>
<tr class="memdesc:ga506c31bc071963fa7ef3ed517fa0a533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the distributor serializer for the SIP message.  <a href="../../d7/dfa/group__pjsip__threading.html#ga506c31bc071963fa7ef3ed517fa0a533">More...</a><br /></td></tr>
<tr class="separator:ga506c31bc071963fa7ef3ed517fa0a533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17ead55af9630ebe9d2acd8d52833aae"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a17ead55af9630ebe9d2acd8d52833aae">ast_sip_get_endpoint_identifier_order</a> (void)</td></tr>
<tr class="memdesc:a17ead55af9630ebe9d2acd8d52833aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global endpoint_identifier_order setting.  <a href="#a17ead55af9630ebe9d2acd8d52833aae">More...</a><br /></td></tr>
<tr class="separator:a17ead55af9630ebe9d2acd8d52833aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0dd619fa2bdf2445035aee2b78cd6d1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac0dd619fa2bdf2445035aee2b78cd6d1">ast_sip_get_endpoint_snapshot</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:ac0dd619fa2bdf2445035aee2b78cd6d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the endpoint snapshot for an endpoint.  <a href="#ac0dd619fa2bdf2445035aee2b78cd6d1">More...</a><br /></td></tr>
<tr class="separator:ac0dd619fa2bdf2445035aee2b78cd6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26352a4b800eeb07efd4cb7b0a531af5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a26352a4b800eeb07efd4cb7b0a531af5">ast_sip_get_endpoints</a> (void)</td></tr>
<tr class="memdesc:a26352a4b800eeb07efd4cb7b0a531af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve any endpoints available to sorcery.  <a href="#a26352a4b800eeb07efd4cb7b0a531af5">More...</a><br /></td></tr>
<tr class="separator:a26352a4b800eeb07efd4cb7b0a531af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2941aa89b7c107383f8fe56df635043f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2941aa89b7c107383f8fe56df635043f">ast_sip_get_host_ip</a> (int af, pj_sockaddr *addr)</td></tr>
<tr class="memdesc:a2941aa89b7c107383f8fe56df635043f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the local host address in IP form.  <a href="#a2941aa89b7c107383f8fe56df635043f">More...</a><br /></td></tr>
<tr class="separator:a2941aa89b7c107383f8fe56df635043f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6da8e5c5006c0a1c81feb1198ab7e6e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac6da8e5c5006c0a1c81feb1198ab7e6e">ast_sip_get_host_ip_string</a> (int af)</td></tr>
<tr class="memdesc:ac6da8e5c5006c0a1c81feb1198ab7e6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the local host address in string form.  <a href="#ac6da8e5c5006c0a1c81feb1198ab7e6e">More...</a><br /></td></tr>
<tr class="separator:ac6da8e5c5006c0a1c81feb1198ab7e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93f25c991cf8d8abb179bece0f179a6"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa93f25c991cf8d8abb179bece0f179a6">ast_sip_get_ignore_uri_user_options</a> (void)</td></tr>
<tr class="memdesc:aa93f25c991cf8d8abb179bece0f179a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global setting 'ignore_uri_user_options'.  <a href="#aa93f25c991cf8d8abb179bece0f179a6">More...</a><br /></td></tr>
<tr class="separator:aa93f25c991cf8d8abb179bece0f179a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f02fd2b6907575037b6c21ddddfe927"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a0f02fd2b6907575037b6c21ddddfe927">ast_sip_get_keep_alive_interval</a> (void)</td></tr>
<tr class="memdesc:a0f02fd2b6907575037b6c21ddddfe927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the system keep alive interval setting.  <a href="#a0f02fd2b6907575037b6c21ddddfe927">More...</a><br /></td></tr>
<tr class="separator:a0f02fd2b6907575037b6c21ddddfe927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ecc2eb4141ac3b294628a55545a991f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a0ecc2eb4141ac3b294628a55545a991f">ast_sip_get_max_initial_qualify_time</a> (void)</td></tr>
<tr class="memdesc:a0ecc2eb4141ac3b294628a55545a991f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the system max initial qualify time.  <a href="#a0ecc2eb4141ac3b294628a55545a991f">More...</a><br /></td></tr>
<tr class="separator:a0ecc2eb4141ac3b294628a55545a991f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45b58ec6aa9a3778c7cdd48457c7b17"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac45b58ec6aa9a3778c7cdd48457c7b17">ast_sip_get_mwi_disable_initial_unsolicited</a> (void)</td></tr>
<tr class="memdesc:ac45b58ec6aa9a3778c7cdd48457c7b17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global setting 'disable sending unsolicited mwi on startup'.  <a href="#ac45b58ec6aa9a3778c7cdd48457c7b17">More...</a><br /></td></tr>
<tr class="separator:ac45b58ec6aa9a3778c7cdd48457c7b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f33b363ff46d3a6e05ee63afd45205"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae3f33b363ff46d3a6e05ee63afd45205">ast_sip_get_mwi_tps_queue_high</a> (void)</td></tr>
<tr class="memdesc:ae3f33b363ff46d3a6e05ee63afd45205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global MWI taskprocessor high water alert trigger level.  <a href="#ae3f33b363ff46d3a6e05ee63afd45205">More...</a><br /></td></tr>
<tr class="separator:ae3f33b363ff46d3a6e05ee63afd45205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acacb0a5069465c03171486fe7cea85a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#acacb0a5069465c03171486fe7cea85a5">ast_sip_get_mwi_tps_queue_low</a> (void)</td></tr>
<tr class="memdesc:acacb0a5069465c03171486fe7cea85a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global MWI taskprocessor low water clear alert level.  <a href="#acacb0a5069465c03171486fe7cea85a5">More...</a><br /></td></tr>
<tr class="separator:acacb0a5069465c03171486fe7cea85a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba92141c24bf4204831637d8e4a205a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a0ba92141c24bf4204831637d8e4a205a">ast_sip_get_norefersub</a> (void)</td></tr>
<tr class="memdesc:a0ba92141c24bf4204831637d8e4a205a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global setting 'norefersub'.  <a href="#a0ba92141c24bf4204831637d8e4a205a">More...</a><br /></td></tr>
<tr class="separator:a0ba92141c24bf4204831637d8e4a205a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785afb501e315c8a97ad476fb6a8be1d"><td class="memItemLeft" align="right" valign="top">pjsip_endpoint *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a785afb501e315c8a97ad476fb6a8be1d">ast_sip_get_pjsip_endpoint</a> (void)</td></tr>
<tr class="memdesc:a785afb501e315c8a97ad476fb6a8be1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the PJSIP endpoint.  <a href="#a785afb501e315c8a97ad476fb6a8be1d">More...</a><br /></td></tr>
<tr class="separator:a785afb501e315c8a97ad476fb6a8be1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e4a08b7fcd1bfcfbb4b26581378e2be"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6e4a08b7fcd1bfcfbb4b26581378e2be">ast_sip_get_regcontext</a> (void)</td></tr>
<tr class="memdesc:a6e4a08b7fcd1bfcfbb4b26581378e2be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global regcontext setting.  <a href="#a6e4a08b7fcd1bfcfbb4b26581378e2be">More...</a><br /></td></tr>
<tr class="separator:a6e4a08b7fcd1bfcfbb4b26581378e2be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7a9b6cb450b52a5c230afdae0d6fb1"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6b7a9b6cb450b52a5c230afdae0d6fb1">ast_sip_get_send_contact_status_on_update_registration</a> (void)</td></tr>
<tr class="memdesc:a6b7a9b6cb450b52a5c230afdae0d6fb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global setting 'send_contact_status_on_update_registration'.  <a href="#a6b7a9b6cb450b52a5c230afdae0d6fb1">More...</a><br /></td></tr>
<tr class="separator:a6b7a9b6cb450b52a5c230afdae0d6fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5572d52daf1a841b0f9308df901448c8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a> (void)</td></tr>
<tr class="memdesc:a5572d52daf1a841b0f9308df901448c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the SIP sorcery structure.  <a href="#a5572d52daf1a841b0f9308df901448c8">More...</a><br /></td></tr>
<tr class="separator:a5572d52daf1a841b0f9308df901448c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c1bd79cf3f3c57a0efbfd31ff45f2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa1c1bd79cf3f3c57a0efbfd31ff45f2f">ast_sip_get_transport_name</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_sip_uri *sip_uri, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t buf_len)</td></tr>
<tr class="memdesc:aa1c1bd79cf3f3c57a0efbfd31ff45f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the transport name from an endpoint or request uri.  <a href="#aa1c1bd79cf3f3c57a0efbfd31ff45f2f">More...</a><br /></td></tr>
<tr class="separator:aa1c1bd79cf3f3c57a0efbfd31ff45f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6000ab7fe69594070bb59b995ccb5ee"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a> (const char *transport_id)</td></tr>
<tr class="memdesc:ab6000ab7fe69594070bb59b995ccb5ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve transport state.  <a href="#ab6000ab7fe69594070bb59b995ccb5ee">More...</a><br /></td></tr>
<tr class="separator:ab6000ab7fe69594070bb59b995ccb5ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7739cc1c2dda386e264c2e90855d4e3e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a7739cc1c2dda386e264c2e90855d4e3e">ast_sip_get_transport_states</a> (void)</td></tr>
<tr class="memdesc:a7739cc1c2dda386e264c2e90855d4e3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves all transport states.  <a href="#a7739cc1c2dda386e264c2e90855d4e3e">More...</a><br /></td></tr>
<tr class="separator:a7739cc1c2dda386e264c2e90855d4e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbb99d171b29a7191422d016e8199e02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#afbb99d171b29a7191422d016e8199e02">ast_sip_get_unidentified_request_thresholds</a> (unsigned int *count, unsigned int *period, unsigned int *prune_interval)</td></tr>
<tr class="memdesc:afbb99d171b29a7191422d016e8199e02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the unidentified request security event thresholds.  <a href="#afbb99d171b29a7191422d016e8199e02">More...</a><br /></td></tr>
<tr class="separator:afbb99d171b29a7191422d016e8199e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d563129fecea04e6b7feae05d32470e"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8d563129fecea04e6b7feae05d32470e">ast_sip_get_use_callerid_contact</a> (void)</td></tr>
<tr class="memdesc:a8d563129fecea04e6b7feae05d32470e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the global setting 'use_callerid_contact'.  <a href="#a8d563129fecea04e6b7feae05d32470e">More...</a><br /></td></tr>
<tr class="separator:a8d563129fecea04e6b7feae05d32470e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca93ad473a36034768c5d504ab991e06"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aca93ad473a36034768c5d504ab991e06">ast_sip_identify_endpoint</a> (pjsip_rx_data *rdata)</td></tr>
<tr class="memdesc:aca93ad473a36034768c5d504ab991e06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the endpoint that has sent a SIP message.  <a href="#aca93ad473a36034768c5d504ab991e06">More...</a><br /></td></tr>
<tr class="separator:aca93ad473a36034768c5d504ab991e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47a39537fdf10ceba2fad9d9c380179"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae47a39537fdf10ceba2fad9d9c380179">ast_sip_is_content_type</a> (pjsip_media_type *content_type, char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, char *subtype)</td></tr>
<tr class="memdesc:ae47a39537fdf10ceba2fad9d9c380179"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the given content type matches type/subtype.  <a href="#ae47a39537fdf10ceba2fad9d9c380179">More...</a><br /></td></tr>
<tr class="separator:ae47a39537fdf10ceba2fad9d9c380179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e5134065c18faa51258176d2ad81e04"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a1e5134065c18faa51258176d2ad81e04">ast_sip_location_add_contact</a> (struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor, const char *uri, struct timeval expiration_time, const char *path_info, const char *user_agent, const char *via_addr, int via_port, const char *call_id, struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:a1e5134065c18faa51258176d2ad81e04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new contact to an AOR.  <a href="#a1e5134065c18faa51258176d2ad81e04">More...</a><br /></td></tr>
<tr class="separator:a1e5134065c18faa51258176d2ad81e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaeecf183c0b24247fea03bec9f8e199"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#afaeecf183c0b24247fea03bec9f8e199">ast_sip_location_add_contact_nolock</a> (struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor, const char *uri, struct timeval expiration_time, const char *path_info, const char *user_agent, const char *via_addr, int via_port, const char *call_id, struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:afaeecf183c0b24247fea03bec9f8e199"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new contact to an AOR without locking the AOR.  <a href="#afaeecf183c0b24247fea03bec9f8e199">More...</a><br /></td></tr>
<tr class="separator:afaeecf183c0b24247fea03bec9f8e199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af68d3a6a66cb6f1f7b9bd28690251b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8af68d3a6a66cb6f1f7b9bd28690251b">ast_sip_location_create_contact</a> (struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor, const char *uri, struct timeval expiration_time, const char *path_info, const char *user_agent, const char *via_addr, int via_port, const char *call_id, int prune_on_boot, struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:a8af68d3a6a66cb6f1f7b9bd28690251b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new contact for an AOR without locking the AOR.  <a href="#a8af68d3a6a66cb6f1f7b9bd28690251b">More...</a><br /></td></tr>
<tr class="separator:a8af68d3a6a66cb6f1f7b9bd28690251b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7205a9dc0a18ef1dc14785099846ca3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#af7205a9dc0a18ef1dc14785099846ca3">ast_sip_location_delete_contact</a> (struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="el" href="../../d9/d03/structcontact.html">contact</a>)</td></tr>
<tr class="memdesc:af7205a9dc0a18ef1dc14785099846ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a contact.  <a href="#af7205a9dc0a18ef1dc14785099846ca3">More...</a><br /></td></tr>
<tr class="separator:af7205a9dc0a18ef1dc14785099846ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee4658ff2a410126f97dc5bf6632dd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aeee4658ff2a410126f97dc5bf6632dd7">ast_sip_location_prune_boot_contacts</a> (void)</td></tr>
<tr class="memdesc:aeee4658ff2a410126f97dc5bf6632dd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prune the prune_on_boot contacts.  <a href="#aeee4658ff2a410126f97dc5bf6632dd7">More...</a><br /></td></tr>
<tr class="separator:aeee4658ff2a410126f97dc5bf6632dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a434c2d85dbd10a9453f6d409809330d5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a434c2d85dbd10a9453f6d409809330d5">ast_sip_location_retrieve_aor</a> (const char *aor_name)</td></tr>
<tr class="memdesc:a434c2d85dbd10a9453f6d409809330d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a named AOR.  <a href="#a434c2d85dbd10a9453f6d409809330d5">More...</a><br /></td></tr>
<tr class="separator:a434c2d85dbd10a9453f6d409809330d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404837089a8a08b9f341f2ccea7128ef"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a404837089a8a08b9f341f2ccea7128ef">ast_sip_location_retrieve_aor_contacts</a> (const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor)</td></tr>
<tr class="memdesc:a404837089a8a08b9f341f2ccea7128ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all contacts currently available for an AOR.  <a href="#a404837089a8a08b9f341f2ccea7128ef">More...</a><br /></td></tr>
<tr class="separator:a404837089a8a08b9f341f2ccea7128ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9988373a3803c99249efaa6fccf72444"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9988373a3803c99249efaa6fccf72444">ast_sip_location_retrieve_aor_contacts_filtered</a> (const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor, unsigned int flags)</td></tr>
<tr class="memdesc:a9988373a3803c99249efaa6fccf72444"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all contacts currently available for an AOR and filter based on flags.  <a href="#a9988373a3803c99249efaa6fccf72444">More...</a><br /></td></tr>
<tr class="separator:a9988373a3803c99249efaa6fccf72444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f4e724ff69a0fdf9f6c471ac888e204"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a5f4e724ff69a0fdf9f6c471ac888e204">ast_sip_location_retrieve_aor_contacts_nolock</a> (const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor)</td></tr>
<tr class="memdesc:a5f4e724ff69a0fdf9f6c471ac888e204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all contacts currently available for an AOR without locking the AOR.  <a href="#a5f4e724ff69a0fdf9f6c471ac888e204">More...</a><br /></td></tr>
<tr class="separator:a5f4e724ff69a0fdf9f6c471ac888e204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7cbdd32ef68e07f2ab10dab9e8dd36"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9d7cbdd32ef68e07f2ab10dab9e8dd36">ast_sip_location_retrieve_aor_contacts_nolock_filtered</a> (const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor, unsigned int flags)</td></tr>
<tr class="memdesc:a9d7cbdd32ef68e07f2ab10dab9e8dd36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all contacts currently available for an AOR without locking the AOR and filter based on flags.  <a href="#a9d7cbdd32ef68e07f2ab10dab9e8dd36">More...</a><br /></td></tr>
<tr class="separator:a9d7cbdd32ef68e07f2ab10dab9e8dd36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465c83962f7f1d9d1ee84fca764505a4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a465c83962f7f1d9d1ee84fca764505a4">ast_sip_location_retrieve_contact</a> (const char *contact_name)</td></tr>
<tr class="memdesc:a465c83962f7f1d9d1ee84fca764505a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a named contact.  <a href="#a465c83962f7f1d9d1ee84fca764505a4">More...</a><br /></td></tr>
<tr class="separator:a465c83962f7f1d9d1ee84fca764505a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eda9fba6e163f02ac78e4a974525957"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a1eda9fba6e163f02ac78e4a974525957">ast_sip_location_retrieve_contact_and_aor_from_list</a> (const char *aor_list, struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> **aor, struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> **<a class="el" href="../../d9/d03/structcontact.html">contact</a>)</td></tr>
<tr class="memdesc:a1eda9fba6e163f02ac78e4a974525957"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the first bound contact AND the AOR chosen from a list of AORs.  <a href="#a1eda9fba6e163f02ac78e4a974525957">More...</a><br /></td></tr>
<tr class="separator:a1eda9fba6e163f02ac78e4a974525957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d09ffbeec1bf7617e6d26084517d70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac3d09ffbeec1bf7617e6d26084517d70">ast_sip_location_retrieve_contact_and_aor_from_list_filtered</a> (const char *aor_list, unsigned int flags, struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> **aor, struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> **<a class="el" href="../../d9/d03/structcontact.html">contact</a>)</td></tr>
<tr class="memdesc:ac3d09ffbeec1bf7617e6d26084517d70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the first bound contact AND the AOR chosen from a list of AORs and filter based on flags.  <a href="#ac3d09ffbeec1bf7617e6d26084517d70">More...</a><br /></td></tr>
<tr class="separator:ac3d09ffbeec1bf7617e6d26084517d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00fd98f03df089bd6aa358f941ae0dcd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a00fd98f03df089bd6aa358f941ae0dcd">ast_sip_location_retrieve_contact_from_aor_list</a> (const char *aor_list)</td></tr>
<tr class="memdesc:a00fd98f03df089bd6aa358f941ae0dcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the first bound contact from a list of AORs.  <a href="#a00fd98f03df089bd6aa358f941ae0dcd">More...</a><br /></td></tr>
<tr class="separator:a00fd98f03df089bd6aa358f941ae0dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac194f975420b02896748df8668494921"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac194f975420b02896748df8668494921">ast_sip_location_retrieve_contacts_from_aor_list</a> (const char *aor_list)</td></tr>
<tr class="memdesc:ac194f975420b02896748df8668494921"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all contacts from a list of AORs.  <a href="#ac194f975420b02896748df8668494921">More...</a><br /></td></tr>
<tr class="separator:ac194f975420b02896748df8668494921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf39fcf3388190cf49dbc5670c7aca20"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#abf39fcf3388190cf49dbc5670c7aca20">ast_sip_location_retrieve_first_aor_contact</a> (const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor)</td></tr>
<tr class="memdesc:abf39fcf3388190cf49dbc5670c7aca20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the first bound contact for an AOR.  <a href="#abf39fcf3388190cf49dbc5670c7aca20">More...</a><br /></td></tr>
<tr class="separator:abf39fcf3388190cf49dbc5670c7aca20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6179bd8c08b5c726a9e40553223a486"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae6179bd8c08b5c726a9e40553223a486">ast_sip_location_retrieve_first_aor_contact_filtered</a> (const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor, unsigned int flags)</td></tr>
<tr class="memdesc:ae6179bd8c08b5c726a9e40553223a486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the first bound contact for an AOR and filter based on flags.  <a href="#ae6179bd8c08b5c726a9e40553223a486">More...</a><br /></td></tr>
<tr class="separator:ae6179bd8c08b5c726a9e40553223a486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add251e9c14eb0f9791e60dc5c2a9e9b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#add251e9c14eb0f9791e60dc5c2a9e9b4">ast_sip_location_update_contact</a> (struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="el" href="../../d9/d03/structcontact.html">contact</a>)</td></tr>
<tr class="memdesc:add251e9c14eb0f9791e60dc5c2a9e9b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a contact.  <a href="#add251e9c14eb0f9791e60dc5c2a9e9b4">More...</a><br /></td></tr>
<tr class="separator:add251e9c14eb0f9791e60dc5c2a9e9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594764e7c50b75d6e15709572e06a318"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a594764e7c50b75d6e15709572e06a318">ast_sip_message_apply_transport</a> (const char *transport_name, pjsip_tx_data *tdata)</td></tr>
<tr class="memdesc:a594764e7c50b75d6e15709572e06a318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the configuration for a transport to an outgoing message.  <a href="#a594764e7c50b75d6e15709572e06a318">More...</a><br /></td></tr>
<tr class="separator:a594764e7c50b75d6e15709572e06a318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe1cbe99a485f1e003ecc829b5885eeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#afe1cbe99a485f1e003ecc829b5885eeb">ast_sip_modify_id_header</a> (pj_pool_t *<a class="el" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, pjsip_fromto_hdr *id_hdr, const struct <a class="el" href="../../d1/dcb/structast__party__id.html">ast_party_id</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:afe1cbe99a485f1e003ecc829b5885eeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set name and number information on an identity header.  <a href="#afe1cbe99a485f1e003ecc829b5885eeb">More...</a><br /></td></tr>
<tr class="separator:afe1cbe99a485f1e003ecc829b5885eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a123be41b7fec5b6c9d896463855f6266"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a123be41b7fec5b6c9d896463855f6266">ast_sip_persistent_endpoint_publish_contact_state</a> (const char *endpoint_name, const struct <a class="el" href="../../d5/d17/structast__sip__contact__status.html">ast_sip_contact_status</a> *contact_status)</td></tr>
<tr class="memdesc:a123be41b7fec5b6c9d896463855f6266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish the change of state for a contact.  <a href="#a123be41b7fec5b6c9d896463855f6266">More...</a><br /></td></tr>
<tr class="separator:a123be41b7fec5b6c9d896463855f6266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9212ca6a529f085934286a1f8a941056"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9212ca6a529f085934286a1f8a941056">ast_sip_persistent_endpoint_update_state</a> (const char *endpoint_name, enum <a class="el" href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448e">ast_endpoint_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="memdesc:a9212ca6a529f085934286a1f8a941056"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change state of a persistent endpoint.  <a href="#a9212ca6a529f085934286a1f8a941056">More...</a><br /></td></tr>
<tr class="separator:a9212ca6a529f085934286a1f8a941056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f0a0629fa2ca084812772356d8e3565"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga4f0a0629fa2ca084812772356d8e3565">ast_sip_push_task</a> (struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *<a class="el" href="../../d9/d47/structserializer.html">serializer</a>, int(*sip_task)(void *), void *<a class="el" href="../../d1/dd9/structtask__data.html">task_data</a>)</td></tr>
<tr class="memdesc:ga4f0a0629fa2ca084812772356d8e3565"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes a task to SIP servants.  <a href="../../d7/dfa/group__pjsip__threading.html#ga4f0a0629fa2ca084812772356d8e3565">More...</a><br /></td></tr>
<tr class="separator:ga4f0a0629fa2ca084812772356d8e3565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad5575540c19832939a6b858a93cd5ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#gaad5575540c19832939a6b858a93cd5ab">ast_sip_push_task_synchronous</a> (struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *<a class="el" href="../../d9/d47/structserializer.html">serializer</a>, int(*sip_task)(void *), void *<a class="el" href="../../d1/dd9/structtask__data.html">task_data</a>)</td></tr>
<tr class="memdesc:gaad5575540c19832939a6b858a93cd5ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a task to SIP servants and wait for it to complete.  <a href="../../d7/dfa/group__pjsip__threading.html#gaad5575540c19832939a6b858a93cd5ab">More...</a><br /></td></tr>
<tr class="separator:gaad5575540c19832939a6b858a93cd5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac231880459dcf8feacf1bb272b60472a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a> (struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *<a class="el" href="../../d9/d47/structserializer.html">serializer</a>, int(*sip_task)(void *), void *<a class="el" href="../../d1/dd9/structtask__data.html">task_data</a>)</td></tr>
<tr class="memdesc:gac231880459dcf8feacf1bb272b60472a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a task to the serializer and wait for it to complete.  <a href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">More...</a><br /></td></tr>
<tr class="separator:gac231880459dcf8feacf1bb272b60472a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8c82412fe0432a91d5c7985cfdf9b59"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#gab8c82412fe0432a91d5c7985cfdf9b59">ast_sip_push_task_wait_servant</a> (struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *<a class="el" href="../../d9/d47/structserializer.html">serializer</a>, int(*sip_task)(void *), void *<a class="el" href="../../d1/dd9/structtask__data.html">task_data</a>)</td></tr>
<tr class="memdesc:gab8c82412fe0432a91d5c7985cfdf9b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a task to SIP servants and wait for it to complete.  <a href="../../d7/dfa/group__pjsip__threading.html#gab8c82412fe0432a91d5c7985cfdf9b59">More...</a><br /></td></tr>
<tr class="separator:gab8c82412fe0432a91d5c7985cfdf9b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8789fca05b6fcb5ca809e7758995959c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8789fca05b6fcb5ca809e7758995959c">ast_sip_rdata_get_header_value</a> (pjsip_rx_data *rdata, const pj_str_t <a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)</td></tr>
<tr class="memdesc:a8789fca05b6fcb5ca809e7758995959c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a specific header value from rdata.  <a href="#a8789fca05b6fcb5ca809e7758995959c">More...</a><br /></td></tr>
<tr class="separator:a8789fca05b6fcb5ca809e7758995959c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9619038b1c9446b8aa48f3701b41495"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa9619038b1c9446b8aa48f3701b41495">ast_sip_register_authenticator</a> (struct <a class="el" href="../../d9/de9/structast__sip__authenticator.html">ast_sip_authenticator</a> *auth)</td></tr>
<tr class="memdesc:aa9619038b1c9446b8aa48f3701b41495"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a SIP authenticator.  <a href="#aa9619038b1c9446b8aa48f3701b41495">More...</a><br /></td></tr>
<tr class="separator:aa9619038b1c9446b8aa48f3701b41495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98cd6c4d4f72f59a48ccbedc8e6634e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a98cd6c4d4f72f59a48ccbedc8e6634e4">ast_sip_register_endpoint_formatter</a> (struct <a class="el" href="../../d6/d30/structast__sip__endpoint__formatter.html">ast_sip_endpoint_formatter</a> *obj)</td></tr>
<tr class="memdesc:a98cd6c4d4f72f59a48ccbedc8e6634e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an endpoint formatter.  <a href="#a98cd6c4d4f72f59a48ccbedc8e6634e4">More...</a><br /></td></tr>
<tr class="separator:a98cd6c4d4f72f59a48ccbedc8e6634e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66822f0bda04ca112f8f1d0b29e9f4a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a66822f0bda04ca112f8f1d0b29e9f4a4">ast_sip_register_endpoint_identifier</a> (struct <a class="el" href="../../d0/d97/structast__sip__endpoint__identifier.html">ast_sip_endpoint_identifier</a> *identifier)</td></tr>
<tr class="memdesc:a66822f0bda04ca112f8f1d0b29e9f4a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a SIP endpoint identifier.  <a href="#a66822f0bda04ca112f8f1d0b29e9f4a4">More...</a><br /></td></tr>
<tr class="separator:a66822f0bda04ca112f8f1d0b29e9f4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac769118e31b822fcd28c2b3b3d921c6e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac769118e31b822fcd28c2b3b3d921c6e">ast_sip_register_endpoint_identifier_with_name</a> (struct <a class="el" href="../../d0/d97/structast__sip__endpoint__identifier.html">ast_sip_endpoint_identifier</a> *identifier, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:ac769118e31b822fcd28c2b3b3d921c6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a SIP endpoint identifier with a name.  <a href="#ac769118e31b822fcd28c2b3b3d921c6e">More...</a><br /></td></tr>
<tr class="separator:ac769118e31b822fcd28c2b3b3d921c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98307b232bed0aa477edfdb1cb2d6ee4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a98307b232bed0aa477edfdb1cb2d6ee4">ast_sip_register_outbound_authenticator</a> (struct <a class="el" href="../../d0/dc2/structast__sip__outbound__authenticator.html">ast_sip_outbound_authenticator</a> *outbound_auth)</td></tr>
<tr class="memdesc:a98307b232bed0aa477edfdb1cb2d6ee4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an outbound SIP authenticator.  <a href="#a98307b232bed0aa477edfdb1cb2d6ee4">More...</a><br /></td></tr>
<tr class="separator:a98307b232bed0aa477edfdb1cb2d6ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d923ef44f62dffc05178f762b88f084"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2d923ef44f62dffc05178f762b88f084">ast_sip_register_service</a> (pjsip_module *module)</td></tr>
<tr class="memdesc:a2d923ef44f62dffc05178f762b88f084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a SIP service in Asterisk.  <a href="#a2d923ef44f62dffc05178f762b88f084">More...</a><br /></td></tr>
<tr class="separator:a2d923ef44f62dffc05178f762b88f084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b89c7cffebd4ea3dd0bb2a34eb9a6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a51b89c7cffebd4ea3dd0bb2a34eb9a6f">ast_sip_register_supplement</a> (struct <a class="el" href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a> *supplement)</td></tr>
<tr class="memdesc:a51b89c7cffebd4ea3dd0bb2a34eb9a6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a supplement to SIP out of dialog processing.  <a href="#a51b89c7cffebd4ea3dd0bb2a34eb9a6f">More...</a><br /></td></tr>
<tr class="separator:a51b89c7cffebd4ea3dd0bb2a34eb9a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579992115db554aed5f14a1c99adfc4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a579992115db554aed5f14a1c99adfc4e">ast_sip_report_auth_challenge_sent</a> (struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata, pjsip_tx_data *tdata)</td></tr>
<tr class="memdesc:a579992115db554aed5f14a1c99adfc4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a security event notification for when an authentication challenge is sent.  <a href="#a579992115db554aed5f14a1c99adfc4e">More...</a><br /></td></tr>
<tr class="separator:a579992115db554aed5f14a1c99adfc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde6d68cb68ba653a27ace5e50157c5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#abde6d68cb68ba653a27ace5e50157c5b">ast_sip_report_auth_failed_challenge_response</a> (struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata)</td></tr>
<tr class="memdesc:abde6d68cb68ba653a27ace5e50157c5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a security event notification for when a challenge response has failed.  <a href="#abde6d68cb68ba653a27ace5e50157c5b">More...</a><br /></td></tr>
<tr class="separator:abde6d68cb68ba653a27ace5e50157c5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aaee728a6d48faa505902a7c0edbe65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2aaee728a6d48faa505902a7c0edbe65">ast_sip_report_auth_success</a> (struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata)</td></tr>
<tr class="memdesc:a2aaee728a6d48faa505902a7c0edbe65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a security event notification for when authentication succeeds.  <a href="#a2aaee728a6d48faa505902a7c0edbe65">More...</a><br /></td></tr>
<tr class="separator:a2aaee728a6d48faa505902a7c0edbe65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa522937191ad0d45711173590521d47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#afa522937191ad0d45711173590521d47">ast_sip_report_failed_acl</a> (struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:afa522937191ad0d45711173590521d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a security event notification for when an ACL check fails.  <a href="#afa522937191ad0d45711173590521d47">More...</a><br /></td></tr>
<tr class="separator:afa522937191ad0d45711173590521d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a964541b2cceff1606e55de6cc639c651"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a964541b2cceff1606e55de6cc639c651">ast_sip_report_invalid_endpoint</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, pjsip_rx_data *rdata)</td></tr>
<tr class="memdesc:a964541b2cceff1606e55de6cc639c651"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a security event notification for when an invalid endpoint is requested.  <a href="#a964541b2cceff1606e55de6cc639c651">More...</a><br /></td></tr>
<tr class="separator:a964541b2cceff1606e55de6cc639c651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b231b4a7f3a764fd071a854e9195c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a23b231b4a7f3a764fd071a854e9195c2">ast_sip_report_mem_limit</a> (struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata)</td></tr>
<tr class="memdesc:a23b231b4a7f3a764fd071a854e9195c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a security event notification for when a memory limit is hit.  <a href="#a23b231b4a7f3a764fd071a854e9195c2">More...</a><br /></td></tr>
<tr class="separator:a23b231b4a7f3a764fd071a854e9195c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ad1d4596f0644e856ff6e7ec2dd590"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a24ad1d4596f0644e856ff6e7ec2dd590">ast_sip_report_req_no_support</a> (struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata, const char *req_type)</td></tr>
<tr class="memdesc:a24ad1d4596f0644e856ff6e7ec2dd590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a security event notification for when a request is not supported.  <a href="#a24ad1d4596f0644e856ff6e7ec2dd590">More...</a><br /></td></tr>
<tr class="separator:a24ad1d4596f0644e856ff6e7ec2dd590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22df541cc658cbeb30d34df2902b37ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a22df541cc658cbeb30d34df2902b37ef">ast_sip_requires_authentication</a> (struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_rx_data *rdata)</td></tr>
<tr class="memdesc:a22df541cc658cbeb30d34df2902b37ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if an incoming request requires authentication.  <a href="#a22df541cc658cbeb30d34df2902b37ef">More...</a><br /></td></tr>
<tr class="separator:a22df541cc658cbeb30d34df2902b37ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f43e82cb97ea0b744a4a0ba7ff0a43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a72f43e82cb97ea0b744a4a0ba7ff0a43">ast_sip_retrieve_auths</a> (const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *auths, struct <a class="el" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> **<a class="el" href="../../da/d7c/utils_2frame_8h.html#a48bc11919b2752df9d14ce89557cfb25">out</a>)</td></tr>
<tr class="memdesc:a72f43e82cb97ea0b744a4a0ba7ff0a43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve relevant SIP auth structures from sorcery.  <a href="#a72f43e82cb97ea0b744a4a0ba7ff0a43">More...</a><br /></td></tr>
<tr class="separator:a72f43e82cb97ea0b744a4a0ba7ff0a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa470ba4d30d13a73a7f161fefcbd9ecc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa470ba4d30d13a73a7f161fefcbd9ecc">ast_sip_retrieve_auths_vector</a> (const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *auth_ids, struct ast_sip_auth_objects_vector *auth_objects)</td></tr>
<tr class="separator:aa470ba4d30d13a73a7f161fefcbd9ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7738011322c50e875837b7550479b88b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga7738011322c50e875837b7550479b88b">ast_sip_sched_is_task_running</a> (struct <a class="el" href="../../d5/d3b/structast__sip__sched__task.html">ast_sip_sched_task</a> *schtd)</td></tr>
<tr class="memdesc:ga7738011322c50e875837b7550479b88b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the task is currently running.  <a href="../../d7/dfa/group__pjsip__threading.html#ga7738011322c50e875837b7550479b88b">More...</a><br /></td></tr>
<tr class="separator:ga7738011322c50e875837b7550479b88b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9666f4c419f7d29a423e41366c9866a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#gad9666f4c419f7d29a423e41366c9866a">ast_sip_sched_is_task_running_by_name</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:gad9666f4c419f7d29a423e41366c9866a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the task is currently running.  <a href="../../d7/dfa/group__pjsip__threading.html#gad9666f4c419f7d29a423e41366c9866a">More...</a><br /></td></tr>
<tr class="separator:gad9666f4c419f7d29a423e41366c9866a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74acadc4e87ea1cea9cdddba4734bccc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga74acadc4e87ea1cea9cdddba4734bccc">ast_sip_sched_task_cancel</a> (struct <a class="el" href="../../d5/d3b/structast__sip__sched__task.html">ast_sip_sched_task</a> *schtd)</td></tr>
<tr class="memdesc:ga74acadc4e87ea1cea9cdddba4734bccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the next invocation of a task.  <a href="../../d7/dfa/group__pjsip__threading.html#ga74acadc4e87ea1cea9cdddba4734bccc">More...</a><br /></td></tr>
<tr class="separator:ga74acadc4e87ea1cea9cdddba4734bccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bf515a47d663f1762ac337c9167b8e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga4bf515a47d663f1762ac337c9167b8e2">ast_sip_sched_task_cancel_by_name</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:ga4bf515a47d663f1762ac337c9167b8e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the next invocation of a task by name.  <a href="../../d7/dfa/group__pjsip__threading.html#ga4bf515a47d663f1762ac337c9167b8e2">More...</a><br /></td></tr>
<tr class="separator:ga4bf515a47d663f1762ac337c9167b8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78b7691fb1bf1717a7961a68ceed5886"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga78b7691fb1bf1717a7961a68ceed5886">ast_sip_sched_task_get_name</a> (struct <a class="el" href="../../d5/d3b/structast__sip__sched__task.html">ast_sip_sched_task</a> *schtd, char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, size_t maxlen)</td></tr>
<tr class="memdesc:ga78b7691fb1bf1717a7961a68ceed5886"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the task name.  <a href="../../d7/dfa/group__pjsip__threading.html#ga78b7691fb1bf1717a7961a68ceed5886">More...</a><br /></td></tr>
<tr class="separator:ga78b7691fb1bf1717a7961a68ceed5886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a0f4a262534b770d745c4e4d99954be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga7a0f4a262534b770d745c4e4d99954be">ast_sip_sched_task_get_next_run</a> (struct <a class="el" href="../../d5/d3b/structast__sip__sched__task.html">ast_sip_sched_task</a> *schtd)</td></tr>
<tr class="memdesc:ga7a0f4a262534b770d745c4e4d99954be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of milliseconds until the next invocation.  <a href="../../d7/dfa/group__pjsip__threading.html#ga7a0f4a262534b770d745c4e4d99954be">More...</a><br /></td></tr>
<tr class="separator:ga7a0f4a262534b770d745c4e4d99954be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe1d1904d9e3f338f656203cc8f88a74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#gabe1d1904d9e3f338f656203cc8f88a74">ast_sip_sched_task_get_next_run_by_name</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:gabe1d1904d9e3f338f656203cc8f88a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of milliseconds until the next invocation.  <a href="../../d7/dfa/group__pjsip__threading.html#gabe1d1904d9e3f338f656203cc8f88a74">More...</a><br /></td></tr>
<tr class="separator:gabe1d1904d9e3f338f656203cc8f88a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5f6f4fabd4f24b1958e08530e71aaed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#gab5f6f4fabd4f24b1958e08530e71aaed">ast_sip_sched_task_get_times</a> (struct <a class="el" href="../../d5/d3b/structast__sip__sched__task.html">ast_sip_sched_task</a> *schtd, struct timeval *when_queued, struct timeval *last_start, struct timeval *last_end)</td></tr>
<tr class="memdesc:gab5f6f4fabd4f24b1958e08530e71aaed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last start and end times of the task.  <a href="../../d7/dfa/group__pjsip__threading.html#gab5f6f4fabd4f24b1958e08530e71aaed">More...</a><br /></td></tr>
<tr class="separator:gab5f6f4fabd4f24b1958e08530e71aaed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11e333026826de2a22d2a33bb3e0bd01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga11e333026826de2a22d2a33bb3e0bd01">ast_sip_sched_task_get_times2</a> (struct <a class="el" href="../../d5/d3b/structast__sip__sched__task.html">ast_sip_sched_task</a> *schtd, struct timeval *when_queued, struct timeval *last_start, struct timeval *last_end, int *interval, int *time_left, struct timeval *next_start)</td></tr>
<tr class="memdesc:ga11e333026826de2a22d2a33bb3e0bd01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the queued, last start, last_end, time left, interval, next run.  <a href="../../d7/dfa/group__pjsip__threading.html#ga11e333026826de2a22d2a33bb3e0bd01">More...</a><br /></td></tr>
<tr class="separator:ga11e333026826de2a22d2a33bb3e0bd01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbe3526da1e7a11a4d05173ec3ad70f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#gafbe3526da1e7a11a4d05173ec3ad70f7">ast_sip_sched_task_get_times_by_name</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct timeval *when_queued, struct timeval *last_start, struct timeval *last_end)</td></tr>
<tr class="memdesc:gafbe3526da1e7a11a4d05173ec3ad70f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last start and end times of the task by name.  <a href="../../d7/dfa/group__pjsip__threading.html#gafbe3526da1e7a11a4d05173ec3ad70f7">More...</a><br /></td></tr>
<tr class="separator:gafbe3526da1e7a11a4d05173ec3ad70f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadac4ed564a9f6e11c2436ee897718a38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#gadac4ed564a9f6e11c2436ee897718a38">ast_sip_sched_task_get_times_by_name2</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct timeval *when_queued, struct timeval *last_start, struct timeval *last_end, int *interval, int *time_left, struct timeval *next_start)</td></tr>
<tr class="memdesc:gadac4ed564a9f6e11c2436ee897718a38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the queued, last start, last_end, time left, interval, next run by task name.  <a href="../../d7/dfa/group__pjsip__threading.html#gadac4ed564a9f6e11c2436ee897718a38">More...</a><br /></td></tr>
<tr class="separator:gadac4ed564a9f6e11c2436ee897718a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47a9130b20e7724a51d5eeebbc0a516b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d5/d3b/structast__sip__sched__task.html">ast_sip_sched_task</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga47a9130b20e7724a51d5eeebbc0a516b">ast_sip_schedule_task</a> (struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *<a class="el" href="../../d9/d47/structserializer.html">serializer</a>, int interval, <a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga03d77afe873d5e87809639c520ef2dd0">ast_sip_task</a> sip_task, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, void *<a class="el" href="../../d1/dd9/structtask__data.html">task_data</a>, enum <a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga478c7100d82665dc492845e4213ebc40">ast_sip_scheduler_task_flags</a> flags)</td></tr>
<tr class="memdesc:ga47a9130b20e7724a51d5eeebbc0a516b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule a task to run in the res_pjsip thread pool.  <a href="../../d7/dfa/group__pjsip__threading.html#ga47a9130b20e7724a51d5eeebbc0a516b">More...</a><br /></td></tr>
<tr class="separator:ga47a9130b20e7724a51d5eeebbc0a516b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833b03a523fee9bde77af138a38e3dfa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a833b03a523fee9bde77af138a38e3dfa">ast_sip_send_out_of_dialog_request</a> (pjsip_tx_data *tdata, struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, int <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, void *token, void(*callback)(void *token, pjsip_event *e))</td></tr>
<tr class="memdesc:a833b03a523fee9bde77af138a38e3dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">General purpose method for sending an Out-Of-Dialog SIP request.  <a href="#a833b03a523fee9bde77af138a38e3dfa">More...</a><br /></td></tr>
<tr class="separator:a833b03a523fee9bde77af138a38e3dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9302fd362f9d52147d928c5bc4740433"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9302fd362f9d52147d928c5bc4740433">ast_sip_send_request</a> (pjsip_tx_data *tdata, struct pjsip_dialog *dlg, struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, void *token, void(*callback)(void *token, pjsip_event *e))</td></tr>
<tr class="memdesc:a9302fd362f9d52147d928c5bc4740433"><td class="mdescLeft">&#160;</td><td class="mdescRight">General purpose method for sending a SIP request.  <a href="#a9302fd362f9d52147d928c5bc4740433">More...</a><br /></td></tr>
<tr class="separator:a9302fd362f9d52147d928c5bc4740433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23dc9da0cb0fd4ea9d64fb9901c254a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a23dc9da0cb0fd4ea9d64fb9901c254a4">ast_sip_send_response</a> (pjsip_response_addr *res_addr, pjsip_tx_data *tdata, struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *sip_endpoint)</td></tr>
<tr class="memdesc:a23dc9da0cb0fd4ea9d64fb9901c254a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a response to an out of dialog request.  <a href="#a23dc9da0cb0fd4ea9d64fb9901c254a4">More...</a><br /></td></tr>
<tr class="separator:a23dc9da0cb0fd4ea9d64fb9901c254a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae207f7592aa7a69d0425a77bb8aa494d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae207f7592aa7a69d0425a77bb8aa494d">ast_sip_send_stateful_response</a> (pjsip_rx_data *rdata, pjsip_tx_data *tdata, struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *sip_endpoint)</td></tr>
<tr class="memdesc:ae207f7592aa7a69d0425a77bb8aa494d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a stateful response to an out of dialog request.  <a href="#ae207f7592aa7a69d0425a77bb8aa494d">More...</a><br /></td></tr>
<tr class="separator:ae207f7592aa7a69d0425a77bb8aa494d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d3bb8496e8ca801ce7e5ff204a28837"><td class="memItemLeft" align="right" valign="top">struct ast_sip_service_route_vector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2d3bb8496e8ca801ce7e5ff204a28837">ast_sip_service_route_vector_alloc</a> (void)</td></tr>
<tr class="memdesc:a2d3bb8496e8ca801ce7e5ff204a28837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a vector of service routes.  <a href="#a2d3bb8496e8ca801ce7e5ff204a28837">More...</a><br /></td></tr>
<tr class="separator:a2d3bb8496e8ca801ce7e5ff204a28837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790e1a3ec85fd649e267eee830b565c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a790e1a3ec85fd649e267eee830b565c4">ast_sip_service_route_vector_destroy</a> (struct ast_sip_service_route_vector *service_routes)</td></tr>
<tr class="memdesc:a790e1a3ec85fd649e267eee830b565c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a vector of service routes.  <a href="#a790e1a3ec85fd649e267eee830b565c4">More...</a><br /></td></tr>
<tr class="separator:a790e1a3ec85fd649e267eee830b565c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41d89bd55a72ddfc32f657e6bc51908"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac41d89bd55a72ddfc32f657e6bc51908">ast_sip_set_outbound_proxy</a> (pjsip_tx_data *tdata, const char *proxy)</td></tr>
<tr class="memdesc:ac41d89bd55a72ddfc32f657e6bc51908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the outbound proxy for an outbound SIP message.  <a href="#ac41d89bd55a72ddfc32f657e6bc51908">More...</a><br /></td></tr>
<tr class="separator:ac41d89bd55a72ddfc32f657e6bc51908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c80b6cedcf4cc847f2b81ba6437337"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a74c80b6cedcf4cc847f2b81ba6437337">ast_sip_set_tpselector_from_ep_or_uri</a> (const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint, pjsip_sip_uri *sip_uri, pjsip_tpselector *selector)</td></tr>
<tr class="memdesc:a74c80b6cedcf4cc847f2b81ba6437337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets pjsip_tpselector from an endpoint or uri.  <a href="#a74c80b6cedcf4cc847f2b81ba6437337">More...</a><br /></td></tr>
<tr class="separator:a74c80b6cedcf4cc847f2b81ba6437337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d9aae56d12729bff60ac4f145db3fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a72d9aae56d12729bff60ac4f145db3fc">ast_sip_set_tpselector_from_transport</a> (const struct <a class="el" href="../../d1/d04/structast__sip__transport.html">ast_sip_transport</a> *transport, pjsip_tpselector *selector)</td></tr>
<tr class="memdesc:a72d9aae56d12729bff60ac4f145db3fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets pjsip_tpselector from <a class="el" href="../../d1/d04/structast__sip__transport.html" title="Transport to bind to. ">ast_sip_transport</a>.  <a href="#a72d9aae56d12729bff60ac4f145db3fc">More...</a><br /></td></tr>
<tr class="separator:a72d9aae56d12729bff60ac4f145db3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94b7c59f69d31b962e42098955f8fa4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ac94b7c59f69d31b962e42098955f8fa4">ast_sip_set_tpselector_from_transport_name</a> (const char *transport_name, pjsip_tpselector *selector)</td></tr>
<tr class="memdesc:ac94b7c59f69d31b962e42098955f8fa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets pjsip_tpselector from <a class="el" href="../../d1/d04/structast__sip__transport.html" title="Transport to bind to. ">ast_sip_transport</a>.  <a href="#ac94b7c59f69d31b962e42098955f8fa4">More...</a><br /></td></tr>
<tr class="separator:ac94b7c59f69d31b962e42098955f8fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab105b4d8cca635ce7aeed34c4543ab54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab105b4d8cca635ce7aeed34c4543ab54">ast_sip_sorcery_object_to_ami</a> (const void *obj, struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="memdesc:ab105b4d8cca635ce7aeed34c4543ab54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a sorcery object to a string of object properties.  <a href="#ab105b4d8cca635ce7aeed34c4543ab54">More...</a><br /></td></tr>
<tr class="separator:ab105b4d8cca635ce7aeed34c4543ab54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca3189197cd95ee5ba26bb695fd6078"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#acca3189197cd95ee5ba26bb695fd6078">ast_sip_str_to_dtmf</a> (const char *dtmf_mode)</td></tr>
<tr class="memdesc:acca3189197cd95ee5ba26bb695fd6078"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the DTMF mode name into an enum.  <a href="#acca3189197cd95ee5ba26bb695fd6078">More...</a><br /></td></tr>
<tr class="separator:acca3189197cd95ee5ba26bb695fd6078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77c1258c88c9e98d907a2299934d8de1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfa/group__pjsip__threading.html#ga77c1258c88c9e98d907a2299934d8de1">ast_sip_thread_is_servant</a> (void)</td></tr>
<tr class="memdesc:ga77c1258c88c9e98d907a2299934d8de1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the current thread is a SIP servant thread.  <a href="../../d7/dfa/group__pjsip__threading.html#ga77c1258c88c9e98d907a2299934d8de1">More...</a><br /></td></tr>
<tr class="separator:ga77c1258c88c9e98d907a2299934d8de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b2e65f1281b71eae7dbf27972e99a8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d5/d10/structast__threadpool.html">ast_threadpool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a00b2e65f1281b71eae7dbf27972e99a8">ast_sip_threadpool</a> (void)</td></tr>
<tr class="memdesc:a00b2e65f1281b71eae7dbf27972e99a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the SIP threadpool object.  <a href="#a00b2e65f1281b71eae7dbf27972e99a8">More...</a><br /></td></tr>
<tr class="separator:a00b2e65f1281b71eae7dbf27972e99a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93df45b17946f91f1300227febf89a73"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a93df45b17946f91f1300227febf89a73">ast_sip_threadpool_queue_size</a> (void)</td></tr>
<tr class="memdesc:a93df45b17946f91f1300227febf89a73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the size of the SIP threadpool's task queue.  <a href="#a93df45b17946f91f1300227febf89a73">More...</a><br /></td></tr>
<tr class="separator:a93df45b17946f91f1300227febf89a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1ef995698ba16cad6608225b8de946"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9e1ef995698ba16cad6608225b8de946">ast_sip_tpselector_unref</a> (pjsip_tpselector *selector)</td></tr>
<tr class="memdesc:a9e1ef995698ba16cad6608225b8de946"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unreference a pjsip_tpselector.  <a href="#a9e1ef995698ba16cad6608225b8de946">More...</a><br /></td></tr>
<tr class="separator:a9e1ef995698ba16cad6608225b8de946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee14820d45bd0be318822580b5a8b59"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38">ast_transport_monitor_reg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aaee14820d45bd0be318822580b5a8b59">ast_sip_transport_monitor_register</a> (pjsip_transport *transport, <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab796e8903e7cf1836adc07b01df7e4a1">ast_transport_monitor_shutdown_cb</a> cb, void *ao2_data)</td></tr>
<tr class="memdesc:aaee14820d45bd0be318822580b5a8b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a reliable transport shutdown monitor callback.  <a href="#aaee14820d45bd0be318822580b5a8b59">More...</a><br /></td></tr>
<tr class="separator:aaee14820d45bd0be318822580b5a8b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7ab353d9342e09fcb0520d3da15376"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38">ast_transport_monitor_reg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a5b7ab353d9342e09fcb0520d3da15376">ast_sip_transport_monitor_register_replace</a> (pjsip_transport *transport, <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab796e8903e7cf1836adc07b01df7e4a1">ast_transport_monitor_shutdown_cb</a> cb, void *ao2_data, <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a170e27cdfa504ce0a20244ae1a46439b">ast_transport_monitor_data_matcher</a> matches)</td></tr>
<tr class="memdesc:a5b7ab353d9342e09fcb0520d3da15376"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a reliable transport shutdown monitor callback replacing any duplicate.  <a href="#a5b7ab353d9342e09fcb0520d3da15376">More...</a><br /></td></tr>
<tr class="separator:a5b7ab353d9342e09fcb0520d3da15376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d73e049fbced1da4e3041d1656e0aa6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a5d73e049fbced1da4e3041d1656e0aa6">ast_sip_transport_monitor_unregister</a> (pjsip_transport *transport, <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab796e8903e7cf1836adc07b01df7e4a1">ast_transport_monitor_shutdown_cb</a> cb, void *data, <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a170e27cdfa504ce0a20244ae1a46439b">ast_transport_monitor_data_matcher</a> matches)</td></tr>
<tr class="memdesc:a5d73e049fbced1da4e3041d1656e0aa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a reliable transport shutdown monitor.  <a href="#a5d73e049fbced1da4e3041d1656e0aa6">More...</a><br /></td></tr>
<tr class="separator:a5d73e049fbced1da4e3041d1656e0aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e419c29ebfb010ca04b7c189c207bbd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a7e419c29ebfb010ca04b7c189c207bbd">ast_sip_transport_monitor_unregister_all</a> (<a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab796e8903e7cf1836adc07b01df7e4a1">ast_transport_monitor_shutdown_cb</a> cb, void *data, <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a170e27cdfa504ce0a20244ae1a46439b">ast_transport_monitor_data_matcher</a> matches)</td></tr>
<tr class="memdesc:a7e419c29ebfb010ca04b7c189c207bbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a transport shutdown monitor from all reliable transports.  <a href="#a7e419c29ebfb010ca04b7c189c207bbd">More...</a><br /></td></tr>
<tr class="separator:a7e419c29ebfb010ca04b7c189c207bbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e5c44ee9690761368571915b3f4d451"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a3e5c44ee9690761368571915b3f4d451">ast_sip_transport_state_register</a> (struct <a class="el" href="../../d0/d35/structast__sip__tpmgr__state__callback.html">ast_sip_tpmgr_state_callback</a> *element)</td></tr>
<tr class="memdesc:a3e5c44ee9690761368571915b3f4d451"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a transport state notification callback element.  <a href="#a3e5c44ee9690761368571915b3f4d451">More...</a><br /></td></tr>
<tr class="separator:a3e5c44ee9690761368571915b3f4d451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae885353b1f44a15a8a828864561de00c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae885353b1f44a15a8a828864561de00c">ast_sip_transport_state_set_preferred_identity</a> (const char *transport_name, const char *identity)</td></tr>
<tr class="memdesc:ae885353b1f44a15a8a828864561de00c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the P-Preferred-Identity on a child transport.  <a href="#ae885353b1f44a15a8a828864561de00c">More...</a><br /></td></tr>
<tr class="separator:ae885353b1f44a15a8a828864561de00c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb302970b725b934e07bbda28c9e4f23"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#afb302970b725b934e07bbda28c9e4f23">ast_sip_transport_state_set_service_routes</a> (const char *transport_name, struct ast_sip_service_route_vector *service_routes)</td></tr>
<tr class="memdesc:afb302970b725b934e07bbda28c9e4f23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the service routes on a child transport.  <a href="#afb302970b725b934e07bbda28c9e4f23">More...</a><br /></td></tr>
<tr class="separator:afb302970b725b934e07bbda28c9e4f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1690d1107c614d4eb2853d96c55062"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a1b1690d1107c614d4eb2853d96c55062">ast_sip_transport_state_set_transport</a> (const char *transport_name, pjsip_transport *transport)</td></tr>
<tr class="memdesc:a1b1690d1107c614d4eb2853d96c55062"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the PJSIP transport on a child transport.  <a href="#a1b1690d1107c614d4eb2853d96c55062">More...</a><br /></td></tr>
<tr class="separator:a1b1690d1107c614d4eb2853d96c55062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab34e363e7d16a3b96ab9b2a9e6d0f285"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab34e363e7d16a3b96ab9b2a9e6d0f285">ast_sip_transport_state_unregister</a> (struct <a class="el" href="../../d0/d35/structast__sip__tpmgr__state__callback.html">ast_sip_tpmgr_state_callback</a> *element)</td></tr>
<tr class="memdesc:ab34e363e7d16a3b96ab9b2a9e6d0f285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a transport state notification callback element.  <a href="#ab34e363e7d16a3b96ab9b2a9e6d0f285">More...</a><br /></td></tr>
<tr class="separator:ab34e363e7d16a3b96ab9b2a9e6d0f285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa30d3e04f251038795393bbd08e75f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8fa30d3e04f251038795393bbd08e75f">ast_sip_unregister_authenticator</a> (struct <a class="el" href="../../d9/de9/structast__sip__authenticator.html">ast_sip_authenticator</a> *auth)</td></tr>
<tr class="memdesc:a8fa30d3e04f251038795393bbd08e75f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a SIP authenticator.  <a href="#a8fa30d3e04f251038795393bbd08e75f">More...</a><br /></td></tr>
<tr class="separator:a8fa30d3e04f251038795393bbd08e75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3ce86eac2bb4697e59839b6020b9712"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa3ce86eac2bb4697e59839b6020b9712">ast_sip_unregister_endpoint_formatter</a> (struct <a class="el" href="../../d6/d30/structast__sip__endpoint__formatter.html">ast_sip_endpoint_formatter</a> *obj)</td></tr>
<tr class="memdesc:aa3ce86eac2bb4697e59839b6020b9712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister an endpoint formatter.  <a href="#aa3ce86eac2bb4697e59839b6020b9712">More...</a><br /></td></tr>
<tr class="separator:aa3ce86eac2bb4697e59839b6020b9712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba7488bde246be405e2e376f18107ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a7ba7488bde246be405e2e376f18107ab">ast_sip_unregister_endpoint_identifier</a> (struct <a class="el" href="../../d0/d97/structast__sip__endpoint__identifier.html">ast_sip_endpoint_identifier</a> *identifier)</td></tr>
<tr class="memdesc:a7ba7488bde246be405e2e376f18107ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a SIP endpoint identifier.  <a href="#a7ba7488bde246be405e2e376f18107ab">More...</a><br /></td></tr>
<tr class="separator:a7ba7488bde246be405e2e376f18107ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7f20f3df296fe384f405c5e5a2995a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a5a7f20f3df296fe384f405c5e5a2995a">ast_sip_unregister_outbound_authenticator</a> (struct <a class="el" href="../../d0/dc2/structast__sip__outbound__authenticator.html">ast_sip_outbound_authenticator</a> *auth)</td></tr>
<tr class="memdesc:a5a7f20f3df296fe384f405c5e5a2995a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister an outbound SIP authenticator.  <a href="#a5a7f20f3df296fe384f405c5e5a2995a">More...</a><br /></td></tr>
<tr class="separator:a5a7f20f3df296fe384f405c5e5a2995a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15aa09d9084763cdd20b7467a4cd381a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a15aa09d9084763cdd20b7467a4cd381a">ast_sip_unregister_service</a> (pjsip_module *module)</td></tr>
<tr class="separator:a15aa09d9084763cdd20b7467a4cd381a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0447e416567fdecaeef948338493d571"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a0447e416567fdecaeef948338493d571">ast_sip_unregister_supplement</a> (struct <a class="el" href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a> *supplement)</td></tr>
<tr class="memdesc:a0447e416567fdecaeef948338493d571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a an supplement to SIP out of dialog processing.  <a href="#a0447e416567fdecaeef948338493d571">More...</a><br /></td></tr>
<tr class="separator:a0447e416567fdecaeef948338493d571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f08c5bda4cb27c8ef42a64418f8838d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a0f08c5bda4cb27c8ef42a64418f8838d">AST_VECTOR</a> (ast_sip_service_route_vector, char *)</td></tr>
<tr class="separator:a0f08c5bda4cb27c8ef42a64418f8838d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f28dbcdd30391427187ba0a62fc3272"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a3f28dbcdd30391427187ba0a62fc3272">AST_VECTOR</a> (ast_sip_auth_objects_vector, struct <a class="el" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> *)</td></tr>
<tr class="memdesc:a3f28dbcdd30391427187ba0a62fc3272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve relevant SIP auth structures from sorcery as a vector.  <a href="#a3f28dbcdd30391427187ba0a62fc3272">More...</a><br /></td></tr>
<tr class="separator:a3f28dbcdd30391427187ba0a62fc3272"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9a1e39bb4db68bc2768dc43cc3d38149"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1e39bb4db68bc2768dc43cc3d38149">&#9670;&nbsp;</a></span>ast_sip_cleanup_auth_objects_vector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sip_cleanup_auth_objects_vector</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">auth_objects</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a>(auth_objects, <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up retrieved auth objects in vector. </p>
<p>Call this function once you have completed operating on auths retrieved from <a class="el" href="../../dc/df6/pjsip__configuration_8c.html#aa470ba4d30d13a73a7f161fefcbd9ecc">ast_sip_retrieve_auths_vector</a>. All auth objects will have their reference counts decremented and the vector size will be reset to 0. You must still call <a class="el" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d" title="Deallocates this vector. ">AST_VECTOR_FREE()</a> on the vector itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">auth_objects</td><td>A vector of auth structures to clean up </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02538">2538</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d61/res__pjsip__outbound__authenticator__digest_8c_source.html#l00410">digest_create_request_with_auth()</a>.</p>

</div>
</div>
<a id="aad194ead974937834375b0ac8d37a7c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad194ead974937834375b0ac8d37a7c2">&#9670;&nbsp;</a></span>ast_sip_mod_data_get</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sip_mod_data_get</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">key&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../de/d96/res__pjsip_8c.html#a6245a7a570f7e3909edc946b5584fb9a">ast_sip_dict_get</a>(<a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>[<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>], key)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Using the dictionary stored in mod_data array at a given id, retrieve the value associated with the given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod_data</td><td>a module data array </td></tr>
    <tr><td class="paramname">id</td><td>the mod_data array index </td></tr>
    <tr><td class="paramname">key</td><td>the key to find</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>value associated with the key, NULL otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02638">2638</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04993">ast_sip_send_out_of_dialog_request()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05420">ast_sip_send_stateful_response()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01854">ast_sip_subscription_get_header()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01465">create_subscription_tree()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00225">filter_on_tx_message()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00056">get_restrictions()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l04731">session_inv_on_tsx_state_changed()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05457">session_outgoing_nat_hook()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02606">sip_subscription_accept()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05385">supplement_outgoing_response()</a>.</p>

</div>
</div>
<a id="a9937f98867d28da0cc0e8590d9c9ffa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9937f98867d28da0cc0e8590d9c9ffa4">&#9670;&nbsp;</a></span>ast_sip_mod_data_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sip_mod_data_set</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">key, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>[<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>] = <a class="el" href="../../de/d96/res__pjsip_8c.html#acd2eda720356f96b1d56a95321502eeb">ast_sip_dict_set</a>(<a class="el" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, <a class="el" href="../../d2/db7/ael__main_8c.html#a608bc6c53f81c381e437df5651a79b0d">mod_data</a>[<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>], key, <a class="el" href="../../d5/d85/structval.html">val</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utilizing a mod_data array for a given id, set the value associated with the given key. </p>
<p>For a given structure's mod_data array set the element indexed by id to be a dictionary containing the key/val pair.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>a memory allocation pool </td></tr>
    <tr><td class="paramname">mod_data</td><td>a module data array </td></tr>
    <tr><td class="paramname">id</td><td>the mod_data array index </td></tr>
    <tr><td class="paramname">key</td><td>the key to find </td></tr>
    <tr><td class="paramname">val</td><td>the value to associate with a key </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02670">2670</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05448">ast_sip_create_response()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04993">ast_sip_send_out_of_dialog_request()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05420">ast_sip_send_stateful_response()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02818">ast_sip_session_send_request_with_cb()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04380">create_out_of_dialog_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01465">create_subscription_tree()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00056">get_restrictions()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05457">session_outgoing_nat_hook()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01556">sub_persistence_recreate()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05385">supplement_outgoing_response()</a>.</p>

</div>
</div>
<a id="af1f1558eb7c730d0f51b7832568c9c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1f1558eb7c730d0f51b7832568c9c90">&#9670;&nbsp;</a></span>ast_sip_transport_is_local</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sip_transport_is_local</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">transport_state, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(transport_state-&gt;localnet &amp;&amp; <a class="el" href="../../d9/db8/acl_8c.html#aa5049380ffb26d76d2f236d886964aac">ast_apply_ha</a>(transport_state-&gt;localnet, addr) != <a class="el" href="../../d5/d59/acl_8h.html#a764d04fe9485be95771e652dc2c87445aa0513e1a62f9d6275b8f3667b7dff6d2">AST_SENSE_ALLOW</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00165">165</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dc3/res__pjsip__nat_8c_source.html#l00365">process_nat()</a>, and <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05457">session_outgoing_nat_hook()</a>.</p>

</div>
</div>
<a id="aad3d1a24de38be6bb5ca698b672b65aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3d1a24de38be6bb5ca698b672b65aa">&#9670;&nbsp;</a></span>ast_sip_transport_is_nonlocal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_sip_transport_is_nonlocal</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">transport_state, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(!transport_state-&gt;localnet || <a class="el" href="../../d9/db8/acl_8c.html#aa5049380ffb26d76d2f236d886964aac">ast_apply_ha</a>(transport_state-&gt;localnet, addr) == <a class="el" href="../../d5/d59/acl_8h.html#a764d04fe9485be95771e652dc2c87445aa0513e1a62f9d6275b8f3667b7dff6d2">AST_SENSE_ALLOW</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00162">162</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l02226">change_outgoing_sdp_stream_media_address()</a>.</p>

</div>
</div>
<a id="a6bb5769d100d0348446c7f032eca58c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb5769d100d0348446c7f032eca58c1">&#9670;&nbsp;</a></span>AST_SIP_USER_OPTIONS_TRUNCATE_CHECK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_SIP_USER_OPTIONS_TRUNCATE_CHECK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Truncate the URI user field options string if enabled. </p>
<dl class="section since"><dt>Since</dt><dd>13.12.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>URI user field string to truncate if enabled</td></tr>
  </table>
  </dd>
</dl>
<p>We need to be able to handle URI's looking like "sip:1235557890;phone-context=national@x.x.x.x;user=phone"</p>
<p>Where the URI user field is: "1235557890;phone-context=national"</p>
<p>When truncated the string will become: "1235557890" </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l03036">3036</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d91/res__pjsip__path_8c_source.html#l00039">find_aor()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03666">get_destination()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00505">handle_atsign()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00268">options_on_rx_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03214">publish_request_initial()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02969">pubsub_on_rx_subscribe_request()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00886">refer_incoming_blind_request()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01035">rx_data_to_ast_msg()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05395">session_inv_on_redirected()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01556">sub_persistence_recreate()</a>, and <a class="el" href="../../d9/d24/res__pjsip__endpoint__identifier__user_8c_source.html#l00132">username_identify()</a>.</p>

</div>
</div>
<a id="a643c3def003b3009563b8427d10ed0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a643c3def003b3009563b8427d10ed0d6">&#9670;&nbsp;</a></span>AST_SIP_X_AST_TXP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_SIP_X_AST_TXP&#160;&#160;&#160;&quot;x-ast-txp&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>URI parameter for symmetric transport </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00909">909</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03762">ast_sip_get_transport_name()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00505">on_rx_process_symmetric_transport()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00185">sanitize_tdata()</a>, and <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00632">transport_apply()</a>.</p>

</div>
</div>
<a id="ada35df7749f7a33221d126acc6e13b57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada35df7749f7a33221d126acc6e13b57">&#9670;&nbsp;</a></span>AST_SIP_X_AST_TXP_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_SIP_X_AST_TXP_LEN&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00910">910</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03762">ast_sip_get_transport_name()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00505">on_rx_process_symmetric_transport()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00185">sanitize_tdata()</a>, and <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00632">transport_apply()</a>.</p>

</div>
</div>
<a id="ad20119f55c48a211b2a552abdcada8ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20119f55c48a211b2a552abdcada8ea">&#9670;&nbsp;</a></span>MAX_RX_CHALLENGES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_RX_CHALLENGES&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of challenges before assuming that we are in a loop </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00080">80</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04894">check_request_status()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03231">outbound_invite_auth()</a>, and <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l04731">session_inv_on_tsx_state_changed()</a>.</p>

</div>
</div>
<a id="acd4517938f2afe11a1c6f372e28090a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd4517938f2afe11a1c6f372e28090a5">&#9670;&nbsp;</a></span>PJSIP_EXPIRES_NOT_SPECIFIED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJSIP_EXPIRES_NOT_SPECIFIED&#160;&#160;&#160;((pj_uint32_t)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00063">63</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02929">initial_notify_task()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02969">pubsub_on_rx_subscribe_request()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00223">registrar_add_contact()</a>, and <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00084">registrar_get_expiration()</a>.</p>

</div>
</div>
<a id="a42797ae21646a555dce046bf321b96fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42797ae21646a555dce046bf321b96fe">&#9670;&nbsp;</a></span>PJSIP_MINVERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJSIP_MINVERSION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((m &lt;&lt; 24) | (n &lt;&lt; 16) | (p &lt;&lt; 8)) &gt;= PJ_VERSION_NUM)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00054">54</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

</div>
</div>
<a id="ae7389c6e13c38cb4e52ba18ac5ae7c4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7389c6e13c38cb4e52ba18ac5ae7c4f">&#9670;&nbsp;</a></span>SIP_SORCERY_DOMAIN_ALIAS_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIP_SORCERY_DOMAIN_ALIAS_TYPE&#160;&#160;&#160;&quot;domain_alias&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00254">254</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00071">ast_sip_initialize_sorcery_domain_alias()</a>, and <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00054">domain_alias_apply()</a>.</p>

</div>
</div>
<a id="a86d9c20bf53e5967f0eccf3f841f21be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d9c20bf53e5967f0eccf3f841f21be">&#9670;&nbsp;</a></span>SIP_TLS_MAX_CIPHERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIP_TLS_MAX_CIPHERS&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of ciphers supported for a TLS transport. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00077">77</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="adc70d746facfe5192c21846fb4389659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc70d746facfe5192c21846fb4389659">&#9670;&nbsp;</a></span>ast_sip_dialog_outbound_auth_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ast_sip_dialog_outbound_auth_cb) (pjsip_dialog *dlg, pjsip_tx_data *tdata, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback called when an outbound request with authentication credentials is to be sent in dialog. </p>
<p>This callback will have the created request on it. The callback's purpose is to do any extra housekeeping that needs to be done as well as to send the request out.</p>
<p>This callback is only necessary if working with a PJSIP API that sits between the application and the dialog layer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dlg</td><td>The dialog to which the request belongs </td></tr>
    <tr><td class="paramname">tdata</td><td>The created request to be sent out </td></tr>
    <tr><td class="paramname">user_data</td><td>Data supplied with the callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l01468">1468</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

</div>
</div>
<a id="a170e27cdfa504ce0a20244ae1a46439b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a170e27cdfa504ce0a20244ae1a46439b">&#9670;&nbsp;</a></span>ast_transport_monitor_data_matcher</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ast_transport_monitor_data_matcher) (void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, void *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transport shutdown monitor data matcher. </p>
<dl class="section since"><dt>Since</dt><dd>13.20.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>User data to compare. </td></tr>
    <tr><td class="paramname">b</td><td>User data to compare.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>The data objects match </td></tr>
    <tr><td class="paramname">0</td><td>The data objects don't match </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l03457">3457</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

</div>
</div>
<a id="ab796e8903e7cf1836adc07b01df7e4a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab796e8903e7cf1836adc07b01df7e4a1">&#9670;&nbsp;</a></span>ast_transport_monitor_shutdown_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ast_transport_monitor_shutdown_cb) (void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transport shutdown monitor callback. </p>
<dl class="section since"><dt>Since</dt><dd>13.18.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>User data to know what to do when transport shuts down.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The callback does not need to care that data is an ao2 object.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l03445">3445</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ab5b75b4bdba91e178731511c7fa659cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b75b4bdba91e178731511c7fa659cd">&#9670;&nbsp;</a></span>ast_sip_auth_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cd">ast_sip_auth_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Methods of storing SIP digest authentication credentials. </p>
<p>Note that both methods result in MD5 digest authentication being used. The two methods simply alter how Asterisk determines the credentials for a SIP authentication </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab5b75b4bdba91e178731511c7fa659cdacb1470ed32c61ab7bf30cccb2887ed2b"></a>AST_SIP_AUTH_TYPE_USER_PASS&#160;</td><td class="fielddoc"><p>Credentials stored as a username and password combination </p>
</td></tr>
<tr><td class="fieldname"><a id="ab5b75b4bdba91e178731511c7fa659cdabbc9332fb29a5f57bc4a9b6c39c3d553"></a>AST_SIP_AUTH_TYPE_MD5&#160;</td><td class="fielddoc"><p>Credentials stored as an MD5 sum </p>
</td></tr>
<tr><td class="fieldname"><a id="ab5b75b4bdba91e178731511c7fa659cda0d8d8506a624618324fd18bb4a7e7079"></a>AST_SIP_AUTH_TYPE_GOOGLE_OAUTH&#160;</td><td class="fielddoc"><p>Google Oauth </p>
</td></tr>
<tr><td class="fieldname"><a id="ab5b75b4bdba91e178731511c7fa659cda662c2f6a25954136d58f73a6e7940501"></a>AST_SIP_AUTH_TYPE_ARTIFICIAL&#160;</td><td class="fielddoc"><p>Credentials not stored this is a fake auth </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00431">431</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                       {<span class="comment"></span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">   /*! Credentials stored as a username and password combination */</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cdacb1470ed32c61ab7bf30cccb2887ed2b">AST_SIP_AUTH_TYPE_USER_PASS</a>,<span class="comment"></span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">   /*! Credentials stored as an MD5 sum */</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cdabbc9332fb29a5f57bc4a9b6c39c3d553">AST_SIP_AUTH_TYPE_MD5</a>,<span class="comment"></span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">   /*! Google Oauth */</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cda0d8d8506a624618324fd18bb4a7e7079">AST_SIP_AUTH_TYPE_GOOGLE_OAUTH</a>,<span class="comment"></span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">   /*! Credentials not stored this is a fake auth */</span></div><div class="ttc" id="res__pjsip_8h_html_ab5b75b4bdba91e178731511c7fa659cdacb1470ed32c61ab7bf30cccb2887ed2b"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cdacb1470ed32c61ab7bf30cccb2887ed2b">AST_SIP_AUTH_TYPE_USER_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00433">res_pjsip.h:433</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ab5b75b4bdba91e178731511c7fa659cda0d8d8506a624618324fd18bb4a7e7079"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cda0d8d8506a624618324fd18bb4a7e7079">AST_SIP_AUTH_TYPE_GOOGLE_OAUTH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00437">res_pjsip.h:437</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ab5b75b4bdba91e178731511c7fa659cdabbc9332fb29a5f57bc4a9b6c39c3d553"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cdabbc9332fb29a5f57bc4a9b6c39c3d553">AST_SIP_AUTH_TYPE_MD5</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00435">res_pjsip.h:435</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7380769212cae6b6305119ed93ebddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7380769212cae6b6305119ed93ebddc">&#9670;&nbsp;</a></span>ast_sip_call_codec_pref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddc">ast_sip_call_codec_pref</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Incoming/Outgoing call offer/answer joint codec preference. </p>
<p>The default is INTERSECT ALL LOCAL. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2"></a>AST_SIP_CALL_CODEC_PREF_INTERSECT&#160;</td><td class="fielddoc"><p>Two bits for merge</p>
<p>Intersection of local and remote </p>
</td></tr>
<tr><td class="fieldname"><a id="ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139"></a>AST_SIP_CALL_CODEC_PREF_UNION&#160;</td><td class="fielddoc"><p>Union of local and remote </p>
</td></tr>
<tr><td class="fieldname"><a id="ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7"></a>AST_SIP_CALL_CODEC_PREF_ALL&#160;</td><td class="fielddoc"><p>Two bits for filter</p>
<p>No filter </p>
</td></tr>
<tr><td class="fieldname"><a id="ad7380769212cae6b6305119ed93ebddcac2236d2a2411718e7356980d5b527cb0"></a>AST_SIP_CALL_CODEC_PREF_FIRST&#160;</td><td class="fielddoc"><p>Only the first </p>
</td></tr>
<tr><td class="fieldname"><a id="ad7380769212cae6b6305119ed93ebddca113b16d3699e4ed2aaefc0446ab24a19"></a>AST_SIP_CALL_CODEC_PREF_LOCAL&#160;</td><td class="fielddoc"><p>Two bits for preference and sort</p>
<p>Prefer, and order by local values </p>
</td></tr>
<tr><td class="fieldname"><a id="ad7380769212cae6b6305119ed93ebddca7f7ec01671e26b6aae53c93dd78d39e2"></a>AST_SIP_CALL_CODEC_PREF_REMOTE&#160;</td><td class="fielddoc"><p>Prefer, and order by remote values </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00529">529</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                             {<span class="comment"></span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">   /*! Two bits for merge */</span><span class="comment"></span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">   /*! Intersection of local and remote */</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2">AST_SIP_CALL_CODEC_PREF_INTERSECT</a> = 1 &lt;&lt; 0,<span class="comment"></span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">   /*! Union of local and remote */</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139">AST_SIP_CALL_CODEC_PREF_UNION</a> =     1 &lt;&lt; 1,</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">   /*! Two bits for filter */</span><span class="comment"></span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">   /*! No filter */</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7">AST_SIP_CALL_CODEC_PREF_ALL</a> =    1 &lt;&lt; 2,<span class="comment"></span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">   /*! Only the first */</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcac2236d2a2411718e7356980d5b527cb0">AST_SIP_CALL_CODEC_PREF_FIRST</a> =  1 &lt;&lt; 3,</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">   /*! Two bits for preference and sort   */</span><span class="comment"></span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">   /*! Prefer, and order by local values */</span></div><div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7">AST_SIP_CALL_CODEC_PREF_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00538">res_pjsip.h:538</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139">AST_SIP_CALL_CODEC_PREF_UNION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00534">res_pjsip.h:534</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddcac2236d2a2411718e7356980d5b527cb0"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcac2236d2a2411718e7356980d5b527cb0">AST_SIP_CALL_CODEC_PREF_FIRST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00540">res_pjsip.h:540</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2">AST_SIP_CALL_CODEC_PREF_INTERSECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00532">res_pjsip.h:532</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4af2859e259268e0e51d74b524ac397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4af2859e259268e0e51d74b524ac397">&#9670;&nbsp;</a></span>ast_sip_check_auth_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397">ast_sip_check_auth_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible returns from ast_sip_check_authentication. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ad4af2859e259268e0e51d74b524ac397a39aaed66adb496e856458909ecdf5446"></a>AST_SIP_AUTHENTICATION_CHALLENGE&#160;</td><td class="fielddoc"><p>Authentication needs to be challenged </p>
</td></tr>
<tr><td class="fieldname"><a id="ad4af2859e259268e0e51d74b524ac397aa0871afe29e292ca48bcb0b1be287452"></a>AST_SIP_AUTHENTICATION_SUCCESS&#160;</td><td class="fielddoc"><p>Authentication succeeded </p>
</td></tr>
<tr><td class="fieldname"><a id="ad4af2859e259268e0e51d74b524ac397aa6a63fc1f7fe3fb15d1a957f8ec0cb9c"></a>AST_SIP_AUTHENTICATION_FAILED&#160;</td><td class="fielddoc"><p>Authentication failed </p>
</td></tr>
<tr><td class="fieldname"><a id="ad4af2859e259268e0e51d74b524ac397a9e45ea0dd227514e5e8b420da03e9742"></a>AST_SIP_AUTHENTICATION_ERROR&#160;</td><td class="fielddoc"><p>Authentication encountered some internal error </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00932">932</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                               {</div></div><!-- fragment -->
</div>
</div>
<a id="a8eecba6db028d0775d3208ed8b74926e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eecba6db028d0775d3208ed8b74926e">&#9670;&nbsp;</a></span>ast_sip_contact_filter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926e">ast_sip_contact_filter</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contact retrieval filtering flags. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7"></a>AST_SIP_CONTACT_FILTER_DEFAULT&#160;</td><td class="fielddoc"><p>Default filter flags. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8eecba6db028d0775d3208ed8b74926ea517c167e994d3131efdf30ef399c8e75"></a>AST_SIP_CONTACT_FILTER_REACHABLE&#160;</td><td class="fielddoc"><p>Return only reachable or unknown contacts. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l01004">1004</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                                   {<span class="comment"></span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">    /*!</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">     * \brief Callback used to identify the source of a message.</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">     * See ast_sip_identify_endpoint for more details</span></div></div><!-- fragment -->
</div>
</div>
<a id="ae2fef680782a871477d295a4df2126a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2fef680782a871477d295a4df2126a3">&#9670;&nbsp;</a></span>ast_sip_contact_status_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3">ast_sip_contact_status_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status type for a contact. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae2fef680782a871477d295a4df2126a3a3fde93396dcd04d746a8cd3b6b5914bb"></a>UNAVAILABLE&#160;</td><td class="fielddoc"><p>Frequency &gt; 0, but no response from remote uri </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2fef680782a871477d295a4df2126a3a1e229ccb8b53a57de4ebb11c2d15272e"></a>AVAILABLE&#160;</td><td class="fielddoc"><p>Frequency &gt; 0, and got response from remote uri </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2fef680782a871477d295a4df2126a3a6ce26a62afab55d7606ad4e92428b30c"></a>UNKNOWN&#160;</td><td class="fielddoc"><p>Default last status, and when a contact status object is not found </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2fef680782a871477d295a4df2126a3aa387e4668dfb404ce73595c772d57144"></a>CREATED&#160;</td><td class="fielddoc"><p>Frequency == 0, has a contact, but don't know status (non-qualified) </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2fef680782a871477d295a4df2126a3a4e9ac82e8594184cb2fb8a4ef86df12d"></a>REMOVED&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00323">323</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                 {<span class="comment"></span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">   /*! Frequency &gt; 0, but no response from remote uri */</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a3fde93396dcd04d746a8cd3b6b5914bb">UNAVAILABLE</a>,<span class="comment"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">   /*! Frequency &gt; 0, and got response from remote uri */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a1e229ccb8b53a57de4ebb11c2d15272e">AVAILABLE</a>,<span class="comment"></span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">   /*! Default last status, and when a contact status object is not found */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a6ce26a62afab55d7606ad4e92428b30c">UNKNOWN</a>,<span class="comment"></span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">   /*! Frequency == 0, has a contact, but don&#39;t know status (non-qualified) */</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3aa387e4668dfb404ce73595c772d57144">CREATED</a>,</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a4e9ac82e8594184cb2fb8a4ef86df12d">REMOVED</a>,</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;};</div><div class="ttc" id="res__pjsip_8h_html_ae2fef680782a871477d295a4df2126a3a4e9ac82e8594184cb2fb8a4ef86df12d"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a4e9ac82e8594184cb2fb8a4ef86df12d">REMOVED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00332">res_pjsip.h:332</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ae2fef680782a871477d295a4df2126a3a6ce26a62afab55d7606ad4e92428b30c"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a6ce26a62afab55d7606ad4e92428b30c">UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00329">res_pjsip.h:329</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ae2fef680782a871477d295a4df2126a3a1e229ccb8b53a57de4ebb11c2d15272e"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a1e229ccb8b53a57de4ebb11c2d15272e">AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00327">res_pjsip.h:327</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ae2fef680782a871477d295a4df2126a3a3fde93396dcd04d746a8cd3b6b5914bb"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a3fde93396dcd04d746a8cd3b6b5914bb">UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00325">res_pjsip.h:325</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ae2fef680782a871477d295a4df2126a3aa387e4668dfb404ce73595c772d57144"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3aa387e4668dfb404ce73595c772d57144">CREATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00331">res_pjsip.h:331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af0d80814b235fcc050fda52376de2b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0d80814b235fcc050fda52376de2b65">&#9670;&nbsp;</a></span>ast_sip_direct_media_glare_mitigation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#af0d80814b235fcc050fda52376de2b65">ast_sip_direct_media_glare_mitigation</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af0d80814b235fcc050fda52376de2b65a1b974f79e278c86dc78e77564e7e931c"></a>AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_NONE&#160;</td><td class="fielddoc"><p>Take no special action to mitigate reinvite glare </p>
</td></tr>
<tr><td class="fieldname"><a id="af0d80814b235fcc050fda52376de2b65ab67a92608203bb8760e72bd685553e0a"></a>AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_OUTGOING&#160;</td><td class="fielddoc"><p>Do not send an initial direct media session refresh on outgoing call legs Subsequent session refreshes will be sent no matter the session direction </p>
</td></tr>
<tr><td class="fieldname"><a id="af0d80814b235fcc050fda52376de2b65a644fdf45e1546b8fe00d5b083e618a43"></a>AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_INCOMING&#160;</td><td class="fielddoc"><p>Do not send an initial direct media session refresh on incoming call legs Subsequent session refreshes will be sent no matter the session direction </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00491">491</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                           {<span class="comment"></span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">   /*! Take no special action to mitigate reinvite glare */</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#af0d80814b235fcc050fda52376de2b65a1b974f79e278c86dc78e77564e7e931c">AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_NONE</a>,<span class="comment"></span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">   /*! Do not send an initial direct media session refresh on outgoing call legs</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">    * Subsequent session refreshes will be sent no matter the session direction</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#af0d80814b235fcc050fda52376de2b65ab67a92608203bb8760e72bd685553e0a">AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_OUTGOING</a>,<span class="comment"></span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">   /*! Do not send an initial direct media session refresh on incoming call legs</span></div><div class="ttc" id="res__pjsip_8h_html_af0d80814b235fcc050fda52376de2b65a1b974f79e278c86dc78e77564e7e931c"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#af0d80814b235fcc050fda52376de2b65a1b974f79e278c86dc78e77564e7e931c">AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00493">res_pjsip.h:493</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_af0d80814b235fcc050fda52376de2b65ab67a92608203bb8760e72bd685553e0a"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#af0d80814b235fcc050fda52376de2b65ab67a92608203bb8760e72bd685553e0a">AST_SIP_DIRECT_MEDIA_GLARE_MITIGATION_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00497">res_pjsip.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa545d9a3491f89266f1218b7a07bab1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa545d9a3491f89266f1218b7a07bab1f">&#9670;&nbsp;</a></span>ast_sip_dtmf_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1f">ast_sip_dtmf_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DTMF modes for SIP endpoints. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe"></a>AST_SIP_DTMF_NONE&#160;</td><td class="fielddoc"><p>No DTMF to be used </p>
</td></tr>
<tr><td class="fieldname"><a id="aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2"></a>AST_SIP_DTMF_RFC_4733&#160;</td><td class="fielddoc"><p>Use RFC 4733 events for DTMF </p>
</td></tr>
<tr><td class="fieldname"><a id="aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8"></a>AST_SIP_DTMF_INBAND&#160;</td><td class="fielddoc"><p>Use DTMF in the audio stream </p>
</td></tr>
<tr><td class="fieldname"><a id="aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d"></a>AST_SIP_DTMF_INFO&#160;</td><td class="fielddoc"><p>Use SIP INFO DTMF (blech) </p>
</td></tr>
<tr><td class="fieldname"><a id="aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b"></a>AST_SIP_DTMF_AUTO&#160;</td><td class="fielddoc"><p>Use SIP 4733 if supported by the other side or INBAND if not </p>
</td></tr>
<tr><td class="fieldname"><a id="aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728"></a>AST_SIP_DTMF_AUTO_INFO&#160;</td><td class="fielddoc"><p>Use SIP 4733 if supported by the other side or INFO DTMF (blech) if not </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00408">408</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                       {<span class="comment"></span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">   /*! No DTMF to be used */</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe">AST_SIP_DTMF_NONE</a>,</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <span class="comment">/* XXX Should this be 2833 instead? */</span><span class="comment"></span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">   /*! Use RFC 4733 events for DTMF */</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2">AST_SIP_DTMF_RFC_4733</a>,<span class="comment"></span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">   /*! Use DTMF in the audio stream */</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a>,<span class="comment"></span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">   /*! Use SIP INFO DTMF (blech) */</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d">AST_SIP_DTMF_INFO</a>,<span class="comment"></span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">   /*! Use SIP 4733 if supported by the other side or INBAND if not */</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a>,<span class="comment"></span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">   /*! Use SIP 4733 if supported by the other side or INFO DTMF (blech) if not */</span></div><div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d">AST_SIP_DTMF_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00417">res_pjsip.h:417</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00415">res_pjsip.h:415</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00419">res_pjsip.h:419</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2">AST_SIP_DTMF_RFC_4733</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00413">res_pjsip.h:413</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe">AST_SIP_DTMF_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00410">res_pjsip.h:410</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15f77bb3c5ec890ab41662c45a08f764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f77bb3c5ec890ab41662c45a08f764">&#9670;&nbsp;</a></span>ast_sip_endpoint_identifier_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764">ast_sip_endpoint_identifier_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Different methods by which incoming requests can be matched to endpoints. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a15f77bb3c5ec890ab41662c45a08f764abae64f41eb012cc76b0af79173298345"></a>AST_SIP_ENDPOINT_IDENTIFY_BY_USERNAME&#160;</td><td class="fielddoc"><p>Identify based on user name in From header </p>
</td></tr>
<tr><td class="fieldname"><a id="a15f77bb3c5ec890ab41662c45a08f764ad9cf563e8ed07f62531c5c7e89895839"></a>AST_SIP_ENDPOINT_IDENTIFY_BY_AUTH_USERNAME&#160;</td><td class="fielddoc"><p>Identify based on user name in Auth header first, then From header </p>
</td></tr>
<tr><td class="fieldname"><a id="a15f77bb3c5ec890ab41662c45a08f764ad29ed9cdfc5ef5a90874268aad2e69ec"></a>AST_SIP_ENDPOINT_IDENTIFY_BY_IP&#160;</td><td class="fielddoc"><p>Identify based on source IP address </p>
</td></tr>
<tr><td class="fieldname"><a id="a15f77bb3c5ec890ab41662c45a08f764a8b29590982b1b737e11e5c51a535a318"></a>AST_SIP_ENDPOINT_IDENTIFY_BY_HEADER&#160;</td><td class="fielddoc"><p>Identify based on arbitrary headers </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00472">472</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                      {<span class="comment"></span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">   /*! Identify based on user name in From header */</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764abae64f41eb012cc76b0af79173298345">AST_SIP_ENDPOINT_IDENTIFY_BY_USERNAME</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">   /*! Identify based on user name in Auth header first, then From header */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764ad9cf563e8ed07f62531c5c7e89895839">AST_SIP_ENDPOINT_IDENTIFY_BY_AUTH_USERNAME</a> = (1 &lt;&lt; 1),<span class="comment"></span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">   /*! Identify based on source IP address */</span></div><div class="ttc" id="res__pjsip_8h_html_a15f77bb3c5ec890ab41662c45a08f764ad9cf563e8ed07f62531c5c7e89895839"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764ad9cf563e8ed07f62531c5c7e89895839">AST_SIP_ENDPOINT_IDENTIFY_BY_AUTH_USERNAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00476">res_pjsip.h:476</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a15f77bb3c5ec890ab41662c45a08f764abae64f41eb012cc76b0af79173298345"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a15f77bb3c5ec890ab41662c45a08f764abae64f41eb012cc76b0af79173298345">AST_SIP_ENDPOINT_IDENTIFY_BY_USERNAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00474">res_pjsip.h:474</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a51357a376c62c160570d55f2aeb4a340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51357a376c62c160570d55f2aeb4a340">&#9670;&nbsp;</a></span>ast_sip_session_media_encryption</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340">ast_sip_session_media_encryption</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a51357a376c62c160570d55f2aeb4a340a4680ecc1ce34fe999aed4aebfd769d18"></a>AST_SIP_MEDIA_TRANSPORT_INVALID&#160;</td><td class="fielddoc"><p>Invalid media encryption configuration </p>
</td></tr>
<tr><td class="fieldname"><a id="a51357a376c62c160570d55f2aeb4a340ab12297b14ec910b415ada33cc9320f6f"></a>AST_SIP_MEDIA_ENCRYPT_NONE&#160;</td><td class="fielddoc"><p>Do not allow any encryption of session media </p>
</td></tr>
<tr><td class="fieldname"><a id="a51357a376c62c160570d55f2aeb4a340a292c74ef93ad10fe50ab7ad466b971bf"></a>AST_SIP_MEDIA_ENCRYPT_SDES&#160;</td><td class="fielddoc"><p>Offer SDES-encrypted session media </p>
</td></tr>
<tr><td class="fieldname"><a id="a51357a376c62c160570d55f2aeb4a340afea01c037980f6a2fb8769078b5f3210"></a>AST_SIP_MEDIA_ENCRYPT_DTLS&#160;</td><td class="fielddoc"><p>Offer encrypted session media with datagram TLS key exchange </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00504">504</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                      {<span class="comment"></span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">   /*! Invalid media encryption configuration */</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340a4680ecc1ce34fe999aed4aebfd769d18">AST_SIP_MEDIA_TRANSPORT_INVALID</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">   /*! Do not allow any encryption of session media */</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340ab12297b14ec910b415ada33cc9320f6f">AST_SIP_MEDIA_ENCRYPT_NONE</a>,<span class="comment"></span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">   /*! Offer SDES-encrypted session media */</span></div><div class="ttc" id="res__pjsip_8h_html_a51357a376c62c160570d55f2aeb4a340a4680ecc1ce34fe999aed4aebfd769d18"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340a4680ecc1ce34fe999aed4aebfd769d18">AST_SIP_MEDIA_TRANSPORT_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00506">res_pjsip.h:506</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a51357a376c62c160570d55f2aeb4a340ab12297b14ec910b415ada33cc9320f6f"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a51357a376c62c160570d55f2aeb4a340ab12297b14ec910b415ada33cc9320f6f">AST_SIP_MEDIA_ENCRYPT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00508">res_pjsip.h:508</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d1013345205788e6f0134a24b96483f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d1013345205788e6f0134a24b96483f">&#9670;&nbsp;</a></span>ast_sip_session_redirect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2d1013345205788e6f0134a24b96483f">ast_sip_session_redirect</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2d1013345205788e6f0134a24b96483faacea24f679395c50d7467f5bbf4a7e6b"></a>AST_SIP_REDIRECT_USER&#160;</td><td class="fielddoc"><p>User portion of the target URI should be used as the target in the dialplan </p>
</td></tr>
<tr><td class="fieldname"><a id="a2d1013345205788e6f0134a24b96483fa3c079756396cee2aeac8db347f06d28d"></a>AST_SIP_REDIRECT_URI_CORE&#160;</td><td class="fielddoc"><p>Target URI should be used as the target in the dialplan </p>
</td></tr>
<tr><td class="fieldname"><a id="a2d1013345205788e6f0134a24b96483fa585e9f700a59c854bd2e60a20bd771b3"></a>AST_SIP_REDIRECT_URI_PJSIP&#160;</td><td class="fielddoc"><p>Target URI should be used as the target within chan_pjsip itself </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00515">515</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                              {<span class="comment"></span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">   /*! User portion of the target URI should be used as the target in the dialplan */</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a2d1013345205788e6f0134a24b96483faacea24f679395c50d7467f5bbf4a7e6b">AST_SIP_REDIRECT_USER</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">   /*! Target URI should be used as the target in the dialplan */</span></div><div class="ttc" id="res__pjsip_8h_html_a2d1013345205788e6f0134a24b96483faacea24f679395c50d7467f5bbf4a7e6b"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a2d1013345205788e6f0134a24b96483faacea24f679395c50d7467f5bbf4a7e6b">AST_SIP_REDIRECT_USER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00517">res_pjsip.h:517</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb35a66aecb7cc6a143f8075c3992e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb35a66aecb7cc6a143f8075c3992e0d">&#9670;&nbsp;</a></span>ast_sip_session_refresh_method</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0d">ast_sip_session_refresh_method</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afb35a66aecb7cc6a143f8075c3992e0dae9c19ba5b085de7f7cf9a0e1f278f8cc"></a>AST_SIP_SESSION_REFRESH_METHOD_INVITE&#160;</td><td class="fielddoc"><p>Use reinvite to negotiate direct media </p>
</td></tr>
<tr><td class="fieldname"><a id="afb35a66aecb7cc6a143f8075c3992e0da02ccc9b52f326c27f7fd3ee072f4f6f1"></a>AST_SIP_SESSION_REFRESH_METHOD_UPDATE&#160;</td><td class="fielddoc"><p>Use UPDATE to negotiate direct media </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00484">484</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                    {<span class="comment"></span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">   /*! Use reinvite to negotiate direct media */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a6e3c5164d38b50bc0f4f22040dedb2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e3c5164d38b50bc0f4f22040dedb2ce">&#9670;&nbsp;</a></span>ast_sip_supplement_priority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a6e3c5164d38b50bc0f4f22040dedb2ce">ast_sip_supplement_priority</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6e3c5164d38b50bc0f4f22040dedb2ceace76d1cc82383cae30af1ef879a1d347"></a>AST_SIP_SUPPLEMENT_PRIORITY_FIRST&#160;</td><td class="fielddoc"><p>Top priority. Supplements with this priority are those that need to run before any others </p>
</td></tr>
<tr><td class="fieldname"><a id="a6e3c5164d38b50bc0f4f22040dedb2cea9dbb0c95071568837209872e28864f43"></a>AST_SIP_SUPPLEMENT_PRIORITY_CHANNEL&#160;</td><td class="fielddoc"><p>Channel creation priority. chan_pjsip creates a channel at this priority. If your supplement depends on being run before or after channel creation, then set your priority to be lower or higher than this value. </p>
</td></tr>
<tr><td class="fieldname"><a id="a6e3c5164d38b50bc0f4f22040dedb2ceada231ff2577ce4d1f8d57afded2cd888"></a>AST_SIP_SUPPLEMENT_PRIORITY_LAST&#160;</td><td class="fielddoc"><p>Lowest priority. Supplements with this priority should be run after all other supplements </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02869">2869</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;                                 {</div></div><!-- fragment -->
</div>
</div>
<a id="ab6c70bb53bc418e328a179b3b2466c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c70bb53bc418e328a179b3b2466c38">&#9670;&nbsp;</a></span>ast_transport_monitor_reg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38">ast_transport_monitor_reg</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab6c70bb53bc418e328a179b3b2466c38ac59adc05087cbec38917a63da409029a"></a>AST_TRANSPORT_MONITOR_REG_SUCCESS&#160;</td><td class="fielddoc"><p>Successfully registered the transport monitor. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab6c70bb53bc418e328a179b3b2466c38a9ae6ff42ea7bac5659affc299ab825e7"></a>AST_TRANSPORT_MONITOR_REG_REPLACED&#160;</td><td class="fielddoc"><p>Replaced the already existing transport monitor with new one. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab6c70bb53bc418e328a179b3b2466c38a37d88b73103a454dadea3c6fea2d356f"></a>AST_TRANSPORT_MONITOR_REG_NOT_FOUND&#160;</td><td class="fielddoc"><p>Transport not found to monitor. </p>
<dl class="section note"><dt>Note</dt><dd>Transport is either already shutdown or is not reliable. </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ab6c70bb53bc418e328a179b3b2466c38ab76014283d08b11e00f189aae42e930f"></a>AST_TRANSPORT_MONITOR_REG_FAILED&#160;</td><td class="fielddoc"><p>Error while registering transport monitor. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l03459">3459</a> of file <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">res_pjsip.h</a>.</p>
<div class="fragment"><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;                               {</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7da3e1f7ee3fcb77f29d41a76a7528fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da3e1f7ee3fcb77f29d41a76a7528fe">&#9670;&nbsp;</a></span>ast_copy_pj_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_copy_pj_str </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pj_str_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a pj_str_t into a standard character buffer. </p>
<p>pj_str_t is not NULL-terminated. Any place that expects a NULL- terminated string needs to have the pj_str_t copied into a separate buffer.</p>
<p>This method copies the pj_str_t contents into the destination buffer and NULL-terminates the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>The destination buffer </td></tr>
    <tr><td class="paramname">src</td><td>The pj_str_t to copy </td></tr>
    <tr><td class="paramname">size</td><td>The size of the destination buffer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05240">5240</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00226">MIN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c_source.html#l00211">add_identity_header()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l01050">apply_dtls_attrib()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l02065">apply_negotiated_sdp_stream()</a>, <a class="el" href="../../d7/da2/res__hep__pjsip_8c_source.html#l00047">assign_uuid()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03762">ast_sip_get_transport_name()</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00197">ast_sip_report_auth_challenge_sent()</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00130">ast_sip_report_auth_failed_challenge_response()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l01278">chan_pjsip_get_uniqueid()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l02226">change_outgoing_sdp_stream_media_address()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00760">channel_read_pjsip()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04160">cli_complete_subscription_common()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04524">cli_list_subscriptions_detail()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04384">cli_show_subscriptions_detail()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03102">determine_sip_publish_type()</a>, <a class="el" href="../../d9/d81/res__pjsip__dialog__info__body__generator_8c_source.html#l00093">dialog_info_generate_body_content()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00718">endpoint_lookup()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l00410">evaluate_like()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00827">extract_contact_addr()</a>, <a class="el" href="../../d9/d91/res__pjsip__path_8c_source.html#l00039">find_aor()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00947">find_aor_name()</a>, <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00267">find_challenge()</a>, <a class="el" href="../../d9/d24/res__pjsip__endpoint__identifier__user_8c_source.html#l00046">get_auth_header()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00315">get_codecs()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03666">get_destination()</a>, <a class="el" href="../../df/dd7/res__pjsip__endpoint__identifier__anonymous_8c_source.html#l00033">get_endpoint_details()</a>, <a class="el" href="../../d9/d24/res__pjsip__endpoint__identifier__user_8c_source.html#l00032">get_from_header()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l00612">get_mid_bundle_group()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00179">get_user_agent()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l00764">handle_incoming_sdp()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l00964">handle_negotiated_sdp_session_media()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01056">handle_registration_response()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00927">headers_to_vars()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01457">incoming_in_dialog_request()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00660">log_failed_request()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l01462">negotiate_incoming_sdp_stream()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00268">options_on_rx_request()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01121">parse_uri_cb()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l01404">process_extmap_attributes()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00814">process_ice_attributes()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00776">process_ice_auth_attrb()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l01218">process_ssrc_attributes()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03214">publish_request_initial()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03326">pubsub_on_rx_publish_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02969">pubsub_on_rx_subscribe_request()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00625">refer_blind_callback()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00886">refer_incoming_blind_request()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l01088">refer_incoming_refer_request()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>, <a class="el" href="../../da/d5c/res__pjsip__rfc3326_8c_source.html#l00037">rfc3326_use_reason_header()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01035">rx_data_to_ast_msg()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00986">save_response_fields_to_transport()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02600">sdp_requires_deferral()</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">security_event_populate()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05395">session_inv_on_redirected()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05457">session_outgoing_nat_hook()</a>, <a class="el" href="../../dc/d2a/res__pjsip__caller__id_8c_source.html#l00044">set_id_from_hdr()</a>, <a class="el" href="../../dc/d2a/res__pjsip__caller__id_8c_source.html#l00153">set_id_from_oli()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l00646">set_mid_and_bundle_group()</a>, <a class="el" href="../../d5/da9/res__pjsip__diversion_8c_source.html#l00264">set_redirecting_value()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l00684">set_remote_mslabel_and_stream_group()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02994">set_sipdomain_variable()</a>, <a class="el" href="../../d4/d43/pjsip__resolver_8c_source.html#l00468">sip_resolve()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01820">sip_subscription_to_ami()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01556">sub_persistence_recreate()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00831">subscription_get_generator_from_rdata()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00771">subscription_get_handler_from_rdata()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00637">subscription_persistence_create()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00662">subscription_persistence_update()</a>, and <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02044">transfer_refer()</a>.</p>
<div class="fragment"><div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;{</div><div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;   <span class="keywordtype">size_t</span> chars_to_copy = <a class="code" href="../../d5/d60/utils_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(size - 1, pj_strlen(src));</div><div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;   memcpy(dest, pj_strbuf(src), chars_to_copy);</div><div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;   dest[chars_to_copy] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;}</div><div class="ttc" id="utils_8h_html_a3acffbd305ee72dcd4593c0d8af64a4f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a></div><div class="ttdeci">#define MIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00226">utils.h:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2934e044fe8c91950441a53fd47bf846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2934e044fe8c91950441a53fd47bf846">&#9670;&nbsp;</a></span>ast_copy_pj_str2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_copy_pj_str2 </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pj_str_t *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create and copy a pj_str_t into a standard character buffer. </p>
<p>pj_str_t is not NULL-terminated. Any place that expects a NULL- terminated string needs to have the pj_str_t copied into a separate buffer.</p>
<p>Copies the pj_str_t contents into a newly allocated buffer pointed to by dest. NULL-terminates the buffer.</p>
<dl class="section note"><dt>Note</dt><dd>Caller is responsible for freeing the allocated memory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>[out] The destination buffer </td></tr>
    <tr><td class="paramname">src</td><td>The pj_str_t to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Number</td><td>of characters copied or negative value on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05247">5247</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00269">ast_asprintf</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;{</div><div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a>(dest, <span class="stringliteral">&quot;%.*s&quot;</span>, (<span class="keywordtype">int</span>)pj_strlen(src), pj_strbuf(src));</div><div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;</div><div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;   <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;      *dest = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;   }</div><div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;</div><div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ada667b6f84a08e6848cb37c5ffb94a5f"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a></div><div class="ttdeci">#define ast_asprintf(ret, fmt,...)</div><div class="ttdoc">A wrapper for asprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00269">astmm.h:269</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0dc7590db76dcdc0105abc92072d1b06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc7590db76dcdc0105abc92072d1b06">&#9670;&nbsp;</a></span>ast_pjsip_rdata_get_endpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a>* ast_pjsip_rdata_get_endpoint </td>
          <td>(</td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the looked-up endpoint on an out-of dialog request or response. </p>
<p>The function may ONLY be called on out-of-dialog requests or responses. For in-dialog requests and responses, it is required that the user of the dialog has the looked-up endpoint stored locally.</p>
<p>This function should never return NULL if the message is out-of-dialog. It will always return NULL if the message is in-dialog.</p>
<p>This function will increase the reference count of the returned endpoint by one. Release your reference using the ao2_ref function when finished.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdata</td><td>Out-of-dialog request or response </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The looked up endpoint </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00969">969</a> of file <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html">pjsip_distributor.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, and <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00479">endpoint_mod</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00880">authenticate()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l04050">handle_new_invite_request()</a>, <a class="el" href="../../d4/dc3/res__pjsip__nat_8c_source.html#l00228">nat_on_rx_message()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00268">options_on_rx_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03614">pubsub_on_rx_mwi_notify_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03326">pubsub_on_rx_publish_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02969">pubsub_on_rx_subscribe_request()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01076">registrar_on_rx_request()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01035">rx_data_to_ast_msg()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00215">send_options_response()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01378">send_response()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05361">supplement_on_rx_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;{</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint = rdata-&gt;endpt_info.mod_data[<a class="code" href="../../d7/dad/pjsip__distributor_8c.html#a44a3c2f46c8b6a384b45f79391332273">endpoint_mod</a>.id];</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <span class="keywordflow">if</span> (endpoint) {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(endpoint, +1);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   <span class="keywordflow">return</span> endpoint;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;}</div><div class="ttc" id="pjsip__distributor_8c_html_a44a3c2f46c8b6a384b45f79391332273"><div class="ttname"><a href="../../d7/dad/pjsip__distributor_8c.html#a44a3c2f46c8b6a384b45f79391332273">endpoint_mod</a></div><div class="ttdeci">static pjsip_module endpoint_mod</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dad/pjsip__distributor_8c_source.html#l00479">pjsip_distributor.c:479</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a></div><div class="ttdoc">An entity with which Asterisk communicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00812">res_pjsip.h:812</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a14851d1f88b087df7237ec180de52e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a14851d1f88b087df7237ec180de52e">&#9670;&nbsp;</a></span>ast_sip_add_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_add_body </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d5/d80/structast__sip__body.html">ast_sip_body</a> *&#160;</td>
          <td class="paramname"><em>body</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a body to an outbound SIP message. </p>
<p>If this is called multiple times, the latest body will replace the current body.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tdata</td><td>The message to add the body to </td></tr>
    <tr><td class="paramname">body</td><td>The message body to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05091">5091</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05078">ast_body_to_pjsip_body()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00529">build_notify_body()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01221">msg_send()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00371">send_unsolicited_mwi_notify_to_contact()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02744">sendtext()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00749">sip_publisher_service_queue()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02218">transmit_info_dtmf()</a>, and <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l01351">transmit_info_with_vidupdate()</a>.</p>
<div class="fragment"><div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;{</div><div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;   pjsip_msg_body *pjsip_body = <a class="code" href="../../de/d96/res__pjsip_8c.html#adf3599f06a495afa84035d7998cc7070">ast_body_to_pjsip_body</a>(tdata-&gt;pool, body);</div><div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;   tdata-&gt;msg-&gt;body = pjsip_body;</div><div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_adf3599f06a495afa84035d7998cc7070"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#adf3599f06a495afa84035d7998cc7070">ast_body_to_pjsip_body</a></div><div class="ttdeci">static pjsip_msg_body * ast_body_to_pjsip_body(pj_pool_t *pool, const struct ast_sip_body *body)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05078">res_pjsip.c:5078</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3ed2b273946f2a95367fb988351187f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ed2b273946f2a95367fb988351187f">&#9670;&nbsp;</a></span>ast_sip_add_body_multipart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_add_body_multipart </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d5/d80/structast__sip__body.html">ast_sip_body</a> *&#160;</td>
          <td class="paramname"><em>bodies</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_bodies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a multipart body to an outbound SIP message. </p>
<p>This will treat each part of the input vector as part of a multipart body and add each part to the SIP message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tdata</td><td>The message to add the body to </td></tr>
    <tr><td class="paramname">bodies</td><td>The parts of the body to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05098">5098</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05078">ast_body_to_pjsip_body()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;{</div><div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;   <span class="comment">/* NULL for type and subtype automatically creates &quot;multipart/mixed&quot; */</span></div><div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;   pjsip_msg_body *body = pjsip_multipart_create(tdata-&gt;pool, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;</div><div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; num_bodies; ++i) {</div><div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;      pjsip_multipart_part *part = pjsip_multipart_create_part(tdata-&gt;pool);</div><div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;      part-&gt;body = <a class="code" href="../../de/d96/res__pjsip_8c.html#adf3599f06a495afa84035d7998cc7070">ast_body_to_pjsip_body</a>(tdata-&gt;pool, bodies[i]);</div><div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;      pjsip_multipart_add_part(tdata-&gt;pool, body, part);</div><div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;   }</div><div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;</div><div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;   tdata-&gt;msg-&gt;body = body;</div><div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_adf3599f06a495afa84035d7998cc7070"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#adf3599f06a495afa84035d7998cc7070">ast_body_to_pjsip_body</a></div><div class="ttdeci">static pjsip_msg_body * ast_body_to_pjsip_body(pj_pool_t *pool, const struct ast_sip_body *body)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05078">res_pjsip.c:5078</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a541e93ff798b3c8ce99a158831338718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a541e93ff798b3c8ce99a158831338718">&#9670;&nbsp;</a></span>ast_sip_add_date_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_add_date_header </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a Date header to the tdata, formatted like: Date: Wed, 01 Jan 2021 14:53:01 GMT. </p>
<dl class="section since"><dt>Since</dt><dd>16.19.0</dd></dl>
<dl class="section note"><dt>Note</dt><dd>There is no checking done to see if the header already exists before adding it. It's up to the caller of this function to determine if that needs to be done or not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03288">3288</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05063">ast_sip_add_header()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c_source.html#l00320">add_date_header()</a>, and <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>.</p>
<div class="fragment"><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;{</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;   <span class="keywordtype">char</span> date[256];</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;   <span class="keyword">struct </span>tm tm;</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;   time_t t = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;   gmtime_r(&amp;t, &amp;tm);</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;   strftime(date, <span class="keyword">sizeof</span>(date), <span class="stringliteral">&quot;%a, %d %b %Y %T GMT&quot;</span>, &amp;tm);</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a>(tdata, <span class="stringliteral">&quot;Date&quot;</span>, date);</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_acef4d0aef5bdc92f0b6b188e48f2e90f"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a></div><div class="ttdeci">int ast_sip_add_header(pjsip_tx_data *tdata, const char *name, const char *value)</div><div class="ttdoc">Add a header to an outbound SIP message. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05063">res_pjsip.c:5063</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99374c9c5499f5215ecf925d13bbd848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99374c9c5499f5215ecf925d13bbd848">&#9670;&nbsp;</a></span>ast_sip_add_global_request_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_add_global_request_header </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00153">153</a> of file <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html">pjsip_global_headers.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00130">add_header()</a>, and <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00079">request_headers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00181">global_apply()</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d73/pjsip__global__headers_8c.html#a6bc98d2db7e39d35de0cc63f58db8f2e">add_header</a>(&amp;<a class="code" href="../../db/d73/pjsip__global__headers_8c.html#a9a90cc0f0755202a31592391d67f3bab">request_headers</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="pjsip__global__headers_8c_html_a9a90cc0f0755202a31592391d67f3bab"><div class="ttname"><a href="../../db/d73/pjsip__global__headers_8c.html#a9a90cc0f0755202a31592391d67f3bab">request_headers</a></div><div class="ttdeci">static struct header_list request_headers</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d73/pjsip__global__headers_8c_source.html#l00079">pjsip_global_headers.c:79</a></div></div>
<div class="ttc" id="pjsip__global__headers_8c_html_a6bc98d2db7e39d35de0cc63f58db8f2e"><div class="ttname"><a href="../../db/d73/pjsip__global__headers_8c.html#a6bc98d2db7e39d35de0cc63f58db8f2e">add_header</a></div><div class="ttdeci">static int add_header(struct header_list *headers, const char *name, const char *value, int replace)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d73/pjsip__global__headers_8c_source.html#l00130">pjsip_global_headers.c:130</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="func__strings_8c_html_a7f763283c27da5574f6f8d1b2a2b9288"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a></div><div class="ttdeci">static int replace(struct ast_channel *chan, const char *cmd, char *data, struct ast_str **buf, ssize_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l00790">func_strings.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9fba65223b8298a5c1bfe392d8ba494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9fba65223b8298a5c1bfe392d8ba494">&#9670;&nbsp;</a></span>ast_sip_add_global_response_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_add_global_response_header </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00158">158</a> of file <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html">pjsip_global_headers.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00130">add_header()</a>, and <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00080">response_headers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00181">global_apply()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d73/pjsip__global__headers_8c.html#a6bc98d2db7e39d35de0cc63f58db8f2e">add_header</a>(&amp;<a class="code" href="../../db/d73/pjsip__global__headers_8c.html#a9da47d517ad2e3f530cd9d72323a151a">response_headers</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div><div class="ttc" id="pjsip__global__headers_8c_html_a9da47d517ad2e3f530cd9d72323a151a"><div class="ttname"><a href="../../db/d73/pjsip__global__headers_8c.html#a9da47d517ad2e3f530cd9d72323a151a">response_headers</a></div><div class="ttdeci">static struct header_list response_headers</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d73/pjsip__global__headers_8c_source.html#l00080">pjsip_global_headers.c:80</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="pjsip__global__headers_8c_html_a6bc98d2db7e39d35de0cc63f58db8f2e"><div class="ttname"><a href="../../db/d73/pjsip__global__headers_8c.html#a6bc98d2db7e39d35de0cc63f58db8f2e">add_header</a></div><div class="ttdeci">static int add_header(struct header_list *headers, const char *name, const char *value, int replace)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d73/pjsip__global__headers_8c_source.html#l00130">pjsip_global_headers.c:130</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="func__strings_8c_html_a7f763283c27da5574f6f8d1b2a2b9288"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a></div><div class="ttdeci">static int replace(struct ast_channel *chan, const char *cmd, char *data, struct ast_str **buf, ssize_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l00790">func_strings.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acef4d0aef5bdc92f0b6b188e48f2e90f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acef4d0aef5bdc92f0b6b188e48f2e90f">&#9670;&nbsp;</a></span>ast_sip_add_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_add_header </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a header to an outbound SIP message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tdata</td><td>The message to add the header to </td></tr>
    <tr><td class="paramname">name</td><td>The header name </td></tr>
    <tr><td class="paramname">value</td><td>The header value </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05063">5063</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l01223">add_header_from_channel_var()</a>, <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00082">add_headers_to_message()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03288">ast_sip_add_date_header()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00301">ast_sip_message_apply_transport()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00553">build_notify()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00751">notify_channel()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00645">notify_contact()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00709">notify_uri()</a>, <a class="el" href="../../d2/d3b/res__pjsip__dlg__options_8c_source.html#l00039">options_incoming_request()</a>, <a class="el" href="../../da/d5c/res__pjsip__rfc3326_8c_source.html#l00094">rfc3326_add_reason_header()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00215">send_options_response()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03179">sip_publication_respond()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02044">transfer_refer()</a>, and <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00892">vars_to_headers()</a>.</p>
<div class="fragment"><div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;{</div><div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;   pj_str_t hdr_name;</div><div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;   pj_str_t hdr_value;</div><div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;   pjsip_generic_string_hdr *hdr;</div><div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;</div><div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;   pj_cstr(&amp;hdr_name, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;   pj_cstr(&amp;hdr_value, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;   hdr = pjsip_generic_string_hdr_create(tdata-&gt;pool, &amp;hdr_name, &amp;hdr_value);</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;</div><div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;   pjsip_msg_add_hdr(tdata-&gt;msg, (pjsip_hdr *) hdr);</div><div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a080baa12d788eb807467308a6cd5c3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a080baa12d788eb807467308a6cd5c3ac">&#9670;&nbsp;</a></span>ast_sip_add_usereqphone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_add_usereqphone </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pj_pool_t *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_uri *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add 'user=phone' parameter to URI if enabled and user is a phone number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>The endpoint to use for configuration </td></tr>
    <tr><td class="paramname">pool</td><td>The memory pool to allocate the parameter from </td></tr>
    <tr><td class="paramname">uri</td><td>The URI to check for user and to add parameter to </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03994">3994</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d4d/file_8h_source.html#l00048">AST_DIGIT_ANY</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00877">ast_sip_endpoint::usereqphone</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04028">ast_sip_create_dialog_uac()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04380">create_out_of_dialog_request()</a>, and <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l01637">set_from_header()</a>.</p>
<div class="fragment"><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;{</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;   pjsip_sip_uri *sip_uri;</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> pj_str_t STR_PHONE = { <span class="stringliteral">&quot;phone&quot;</span>, 5 };</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;   <span class="keywordflow">if</span> (!endpoint || !endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#ab637fcd67d06d6d478f405dc833e09ff">usereqphone</a> || (!PJSIP_URI_SCHEME_IS_SIP(uri) &amp;&amp; !PJSIP_URI_SCHEME_IS_SIPS(uri))) {</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;   }</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;   sip_uri = pjsip_uri_get_uri(uri);</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;   <span class="keywordflow">if</span> (!pj_strlen(&amp;sip_uri-&gt;user)) {</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;   }</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;   <span class="keywordflow">if</span> (pj_strbuf(&amp;sip_uri-&gt;user)[0] == <span class="charliteral">&#39;+&#39;</span>) {</div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;      i = 1;</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;   }</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;   <span class="comment">/* Test URI user against allowed characters in AST_DIGIT_ANY */</span></div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;   <span class="keywordflow">for</span> (; i &lt; pj_strlen(&amp;sip_uri-&gt;user); i++) {</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;      <span class="keywordflow">if</span> (!strchr(<a class="code" href="../../d2/d4d/file_8h.html#afa92b0106fb7a918ea994c2867ac0a04">AST_DIGIT_ANY</a>, pj_strbuf(&amp;sip_uri-&gt;user)[i])) {</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;      }</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;   }</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;   <span class="keywordflow">if</span> (i &lt; pj_strlen(&amp;sip_uri-&gt;user)) {</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;   }</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;   sip_uri-&gt;user_param = STR_PHONE;</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;}</div><div class="ttc" id="file_8h_html_afa92b0106fb7a918ea994c2867ac0a04"><div class="ttname"><a href="../../d2/d4d/file_8h.html#afa92b0106fb7a918ea994c2867ac0a04">AST_DIGIT_ANY</a></div><div class="ttdeci">#define AST_DIGIT_ANY</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00048">file.h:48</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_ab637fcd67d06d6d478f405dc833e09ff"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#ab637fcd67d06d6d478f405dc833e09ff">ast_sip_endpoint::usereqphone</a></div><div class="ttdeci">unsigned int usereqphone</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00877">res_pjsip.h:877</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae54046177019ab80202936a02fbee2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae54046177019ab80202936a02fbee2d5">&#9670;&nbsp;</a></span>ast_sip_append_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_append_body </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>body_text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Append body data to a SIP message. </p>
<p>This acts mostly the same as ast_sip_add_body, except that rather than replacing a body if it currently exists, it appends data to an existing body.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tdata</td><td>The message to append the body to </td></tr>
    <tr><td class="paramname">body</td><td>The string to append to the end of the current body </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05114">5114</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00800">ast_str_alloca</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>.</p>
<div class="fragment"><div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;{</div><div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;   <span class="keywordtype">size_t</span> combined_size = strlen(body_text) + tdata-&gt;msg-&gt;body-&gt;len;</div><div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *body_buffer = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(combined_size);</div><div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;</div><div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;body_buffer, 0, <span class="stringliteral">&quot;%.*s%s&quot;</span>, (<span class="keywordtype">int</span>) tdata-&gt;msg-&gt;body-&gt;len, (<span class="keywordtype">char</span> *) tdata-&gt;msg-&gt;body-&gt;data, body_text);</div><div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;</div><div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;   tdata-&gt;msg-&gt;body-&gt;data = pj_pool_alloc(tdata-&gt;pool, combined_size);</div><div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;   pj_memcpy(tdata-&gt;msg-&gt;body-&gt;data, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(body_buffer), combined_size);</div><div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;   tdata-&gt;msg-&gt;body-&gt;len = combined_size;</div><div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;</div><div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;}</div><div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="strings_8h_html_a7fc844c12b769ccded05e7514036e241"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a></div><div class="ttdeci">#define ast_str_alloca(init_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00800">strings.h:800</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ba8e2fef4b7a50dc5b73fb909045c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba8e2fef4b7a50dc5b73fb909045c51">&#9670;&nbsp;</a></span>ast_sip_auth_type_to_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sip_auth_type_to_str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab5b75b4bdba91e178731511c7fa659cd">ast_sip_auth_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the given auth type to a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>the auth type to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>string representative of the auth type </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00080">80</a> of file <a class="el" href="../../d5/dcb/config__auth_8c_source.html">config_auth.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00658">ARRAY_IN_BOUNDS</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00074">auth_types_map</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00086">auth_type_to_str()</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d60/utils_8h.html#a9aaeded62b78222dcb53fb197ca8cf45">ARRAY_IN_BOUNDS</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d5/dcb/config__auth_8c.html#a50b75bcaee2f3c67f32256392cbfc1e8">auth_types_map</a>) ?</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="../../d5/dcb/config__auth_8c.html#a50b75bcaee2f3c67f32256392cbfc1e8">auth_types_map</a>[<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>] : <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="utils_8h_html_a9aaeded62b78222dcb53fb197ca8cf45"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a9aaeded62b78222dcb53fb197ca8cf45">ARRAY_IN_BOUNDS</a></div><div class="ttdeci">#define ARRAY_IN_BOUNDS(v, a)</div><div class="ttdoc">Checks to see if value is within the bounds of the given array. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00658">utils.h:658</a></div></div>
<div class="ttc" id="config__auth_8c_html_a50b75bcaee2f3c67f32256392cbfc1e8"><div class="ttname"><a href="../../d5/dcb/config__auth_8c.html#a50b75bcaee2f3c67f32256392cbfc1e8">auth_types_map</a></div><div class="ttdeci">static const char * auth_types_map[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dcb/config__auth_8c_source.html#l00074">config_auth.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5342f99fec726a94fb4b713e43eec12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5342f99fec726a94fb4b713e43eec12">&#9670;&nbsp;</a></span>ast_sip_auth_vector_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_auth_vector_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *&#160;</td>
          <td class="paramname"><em>vector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free contents of an auth vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Vector whose contents are to be freed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00249">249</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00438">AST_VECTOR_REMOVE_UNORDERED</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, and <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00267">ast_sip_auth_vector_init()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02267">endpoint_destructor()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00772">handle_client_state_destruction()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00657">sip_outbound_publish_destroy()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01363">sip_outbound_registration_destroy()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01708">sip_outbound_registration_perform()</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <span class="keywordtype">size_t</span> size;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keywordflow">if</span> (!auths) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   size = <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(auths);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; size; ++i) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> = <a class="code" href="../../d6/d68/vector_8h.html#a88927df275257d9c9431252e016503ec">AST_VECTOR_REMOVE_UNORDERED</a>(auths, 0);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) name);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(auths);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="vector_8h_html_a88927df275257d9c9431252e016503ec"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a88927df275257d9c9431252e016503ec">AST_VECTOR_REMOVE_UNORDERED</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE_UNORDERED(vec, idx)</div><div class="ttdoc">Remove an element from an unordered vector by index. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00438">vector.h:438</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2a70501bd77f6a45cfac6cd343dd7fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2a70501bd77f6a45cfac6cd343dd7fa">&#9670;&nbsp;</a></span>ast_sip_auth_vector_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_auth_vector_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>auth_names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an auth vector with the configured values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>Vector to initialize </td></tr>
    <tr><td class="paramname">auth_names</td><td>Comma-separated list of names to set in the array </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">non-zero</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00267">267</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00249">ast_sip_auth_vector_destroy()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00219">ast_strip()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00303">inbound_auth_handler()</a>, and <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00310">outbound_auth_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <span class="keywordtype">char</span> *auth_names = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/d85/structval.html">val</a>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(auths != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(auths)) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <a class="code" href="../../dc/df6/pjsip__configuration_8c.html#a6c15be8d253f5d5a388860516a598d84">ast_sip_auth_vector_destroy</a>(auths);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(auths, 1)) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <span class="keywordflow">while</span> ((val = <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(<a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;auth_names, <span class="stringliteral">&quot;,&quot;</span>)))) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(val)) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      val = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(val);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">if</span> (!val) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;         <span class="keywordflow">goto</span> failure;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(auths, val)) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(val);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;         <span class="keywordflow">goto</span> failure;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;failure:</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <a class="code" href="../../dc/df6/pjsip__configuration_8c.html#a6c15be8d253f5d5a388860516a598d84">ast_sip_auth_vector_destroy</a>(auths);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div><div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_a6c15be8d253f5d5a388860516a598d84"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#a6c15be8d253f5d5a388860516a598d84">ast_sip_auth_vector_destroy</a></div><div class="ttdeci">void ast_sip_auth_vector_destroy(struct ast_sip_auth_vector *auths)</div><div class="ttdoc">Free contents of an auth vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00249">pjsip_configuration.c:249</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5dfee119fa8decee60b36380e84ffc40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dfee119fa8decee60b36380e84ffc40">&#9670;&nbsp;</a></span>ast_sip_auths_to_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_auths_to_str </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *&#160;</td>
          <td class="paramname"><em>auths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an auths array to a string of comma separated values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">auths</td><td>an auth array </td></tr>
    <tr><td class="paramname">buf</td><td>the string buffer to write the object data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, non-zero on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00317">317</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02130">ast_join_delim()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00467">ast_sip_auth_vector::elems</a>, and <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00110">MAX_OBJECT_FIELD</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01717">format_str_append_auth()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00332">inbound_auths_to_str()</a>, and <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00338">outbound_auths_to_str()</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <span class="keywordflow">if</span> (!auths || !<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(auths)) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <span class="keywordflow">if</span> (!(*<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(<a class="code" href="../../d8/d25/sorcery_8h.html#aca877fd857a49db7740effaa55a01e52">MAX_OBJECT_FIELD</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)))) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="comment">/* I feel like accessing the vector&#39;s elem array directly is cheating...*/</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#afb2b3d060d0cd9d92c91800c9d582ac9">ast_join_delim</a>(*<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d8/d25/sorcery_8h.html#aca877fd857a49db7740effaa55a01e52">MAX_OBJECT_FIELD</a>, auths-&gt;<a class="code" href="../../d0/dca/structast__sip__auth__vector.html#a208bae89014ce6b834b6e4b482007b84">elems</a>, <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(auths), <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div><div class="ttc" id="structast__sip__auth__vector_html_a208bae89014ce6b834b6e4b482007b84"><div class="ttname"><a href="../../d0/dca/structast__sip__auth__vector.html#a208bae89014ce6b834b6e4b482007b84">ast_sip_auth_vector::elems</a></div><div class="ttdeci">const char ** elems</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00467">res_pjsip.h:467</a></div></div>
<div class="ttc" id="strings_8h_html_afb2b3d060d0cd9d92c91800c9d582ac9"><div class="ttname"><a href="../../d6/d90/strings_8h.html#afb2b3d060d0cd9d92c91800c9d582ac9">ast_join_delim</a></div><div class="ttdeci">void ast_join_delim(char *s, size_t len, const char *const w[], unsigned int size, char delim)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02130">main/utils.c:2130</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="sorcery_8h_html_aca877fd857a49db7740effaa55a01e52"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aca877fd857a49db7740effaa55a01e52">MAX_OBJECT_FIELD</a></div><div class="ttdeci">#define MAX_OBJECT_FIELD</div><div class="ttdoc">Maximum length of an object field name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00110">sorcery.h:110</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a50e4d3b967059e24275b8e295cd56aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e4d3b967059e24275b8e295cd56aef">&#9670;&nbsp;</a></span>ast_sip_call_codec_pref_to_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sip_call_codec_pref_to_str </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a>&#160;</td>
          <td class="paramname"><em>pref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the call codec preference flags to a string. </p>
<dl class="section since"><dt>Since</dt><dd>18.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pref</td><td>the call codec preference setting</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a constant string with either the setting value or 'unknown' </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Don't try to free the string! </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05534">5534</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01145">incoming_call_offer_pref_to_str()</a>, <a class="el" href="../../dc/d13/pjsip__session__caps_8c_source.html#l00032">log_caps()</a>, and <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01157">outgoing_call_offer_pref_to_str()</a>.</p>
<div class="fragment"><div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;{</div><div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;</div><div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;   <span class="keywordflow">if</span> (ast_sip_call_codec_pref_test(pref, LOCAL) &amp;&amp;  ast_sip_call_codec_pref_test(pref, INTERSECT) &amp;&amp; ast_sip_call_codec_pref_test(pref, ALL)) {</div><div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;      value = <span class="stringliteral">&quot;local&quot;</span>;</div><div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ast_sip_call_codec_pref_test(pref, LOCAL) &amp;&amp;  ast_sip_call_codec_pref_test(pref, UNION) &amp;&amp; ast_sip_call_codec_pref_test(pref, ALL)) {</div><div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;      value = <span class="stringliteral">&quot;local_merge&quot;</span>;</div><div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ast_sip_call_codec_pref_test(pref, LOCAL) &amp;&amp;  ast_sip_call_codec_pref_test(pref, INTERSECT) &amp;&amp; ast_sip_call_codec_pref_test(pref, FIRST)) {</div><div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;      value = <span class="stringliteral">&quot;local_first&quot;</span>;</div><div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ast_sip_call_codec_pref_test(pref, REMOTE) &amp;&amp;  ast_sip_call_codec_pref_test(pref, INTERSECT) &amp;&amp; ast_sip_call_codec_pref_test(pref, ALL)) {</div><div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;      value = <span class="stringliteral">&quot;remote&quot;</span>;</div><div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ast_sip_call_codec_pref_test(pref, REMOTE) &amp;&amp;  ast_sip_call_codec_pref_test(pref, UNION) &amp;&amp; ast_sip_call_codec_pref_test(pref, ALL)) {</div><div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;      value = <span class="stringliteral">&quot;remote_merge&quot;</span>;</div><div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ast_sip_call_codec_pref_test(pref, REMOTE) &amp;&amp;  ast_sip_call_codec_pref_test(pref, UNION) &amp;&amp; ast_sip_call_codec_pref_test(pref, FIRST)) {</div><div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;      value = <span class="stringliteral">&quot;remote_first&quot;</span>;</div><div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;      value = <span class="stringliteral">&quot;unknown&quot;</span>;</div><div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;   }</div><div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;</div><div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19bc0248934ffd7776e4ec6a61961096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19bc0248934ffd7776e4ec6a61961096">&#9670;&nbsp;</a></span>ast_sip_call_codec_str_to_pref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_call_codec_str_to_pref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>pref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pref_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_outgoing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a call codec preference string to preference flags. </p>
<dl class="section since"><dt>Since</dt><dd>18.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pref</td><td>A pointer to an <a class="el" href="../../dc/dac/structast__flags.html" title="Structure used to handle boolean flags. ">ast_flags</a> structure to receive the preference flags </td></tr>
    <tr><td class="paramname">pref_str</td><td>The call codec preference setting string </td></tr>
    <tr><td class="paramname">is_outgoing</td><td>Is for outgoing calls?</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>The string was parsed successfully </td></tr>
    <tr><td class="paramname">-1</td><td>The string option was invalid </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05557">5557</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00538">AST_SIP_CALL_CODEC_PREF_ALL</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00540">AST_SIP_CALL_CODEC_PREF_FIRST</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00532">AST_SIP_CALL_CODEC_PREF_INTERSECT</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00544">AST_SIP_CALL_CODEC_PREF_LOCAL</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00546">AST_SIP_CALL_CODEC_PREF_REMOTE</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00534">AST_SIP_CALL_CODEC_PREF_UNION</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00200">ast_flags::flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01124">call_offer_pref_handler()</a>, and <a class="el" href="../../d6/d36/test__res__pjsip__session__caps_8c_source.html#l00046">test_create_joint()</a>.</p>
<div class="fragment"><div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;{</div><div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;   pref-&gt;<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = 0;</div><div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;</div><div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;   <span class="keywordflow">if</span> (strcmp(pref_str, <span class="stringliteral">&quot;local&quot;</span>) == 0) {</div><div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(pref, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca113b16d3699e4ed2aaefc0446ab24a19">AST_SIP_CALL_CODEC_PREF_LOCAL</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2">AST_SIP_CALL_CODEC_PREF_INTERSECT</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7">AST_SIP_CALL_CODEC_PREF_ALL</a>);</div><div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_outgoing &amp;&amp; strcmp(pref_str, <span class="stringliteral">&quot;local_merge&quot;</span>) == 0) {</div><div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(pref, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca113b16d3699e4ed2aaefc0446ab24a19">AST_SIP_CALL_CODEC_PREF_LOCAL</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139">AST_SIP_CALL_CODEC_PREF_UNION</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7">AST_SIP_CALL_CODEC_PREF_ALL</a>);</div><div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(pref_str, <span class="stringliteral">&quot;local_first&quot;</span>) == 0) {</div><div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(pref, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca113b16d3699e4ed2aaefc0446ab24a19">AST_SIP_CALL_CODEC_PREF_LOCAL</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2">AST_SIP_CALL_CODEC_PREF_INTERSECT</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcac2236d2a2411718e7356980d5b527cb0">AST_SIP_CALL_CODEC_PREF_FIRST</a>);</div><div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(pref_str, <span class="stringliteral">&quot;remote&quot;</span>) == 0) {</div><div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(pref, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca7f7ec01671e26b6aae53c93dd78d39e2">AST_SIP_CALL_CODEC_PREF_REMOTE</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2">AST_SIP_CALL_CODEC_PREF_INTERSECT</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7">AST_SIP_CALL_CODEC_PREF_ALL</a>);</div><div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_outgoing &amp;&amp; strcmp(pref_str, <span class="stringliteral">&quot;remote_merge&quot;</span>) == 0) {</div><div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(pref, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca7f7ec01671e26b6aae53c93dd78d39e2">AST_SIP_CALL_CODEC_PREF_REMOTE</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139">AST_SIP_CALL_CODEC_PREF_UNION</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7">AST_SIP_CALL_CODEC_PREF_ALL</a>);</div><div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(pref_str, <span class="stringliteral">&quot;remote_first&quot;</span>) == 0) {</div><div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(pref, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca7f7ec01671e26b6aae53c93dd78d39e2">AST_SIP_CALL_CODEC_PREF_REMOTE</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139">AST_SIP_CALL_CODEC_PREF_UNION</a> | <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcac2236d2a2411718e7356980d5b527cb0">AST_SIP_CALL_CODEC_PREF_FIRST</a>);</div><div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;   }</div><div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;</div><div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca0b827f1a59c7073b3f2c325d200583f7">AST_SIP_CALL_CODEC_PREF_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00538">res_pjsip.h:538</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca8ba168f489469b746424d09bbeb66139">AST_SIP_CALL_CODEC_PREF_UNION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00534">res_pjsip.h:534</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="structast__flags_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">ast_flags::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00200">utils.h:200</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddcac2236d2a2411718e7356980d5b527cb0"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcac2236d2a2411718e7356980d5b527cb0">AST_SIP_CALL_CODEC_PREF_FIRST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00540">res_pjsip.h:540</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddca113b16d3699e4ed2aaefc0446ab24a19"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca113b16d3699e4ed2aaefc0446ab24a19">AST_SIP_CALL_CODEC_PREF_LOCAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00544">res_pjsip.h:544</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddca7f7ec01671e26b6aae53c93dd78d39e2"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddca7f7ec01671e26b6aae53c93dd78d39e2">AST_SIP_CALL_CODEC_PREF_REMOTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00546">res_pjsip.h:546</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad7380769212cae6b6305119ed93ebddcaded39ec7b40e04bbfb1ae2da04c688c2">AST_SIP_CALL_CODEC_PREF_INTERSECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00532">res_pjsip.h:532</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a64865fb2b6d118505ab9769b41aeb91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64865fb2b6d118505ab9769b41aeb91a">&#9670;&nbsp;</a></span>ast_sip_check_authentication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397">ast_sip_check_auth_result</a> ast_sip_check_authentication </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to determine authentication status of an incoming request. </p>
<p>This will call into a registered authenticator. The registered authenticator will do what is necessary to determine whether the incoming request passes authentication. A tentative response is passed into this function so that if, say, a digest authentication challenge should be sent in the ensuing response, it can be added to the response.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>The endpoint from the request was sent </td></tr>
    <tr><td class="paramname">rdata</td><td>The request to potentially authenticate </td></tr>
    <tr><td class="paramname">tdata</td><td>Tentative response to the request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The result of checking authentication. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03377">3377</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00936">AST_SIP_AUTHENTICATION_SUCCESS</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00965">ast_sip_authenticator::check_authentication</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00880">authenticate()</a>.</p>
<div class="fragment"><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;{</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a>) {</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No SIP authenticator registered. Assuming authentication is successful\n&quot;</span>);</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397aa0871afe29e292ca48bcb0b1be287452">AST_SIP_AUTHENTICATION_SUCCESS</a>;</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;   }</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a>-&gt;<a class="code" href="../../d9/de9/structast__sip__authenticator.html#ad59d122bf30610790adaf8e51d5a7b67">check_authentication</a>(endpoint, rdata, tdata);</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_ac51146e0275b19fab3031e6176c745e8"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a></div><div class="ttdeci">static struct ast_sip_authenticator * registered_authenticator</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03336">res_pjsip.c:3336</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__sip__authenticator_html_ad59d122bf30610790adaf8e51d5a7b67"><div class="ttname"><a href="../../d9/de9/structast__sip__authenticator.html#ad59d122bf30610790adaf8e51d5a7b67">ast_sip_authenticator::check_authentication</a></div><div class="ttdeci">enum ast_sip_check_auth_result(* check_authentication)(struct ast_sip_endpoint *endpoint, pjsip_rx_data *rdata, pjsip_tx_data *tdata)</div><div class="ttdoc">Check that an incoming request passes authentication. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00965">res_pjsip.h:965</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad4af2859e259268e0e51d74b524ac397aa0871afe29e292ca48bcb0b1be287452"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad4af2859e259268e0e51d74b524ac397aa0871afe29e292ca48bcb0b1be287452">AST_SIP_AUTHENTICATION_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00936">res_pjsip.h:936</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e8ce0855f5b8cc0e2c64cc59887d779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e8ce0855f5b8cc0e2c64cc59887d779">&#9670;&nbsp;</a></span>ast_sip_cleanup_auths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_cleanup_auths </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> *&#160;</td>
          <td class="paramname"><em>auths</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_auths</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up retrieved auth structures from memory. </p>
<p>Call this function once you have completed operating on auths retrieved from <a class="el" href="../../dc/df6/pjsip__configuration_8c.html#a72f43e82cb97ea0b744a4a0ba7ff0a43">ast_sip_retrieve_auths</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">auths</td><td>An array of auth object pointers to clean up </td></tr>
    <tr><td class="paramname">num_auths</td><td>The number of auths in the array </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02377">2377</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00405">digest_check_auth()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01545">set_outbound_initial_authentication_credentials()</a>.</p>
<div class="fragment"><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;{</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; num_auths; ++i) {</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(auths[i]);</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;   }</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae72306865fa2a2ed587acdd916c874c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae72306865fa2a2ed587acdd916c874c8">&#9670;&nbsp;</a></span>ast_sip_contact_to_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_contact_to_str </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handler used to convert a contact to a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>the ast_sip_aor_contact_pair containing a list of contacts to iterate and the contact </td></tr>
    <tr><td class="paramname">arg</td><td>user data passed to handler </td></tr>
    <tr><td class="paramname">flags</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, non-zero on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00767">767</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00400">ast_sip_contact_wrapper::contact_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00808">contacts_to_str()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01128">sip_contact_to_str()</a>, and <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01629">sip_endpoints_aors_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/dd8/structast__sip__contact__wrapper.html">ast_sip_contact_wrapper</a> *wrapper = object;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = arg;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(buf, 0, <span class="stringliteral">&quot;%s,&quot;</span>, wrapper-&gt;<a class="code" href="../../df/dd8/structast__sip__contact__wrapper.html#a08490ce2b49a613ace5351f00c7c36ab">contact_id</a>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structast__sip__contact__wrapper_html_a08490ce2b49a613ace5351f00c7c36ab"><div class="ttname"><a href="../../df/dd8/structast__sip__contact__wrapper.html#a08490ce2b49a613ace5351f00c7c36ab">ast_sip_contact_wrapper::contact_id</a></div><div class="ttdeci">char * contact_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00400">res_pjsip.h:400</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="structast__sip__contact__wrapper_html"><div class="ttname"><a href="../../df/dd8/structast__sip__contact__wrapper.html">ast_sip_contact_wrapper</a></div><div class="ttdoc">A wrapper for contact that adds the aor_id and a consistent contact id. Used by ast_sip_for_each_cont...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00396">res_pjsip.h:396</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b63b1eceb879f2cf0e23f356040737a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b63b1eceb879f2cf0e23f356040737a">&#9670;&nbsp;</a></span>ast_sip_create_ami_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a>* ast_sip_create_ami_event </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2f/structast__sip__ami.html">ast_sip_ami</a> *&#160;</td>
          <td class="paramname"><em>ami</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a string to store AMI event data in. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event to set </td></tr>
    <tr><td class="paramname">ami</td><td>AMI session and message container </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">an</td><td>initialized <a class="el" href="../../dd/da2/structast__str.html" title="The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...">ast_str</a> or NULL on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01584">1584</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02743">ast_sip_ami::action_id</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01582">AMI_DEFAULT_STR_SIZE</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03164">astman_send_error_va()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02741">ast_sip_ami::m</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02739">ast_sip_ami::s</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02135">ami_outbound_registration_task()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01133">ami_registrations_aor()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04031">ami_subscription_detail()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02717">ast_sip_format_contact_ami()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00828">format_ami_aor_handler()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01239">format_ami_aorlist_handler()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00168">format_ami_auth_handler()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00226">format_ami_authlist_handler()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02416">format_ami_contactlist_handler()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01658">format_ami_endpoint()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00168">format_ami_endpoint_transport()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01729">format_ami_endpoints()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04090">format_ami_resource_lists()</a>, and <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00620">send_identify_ami_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;{</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(<a class="code" href="../../dc/df6/pjsip__configuration_8c.html#aedac1aea98284cb847ca5aa246abf864">AMI_DEFAULT_STR_SIZE</a>);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;   <span class="keywordflow">if</span> (!(buf)) {</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga352d583ea36240124638e5c1db088227">astman_send_error_va</a>(ami-&gt;<a class="code" href="../../d4/d2f/structast__sip__ami.html#a38bed88f5fd00306683b620c6c90eef4">s</a>, ami-&gt;<a class="code" href="../../d4/d2f/structast__sip__ami.html#ac0506a88d121327118c7346baa303a9e">m</a>, <span class="stringliteral">&quot;Unable create event &quot;</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                 <span class="stringliteral">&quot;for %s\n&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;   }</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;buf, 0, <span class="stringliteral">&quot;Event: %s\r\n&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(ami-&gt;<a class="code" href="../../d4/d2f/structast__sip__ami.html#a1c8263eaf0c64a6929c09fb44a29cab6">action_id</a>)) {</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;ActionID: %s\r\n&quot;</span>, ami-&gt;<a class="code" href="../../d4/d2f/structast__sip__ami.html#a1c8263eaf0c64a6929c09fb44a29cab6">action_id</a>);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;   }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;}</div><div class="ttc" id="structast__sip__ami_html_ac0506a88d121327118c7346baa303a9e"><div class="ttname"><a href="../../d4/d2f/structast__sip__ami.html#ac0506a88d121327118c7346baa303a9e">ast_sip_ami::m</a></div><div class="ttdeci">const struct message * m</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02741">res_pjsip.h:2741</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga352d583ea36240124638e5c1db088227"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga352d583ea36240124638e5c1db088227">astman_send_error_va</a></div><div class="ttdeci">void astman_send_error_va(struct mansession *s, const struct message *m, const char *fmt,...)</div><div class="ttdoc">Send error in manager transaction (with va_args support) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03164">manager.c:3164</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_aedac1aea98284cb847ca5aa246abf864"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#aedac1aea98284cb847ca5aa246abf864">AMI_DEFAULT_STR_SIZE</a></div><div class="ttdeci">#define AMI_DEFAULT_STR_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l01582">pjsip_configuration.c:1582</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="structast__sip__ami_html_a38bed88f5fd00306683b620c6c90eef4"><div class="ttname"><a href="../../d4/d2f/structast__sip__ami.html#a38bed88f5fd00306683b620c6c90eef4">ast_sip_ami::s</a></div><div class="ttdeci">struct mansession * s</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02739">res_pjsip.h:2739</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structast__sip__ami_html_a1c8263eaf0c64a6929c09fb44a29cab6"><div class="ttname"><a href="../../d4/d2f/structast__sip__ami.html#a1c8263eaf0c64a6929c09fb44a29cab6">ast_sip_ami::action_id</a></div><div class="ttdeci">const char * action_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02743">res_pjsip.h:2743</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a681ca1bf74a943a8009a5c2ad6894831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a681ca1bf74a943a8009a5c2ad6894831">&#9670;&nbsp;</a></span>ast_sip_create_dialog_uac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pjsip_dialog* ast_sip_create_dialog_uac </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aor_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>request_user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General purpose method for creating a UAC dialog with an endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>A pointer to the endpoint </td></tr>
    <tr><td class="paramname">aor_name</td><td>Optional name of the AOR to target, may even be an explicit SIP URI </td></tr>
    <tr><td class="paramname">request_user</td><td>Optional user to place into the target URI</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04028">4028</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03994">ast_sip_add_usereqphone()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03791">ast_sip_dlg_set_transport()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03987">ast_sip_tpselector_unref()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00887">ast_sip_endpoint::contact_user</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00831">ast_sip_endpoint::fromdomain</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00829">ast_sip_endpoint::fromuser</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00849">ast_sip_endpoint::info</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00819">ast_sip_endpoint::outbound_proxy</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03813">sip_dialog_create_from()</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01868">ast_sip_create_subscription()</a>, and <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03317">ast_sip_session_create_outgoing()</a>.</p>
<div class="fragment"><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;{</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;   <span class="keywordtype">char</span> enclosed_uri[PJSIP_MAX_URL_SIZE];</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;   pj_str_t local_uri = { <span class="stringliteral">&quot;sip:temp@temp&quot;</span>, 13 }, remote_uri, target_uri;</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;   pj_status_t res;</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;   pjsip_dialog *dlg = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *outbound_proxy = endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a8b55fd039a8b14683eae2d3c0a1c86ae">outbound_proxy</a>;</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;   pjsip_tpselector selector = { .type = PJSIP_TPSELECTOR_NONE, };</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> pj_str_t HCONTACT = { <span class="stringliteral">&quot;Contact&quot;</span>, 7 };</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;</div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;   snprintf(enclosed_uri, <span class="keyword">sizeof</span>(enclosed_uri), <span class="stringliteral">&quot;&lt;%s&gt;&quot;</span>, uri);</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;   pj_cstr(&amp;remote_uri, enclosed_uri);</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;   pj_cstr(&amp;target_uri, uri);</div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;</div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;   res = pjsip_dlg_create_uac(pjsip_ua_instance(), &amp;local_uri, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;remote_uri, &amp;target_uri, &amp;dlg);</div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;   <span class="keywordflow">if</span> (res == PJ_SUCCESS &amp;&amp; !(PJSIP_URI_SCHEME_IS_SIP(dlg-&gt;target) || PJSIP_URI_SCHEME_IS_SIPS(dlg-&gt;target))) {</div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;      <span class="comment">/* dlg-&gt;target is a pjsip_other_uri, but it&#39;s assumed to be a</span></div><div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;<span class="comment">       * pjsip_sip_uri below. Fail fast. */</span></div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;      res = PJSIP_EINVALIDURI;</div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;      pjsip_dlg_terminate(dlg);</div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;   }</div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;   <span class="keywordflow">if</span> (res != PJ_SUCCESS) {</div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;      <span class="keywordflow">if</span> (res == PJSIP_EINVALIDURI) {</div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;            <span class="stringliteral">&quot;Endpoint &#39;%s&#39;: Could not create dialog to invalid URI &#39;%s&#39;.  Is endpoint registered and reachable?\n&quot;</span>,</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;            <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(endpoint), uri);</div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;      }</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;   }</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;   <span class="comment">/* We have to temporarily bump up the sess_count here so the dialog is not prematurely destroyed */</span></div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;   dlg-&gt;sess_count++;</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a8871b0dfc62c06643cbfc0e2493d22a0">ast_sip_dlg_set_transport</a>(endpoint, dlg, &amp;selector);</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d96/res__pjsip_8c.html#afbb014b5be3be8870fa8607f2d1c0b99">sip_dialog_create_from</a>(dlg-&gt;pool, &amp;local_uri, endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#ac73c8898b4e904caa12dd1adcab40126">fromuser</a>, endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#aa46f02b6ae40c29d58bff7e415ad9a1b">fromdomain</a>, &amp;remote_uri, &amp;selector)) {</div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;      dlg-&gt;sess_count--;</div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;      pjsip_dlg_terminate(dlg);</div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;      <a class="code" href="../../de/d96/res__pjsip_8c.html#a9e1ef995698ba16cad6608225b8de946">ast_sip_tpselector_unref</a>(&amp;selector);</div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;   }</div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;</div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a9e1ef995698ba16cad6608225b8de946">ast_sip_tpselector_unref</a>(&amp;selector);</div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;</div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;   <span class="comment">/* Update the dialog with the new local URI, we do it afterwards so we can use the dialog pool for construction */</span></div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;   pj_strdup_with_null(dlg-&gt;pool, &amp;dlg-&gt;local.info_str, &amp;local_uri);</div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;   dlg-&gt;local.info-&gt;uri = pjsip_parse_uri(dlg-&gt;pool, dlg-&gt;local.info_str.ptr, dlg-&gt;local.info_str.slen, 0);</div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;   <span class="keywordflow">if</span> (!dlg-&gt;local.info-&gt;uri) {</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;         <span class="stringliteral">&quot;Could not parse URI &#39;%s&#39; for endpoint &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;         dlg-&gt;local.info_str.ptr, <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(endpoint));</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;      dlg-&gt;sess_count--;</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;      pjsip_dlg_terminate(dlg);</div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;   }</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;   dlg-&gt;local.contact = pjsip_parse_hdr(dlg-&gt;pool, &amp;HCONTACT, local_uri.ptr, local_uri.slen, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a331b0897216e7fa779ac247698ae299d">contact_user</a>)) {</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;      pjsip_sip_uri *sip_uri;</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;      sip_uri = pjsip_uri_get_uri(dlg-&gt;local.contact-&gt;uri);</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;      pj_strdup2(dlg-&gt;pool, &amp;sip_uri-&gt;user, endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a331b0897216e7fa779ac247698ae299d">contact_user</a>);</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;   }</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;   <span class="comment">/* If a request user has been specified and we are permitted to change it, do so */</span></div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(request_user)) {</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;      pjsip_sip_uri *sip_uri;</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;      <span class="keywordflow">if</span> (PJSIP_URI_SCHEME_IS_SIP(dlg-&gt;target) || PJSIP_URI_SCHEME_IS_SIPS(dlg-&gt;target)) {</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;         sip_uri = pjsip_uri_get_uri(dlg-&gt;target);</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;         pj_strdup2(dlg-&gt;pool, &amp;sip_uri-&gt;user, request_user);</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      }</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;      <span class="keywordflow">if</span> (PJSIP_URI_SCHEME_IS_SIP(dlg-&gt;remote.info-&gt;uri) || PJSIP_URI_SCHEME_IS_SIPS(dlg-&gt;remote.info-&gt;uri)) {</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;         sip_uri = pjsip_uri_get_uri(dlg-&gt;remote.info-&gt;uri);</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;         pj_strdup2(dlg-&gt;pool, &amp;sip_uri-&gt;user, request_user);</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;      }</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;   }</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;   <span class="comment">/* Add the user=phone parameter if applicable */</span></div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a080baa12d788eb807467308a6cd5c3ac">ast_sip_add_usereqphone</a>(endpoint, dlg-&gt;pool, dlg-&gt;target);</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a080baa12d788eb807467308a6cd5c3ac">ast_sip_add_usereqphone</a>(endpoint, dlg-&gt;pool, dlg-&gt;remote.<a class="code" href="../../d3/d46/structast__sip__endpoint.html#aeb1d4e7a4bd3cddeed7a328759361897">info</a>-&gt;uri);</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(outbound_proxy)) {</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;      pjsip_route_hdr route_set, *route;</div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> pj_str_t ROUTE_HNAME = { <span class="stringliteral">&quot;Route&quot;</span>, 5 };</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;      pj_str_t <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;      pj_list_init(&amp;route_set);</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;      pj_strdup2_with_null(dlg-&gt;pool, &amp;tmp, outbound_proxy);</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;      <span class="keywordflow">if</span> (!(route = pjsip_parse_hdr(dlg-&gt;pool, &amp;ROUTE_HNAME, tmp.ptr, tmp.slen, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not create dialog to endpoint &#39;%s&#39; as outbound proxy URI &#39;%s&#39; is not valid\n&quot;</span>,</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;            <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(endpoint), outbound_proxy);</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;         dlg-&gt;sess_count--;</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;         pjsip_dlg_terminate(dlg);</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;      }</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;      pj_list_insert_nodes_before(&amp;route_set, route);</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;      pjsip_dlg_set_route_set(dlg, &amp;route_set);</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;   }</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;   dlg-&gt;sess_count--;</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;   <span class="keywordflow">return</span> dlg;</div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_a080baa12d788eb807467308a6cd5c3ac"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a080baa12d788eb807467308a6cd5c3ac">ast_sip_add_usereqphone</a></div><div class="ttdeci">void ast_sip_add_usereqphone(const struct ast_sip_endpoint *endpoint, pj_pool_t *pool, pjsip_uri *uri)</div><div class="ttdoc">Add &amp;#39;user=phone&amp;#39; parameter to URI if enabled and user is a phone number. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03994">res_pjsip.c:3994</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_ac73c8898b4e904caa12dd1adcab40126"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#ac73c8898b4e904caa12dd1adcab40126">ast_sip_endpoint::fromuser</a></div><div class="ttdeci">const ast_string_field fromuser</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00829">res_pjsip.h:829</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_a331b0897216e7fa779ac247698ae299d"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#a331b0897216e7fa779ac247698ae299d">ast_sip_endpoint::contact_user</a></div><div class="ttdeci">char * contact_user</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00887">res_pjsip.h:887</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_a8b55fd039a8b14683eae2d3c0a1c86ae"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#a8b55fd039a8b14683eae2d3c0a1c86ae">ast_sip_endpoint::outbound_proxy</a></div><div class="ttdeci">const ast_string_field outbound_proxy</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00819">res_pjsip.h:819</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_aeb1d4e7a4bd3cddeed7a328759361897"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#aeb1d4e7a4bd3cddeed7a328759361897">ast_sip_endpoint::info</a></div><div class="ttdeci">struct ast_sip_endpoint_info_configuration info</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00849">res_pjsip.h:849</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a9e1ef995698ba16cad6608225b8de946"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a9e1ef995698ba16cad6608225b8de946">ast_sip_tpselector_unref</a></div><div class="ttdeci">void ast_sip_tpselector_unref(pjsip_tpselector *selector)</div><div class="ttdoc">Unreference a pjsip_tpselector. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03987">res_pjsip.c:3987</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a8871b0dfc62c06643cbfc0e2493d22a0"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a8871b0dfc62c06643cbfc0e2493d22a0">ast_sip_dlg_set_transport</a></div><div class="ttdeci">int ast_sip_dlg_set_transport(const struct ast_sip_endpoint *endpoint, pjsip_dialog *dlg, pjsip_tpselector *selector)</div><div class="ttdoc">Set the transport on a dialog. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03791">res_pjsip.c:3791</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_afbb014b5be3be8870fa8607f2d1c0b99"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#afbb014b5be3be8870fa8607f2d1c0b99">sip_dialog_create_from</a></div><div class="ttdeci">static int sip_dialog_create_from(pj_pool_t *pool, pj_str_t *from, const char *user, const char *domain, const pj_str_t *target, pjsip_tpselector *selector)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03813">res_pjsip.c:3813</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_aa46f02b6ae40c29d58bff7e415ad9a1b"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#aa46f02b6ae40c29d58bff7e415ad9a1b">ast_sip_endpoint::fromdomain</a></div><div class="ttdeci">const ast_string_field fromdomain</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00831">res_pjsip.h:831</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a513bbf0084d764192b5fb60859b4547e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a513bbf0084d764192b5fb60859b4547e">&#9670;&nbsp;</a></span>ast_sip_create_dialog_uas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pjsip_dialog* ast_sip_create_dialog_uas </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pj_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General purpose method for creating a UAS dialog with an endpoint. </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000010">Deprecated:</a></b></dt><dd>This function is unsafe (due to the returned object not being locked nor having its reference incremented) and should no longer be used. Instead use ast_sip_create_dialog_uas_locked so a properly locked and referenced object is returned.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">endpoint</td><td>A pointer to the endpoint </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rdata</td><td>The request that is starting the dialog </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>On failure, the reason for failure in creating the dialog </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04233">4233</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04177">create_dialog_uas()</a>.</p>
<div class="fragment"><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;{</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;<span class="preprocessor">#ifdef HAVE_PJSIP_DLG_CREATE_UAS_AND_INC_LOCK</span></div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;   pjsip_dialog *dlg;</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;</div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;   dlg = <a class="code" href="../../de/d96/res__pjsip_8c.html#a001d7f718db023957fc1794c311ee1fb">create_dialog_uas</a>(endpoint, rdata, <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, pjsip_dlg_create_uas_and_inc_lock);</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;   <span class="keywordflow">if</span> (dlg) {</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;      pjsip_dlg_dec_lock(dlg);</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;   }</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;   <span class="keywordflow">return</span> dlg;</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a001d7f718db023957fc1794c311ee1fb">create_dialog_uas</a>(endpoint, rdata, <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, pjsip_dlg_create_uas);</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_a001d7f718db023957fc1794c311ee1fb"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a001d7f718db023957fc1794c311ee1fb">create_dialog_uas</a></div><div class="ttdeci">static pjsip_dialog * create_dialog_uas(const struct ast_sip_endpoint *endpoint, pjsip_rx_data *rdata, pj_status_t *status, create_dlg_uac create_fun)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04177">res_pjsip.c:4177</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d885d67aea1a6b3419ea96692cd2527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d885d67aea1a6b3419ea96692cd2527">&#9670;&nbsp;</a></span>ast_sip_create_dialog_uas_locked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pjsip_dialog* ast_sip_create_dialog_uas_locked </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pj_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General purpose method for creating a UAS dialog with an endpoint. </p>
<p>This function creates and returns a locked, and referenced counted pjsip dialog object. The caller is thus responsible for freeing the allocated memory, decrementing the reference, and releasing the lock when done with the returned object.</p>
<dl class="section note"><dt>Note</dt><dd>The safest way to unlock the object, and decrement its reference is by calling pjsip_dlg_dec_lock. Alternatively, pjsip_dlg_dec_session can be used to decrement the reference only.</dd></dl>
<p>The dialog is returned locked and with a reference in order to ensure that the dialog object, and any of its associated objects (e.g. transaction) are not untimely destroyed. For instance, that could happen when a transport error occurs.</p>
<p>As long as the caller maintains a reference to the dialog there should be no worry that it might unknowningly be destroyed. However, once the caller unlocks the dialog there is a danger that some of the dialog's internal objects could be lost and/or compromised. For example, when the aforementioned transport error occurs the dialog's associated transaction gets destroyed (see pjsip_dlg_on_tsx_state in sip_dialog.c, and mod_inv_on_tsx_state in sip_inv.c).</p>
<p>In this case and before using the dialog again the caller should re-lock the dialog, check to make sure the dialog is still established, and the transaction still exists and has not been destroyed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">endpoint</td><td>A pointer to the endpoint </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rdata</td><td>The request that is starting the dialog </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>On failure, the reason for failure in creating the dialog</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>locked, and reference counted pjsip_dialog object. </td></tr>
    <tr><td class="paramname">NULL</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04249">4249</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04177">create_dialog_uas()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01465">create_subscription_tree()</a>, and <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03789">pre_session_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;{</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;<span class="preprocessor">#ifdef HAVE_PJSIP_DLG_CREATE_UAS_AND_INC_LOCK</span></div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a001d7f718db023957fc1794c311ee1fb">create_dialog_uas</a>(endpoint, rdata, <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, pjsip_dlg_create_uas_and_inc_lock);</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;<span class="comment">    * This is put here in order to be compatible with older versions of pjproject.</span></div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;<span class="comment">    * Best we can do in this case is immediately lock after getting the dialog.</span></div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;<span class="comment">    * However, that does leave a &quot;gap&quot; between creating and locking.</span></div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;   pjsip_dialog *dlg;</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;   dlg = <a class="code" href="../../de/d96/res__pjsip_8c.html#a001d7f718db023957fc1794c311ee1fb">create_dialog_uas</a>(endpoint, rdata, <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, pjsip_dlg_create_uas);</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;   <span class="keywordflow">if</span> (dlg) {</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;      pjsip_dlg_inc_lock(dlg);</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;   }</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;   <span class="keywordflow">return</span> dlg;</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160; }</div><div class="ttc" id="res__pjsip_8c_html_a001d7f718db023957fc1794c311ee1fb"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a001d7f718db023957fc1794c311ee1fb">create_dialog_uas</a></div><div class="ttdeci">static pjsip_dialog * create_dialog_uas(const struct ast_sip_endpoint *endpoint, pjsip_rx_data *rdata, pj_status_t *status, create_dlg_uac create_fun)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04177">res_pjsip.c:4177</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a642d7c78b3c3f67018a6f93b739b8597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642d7c78b3c3f67018a6f93b739b8597">&#9670;&nbsp;</a></span>ast_sip_create_rdata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_create_rdata </td>
          <td>(</td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>src_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>transport_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>local_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>local_port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General purpose method for creating an rdata structure using specific information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdata[out]</td><td>The rdata structure that will be populated </td></tr>
    <tr><td class="paramname">packet</td><td>A SIP message </td></tr>
    <tr><td class="paramname">src_name</td><td>The source IP address of the message </td></tr>
    <tr><td class="paramname">src_port</td><td>The source port of the message </td></tr>
    <tr><td class="paramname">transport_type</td><td>The type of transport the message was received on </td></tr>
    <tr><td class="paramname">local_name</td><td>The local IP address the message was received on </td></tr>
    <tr><td class="paramname">local_port</td><td>The local port the message was received on</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04323">4323</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04271">ast_sip_create_rdata_with_contact()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;{</div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#ab3ea73b499757767c1ecded1754d199a">ast_sip_create_rdata_with_contact</a>(rdata, packet, src_name, src_port, transport_type,</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;      local_name, local_port, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_ab3ea73b499757767c1ecded1754d199a"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ab3ea73b499757767c1ecded1754d199a">ast_sip_create_rdata_with_contact</a></div><div class="ttdeci">int ast_sip_create_rdata_with_contact(pjsip_rx_data *rdata, char *packet, const char *src_name, int src_port, char *transport_type, const char *local_name, int local_port, const char *contact)</div><div class="ttdoc">General purpose method for creating an rdata structure using specific information. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04271">res_pjsip.c:4271</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af7c7bb566c8c49dc6536269d0cb736a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7c7bb566c8c49dc6536269d0cb736a8">&#9670;&nbsp;</a></span>ast_sip_create_rdata_with_contact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_create_rdata_with_contact </td>
          <td>(</td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>src_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>transport_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>local_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>local_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>contact_uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General purpose method for creating an rdata structure using specific information. </p>
<dl class="section since"><dt>Since</dt><dd>13.15.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdata[out]</td><td>The rdata structure that will be populated </td></tr>
    <tr><td class="paramname">packet</td><td>A SIP message </td></tr>
    <tr><td class="paramname">src_name</td><td>The source IP address of the message </td></tr>
    <tr><td class="paramname">src_port</td><td>The source port of the message </td></tr>
    <tr><td class="paramname">transport_type</td><td>The type of transport the message was received on </td></tr>
    <tr><td class="paramname">local_name</td><td>The local IP address the message was received on </td></tr>
    <tr><td class="paramname">local_port</td><td>The local port the message was received on </td></tr>
    <tr><td class="paramname">contact_uri</td><td>The contact URI of the message</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04271">4271</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04323">ast_sip_create_rdata()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01684">subscription_persistence_recreate()</a>.</p>
<div class="fragment"><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;{</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;   pj_str_t <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;<span class="comment">    * Initialize the error list in case there is a parse error</span></div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;<span class="comment">    * in the given packet.</span></div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;   pj_list_init(&amp;rdata-&gt;msg_info.parse_err);</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;   rdata-&gt;tp_info.transport = PJ_POOL_ZALLOC_T(rdata-&gt;tp_info.pool, pjsip_transport);</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;   <span class="keywordflow">if</span> (!rdata-&gt;tp_info.transport) {</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;   }</div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;</div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(rdata-&gt;pkt_info.packet, packet, <span class="keyword">sizeof</span>(rdata-&gt;pkt_info.packet));</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(rdata-&gt;pkt_info.src_name, src_name, <span class="keyword">sizeof</span>(rdata-&gt;pkt_info.src_name));</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;   rdata-&gt;pkt_info.src_port = src_port;</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;   pj_sockaddr_parse(pj_AF_UNSPEC(), 0, pj_cstr(&amp;tmp, src_name), &amp;rdata-&gt;pkt_info.src_addr);</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;   pj_sockaddr_set_port(&amp;rdata-&gt;pkt_info.src_addr, src_port);</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;   pjsip_parse_rdata(packet, strlen(packet), rdata);</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;   <span class="keywordflow">if</span> (!rdata-&gt;msg_info.msg || !pj_list_empty(&amp;rdata-&gt;msg_info.parse_err)) {</div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;   }</div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;</div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d9/d03/structcontact.html">contact</a>)) {</div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;      pjsip_contact_hdr *contact_hdr;</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;      contact_hdr = pjsip_msg_find_hdr(rdata-&gt;msg_info.msg, PJSIP_H_CONTACT, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;      <span class="keywordflow">if</span> (contact_hdr) {</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;         contact_hdr-&gt;uri = pjsip_parse_uri(rdata-&gt;tp_info.pool, (<span class="keywordtype">char</span> *)<a class="code" href="../../d9/d03/structcontact.html">contact</a>,</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;            strlen(contact), PJSIP_PARSE_URI_AS_NAMEADDR);</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;         <span class="keywordflow">if</span> (!contact_hdr-&gt;uri) {</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to parse contact URI from &#39;%s&#39;.\n&quot;</span>, contact);</div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;         }</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;      }</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;   }</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;   pj_strdup2(rdata-&gt;tp_info.pool, &amp;rdata-&gt;msg_info.via-&gt;recvd_param, rdata-&gt;pkt_info.src_name);</div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;   rdata-&gt;msg_info.via-&gt;rport_param = -1;</div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;</div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;   rdata-&gt;tp_info.transport-&gt;key.type = pjsip_transport_get_type_from_name(pj_cstr(&amp;tmp, transport_type));</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;   rdata-&gt;tp_info.transport-&gt;type_name = transport_type;</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;   pj_strdup2(rdata-&gt;tp_info.pool, &amp;rdata-&gt;tp_info.transport-&gt;local_name.host, local_name);</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;   rdata-&gt;tp_info.transport-&gt;local_name.port = local_port;</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac981149e3fb0f7fc8b6e75607b1b2ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac981149e3fb0f7fc8b6e75607b1b2ad0">&#9670;&nbsp;</a></span>ast_sip_create_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_create_request </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pjsip_dialog *&#160;</td>
          <td class="paramname"><em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td>
          <td class="paramname"><em>contact</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tx_data **&#160;</td>
          <td class="paramname"><em>tdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General purpose method for creating a SIP request. </p>
<p>Its typical use would be to create one-off requests such as an out of dialog SIP MESSAGE.</p>
<p>The request can either be in- or out-of-dialog. If in-dialog, the dlg parameter MUST be present. If out-of-dialog the endpoint parameter MUST be present. If both are present, then we will assume that the message is to be sent in-dialog.</p>
<p>The uri parameter can be specified if the request should be sent to an explicit URI rather than one configured on the endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">method</td><td>The method of the SIP request to send </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dlg</td><td>Optional. If specified, the dialog on which to request the message. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">endpoint</td><td>Optional. If specified, the request will be created out-of-dialog to the endpoint. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">uri</td><td>Optional. If specified, the request will be sent to this URI rather than one configured for the endpoint. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">contact</td><td>The contact with which this request is associated for out-of-dialog requests. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tdata</td><td>The newly-created request</td></tr>
  </table>
  </dd>
</dl>
<p>The provided contact is attached to tdata with its reference bumped, but will not survive for the entire lifetime of tdata since the contact is cleaned up when all supplements have completed execution.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04490">4490</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04362">create_in_dialog_request()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04380">create_out_of_dialog_request()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04351">get_pjsip_method()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04336">pmethod</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01221">msg_send()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00751">notify_channel()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00645">notify_contact()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00709">notify_uri()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00371">send_unsolicited_mwi_notify_to_contact()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02744">sendtext()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00847">sip_options_qualify_contact()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02218">transmit_info_dtmf()</a>, and <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l01351">transmit_info_with_vidupdate()</a>.</p>
<div class="fragment"><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;{</div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;   <span class="keyword">const</span> pjsip_method *<a class="code" href="../../de/d96/res__pjsip_8c.html#acbc0a9631742cb870f6ba56dcef1b75b">pmethod</a> = <a class="code" href="../../de/d96/res__pjsip_8c.html#aab40ce4ae2a2dd34cb70b0e76190113d">get_pjsip_method</a>(<a class="code" href="../../de/d96/res__pjsip_8c.html#a8b44a03925325ceaf2de7b079b1541a1">method</a>);</div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;</div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;   <span class="keywordflow">if</span> (!pmethod) {</div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown method &#39;%s&#39;. Cannot send request\n&quot;</span>, <a class="code" href="../../de/d96/res__pjsip_8c.html#a8b44a03925325ceaf2de7b079b1541a1">method</a>);</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;   }</div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;</div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;   <span class="keywordflow">if</span> (dlg) {</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a19ac5266932008840d797d3946819812">create_in_dialog_request</a>(pmethod, dlg, tdata);</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(endpoint != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a30c4a2058fe4ecb01a1cb8e4af76d7d2">create_out_of_dialog_request</a>(pmethod, endpoint, uri, contact, tdata);</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;   }</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_aab40ce4ae2a2dd34cb70b0e76190113d"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#aab40ce4ae2a2dd34cb70b0e76190113d">get_pjsip_method</a></div><div class="ttdeci">static const pjsip_method * get_pjsip_method(const char *method)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04351">res_pjsip.c:4351</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a19ac5266932008840d797d3946819812"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a19ac5266932008840d797d3946819812">create_in_dialog_request</a></div><div class="ttdeci">static int create_in_dialog_request(const pjsip_method *method, struct pjsip_dialog *dlg, pjsip_tx_data **tdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04362">res_pjsip.c:4362</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_acbc0a9631742cb870f6ba56dcef1b75b"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#acbc0a9631742cb870f6ba56dcef1b75b">pmethod</a></div><div class="ttdeci">const pjsip_method * pmethod</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04336">res_pjsip.c:4336</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a30c4a2058fe4ecb01a1cb8e4af76d7d2"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a30c4a2058fe4ecb01a1cb8e4af76d7d2">create_out_of_dialog_request</a></div><div class="ttdeci">static int create_out_of_dialog_request(const pjsip_method *method, struct ast_sip_endpoint *endpoint, const char *uri, struct ast_sip_contact *provided_contact, pjsip_tx_data **tdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04380">res_pjsip.c:4380</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a8b44a03925325ceaf2de7b079b1541a1"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a8b44a03925325ceaf2de7b079b1541a1">method</a></div><div class="ttdeci">const char * method</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04335">res_pjsip.c:4335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4810e8d609e3e1a5dd97faaca36d55ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4810e8d609e3e1a5dd97faaca36d55ee">&#9670;&nbsp;</a></span>ast_sip_create_request_with_auth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_create_request_with_auth </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *&#160;</td>
          <td class="paramname"><em>auths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>challenge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tx_data **&#160;</td>
          <td class="paramname"><em>new_request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a response to an authentication challenge. </p>
<p>This will call into an outbound authenticator's create_request_with_auth callback to create a new request with authentication credentials. See the create_request_with_auth callback in the <a class="el" href="../../d0/dc2/structast__sip__outbound__authenticator.html">ast_sip_outbound_authenticator</a> structure for details about the parameters and return values. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03412">3412</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00986">ast_sip_outbound_authenticator::create_request_with_auth</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04894">check_request_status()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01056">handle_registration_response()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03231">outbound_invite_auth()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l04731">session_inv_on_tsx_state_changed()</a>, and <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01260">sip_outbound_publish_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;{</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a>) {</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No SIP outbound authenticator registered. Cannot respond to authentication challenge\n&quot;</span>);</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;   }</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a>-&gt;<a class="code" href="../../d0/dc2/structast__sip__outbound__authenticator.html#aeb719bf226b983ff14224fb2388a0466">create_request_with_auth</a>(auths, <a class="code" href="../../dd/db2/res__pjsip__authenticator__digest_8c.html#ad920f57db5e8c4e82e415be692af48a8">challenge</a>, old_request, new_request);</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__sip__outbound__authenticator_html_aeb719bf226b983ff14224fb2388a0466"><div class="ttname"><a href="../../d0/dc2/structast__sip__outbound__authenticator.html#aeb719bf226b983ff14224fb2388a0466">ast_sip_outbound_authenticator::create_request_with_auth</a></div><div class="ttdeci">int(* create_request_with_auth)(const struct ast_sip_auth_vector *auths, struct pjsip_rx_data *challenge, struct pjsip_tx_data *old_request, struct pjsip_tx_data **new_request)</div><div class="ttdoc">Create a new request with authentication credentials. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00986">res_pjsip.h:986</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a18741a3257cf9d9ae4f755778d97f716"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a></div><div class="ttdeci">static struct ast_sip_outbound_authenticator * registered_outbound_authenticator</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03387">res_pjsip.c:3387</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__pjsip__authenticator__digest_8c_html_ad920f57db5e8c4e82e415be692af48a8"><div class="ttname"><a href="../../dd/db2/res__pjsip__authenticator__digest_8c.html#ad920f57db5e8c4e82e415be692af48a8">challenge</a></div><div class="ttdeci">static void challenge(const char *realm, pjsip_tx_data *tdata, const pjsip_rx_data *rdata, int is_stale)</div><div class="ttdoc">astobj2 callback for adding digest challenges to responses </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00377">res_pjsip_authenticator_digest.c:377</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d26a9ba468e7b251897c56032705447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d26a9ba468e7b251897c56032705447">&#9670;&nbsp;</a></span>ast_sip_create_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_create_response </td>
          <td>(</td>
          <td class="paramtype">const pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>st_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td>
          <td class="paramname"><em>contact</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tx_data **&#160;</td>
          <td class="paramname"><em>p_tdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General purpose method for creating a SIP response. </p>
<p>Its typical use would be to create responses for out of dialog requests.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">rdata</td><td>The rdata from the incoming request. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">st_code</td><td>The response code to transmit. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">contact</td><td>The contact with which this request is associated. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tdata</td><td>The newly-created response</td></tr>
  </table>
  </dd>
</dl>
<p>The provided contact is attached to tdata with its reference bumped, but will not survive for the entire lifetime of tdata since the contact is cleaned up when all supplements have completed execution.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05448">5448</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03718">ast_sip_get_pjsip_endpoint()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02670">ast_sip_mod_data_set</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03264">MOD_DATA_CONTACT</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04373">supplement_module</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00215">send_options_response()</a>, and <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01378">send_response()</a>.</p>
<div class="fragment"><div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;{</div><div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;   <span class="keywordtype">int</span> res = pjsip_endpt_create_response(<a class="code" href="../../de/d96/res__pjsip_8c.html#a785afb501e315c8a97ad476fb6a8be1d">ast_sip_get_pjsip_endpoint</a>(), rdata, st_code, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tdata);</div><div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;</div><div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a9937f98867d28da0cc0e8590d9c9ffa4">ast_sip_mod_data_set</a>((*tdata)-&gt;pool, (*tdata)-&gt;mod_data, <a class="code" href="../../de/d96/res__pjsip_8c.html#ad4148e8b866195343e8ee93ba9dd229f">supplement_module</a>.id, <a class="code" href="../../de/d96/res__pjsip_8c.html#a38381dc3e18f7d4bffe6533bac848ca3">MOD_DATA_CONTACT</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(contact));</div><div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;   }</div><div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;</div><div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_ad4148e8b866195343e8ee93ba9dd229f"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ad4148e8b866195343e8ee93ba9dd229f">supplement_module</a></div><div class="ttdeci">static pjsip_module supplement_module</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04373">res_pjsip.c:4373</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a9937f98867d28da0cc0e8590d9c9ffa4"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a9937f98867d28da0cc0e8590d9c9ffa4">ast_sip_mod_data_set</a></div><div class="ttdeci">#define ast_sip_mod_data_set(pool, mod_data, id, key, val)</div><div class="ttdoc">Utilizing a mod_data array for a given id, set the value associated with the given key...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02670">res_pjsip.h:2670</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a38381dc3e18f7d4bffe6533bac848ca3"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a38381dc3e18f7d4bffe6533bac848ca3">MOD_DATA_CONTACT</a></div><div class="ttdeci">#define MOD_DATA_CONTACT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03264">res_pjsip.c:3264</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a785afb501e315c8a97ad476fb6a8be1d"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a785afb501e315c8a97ad476fb6a8be1d">ast_sip_get_pjsip_endpoint</a></div><div class="ttdeci">pjsip_endpoint * ast_sip_get_pjsip_endpoint(void)</div><div class="ttdoc">Get a pointer to the PJSIP endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03718">res_pjsip.c:3718</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f6df3c21a0eb11bad3fa1dbfc2f1dfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6df3c21a0eb11bad3fa1dbfc2f1dfc">&#9670;&nbsp;</a></span>ast_sip_default_outbound_endpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a>* ast_sip_default_outbound_endpoint </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the default outbound endpoint. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>default outbound endpoint, NULL if not found. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02353">2353</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00217">ast_sip_global_default_outbound_endpoint()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00617">get_outbound_endpoint()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00505">handle_atsign()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00288">handle_single_token()</a>, and <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00709">notify_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;{</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keywordtype">char</span> *, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../dd/dfd/config__global_8c.html#adb0a620c4b968a9bf140802ca029311a">ast_sip_global_default_outbound_endpoint</a>(), <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) ? <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> : <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;      <a class="code" href="../../dc/df6/pjsip__configuration_8c.html#ac48616e42021978f48d538f44388f9ee">sip_sorcery</a>, <span class="stringliteral">&quot;endpoint&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="config__global_8c_html_adb0a620c4b968a9bf140802ca029311a"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#adb0a620c4b968a9bf140802ca029311a">ast_sip_global_default_outbound_endpoint</a></div><div class="ttdeci">char * ast_sip_global_default_outbound_endpoint(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00217">config_global.c:217</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_ac48616e42021978f48d538f44388f9ee"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#ac48616e42021978f48d538f44388f9ee">sip_sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sip_sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00052">pjsip_configuration.c:52</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a03947f27d86c6e69ed31fbbbf4981d40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03947f27d86c6e69ed31fbbbf4981d40">&#9670;&nbsp;</a></span>ast_sip_dialog_setup_outbound_authentication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_dialog_setup_outbound_authentication </td>
          <td>(</td>
          <td class="paramtype">pjsip_dialog *&#160;</td>
          <td class="paramname"><em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#adc70d746facfe5192c21846fb4389659">ast_sip_dialog_outbound_auth_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up outbound authentication on a SIP dialog. </p>
<p>This sets up the infrastructure so that all requests associated with a created dialog can be re-sent with authentication credentials if the original request is challenged.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dlg</td><td>The dialog on which requests will be authenticated </td></tr>
    <tr><td class="paramname">endpoint</td><td>The endpoint whom this dialog pertains to </td></tr>
    <tr><td class="paramname">cb</td><td>Callback to call to send requests with authentication </td></tr>
    <tr><td class="paramname">user_data</td><td>Data to be provided to the callback when it is called</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6245a7a570f7e3909edc946b5584fb9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6245a7a570f7e3909edc946b5584fb9a">&#9670;&nbsp;</a></span>ast_sip_dict_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_sip_dict_get </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ht</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the value associated with the given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ht</td><td>the hash table/dictionary to search </td></tr>
    <tr><td class="paramname">key</td><td>the key to find</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>value associated with the key, NULL otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05338">5338</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;{</div><div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hval = 0;</div><div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;</div><div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;   <span class="keywordflow">if</span> (!ht) {</div><div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;   }</div><div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;</div><div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;   <span class="keywordflow">return</span> pj_hash_get(ht, key, PJ_HASH_KEY_STRING, &amp;hval);</div><div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acd2eda720356f96b1d56a95321502eeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd2eda720356f96b1d56a95321502eeb">&#9670;&nbsp;</a></span>ast_sip_dict_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_sip_dict_set </td>
          <td>(</td>
          <td class="paramtype">pj_pool_t *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ht</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the value for the given key. </p>
<p>Note - if the hash table does not exist one is created first, the key/value pair is set, and the hash table returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>the pool to allocate memory in </td></tr>
    <tr><td class="paramname">ht</td><td>the hash table/dictionary in which to store the key/value pair </td></tr>
    <tr><td class="paramname">key</td><td>the key to associate a value with </td></tr>
    <tr><td class="paramname">val</td><td>the value to associate with a key</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>given, or newly created, hash table. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05349">5349</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>
<div class="fragment"><div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;{</div><div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;   <span class="keywordflow">if</span> (!ht) {</div><div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;      ht = pj_hash_create(<a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, 11);</div><div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;   }</div><div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;</div><div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;   pj_hash_set(<a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, ht, key, PJ_HASH_KEY_STRING, 0, <a class="code" href="../../d5/d85/structval.html">val</a>);</div><div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;</div><div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;   <span class="keywordflow">return</span> ht;</div><div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;}</div><div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="res__rtp__asterisk_8c_html_a2e57658a5d3ef6c4ef2774c9d5868e7c"><div class="ttname"><a href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a></div><div class="ttdeci">static pj_pool_t * pool</div><div class="ttdoc">Global memory pool for configuration and timers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00236">res_rtp_asterisk.c:236</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8871b0dfc62c06643cbfc0e2493d22a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8871b0dfc62c06643cbfc0e2493d22a0">&#9670;&nbsp;</a></span>ast_sip_dlg_set_transport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_dlg_set_transport </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_dialog *&#160;</td>
          <td class="paramname"><em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tpselector *&#160;</td>
          <td class="paramname"><em>selector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the transport on a dialog. </p>
<dl class="section since"><dt>Since</dt><dd>13.15.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td></td></tr>
    <tr><td class="paramname">dlg</td><td></td></tr>
    <tr><td class="paramname">selector</td><td>(optional)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This API calls ast_sip_get_transport_name(endpoint, dlg-&gt;target) and if the result is non-NULL, calls pjsip_dlg_set_transport. If 'selector' is non-NULL, it is updated with the selector used.</dd>
<dd>
It is the responsibility of the caller to unref the passed in selector if one is provided. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03791">3791</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03975">ast_sip_set_tpselector_from_ep_or_uri()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03987">ast_sip_tpselector_unref()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04028">ast_sip_create_dialog_uac()</a>.</p>
<div class="fragment"><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;{</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;   pjsip_sip_uri *uri;</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;   pjsip_tpselector sel = { .type = PJSIP_TPSELECTOR_NONE, };</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;   uri = pjsip_uri_get_uri(dlg-&gt;target);</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;   <span class="keywordflow">if</span> (!selector) {</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;      selector = &amp;sel;</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;   }</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a74c80b6cedcf4cc847f2b81ba6437337">ast_sip_set_tpselector_from_ep_or_uri</a>(endpoint, uri, selector);</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;   pjsip_dlg_set_transport(dlg, selector);</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;   <span class="keywordflow">if</span> (selector == &amp;sel) {</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;      <a class="code" href="../../de/d96/res__pjsip_8c.html#a9e1ef995698ba16cad6608225b8de946">ast_sip_tpselector_unref</a>(&amp;sel);</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;   }</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_a74c80b6cedcf4cc847f2b81ba6437337"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a74c80b6cedcf4cc847f2b81ba6437337">ast_sip_set_tpselector_from_ep_or_uri</a></div><div class="ttdeci">int ast_sip_set_tpselector_from_ep_or_uri(const struct ast_sip_endpoint *endpoint, pjsip_sip_uri *sip_uri, pjsip_tpselector *selector)</div><div class="ttdoc">Sets pjsip_tpselector from an endpoint or uri. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03975">res_pjsip.c:3975</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a9e1ef995698ba16cad6608225b8de946"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a9e1ef995698ba16cad6608225b8de946">ast_sip_tpselector_unref</a></div><div class="ttdeci">void ast_sip_tpselector_unref(pjsip_tpselector *selector)</div><div class="ttdoc">Unreference a pjsip_tpselector. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03987">res_pjsip.c:3987</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a70a5c3ffebc2d2aaf9a3c5f661d2287c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a5c3ffebc2d2aaf9a3c5f661d2287c">&#9670;&nbsp;</a></span>ast_sip_dtmf_to_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_dtmf_to_str </td>
          <td>(</td>
          <td class="paramtype">const enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1f">ast_sip_dtmf_mode</a>&#160;</td>
          <td class="paramname"><em>dtmf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the DTMF mode enum value into a string. </p>
<dl class="section since"><dt>Since</dt><dd>13.18.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dtmf</td><td>the dtmf mode </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to receive dtmf mode string </td></tr>
    <tr><td class="paramname">buf_len</td><td>Buffer length</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05484">5484</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00419">AST_SIP_DTMF_AUTO</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00421">AST_SIP_DTMF_AUTO_INFO</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00415">AST_SIP_DTMF_INBAND</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00417">AST_SIP_DTMF_INFO</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00410">AST_SIP_DTMF_NONE</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00413">AST_SIP_DTMF_RFC_4733</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00159">dtmf_to_str()</a>, and <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01429">pjsip_acf_dtmf_mode_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;{</div><div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;   <span class="keywordflow">switch</span> (dtmf) {</div><div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe">AST_SIP_DTMF_NONE</a>:</div><div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;none&quot;</span>, buf_len);</div><div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2">AST_SIP_DTMF_RFC_4733</a>:</div><div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;rfc4733&quot;</span>, buf_len);</div><div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a>:</div><div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;inband&quot;</span>, buf_len);</div><div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d">AST_SIP_DTMF_INFO</a>:</div><div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;info&quot;</span>, buf_len);</div><div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a>:</div><div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;auto&quot;</span>, buf_len);</div><div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728">AST_SIP_DTMF_AUTO_INFO</a>:</div><div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;auto_info&quot;</span>, buf_len);</div><div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;   }</div><div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d">AST_SIP_DTMF_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00417">res_pjsip.h:417</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728">AST_SIP_DTMF_AUTO_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00421">res_pjsip.h:421</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00415">res_pjsip.h:415</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00419">res_pjsip.h:419</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2">AST_SIP_DTMF_RFC_4733</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00413">res_pjsip.h:413</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe">AST_SIP_DTMF_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00410">res_pjsip.h:410</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6785f15b1a4576e19da5127ff48f7723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6785f15b1a4576e19da5127ff48f7723">&#9670;&nbsp;</a></span>ast_sip_endpoint_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_sip_endpoint_alloc </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a new SIP endpoint. </p>
<p>This will return an endpoint with its refcount increased by one. This reference can be released using <a class="el" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the endpoint. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Endpoint allocation failed </td></tr>
    <tr><td class="paramname">non-NULL</td><td>The newly allocated endpoint </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02306">2306</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01757">ast_party_id_init()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01728">ast_sorcery_generic_alloc()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00770">ast_sip_endpoint_media_configuration::codecs</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00046">sip_persistent_endpoint::endpoint</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02267">endpoint_destructor()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00847">ast_sip_endpoint::id</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00861">ast_sip_endpoint::ident_method_order</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00849">ast_sip_endpoint::info</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02296">init_info_configuration()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02301">init_media_configuration()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02291">init_subscription_configuration()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00841">ast_sip_endpoint::media</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00629">ast_sip_endpoint_id_configuration::self</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00843">ast_sip_endpoint::subscription</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l00355">ast_party_id::tag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>.</p>
<div class="fragment"><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;{</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint = <a class="code" href="../../d8/d25/sorcery_8h.html#a4c03ccef909474831717c93679065508">ast_sorcery_generic_alloc</a>(<span class="keyword">sizeof</span>(*endpoint), <a class="code" href="../../dc/df6/pjsip__configuration_8c.html#ad16d6e9edb854ff12073915f4755841b">endpoint_destructor</a>);</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;   <span class="keywordflow">if</span> (!endpoint) {</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;   }</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(endpoint, 64)) {</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(endpoint);</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;   }</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;   <span class="keywordflow">if</span> (!(endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a853a124d9bfb1a64ae46e067f5103381">media</a>.<a class="code" href="../../d3/d35/structast__sip__endpoint__media__configuration.html#a250b131731bf019fe96a44c9473437f0">codecs</a> = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>))) {</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(endpoint);</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;   }</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/df6/pjsip__configuration_8c.html#aab158a1cc31ed2a2e5c3a04fc6d3bd9c">init_subscription_configuration</a>(&amp;endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#ad1ba7bbb888c3c7ca9930718877f2485">subscription</a>)) {</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(endpoint);</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;   }</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/df6/pjsip__configuration_8c.html#a140cdbd971f876cc596c6b46ab854575">init_info_configuration</a>(&amp;endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#aeb1d4e7a4bd3cddeed7a328759361897">info</a>)) {</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(endpoint);</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;   }</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/df6/pjsip__configuration_8c.html#a856b1ddaeaf8c959cc0e2b742b2f2449">init_media_configuration</a>(&amp;endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a853a124d9bfb1a64ae46e067f5103381">media</a>)) {</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(endpoint);</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;   }</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a2126ac3bbc1a14f6ed5ccdfcbb851776">ast_party_id_init</a>(&amp;endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a50783ac9bc6f4943369ed254972049ac">id</a>.<a class="code" href="../../d4/df6/structast__sip__endpoint__id__configuration.html#a179b9758f096dc75be612d5f4e5f07cc">self</a>);</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;   endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a50783ac9bc6f4943369ed254972049ac">id</a>.<a class="code" href="../../d4/df6/structast__sip__endpoint__id__configuration.html#a179b9758f096dc75be612d5f4e5f07cc">self</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#a7bb5e40c10df6a41df64bda1f4bb3e26">tag</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a681d685c47bd9fedb5527fabfd0454c1">ident_method_order</a>, 1)) {</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;   }</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;   <span class="keywordflow">return</span> endpoint;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;}</div><div class="ttc" id="pjsip__configuration_8c_html_a140cdbd971f876cc596c6b46ab854575"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#a140cdbd971f876cc596c6b46ab854575">init_info_configuration</a></div><div class="ttdeci">static int init_info_configuration(struct ast_sip_endpoint_info_configuration *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02296">pjsip_configuration.c:2296</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_aab158a1cc31ed2a2e5c3a04fc6d3bd9c"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#aab158a1cc31ed2a2e5c3a04fc6d3bd9c">init_subscription_configuration</a></div><div class="ttdeci">static int init_subscription_configuration(struct ast_sip_endpoint_subscription_configuration *subscription)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02291">pjsip_configuration.c:2291</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_a856b1ddaeaf8c959cc0e2b742b2f2449"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#a856b1ddaeaf8c959cc0e2b742b2f2449">init_media_configuration</a></div><div class="ttdeci">static int init_media_configuration(struct ast_sip_endpoint_media_configuration *media)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02301">pjsip_configuration.c:2301</a></div></div>
<div class="ttc" id="structast__sip__endpoint__media__configuration_html_a250b131731bf019fe96a44c9473437f0"><div class="ttname"><a href="../../d3/d35/structast__sip__endpoint__media__configuration.html#a250b131731bf019fe96a44c9473437f0">ast_sip_endpoint_media_configuration::codecs</a></div><div class="ttdeci">struct ast_format_cap * codecs</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00770">res_pjsip.h:770</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_ad1ba7bbb888c3c7ca9930718877f2485"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#ad1ba7bbb888c3c7ca9930718877f2485">ast_sip_endpoint::subscription</a></div><div class="ttdeci">struct ast_sip_endpoint_subscription_configuration subscription</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00843">res_pjsip.h:843</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_a853a124d9bfb1a64ae46e067f5103381"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#a853a124d9bfb1a64ae46e067f5103381">ast_sip_endpoint::media</a></div><div class="ttdeci">struct ast_sip_endpoint_media_configuration media</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00841">res_pjsip.h:841</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_a681d685c47bd9fedb5527fabfd0454c1"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#a681d685c47bd9fedb5527fabfd0454c1">ast_sip_endpoint::ident_method_order</a></div><div class="ttdeci">struct ast_sip_identify_by_vector ident_method_order</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00861">res_pjsip.h:861</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a></div><div class="ttdoc">An entity with which Asterisk communicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00812">res_pjsip.h:812</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_a50783ac9bc6f4943369ed254972049ac"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#a50783ac9bc6f4943369ed254972049ac">ast_sip_endpoint::id</a></div><div class="ttdeci">struct ast_sip_endpoint_id_configuration id</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00847">res_pjsip.h:847</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_ad16d6e9edb854ff12073915f4755841b"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#ad16d6e9edb854ff12073915f4755841b">endpoint_destructor</a></div><div class="ttdeci">static void endpoint_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02267">pjsip_configuration.c:2267</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_aeb1d4e7a4bd3cddeed7a328759361897"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#aeb1d4e7a4bd3cddeed7a328759361897">ast_sip_endpoint::info</a></div><div class="ttdeci">struct ast_sip_endpoint_info_configuration info</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00849">res_pjsip.h:849</a></div></div>
<div class="ttc" id="channel_8h_html_a2126ac3bbc1a14f6ed5ccdfcbb851776"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2126ac3bbc1a14f6ed5ccdfcbb851776">ast_party_id_init</a></div><div class="ttdeci">void ast_party_id_init(struct ast_party_id *init)</div><div class="ttdoc">Initialize the given party id structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01757">channel.c:1757</a></div></div>
<div class="ttc" id="structast__party__id_html_a7bb5e40c10df6a41df64bda1f4bb3e26"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html#a7bb5e40c10df6a41df64bda1f4bb3e26">ast_party_id::tag</a></div><div class="ttdeci">char * tag</div><div class="ttdoc">User-set &quot;tag&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00355">channel.h:355</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sip__endpoint__id__configuration_html_a179b9758f096dc75be612d5f4e5f07cc"><div class="ttname"><a href="../../d4/df6/structast__sip__endpoint__id__configuration.html#a179b9758f096dc75be612d5f4e5f07cc">ast_sip_endpoint_id_configuration::self</a></div><div class="ttdeci">struct ast_party_id self</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00629">res_pjsip.h:629</a></div></div>
<div class="ttc" id="sorcery_8h_html_a4c03ccef909474831717c93679065508"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a4c03ccef909474831717c93679065508">ast_sorcery_generic_alloc</a></div><div class="ttdeci">void * ast_sorcery_generic_alloc(size_t size, ao2_destructor_fn destructor)</div><div class="ttdoc">Allocate a generic sorcery capable object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01728">sorcery.c:1728</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afa22bc164a1c4108006f96822318ff14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa22bc164a1c4108006f96822318ff14">&#9670;&nbsp;</a></span>ast_sip_failover_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_failover_request </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a request to use the next value in the list of resolved addresses. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tdata</td><td>the tx data from the original request </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No more addresses to try </td></tr>
    <tr><td class="paramname">1</td><td>The request was successfully re-intialized </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04871">4871</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04937">send_request_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04894">check_request_status()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01056">handle_registration_response()</a>.</p>
<div class="fragment"><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;{</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;   pjsip_via_hdr *via;</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;   <span class="keywordflow">if</span> (!tdata || !tdata-&gt;dest_info.addr.count</div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;      || (tdata-&gt;dest_info.cur_addr == tdata-&gt;dest_info.addr.count - 1)) {</div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;      <span class="comment">/* No more addresses to try */</span></div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;   }</div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;</div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;   <span class="comment">/* Try next address */</span></div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;   ++tdata-&gt;dest_info.cur_addr;</div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;</div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;   via = (pjsip_via_hdr*)pjsip_msg_find_hdr(tdata-&gt;msg, PJSIP_H_VIA, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;   via-&gt;branch_param.slen = 0;</div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;</div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;   pjsip_tx_data_invalidate_msg(tdata);</div><div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;</div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a6f16128f131ec8feae5dc0f8545b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a6f16128f131ec8feae5dc0f8545b2f">&#9670;&nbsp;</a></span>ast_sip_for_each_aor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_for_each_aor </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a>&#160;</td>
          <td class="paramname"><em>on_aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For every aor in the comma separated aors string call the given 'on_aor' handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aors</td><td>a comma separated list of aors </td></tr>
    <tr><td class="paramname">on_aor</td><td>callback for each aor </td></tr>
    <tr><td class="paramname">arg</td><td>user data passed to handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, non-zero on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00684">684</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00147">ast_sip_location_retrieve_aor()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00219">ast_strip()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l04629">copy()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, and <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01155">ami_registrations_endpoint()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00335">ast_sip_location_retrieve_contacts_from_aor_list()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01139">cli_aor_iterate()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02779">format_ami_contact_status()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00867">format_ami_endpoint_aor()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01729">format_ami_endpoints()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00974">mwi_new_subscribe()</a>, and <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00960">mwi_subscribe_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <span class="keywordflow">if</span> (!on_aor || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a50edbc089f02d537b9a487f1a62c889e">aors</a>)) {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   copy = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a50edbc089f02d537b9a487f1a62c889e">aors</a>);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <span class="keywordflow">while</span> ((name = <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(<a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;copy, <span class="stringliteral">&quot;,&quot;</span>)))) {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      aor = <a class="code" href="../../d0/dad/location_8c.html#a434c2d85dbd10a9453f6d409809330d5">ast_sip_location_retrieve_aor</a>(name);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="keywordflow">if</span> (aor) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;         res = on_aor(aor, arg, 0);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(aor, -1);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;         <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;         }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div><div class="ttc" id="structast__sip__aor_html"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a></div><div class="ttdoc">A SIP address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00361">res_pjsip.h:361</a></div></div>
<div class="ttc" id="location_8c_html_a434c2d85dbd10a9453f6d409809330d5"><div class="ttname"><a href="../../d0/dad/location_8c.html#a434c2d85dbd10a9453f6d409809330d5">ast_sip_location_retrieve_aor</a></div><div class="ttdeci">struct ast_sip_aor * ast_sip_location_retrieve_aor(const char *aor_name)</div><div class="ttdoc">Retrieve a named AOR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00147">location.c:147</a></div></div>
<div class="ttc" id="app__voicemail_8c_html_abe15777a07ac747625b018ac01f92531"><div class="ttname"><a href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a></div><div class="ttdeci">static int copy(char *infile, char *outfile)</div><div class="ttdoc">Utility function to copy a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/app__voicemail_8c_source.html#l04629">app_voicemail.c:4629</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="structast__sip__endpoint_html_a50edbc089f02d537b9a487f1a62c889e"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#a50edbc089f02d537b9a487f1a62c889e">ast_sip_endpoint::aors</a></div><div class="ttdeci">const ast_string_field aors</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00821">res_pjsip.h:821</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a29528938e5f76dbfcc8363698d641424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29528938e5f76dbfcc8363698d641424">&#9670;&nbsp;</a></span>ast_sip_for_each_auth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_for_each_auth </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a>&#160;</td>
          <td class="paramname"><em>on_auth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For every auth in the array call the given 'on_auth' handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>an array of auths </td></tr>
    <tr><td class="paramname">on_auth</td><td>callback for each auth </td></tr>
    <tr><td class="paramname">arg</td><td>user data passed to handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, non-zero on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00135">135</a> of file <a class="el" href="../../d5/dcb/config__auth_8c_source.html">config_auth.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00195">ast_sip_format_auths_ami()</a>, and <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00301">cli_iterator()</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <span class="keywordflow">if</span> (!vector || !<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(vector)) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(vector); ++i) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="comment">/* AST_VECTOR_GET is safe to use since the vector is immutable */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> *, auth, <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;             <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), SIP_SORCERY_AUTH_TYPE,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;             <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(vector,i)), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">if</span> (!auth) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">if</span> (on_auth(auth, arg, 0)) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="structast__sip__auth_html"><div class="ttname"><a href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00444">res_pjsip.h:444</a></div></div>
<div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2958e96fd24fd16ab0f1fa9a3c20fee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2958e96fd24fd16ab0f1fa9a3c20fee">&#9670;&nbsp;</a></span>ast_sip_for_each_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_for_each_channel </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a>&#160;</td>
          <td class="paramname"><em>on_channel_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For every channel snapshot on an endpoint all the given 'on_channel_snapshot' handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>endpoint </td></tr>
    <tr><td class="paramname">on_channel_snapshot</td><td>callback for each channel snapshot </td></tr>
    <tr><td class="paramname">arg</td><td>user data passed to handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, non-zero on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01550">1550</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01523">ast_sip_for_each_channel_snapshot()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01515">ast_sip_get_endpoint_snapshot()</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6d/cli__commands_8c_source.html#l00045">cli_channel_iterate()</a>, and <a class="el" href="../../d9/d6d/cli__commands_8c_source.html#l00050">cli_channelstats_iterate()</a>.</p>
<div class="fragment"><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;{</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *, endpoint_snapshot, <a class="code" href="../../dc/df6/pjsip__configuration_8c.html#ac0dd619fa2bdf2445035aee2b78cd6d1">ast_sip_get_endpoint_snapshot</a>(endpoint), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/df6/pjsip__configuration_8c.html#a3c40c0d7d16ceb84ec98c0b5fef0083a">ast_sip_for_each_channel_snapshot</a>(endpoint_snapshot, on_channel_snapshot, arg);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div><div class="ttc" id="pjsip__configuration_8c_html_a3c40c0d7d16ceb84ec98c0b5fef0083a"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#a3c40c0d7d16ceb84ec98c0b5fef0083a">ast_sip_for_each_channel_snapshot</a></div><div class="ttdeci">int ast_sip_for_each_channel_snapshot(const struct ast_endpoint_snapshot *endpoint_snapshot, ao2_callback_fn on_channel_snapshot, void *arg)</div><div class="ttdoc">For every channel snapshot on an endpoint snapshot call the given &amp;#39;on_channel_snapshot&amp;#39; handler...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l01523">pjsip_configuration.c:1523</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a></div><div class="ttdoc">A snapshot of an endpoint&amp;#39;s state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00048">stasis_endpoints.h:48</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_ac0dd619fa2bdf2445035aee2b78cd6d1"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#ac0dd619fa2bdf2445035aee2b78cd6d1">ast_sip_get_endpoint_snapshot</a></div><div class="ttdeci">struct ast_endpoint_snapshot * ast_sip_get_endpoint_snapshot(const struct ast_sip_endpoint *endpoint)</div><div class="ttdoc">Retrieve the endpoint snapshot for an endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l01515">pjsip_configuration.c:1515</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c40c0d7d16ceb84ec98c0b5fef0083a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c40c0d7d16ceb84ec98c0b5fef0083a">&#9670;&nbsp;</a></span>ast_sip_for_each_channel_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_for_each_channel_snapshot </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *&#160;</td>
          <td class="paramname"><em>endpoint_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a>&#160;</td>
          <td class="paramname"><em>on_channel_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For every channel snapshot on an endpoint snapshot call the given 'on_channel_snapshot' handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint_snapshot</td><td>snapshot of an endpoint </td></tr>
    <tr><td class="paramname">on_channel_snapshot</td><td>callback for each channel snapshot </td></tr>
    <tr><td class="paramname">arg</td><td>user data passed to handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, non-zero on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01523">1523</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00903">ast_channel_snapshot_get_latest()</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00065">ast_endpoint_snapshot::channel_ids</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00063">ast_endpoint_snapshot::num_channels</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01566">active_channels_to_str()</a>, and <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01550">ast_sip_for_each_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;{</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;   <span class="keywordtype">int</span> num, num_channels = endpoint_snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#a3ebe4beb37744670619a1fb1cb609d91">num_channels</a>;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;   <span class="keywordflow">if</span> (!on_channel_snapshot || !num_channels) {</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;   }</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;   <span class="keywordflow">for</span> (num = 0; num &lt; num_channels; ++num) {</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *, snapshot, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      snapshot = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a>(endpoint_snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#af8f1f95df0b0112b6e33a612c577df63">channel_ids</a>[num]);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <span class="keywordflow">if</span> (!snapshot) {</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      }</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      res = on_channel_snapshot(snapshot, arg, 0);</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      }</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   }</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div><div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_a3ebe4beb37744670619a1fb1cb609d91"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#a3ebe4beb37744670619a1fb1cb609d91">ast_endpoint_snapshot::num_channels</a></div><div class="ttdeci">int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00063">stasis_endpoints.h:63</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_af8f1f95df0b0112b6e33a612c577df63"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#af8f1f95df0b0112b6e33a612c577df63">ast_endpoint_snapshot::channel_ids</a></div><div class="ttdeci">char * channel_ids[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00065">stasis_endpoints.h:65</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga68c55b443ba97dc157b493aafd05c876"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_channel_snapshot_get_latest(const char *uniqueid)</div><div class="ttdoc">Obtain the latest ast_channel_snapshot from the Stasis Message Bus API cache. This is an ao2 object...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00903">stasis_channels.c:903</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4267a8bdd3aed1f82b2720c2c5ab61c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4267a8bdd3aed1f82b2720c2c5ab61c1">&#9670;&nbsp;</a></span>ast_sip_for_each_contact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_for_each_contact </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a>&#160;</td>
          <td class="paramname"><em>on_contact</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For every contact on an AOR call the given 'on_contact' handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>the aor containing a list of contacts to iterate </td></tr>
    <tr><td class="paramname">on_contact</td><td>callback on each contact on an AOR. The object received by the callback will be a <a class="el" href="../../df/dd8/structast__sip__contact__wrapper.html" title="A wrapper for contact that adds the aor_id and a consistent contact id. Used by ast_sip_for_each_cont...">ast_sip_contact_wrapper</a> structure. </td></tr>
    <tr><td class="paramname">arg</td><td>user data passed to handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, non-zero on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00719">719</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00247">ast_sip_location_retrieve_aor_contacts()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00710">contact_wrapper_destroy()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01133">ami_registrations_aor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00909">cli_aor_gather_contacts()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00976">cli_contact_iterate()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00808">contacts_to_str()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00657">contacts_to_var_list()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02772">format_contact_status_for_aor()</a>, and <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01629">sip_endpoints_aors_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *contacts;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   <span class="keywordtype">void</span> *<span class="keywordtype">object</span> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <span class="keywordflow">if</span> (!on_contact ||</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;       !(contacts = <a class="code" href="../../d0/dad/location_8c.html#a404837089a8a08b9f341f2ccea7128ef">ast_sip_location_retrieve_aor_contacts</a>(aor))) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(contacts, 0);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   <span class="keywordflow">while</span> ((<span class="keywordtype">object</span> = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *, <a class="code" href="../../d9/d03/structcontact.html">contact</a>, <span class="keywordtype">object</span>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/dd8/structast__sip__contact__wrapper.html">ast_sip_contact_wrapper</a> *, wrapper, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *aor_id = <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(aor);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      wrapper = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../df/dd8/structast__sip__contact__wrapper.html">ast_sip_contact_wrapper</a>),</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;         <a class="code" href="../../d0/dad/location_8c.html#a3b5bdbf31ca79dffbf7167a89bdbb170">contact_wrapper_destroy</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">if</span> (!wrapper) {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;         res = -1;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      wrapper-&gt;contact_id = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(strlen(aor_id) + strlen(<a class="code" href="../../d9/d03/structcontact.html">contact</a>-&gt;uri) + 2);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="keywordflow">if</span> (!wrapper-&gt;contact_id) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;         res = -1;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      sprintf(wrapper-&gt;contact_id, <span class="stringliteral">&quot;%s/%s&quot;</span>, aor_id, <a class="code" href="../../d9/d03/structcontact.html">contact</a>-&gt;uri);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      wrapper-&gt;aor_id = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(aor_id);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">if</span> (!wrapper-&gt;aor_id) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;         res = -1;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      wrapper-&gt;contact = <a class="code" href="../../d9/d03/structcontact.html">contact</a>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(wrapper-&gt;contact);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">if</span> ((res = on_contact(wrapper, arg, 0))) {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(contacts, -1);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="location_8c_html_a404837089a8a08b9f341f2ccea7128ef"><div class="ttname"><a href="../../d0/dad/location_8c.html#a404837089a8a08b9f341f2ccea7128ef">ast_sip_location_retrieve_aor_contacts</a></div><div class="ttdeci">struct ao2_container * ast_sip_location_retrieve_aor_contacts(const struct ast_sip_aor *aor)</div><div class="ttdoc">Retrieve all contacts currently available for an AOR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00247">location.c:247</a></div></div>
<div class="ttc" id="structast__sip__contact__wrapper_html"><div class="ttname"><a href="../../df/dd8/structast__sip__contact__wrapper.html">ast_sip_contact_wrapper</a></div><div class="ttdoc">A wrapper for contact that adds the aor_id and a consistent contact id. Used by ast_sip_for_each_cont...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00396">res_pjsip.h:396</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="location_8c_html_a3b5bdbf31ca79dffbf7167a89bdbb170"><div class="ttname"><a href="../../d0/dad/location_8c.html#a3b5bdbf31ca79dffbf7167a89bdbb170">contact_wrapper_destroy</a></div><div class="ttdeci">static void contact_wrapper_destroy(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00710">location.c:710</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4690151b996bef01389d22a11ec0b21e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4690151b996bef01389d22a11ec0b21e">&#9670;&nbsp;</a></span>ast_sip_format_auths_ami()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_format_auths_ami </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *&#160;</td>
          <td class="paramname"><em>auths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2f/structast__sip__ami.html">ast_sip_ami</a> *&#160;</td>
          <td class="paramname"><em>ami</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Format auth details for AMI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">auths</td><td>an auth array </td></tr>
    <tr><td class="paramname">ami</td><td>ami variable container </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, non-zero on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00195">195</a> of file <a class="el" href="../../d5/dcb/config__auth_8c_source.html">config_auth.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00135">ast_sip_for_each_auth()</a>, and <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00168">format_ami_auth_handler()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02135">ami_outbound_registration_task()</a>, and <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00201">format_ami_endpoint_auth()</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/dcb/config__auth_8c.html#ac9b6f731643f343f05cab6f4268bd8cc">ast_sip_for_each_auth</a>(auths, <a class="code" href="../../d5/dcb/config__auth_8c.html#a8c8eb1121372ee6ac545106235f59cc0">format_ami_auth_handler</a>, ami);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="ttc" id="config__auth_8c_html_a8c8eb1121372ee6ac545106235f59cc0"><div class="ttname"><a href="../../d5/dcb/config__auth_8c.html#a8c8eb1121372ee6ac545106235f59cc0">format_ami_auth_handler</a></div><div class="ttdeci">static int format_ami_auth_handler(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dcb/config__auth_8c_source.html#l00168">config_auth.c:168</a></div></div>
<div class="ttc" id="config__auth_8c_html_ac9b6f731643f343f05cab6f4268bd8cc"><div class="ttname"><a href="../../d5/dcb/config__auth_8c.html#ac9b6f731643f343f05cab6f4268bd8cc">ast_sip_for_each_auth</a></div><div class="ttdeci">int ast_sip_for_each_auth(const struct ast_sip_auth_vector *vector, ao2_callback_fn on_auth, void *arg)</div><div class="ttdoc">For every auth in the array call the given &amp;#39;on_auth&amp;#39; handler. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dcb/config__auth_8c_source.html#l00135">config_auth.c:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85b5bfa4330f0b5e0f86311139cc00f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85b5bfa4330f0b5e0f86311139cc00f7">&#9670;&nbsp;</a></span>ast_sip_format_contact_ami()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_format_contact_ami </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Formats the contact and sends over AMI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>a pointer an <a class="el" href="../../df/dd8/structast__sip__contact__wrapper.html" title="A wrapper for contact that adds the aor_id and a consistent contact id. Used by ast_sip_for_each_cont...">ast_sip_contact_wrapper</a> structure </td></tr>
    <tr><td class="paramname">arg</td><td>a pointer to an <a class="el" href="../../d4/d2f/structast__sip__ami.html" title="AMI variable container. ">ast_sip_ami</a> structure </td></tr>
    <tr><td class="paramname">flags</td><td>ignored </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, otherwise non-zero on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02717">2717</a> of file <a class="el" href="../../df/dda/pjsip__options_8c_source.html">pjsip_options.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00398">ast_sip_contact_wrapper::aor_id</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02745">ast_sip_ami::arg</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01584">ast_sip_create_ami_event()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00523">ast_sip_get_contact_status()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00336">ast_sip_get_contact_status_label()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03080">astman_append()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00309">ast_sip_contact::authenticate_qualify</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00327">AVAILABLE</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::call_id</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00402">ast_sip_contact_wrapper::contact</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02747">ast_sip_ami::count</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::endpoint_name</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00305">ast_sip_contact::expiration_time</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::outbound_proxy</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::path</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00307">ast_sip_contact::qualify_frequency</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00311">ast_sip_contact::qualify_timeout</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00347">ast_sip_contact_status::rtt</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02739">ast_sip_ami::s</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00351">ast_sip_contact_status::status</a>, <a class="el" href="../../de/d26/isdn__lib_8h_source.html#l00242">UNKNOWN</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::uri</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::user_agent</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::via_addr</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00315">ast_sip_contact::via_port</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01190">ami_show_registration_contact_statuses()</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02772">format_contact_status_for_aor()</a>.</p>
<div class="fragment"><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;{</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/dd8/structast__sip__contact__wrapper.html">ast_sip_contact_wrapper</a> *wrapper = obj;</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="code" href="../../d9/d03/structcontact.html">contact</a> = wrapper-&gt;<a class="code" href="../../df/dd8/structast__sip__contact__wrapper.html#a0181805d3b31d6f1859ef7784c67fcf2">contact</a>;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2f/structast__sip__ami.html">ast_sip_ami</a> *ami = <a class="code" href="../../d4/d2f/structast__sip__ami.html#a9ce2ec4812a92cb6ab39f6e81e9173a9">arg</a>;</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d17/structast__sip__contact__status.html">ast_sip_contact_status</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>;</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint = ami-&gt;<a class="code" href="../../d4/d2f/structast__sip__ami.html#a9ce2ec4812a92cb6ab39f6e81e9173a9">arg</a>;</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;   buf = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5b63b1eceb879f2cf0e23f356040737a">ast_sip_create_ami_event</a>(<span class="stringliteral">&quot;ContactStatusDetail&quot;</span>, ami);</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;   <span class="keywordflow">if</span> (!buf) {</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;   }</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;   status = <a class="code" href="../../df/dda/pjsip__options_8c.html#a084d996844ec8a81d230ac2305a76fcf">ast_sip_get_contact_status</a>(contact);</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;AOR: %s\r\n&quot;</span>, wrapper-&gt;<a class="code" href="../../df/dd8/structast__sip__contact__wrapper.html#aada96c4dcf837c70c990bed754148422">aor_id</a>);</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;URI: %s\r\n&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">uri</a>);</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;UserAgent: %s\r\n&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#ad6233310a4cab812bbccf98b823aa039">user_agent</a>);</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;RegExpire: %ld\r\n&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a98ed99328ad621551cdfbee6b83754ae">expiration_time</a>.tv_sec);</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a526207204e5f599fb9a618d9f8001ca2">via_addr</a>)) {</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;ViaAddress: %s&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a526207204e5f599fb9a618d9f8001ca2">via_addr</a>);</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;      <span class="keywordflow">if</span> (contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#ad3a98d512391e68d8473ad51e3fd2401">via_port</a>) {</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;:%d&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#ad3a98d512391e68d8473ad51e3fd2401">via_port</a>);</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;      }</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;   }</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a71e59257a329fbb031e9fc17eaca0922">call_id</a>)) {</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;CallID: %s\r\n&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a71e59257a329fbb031e9fc17eaca0922">call_id</a>);</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;   }</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;Status: %s\r\n&quot;</span>,</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;      <a class="code" href="../../df/dda/pjsip__options_8c.html#a972a08491892c70d60830d3e78d4d429">ast_sip_get_contact_status_label</a>(status ? status-&gt;<a class="code" href="../../d5/d17/structast__sip__contact__status.html#a3def763479a6f4255ff4071c86be1646">status</a> : <a class="code" href="../../de/d26/isdn__lib_8h.html#a958ee68c9cc2740d8a00bf98a0702547a6ce26a62afab55d7606ad4e92428b30c">UNKNOWN</a>));</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;   <span class="keywordflow">if</span> (!status || status-&gt;<a class="code" href="../../d5/d17/structast__sip__contact__status.html#a3def763479a6f4255ff4071c86be1646">status</a> != <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a1e229ccb8b53a57de4ebb11c2d15272e">AVAILABLE</a>) {</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;RoundtripUsec: N/A\r\n&quot;</span>);</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;RoundtripUsec: %&quot;</span> PRId64 <span class="stringliteral">&quot;\r\n&quot;</span>, status-&gt;<a class="code" href="../../d5/d17/structast__sip__contact__status.html#adde3e75a4d9d8f8e72782a767e0858b7">rtt</a>);</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;   }</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;EndpointName: %s\r\n&quot;</span>,</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;      endpoint ? <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(endpoint) : <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#ab4cbf7f39957c6802d6421a2eb5b6350">endpoint_name</a>, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;ID: %s\r\n&quot;</span>, <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(contact));</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;AuthenticateQualify: %d\r\n&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#aceb8cd1d19b9020476de70a5d9d38809">authenticate_qualify</a>);</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;OutboundProxy: %s\r\n&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a8b55fd039a8b14683eae2d3c0a1c86ae">outbound_proxy</a>);</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;Path: %s\r\n&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#aaeae1324cdfad45634df796a27bb37ac">path</a>);</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;QualifyFrequency: %u\r\n&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#afbb1dc2791b27417c95a4ff1693fa44b">qualify_frequency</a>);</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;QualifyTimeout: %.3f\r\n&quot;</span>, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a3020ce9ec467a10058a0d149f43aceae">qualify_timeout</a>);</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(ami-&gt;<a class="code" href="../../d4/d2f/structast__sip__ami.html#a38bed88f5fd00306683b620c6c90eef4">s</a>, <span class="stringliteral">&quot;%s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(buf));</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;   ami-&gt;<a class="code" href="../../d4/d2f/structast__sip__ami.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>++;</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(buf);</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(status);</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;}</div><div class="ttc" id="structast__sip__contact_html_aceb8cd1d19b9020476de70a5d9d38809"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#aceb8cd1d19b9020476de70a5d9d38809">ast_sip_contact::authenticate_qualify</a></div><div class="ttdeci">int authenticate_qualify</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00309">res_pjsip.h:309</a></div></div>
<div class="ttc" id="structast__sip__contact__status_html"><div class="ttname"><a href="../../d5/d17/structast__sip__contact__status.html">ast_sip_contact_status</a></div><div class="ttdoc">A contact&amp;#39;s status. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00341">res_pjsip.h:341</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac2d42f7be13c532b6a70d50f1b8983d2"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a></div><div class="ttdeci">void astman_append(struct mansession *s, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03080">manager.c:3080</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a8b55fd039a8b14683eae2d3c0a1c86ae"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a8b55fd039a8b14683eae2d3c0a1c86ae">ast_sip_contact::outbound_proxy</a></div><div class="ttdeci">const ast_string_field outbound_proxy</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a71e59257a329fbb031e9fc17eaca0922"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a71e59257a329fbb031e9fc17eaca0922">ast_sip_contact::call_id</a></div><div class="ttdeci">const ast_string_field call_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact_html_ad6233310a4cab812bbccf98b823aa039"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#ad6233310a4cab812bbccf98b823aa039">ast_sip_contact::user_agent</a></div><div class="ttdeci">const ast_string_field user_agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__ami_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="../../d4/d2f/structast__sip__ami.html#ad43c3812e6d13e0518d9f8b8f463ffcf">ast_sip_ami::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02747">res_pjsip.h:2747</a></div></div>
<div class="ttc" id="structast__sip__contact_html_aaeae1324cdfad45634df796a27bb37ac"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#aaeae1324cdfad45634df796a27bb37ac">ast_sip_contact::path</a></div><div class="ttdeci">const ast_string_field path</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a526207204e5f599fb9a618d9f8001ca2"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a526207204e5f599fb9a618d9f8001ca2">ast_sip_contact::via_addr</a></div><div class="ttdeci">const ast_string_field via_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="structast__sip__ami_html_a9ce2ec4812a92cb6ab39f6e81e9173a9"><div class="ttname"><a href="../../d4/d2f/structast__sip__ami.html#a9ce2ec4812a92cb6ab39f6e81e9173a9">ast_sip_ami::arg</a></div><div class="ttdeci">void * arg</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02745">res_pjsip.h:2745</a></div></div>
<div class="ttc" id="structast__sip__ami_html"><div class="ttname"><a href="../../d4/d2f/structast__sip__ami.html">ast_sip_ami</a></div><div class="ttdoc">AMI variable container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02737">res_pjsip.h:2737</a></div></div>
<div class="ttc" id="structast__sip__contact__wrapper_html_aada96c4dcf837c70c990bed754148422"><div class="ttname"><a href="../../df/dd8/structast__sip__contact__wrapper.html#aada96c4dcf837c70c990bed754148422">ast_sip_contact_wrapper::aor_id</a></div><div class="ttdeci">char * aor_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00398">res_pjsip.h:398</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="structast__sip__contact_html_afbb1dc2791b27417c95a4ff1693fa44b"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#afbb1dc2791b27417c95a4ff1693fa44b">ast_sip_contact::qualify_frequency</a></div><div class="ttdeci">unsigned int qualify_frequency</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00307">res_pjsip.h:307</a></div></div>
<div class="ttc" id="structast__sip__contact_html_ad3a98d512391e68d8473ad51e3fd2401"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#ad3a98d512391e68d8473ad51e3fd2401">ast_sip_contact::via_port</a></div><div class="ttdeci">int via_port</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00315">res_pjsip.h:315</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__sip__contact_html_ab4cbf7f39957c6802d6421a2eb5b6350"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#ab4cbf7f39957c6802d6421a2eb5b6350">ast_sip_contact::endpoint_name</a></div><div class="ttdeci">const ast_string_field endpoint_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact__wrapper_html"><div class="ttname"><a href="../../df/dd8/structast__sip__contact__wrapper.html">ast_sip_contact_wrapper</a></div><div class="ttdoc">A wrapper for contact that adds the aor_id and a consistent contact id. Used by ast_sip_for_each_cont...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00396">res_pjsip.h:396</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="structast__sip__ami_html_a38bed88f5fd00306683b620c6c90eef4"><div class="ttname"><a href="../../d4/d2f/structast__sip__ami.html#a38bed88f5fd00306683b620c6c90eef4">ast_sip_ami::s</a></div><div class="ttdeci">struct mansession * s</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02739">res_pjsip.h:2739</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a3020ce9ec467a10058a0d149f43aceae"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a3020ce9ec467a10058a0d149f43aceae">ast_sip_contact::qualify_timeout</a></div><div class="ttdeci">double qualify_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00311">res_pjsip.h:311</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a></div><div class="ttdoc">An entity with which Asterisk communicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00812">res_pjsip.h:812</a></div></div>
<div class="ttc" id="structast__sip__contact__status_html_a3def763479a6f4255ff4071c86be1646"><div class="ttname"><a href="../../d5/d17/structast__sip__contact__status.html#a3def763479a6f4255ff4071c86be1646">ast_sip_contact_status::status</a></div><div class="ttdeci">enum ast_sip_contact_status_type status</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00351">res_pjsip.h:351</a></div></div>
<div class="ttc" id="structast__sip__contact__wrapper_html_a0181805d3b31d6f1859ef7784c67fcf2"><div class="ttname"><a href="../../df/dd8/structast__sip__contact__wrapper.html#a0181805d3b31d6f1859ef7784c67fcf2">ast_sip_contact_wrapper::contact</a></div><div class="ttdeci">struct ast_sip_contact * contact</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00402">res_pjsip.h:402</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ae2fef680782a871477d295a4df2126a3a1e229ccb8b53a57de4ebb11c2d15272e"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3a1e229ccb8b53a57de4ebb11c2d15272e">AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00327">res_pjsip.h:327</a></div></div>
<div class="ttc" id="isdn__lib_8h_html_a958ee68c9cc2740d8a00bf98a0702547a6ce26a62afab55d7606ad4e92428b30c"><div class="ttname"><a href="../../de/d26/isdn__lib_8h.html#a958ee68c9cc2740d8a00bf98a0702547a6ce26a62afab55d7606ad4e92428b30c">UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d26/isdn__lib_8h_source.html#l00242">isdn_lib.h:242</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="pjsip__options_8c_html_a972a08491892c70d60830d3e78d4d429"><div class="ttname"><a href="../../df/dda/pjsip__options_8c.html#a972a08491892c70d60830d3e78d4d429">ast_sip_get_contact_status_label</a></div><div class="ttdeci">const char * ast_sip_get_contact_status_label(const enum ast_sip_contact_status_type status)</div><div class="ttdoc">translate ast_sip_contact_status_type to character string. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/pjsip__options_8c_source.html#l00336">pjsip_options.c:336</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="pjsip__options_8c_html_a084d996844ec8a81d230ac2305a76fcf"><div class="ttname"><a href="../../df/dda/pjsip__options_8c.html#a084d996844ec8a81d230ac2305a76fcf">ast_sip_get_contact_status</a></div><div class="ttdeci">struct ast_sip_contact_status * ast_sip_get_contact_status(const struct ast_sip_contact *contact)</div><div class="ttdoc">Retrieve the current status for a contact. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/pjsip__options_8c_source.html#l00523">pjsip_options.c:523</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a98ed99328ad621551cdfbee6b83754ae"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a98ed99328ad621551cdfbee6b83754ae">ast_sip_contact::expiration_time</a></div><div class="ttdeci">struct timeval expiration_time</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00305">res_pjsip.h:305</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5b63b1eceb879f2cf0e23f356040737a"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5b63b1eceb879f2cf0e23f356040737a">ast_sip_create_ami_event</a></div><div class="ttdeci">struct ast_str * ast_sip_create_ami_event(const char *event, struct ast_sip_ami *ami)</div><div class="ttdoc">Creates a string to store AMI event data in. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l01584">pjsip_configuration.c:1584</a></div></div>
<div class="ttc" id="structast__sip__contact__status_html_adde3e75a4d9d8f8e72782a767e0858b7"><div class="ttname"><a href="../../d5/d17/structast__sip__contact__status.html#adde3e75a4d9d8f8e72782a767e0858b7">ast_sip_contact_status::rtt</a></div><div class="ttdeci">int64_t rtt</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00347">res_pjsip.h:347</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a19ac71226fac09e87afe31acb4c99214"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">ast_sip_contact::uri</a></div><div class="ttdeci">const ast_string_field uri</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a700cedfe01ae2e796a902b52a10b88d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a700cedfe01ae2e796a902b52a10b88d5">&#9670;&nbsp;</a></span>ast_sip_format_endpoint_ami()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_format_endpoint_ami </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2f/structast__sip__ami.html">ast_sip_ami</a> *&#160;</td>
          <td class="paramname"><em>ami</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Formats the endpoint and sends over AMI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>the endpoint to format and send </td></tr>
    <tr><td class="paramname">endpoint</td><td>ami AMI variable container </td></tr>
    <tr><td class="paramname">count</td><td>the number of formatters operated on </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, otherwise non-zero on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03699">3699</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02767">ast_sip_endpoint_formatter::format_ami</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01676">ami_show_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;{</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d30/structast__sip__endpoint__formatter.html">ast_sip_endpoint_formatter</a> *i;</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;<a class="code" href="../../d7/dcc/structendpoint__formatters.html">endpoint_formatters</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>);</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;   *count = 0;</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d7/dcc/structendpoint__formatters.html">endpoint_formatters</a>, i, next) {</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;      <span class="keywordflow">if</span> (i-&gt;<a class="code" href="../../d6/d30/structast__sip__endpoint__formatter.html#a7b53303276b0b01f525bd66ec7e7b91e">format_ami</a> &amp;&amp; ((res = i-&gt;<a class="code" href="../../d6/d30/structast__sip__endpoint__formatter.html#a7b53303276b0b01f525bd66ec7e7b91e">format_ami</a>(endpoint, ami)) &lt; 0)) {</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;         <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;      }</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;         (*count)++;</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;      }</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;   }</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;}</div><div class="ttc" id="structast__sip__endpoint__formatter_html"><div class="ttname"><a href="../../d6/d30/structast__sip__endpoint__formatter.html">ast_sip_endpoint_formatter</a></div><div class="ttdoc">An entity responsible formatting endpoint information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02763">res_pjsip.h:2763</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="structast__sip__endpoint__formatter_html_a7b53303276b0b01f525bd66ec7e7b91e"><div class="ttname"><a href="../../d6/d30/structast__sip__endpoint__formatter.html#a7b53303276b0b01f525bd66ec7e7b91e">ast_sip_endpoint_formatter::format_ami</a></div><div class="ttdeci">int(* format_ami)(const struct ast_sip_endpoint *endpoint, struct ast_sip_ami *ami)</div><div class="ttdoc">Callback used to format endpoint information over AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02767">res_pjsip.h:2767</a></div></div>
<div class="ttc" id="structendpoint__formatters_html"><div class="ttname"><a href="../../d7/dcc/structendpoint__formatters.html">endpoint_formatters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03677">res_pjsip.c:3677</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b41a14917b193124f8da5a1323f33e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b41a14917b193124f8da5a1323f33e3">&#9670;&nbsp;</a></span>ast_sip_get_artificial_auth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a>* ast_sip_get_artificial_auth </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a reference to the artificial auth. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>artificial auth </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00631">631</a> of file <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html">pjsip_distributor.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00925">ao2_global_obj_ref</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00405">digest_check_auth()</a>, and <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01165">global_loaded()</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(artificial_auth);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a261c2cada6e51e2d73574ffe6b1ae7e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a261c2cada6e51e2d73574ffe6b1ae7e3">&#9670;&nbsp;</a></span>ast_sip_get_artificial_endpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a>* ast_sip_get_artificial_endpoint </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a reference to the artificial endpoint. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>artificial endpoint </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00654">654</a> of file <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html">pjsip_distributor.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, and <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00636">artificial_endpoint</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00405">digest_check_auth()</a>, <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00047">digest_requires_authentication()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00718">endpoint_lookup()</a>, and <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">get_account_id()</a>.</p>
<div class="fragment"><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;{</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../d7/dad/pjsip__distributor_8c.html#a84a2f6706a005bdb74f4ea503b01e95b">artificial_endpoint</a>, +1);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dad/pjsip__distributor_8c.html#a84a2f6706a005bdb74f4ea503b01e95b">artificial_endpoint</a>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div><div class="ttc" id="pjsip__distributor_8c_html_a84a2f6706a005bdb74f4ea503b01e95b"><div class="ttname"><a href="../../d7/dad/pjsip__distributor_8c.html#a84a2f6706a005bdb74f4ea503b01e95b">artificial_endpoint</a></div><div class="ttdeci">static struct ast_sip_endpoint * artificial_endpoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dad/pjsip__distributor_8c_source.html#l00636">pjsip_distributor.c:636</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8faae2d4e4f2b202cbfed36b6f009a1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8faae2d4e4f2b202cbfed36b6f009a1b">&#9670;&nbsp;</a></span>ast_sip_get_contact_expiration_check_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_contact_expiration_check_interval </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the system contact expiration check interval setting. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>contact expiration check interval. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00309">309</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00092">global_config::contact_expiration_check_interval</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00042">DEFAULT_CONTACT_EXPIRATION_CHECK_INTERVAL</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01294">expiration_global_loaded()</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;{</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interval;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#a3c2a3d498027d758535f79d52292c510">DEFAULT_CONTACT_EXPIRATION_CHECK_INTERVAL</a>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   interval = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#aa941218d98c6a45500f20f95b8fa159e">contact_expiration_check_interval</a>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keywordflow">return</span> interval;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div><div class="ttc" id="structglobal__config_html_aa941218d98c6a45500f20f95b8fa159e"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#aa941218d98c6a45500f20f95b8fa159e">global_config::contact_expiration_check_interval</a></div><div class="ttdeci">unsigned int contact_expiration_check_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00092">config_global.c:92</a></div></div>
<div class="ttc" id="config__global_8c_html_a3c2a3d498027d758535f79d52292c510"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a3c2a3d498027d758535f79d52292c510">DEFAULT_CONTACT_EXPIRATION_CHECK_INTERVAL</a></div><div class="ttdeci">#define DEFAULT_CONTACT_EXPIRATION_CHECK_INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00042">config_global.c:42</a></div></div>
<div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08d8a2de856a1596f260db4a23023af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d8a2de856a1596f260db4a23023af1">&#9670;&nbsp;</a></span>ast_sip_get_contact_short_status_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sip_get_contact_short_status_label </td>
          <td>(</td>
          <td class="paramtype">const enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3">ast_sip_contact_status_type</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00342">342</a> of file <a class="el" href="../../df/dda/pjsip__options_8c_source.html">pjsip_options.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00328">short_status_map</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l01106">cli_contact_print_body()</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0 &lt;= <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a> &amp;&amp; <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a> &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../df/dda/pjsip__options_8c.html#a594cf3a3f47df4450da1791c7fc09123">short_status_map</a>));</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/dda/pjsip__options_8c.html#a594cf3a3f47df4450da1791c7fc09123">short_status_map</a>[<a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>];</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div><div class="ttc" id="pjsip__options_8c_html_a594cf3a3f47df4450da1791c7fc09123"><div class="ttname"><a href="../../df/dda/pjsip__options_8c.html#a594cf3a3f47df4450da1791c7fc09123">short_status_map</a></div><div class="ttdeci">static const char * short_status_map[]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/pjsip__options_8c_source.html#l00328">pjsip_options.c:328</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a084d996844ec8a81d230ac2305a76fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a084d996844ec8a81d230ac2305a76fcf">&#9670;&nbsp;</a></span>ast_sip_get_contact_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d5/d17/structast__sip__contact__status.html">ast_sip_contact_status</a>* ast_sip_get_contact_status </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td>
          <td class="paramname"><em>contact</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the current status for a contact. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contact</td><td>The contact.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>Success </td></tr>
    <tr><td class="paramname">NULL</td><td>Status information not found</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned contact status object is immutable. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00523">523</a> of file <a class="el" href="../../df/dda/pjsip__options_8c_source.html">pjsip_options.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../df/dda/pjsip__options_8c.html#aef8e8bada558bc98fbe2a058ff702c6d">AO2_STRING_FIELD_CMP_FN()</a>, <a class="el" href="../../df/dda/pjsip__options_8c.html#abf93c67fd3ed1922fb835c46a86eb45f">AO2_STRING_FIELD_HASH_FN()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00138">sip_options_endpoint_aor_status::name</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02717">ast_sip_format_contact_ami()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01106">cli_contact_print_body()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00177">contact_remove_unreachable()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02416">format_ami_contactlist_handler()</a>, <a class="el" href="../../de/d6a/func__pjsip__contact_8c_source.html#l00086">pjsip_contact_function_read()</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02197">sip_options_contact_update_task()</a>.</p>
<div class="fragment"><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;{</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../df/dda/pjsip__options_8c.html#a63bd913829598eaee567ed928e735bcd">sip_options_contact_statuses</a>, <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(contact),</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div><div class="ttc" id="pjsip__options_8c_html_a63bd913829598eaee567ed928e735bcd"><div class="ttname"><a href="../../df/dda/pjsip__options_8c.html#a63bd913829598eaee567ed928e735bcd">sip_options_contact_statuses</a></div><div class="ttdeci">static struct ao2_container * sip_options_contact_statuses</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/pjsip__options_8c_source.html#l00201">pjsip_options.c:201</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a972a08491892c70d60830d3e78d4d429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a972a08491892c70d60830d3e78d4d429">&#9670;&nbsp;</a></span>ast_sip_get_contact_status_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sip_get_contact_status_label </td>
          <td>(</td>
          <td class="paramtype">const enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ae2fef680782a871477d295a4df2126a3">ast_sip_contact_status_type</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>translate ast_sip_contact_status_type to character string. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>character string equivalent. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00336">336</a> of file <a class="el" href="../../df/dda/pjsip__options_8c_source.html">pjsip_options.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00320">status_map</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00462">ast_res_pjsip_find_or_create_contact_status()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02717">ast_sip_format_contact_ami()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01386">ast_sip_persistent_endpoint_publish_contact_state()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02416">format_ami_contactlist_handler()</a>, <a class="el" href="../../de/d6a/func__pjsip__contact_8c_source.html#l00086">pjsip_contact_function_read()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00661">sip_options_contact_status_notify_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01010">sip_options_remove_contact_status()</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01110">sip_options_set_contact_status()</a>.</p>
<div class="fragment"><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0 &lt;= <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a> &amp;&amp; <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a> &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../df/dda/pjsip__options_8c.html#a2b69e3eaf0c90d72a325560994df32ed">status_map</a>));</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/dda/pjsip__options_8c.html#a2b69e3eaf0c90d72a325560994df32ed">status_map</a>[<a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>];</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="pjsip__options_8c_html_a2b69e3eaf0c90d72a325560994df32ed"><div class="ttname"><a href="../../df/dda/pjsip__options_8c.html#a2b69e3eaf0c90d72a325560994df32ed">status_map</a></div><div class="ttdeci">static const char * status_map[]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/pjsip__options_8c_source.html#l00320">pjsip_options.c:320</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2434368ebb2554e7686c97b95854e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2434368ebb2554e7686c97b95854e60">&#9670;&nbsp;</a></span>ast_sip_get_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_sip_get_debug </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the system debug setting (yes|no|host). </p>
<dl class="section note"><dt>Note</dt><dd>returned string needs to be de-allocated by caller.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>system debug setting. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00232">232</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00084">global_config::debug</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00036">DEFAULT_DEBUG</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00514">check_debug()</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <span class="keywordtype">char</span> *res;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../dd/dfd/config__global_8c.html#a653dcc0a992baf99d4946f23bea98ca8">DEFAULT_DEBUG</a>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   res = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#af7877f6274df01719e525b0b91aa92d2">debug</a>);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structglobal__config_html_af7877f6274df01719e525b0b91aa92d2"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#af7877f6274df01719e525b0b91aa92d2">global_config::debug</a></div><div class="ttdeci">const ast_string_field debug</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00084">config_global.c:84</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a653dcc0a992baf99d4946f23bea98ca8"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a653dcc0a992baf99d4946f23bea98ca8">DEFAULT_DEBUG</a></div><div class="ttdeci">#define DEFAULT_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00036">config_global.c:36</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae301746d068c22eaacf9a842c4541c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae301746d068c22eaacf9a842c4541c34">&#9670;&nbsp;</a></span>ast_sip_get_default_from_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_get_default_from_user </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>from_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global default from user. </p>
<p>This is the value placed in outbound requests' From header if there is no better option (such as an endpoint-configured from_user or caller ID number).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">from_user</td><td>The default from user </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">size</td><td>The buffer size of from_user </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00388">388</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00039">DEFAULT_FROM_USER</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00084">global_config::default_from_user</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03813">sip_dialog_create_from()</a>.</p>
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(from_user, <a class="code" href="../../dd/dfd/config__global_8c.html#a12fa54789c7d12bd63f1b99658847629">DEFAULT_FROM_USER</a>, size);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(from_user, cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a33e655aaf6a8775a9a529abc060603f2">default_from_user</a>, size);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a12fa54789c7d12bd63f1b99658847629"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a12fa54789c7d12bd63f1b99658847629">DEFAULT_FROM_USER</a></div><div class="ttdeci">#define DEFAULT_FROM_USER</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00039">config_global.c:39</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
<div class="ttc" id="structglobal__config_html_a33e655aaf6a8775a9a529abc060603f2"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a33e655aaf6a8775a9a529abc060603f2">global_config::default_from_user</a></div><div class="ttdeci">const ast_string_field default_from_user</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00084">config_global.c:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ec3329ebc96c83e7d992cabe78bca58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ec3329ebc96c83e7d992cabe78bca58">&#9670;&nbsp;</a></span>ast_sip_get_default_realm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_get_default_realm </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>realm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global default realm. </p>
<p>This is the value placed in outbound challenges' realm if there is no better option (such as an auth-configured realm).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">realm</td><td>The default realm </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">size</td><td>The buffer size of realm </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00375">375</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00040">DEFAULT_REALM</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00084">global_config::default_realm</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00614">create_artificial_auth()</a>, and <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01165">global_loaded()</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(realm, <a class="code" href="../../dd/dfd/config__global_8c.html#a9c6c0e75254e2641e579bba0068626de">DEFAULT_REALM</a>, size);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(realm, cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#aed53c0406f9dd53a58f159fa41e7a834">default_realm</a>, size);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div><div class="ttc" id="config__global_8c_html_a9c6c0e75254e2641e579bba0068626de"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a9c6c0e75254e2641e579bba0068626de">DEFAULT_REALM</a></div><div class="ttdeci">#define DEFAULT_REALM</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00040">config_global.c:40</a></div></div>
<div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="structglobal__config_html_aed53c0406f9dd53a58f159fa41e7a834"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#aed53c0406f9dd53a58f159fa41e7a834">global_config::default_realm</a></div><div class="ttdeci">const ast_string_field default_realm</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00084">config_global.c:84</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a137a9f1a65ca1b7d3be0d55d3a87f74d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a137a9f1a65ca1b7d3be0d55d3a87f74d">&#9670;&nbsp;</a></span>ast_sip_get_default_voicemail_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_sip_get_default_voicemail_extension </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the default voicemail extension. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returned string needs to be de-allocated by caller.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>default voicemail extension </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00263">263</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00044">DEFAULT_VOICEMAIL_EXTENSION</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00084">global_config::default_voicemail_extension</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01505">global_loaded()</a>.</p>
<div class="fragment"><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordtype">char</span> *res;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../dd/dfd/config__global_8c.html#a5a39492753df4f41b6b8c6152540284f">DEFAULT_VOICEMAIL_EXTENSION</a>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   res = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a7123a0edd7e524b49ad0d8950ff0b5b9">default_voicemail_extension</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structglobal__config_html_a7123a0edd7e524b49ad0d8950ff0b5b9"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a7123a0edd7e524b49ad0d8950ff0b5b9">global_config::default_voicemail_extension</a></div><div class="ttdeci">const ast_string_field default_voicemail_extension</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00084">config_global.c:84</a></div></div>
<div class="ttc" id="config__global_8c_html_a5a39492753df4f41b6b8c6152540284f"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a5a39492753df4f41b6b8c6152540284f">DEFAULT_VOICEMAIL_EXTENSION</a></div><div class="ttdeci">#define DEFAULT_VOICEMAIL_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00044">config_global.c:44</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a0fc3da8f1974d54f0feae503fbfd9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a0fc3da8f1974d54f0feae503fbfd9c">&#9670;&nbsp;</a></span>ast_sip_get_device_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sip_get_device_state </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the device state for an endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>The endpoint whose state is to be retrieved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>device state. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01507">1507</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00237">ast_devstate2str()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, and <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00110">MAX_OBJECT_FIELD</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01874">cli_endpoint_print_body()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01729">format_ami_endpoints()</a>, and <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01641">sip_endpoint_to_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;{</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;   <span class="keywordtype">char</span> device[<a class="code" href="../../d8/d25/sorcery_8h.html#aca877fd857a49db7740effaa55a01e52">MAX_OBJECT_FIELD</a>];</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;   snprintf(device, <a class="code" href="../../d8/d25/sorcery_8h.html#aca877fd857a49db7740effaa55a01e52">MAX_OBJECT_FIELD</a>, <span class="stringliteral">&quot;PJSIP/%s&quot;</span>, <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(endpoint));</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/da2/devicestate_8h.html#ac3a57910a6eb04d12d793fe3df796b8e">ast_devstate2str</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>(device));</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_ac3a57910a6eb04d12d793fe3df796b8e"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#ac3a57910a6eb04d12d793fe3df796b8e">ast_devstate2str</a></div><div class="ttdeci">const char * ast_devstate2str(enum ast_device_state devstate) attribute_pure</div><div class="ttdoc">Convert device state to text string for output. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00237">devicestate.c:237</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="sorcery_8h_html_aca877fd857a49db7740effaa55a01e52"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aca877fd857a49db7740effaa55a01e52">MAX_OBJECT_FIELD</a></div><div class="ttdeci">#define MAX_OBJECT_FIELD</div><div class="ttdoc">Maximum length of an object field name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00110">sorcery.h:110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa242d37481e95a685ae02e3559fc5dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa242d37481e95a685ae02e3559fc5dc7">&#9670;&nbsp;</a></span>ast_sip_get_disable_multi_domain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_disable_multi_domain </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the system setting 'disable multi domain'. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non</td><td>zero if disable multi domain. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00324">324</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00043">DEFAULT_DISABLE_MULTI_DOMAIN</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00094">global_config::disable_multi_domain</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dd7/res__pjsip__endpoint__identifier__anonymous_8c_source.html#l00062">anonymous_identify()</a>, <a class="el" href="../../d9/d24/res__pjsip__endpoint__identifier__user_8c_source.html#l00081">find_endpoint()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02559">request()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03813">sip_dialog_create_from()</a>.</p>
<div class="fragment"><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;{</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/db1/structglobal__config.html#a640549f444507903c9b4dcbc7a4a6dca">disable_multi_domain</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#a8bd347a28d9c464f5ba843d5b65ca1ea">DEFAULT_DISABLE_MULTI_DOMAIN</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   disable_multi_domain = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a640549f444507903c9b4dcbc7a4a6dca">disable_multi_domain</a>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db1/structglobal__config.html#a640549f444507903c9b4dcbc7a4a6dca">disable_multi_domain</a>;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div><div class="ttc" id="structglobal__config_html_a640549f444507903c9b4dcbc7a4a6dca"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a640549f444507903c9b4dcbc7a4a6dca">global_config::disable_multi_domain</a></div><div class="ttdeci">unsigned int disable_multi_domain</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00094">config_global.c:94</a></div></div>
<div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a8bd347a28d9c464f5ba843d5b65ca1ea"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a8bd347a28d9c464f5ba843d5b65ca1ea">DEFAULT_DISABLE_MULTI_DOMAIN</a></div><div class="ttdeci">#define DEFAULT_DISABLE_MULTI_DOMAIN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00043">config_global.c:43</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a17ead55af9630ebe9d2acd8d52833aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17ead55af9630ebe9d2acd8d52833aae">&#9670;&nbsp;</a></span>ast_sip_get_endpoint_identifier_order()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_sip_get_endpoint_identifier_order </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global endpoint_identifier_order setting. </p>
<p>Specifies the order by which endpoint identifiers should be regarded.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>global endpoint_identifier_order value </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00279">279</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00037">DEFAULT_ENDPOINT_IDENTIFIER_ORDER</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00084">global_config::endpoint_identifier_order</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03431">ast_sip_register_endpoint_identifier_with_name()</a>, and <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01165">global_loaded()</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <span class="keywordtype">char</span> *res;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../dd/dfd/config__global_8c.html#ab7babc81335e7359d7f84c7606c811ce">DEFAULT_ENDPOINT_IDENTIFIER_ORDER</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   res = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#ad18e85094103c17f200133dea94cb594">endpoint_identifier_order</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div><div class="ttc" id="config__global_8c_html_ab7babc81335e7359d7f84c7606c811ce"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#ab7babc81335e7359d7f84c7606c811ce">DEFAULT_ENDPOINT_IDENTIFIER_ORDER</a></div><div class="ttdeci">#define DEFAULT_ENDPOINT_IDENTIFIER_ORDER</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00037">config_global.c:37</a></div></div>
<div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="structglobal__config_html_ad18e85094103c17f200133dea94cb594"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#ad18e85094103c17f200133dea94cb594">global_config::endpoint_identifier_order</a></div><div class="ttdeci">const ast_string_field endpoint_identifier_order</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00084">config_global.c:84</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0dd619fa2bdf2445035aee2b78cd6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0dd619fa2bdf2445035aee2b78cd6d1">&#9670;&nbsp;</a></span>ast_sip_get_endpoint_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a>* ast_sip_get_endpoint_snapshot </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the endpoint snapshot for an endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>The endpoint whose snapshot is to be retreieved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>endpoint snapshot </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01515">1515</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00383">ast_endpoint_get_resource()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00375">ast_endpoint_get_tech()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">ast_endpoint_latest_snapshot()</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00865">ast_sip_endpoint::persistent</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01566">active_channels_to_str()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01550">ast_sip_for_each_channel()</a>, and <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01874">cli_endpoint_print_body()</a>.</p>
<div class="fragment"><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;{</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga83c4127a98da15ab67e85d7aeabdbfdf">ast_endpoint_latest_snapshot</a>(</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      <a class="code" href="../../d4/d61/endpoints_8h.html#a1cf5032869657f115c3cf1303ef0fd0b">ast_endpoint_get_tech</a>(endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a3efaf0d0f0d2a9592843f3c2e1a30cb6">persistent</a>),</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      <a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a3efaf0d0f0d2a9592843f3c2e1a30cb6">persistent</a>));</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;}</div><div class="ttc" id="endpoints_8h_html_a1cf5032869657f115c3cf1303ef0fd0b"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a1cf5032869657f115c3cf1303ef0fd0b">ast_endpoint_get_tech</a></div><div class="ttdeci">const char * ast_endpoint_get_tech(const struct ast_endpoint *endpoint)</div><div class="ttdoc">Gets the technology of the given endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00375">main/endpoints.c:375</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga83c4127a98da15ab67e85d7aeabdbfdf"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga83c4127a98da15ab67e85d7aeabdbfdf">ast_endpoint_latest_snapshot</a></div><div class="ttdeci">struct ast_endpoint_snapshot * ast_endpoint_latest_snapshot(const char *tech, const char *resource)</div><div class="ttdoc">Retrieve the most recent snapshot for the endpoint with the given name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">stasis_endpoints.c:341</a></div></div>
<div class="ttc" id="endpoints_8h_html_afa1641cd83857e47418009992cb2de6f"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a></div><div class="ttdeci">const char * ast_endpoint_get_resource(const struct ast_endpoint *endpoint)</div><div class="ttdoc">Gets the resource name of the given endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00383">main/endpoints.c:383</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_a3efaf0d0f0d2a9592843f3c2e1a30cb6"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#a3efaf0d0f0d2a9592843f3c2e1a30cb6">ast_sip_endpoint::persistent</a></div><div class="ttdeci">struct ast_endpoint * persistent</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00865">res_pjsip.h:865</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a26352a4b800eeb07efd4cb7b0a531af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26352a4b800eeb07efd4cb7b0a531af5">&#9670;&nbsp;</a></span>ast_sip_get_endpoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_sip_get_endpoints </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve any endpoints available to sorcery. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Endpoints</td><td>available to sorcery, NULL if no endpoints found. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02344">2344</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00123">AST_RETRIEVE_FLAG_ALL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00120">AST_RETRIEVE_FLAG_MULTIPLE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01897">ast_sorcery_retrieve_by_fields()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00050">endpoints</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01162">ami_registrations_endpoints()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01769">ami_show_endpoints()</a>, and <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l03304">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;{</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a>;</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;   endpoints = <a class="code" href="../../d8/d25/sorcery_8h.html#aaa9cd237841a70862001f580b23212c9">ast_sorcery_retrieve_by_fields</a>(<a class="code" href="../../dc/df6/pjsip__configuration_8c.html#ac48616e42021978f48d538f44388f9ee">sip_sorcery</a>, <span class="stringliteral">&quot;endpoint&quot;</span>, <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a> | <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd">AST_RETRIEVE_FLAG_ALL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a>;</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd">AST_RETRIEVE_FLAG_ALL</a></div><div class="ttdoc">Perform no matching, return all objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00123">sorcery.h:123</a></div></div>
<div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a></div><div class="ttdoc">Return all matching objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00120">sorcery.h:120</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="main_2endpoints_8c_html_a0b6312c44448ff7ed80ac99b3077e438"><div class="ttname"><a href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a></div><div class="ttdeci">static struct ao2_container * endpoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00050">main/endpoints.c:50</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_ac48616e42021978f48d538f44388f9ee"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#ac48616e42021978f48d538f44388f9ee">sip_sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sip_sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00052">pjsip_configuration.c:52</a></div></div>
<div class="ttc" id="sorcery_8h_html_aaa9cd237841a70862001f580b23212c9"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aaa9cd237841a70862001f580b23212c9">ast_sorcery_retrieve_by_fields</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_fields(const struct ast_sorcery *sorcery, const char *type, unsigned int flags, struct ast_variable *fields)</div><div class="ttdoc">Retrieve an object or multiple objects using specific fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01897">sorcery.c:1897</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2941aa89b7c107383f8fe56df635043f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2941aa89b7c107383f8fe56df635043f">&#9670;&nbsp;</a></span>ast_sip_get_host_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_get_host_ip </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>af</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pj_sockaddr *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the local host address in IP form. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">af</td><td>The address family to retrieve </td></tr>
    <tr><td class="paramname">addr</td><td>A place to store the local host address</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>13.6.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05460">5460</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03277">host_ip_ipv4</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03280">host_ip_ipv4_string</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03283">host_ip_ipv6</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03286">host_ip_ipv6_string</a>.</p>
<div class="fragment"><div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;{</div><div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;   <span class="keywordflow">if</span> (af == pj_AF_INET() &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../de/d96/res__pjsip_8c.html#ada98f7e6ae63b0ee6f4c0642d67f48ad">host_ip_ipv4_string</a>)) {</div><div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;      pj_sockaddr_copy_addr(addr, &amp;<a class="code" href="../../de/d96/res__pjsip_8c.html#a0509a7fd8d03feaa2d66bcfed88ddf63">host_ip_ipv4</a>);</div><div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (af == pj_AF_INET6() &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../de/d96/res__pjsip_8c.html#a86180705d1f71413b4f8923366096ab3">host_ip_ipv6_string</a>)) {</div><div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;      pj_sockaddr_copy_addr(addr, &amp;<a class="code" href="../../de/d96/res__pjsip_8c.html#a8a9f45451fc8ed560864ab05df8d13b9">host_ip_ipv6</a>);</div><div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;   }</div><div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;</div><div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_a8a9f45451fc8ed560864ab05df8d13b9"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a8a9f45451fc8ed560864ab05df8d13b9">host_ip_ipv6</a></div><div class="ttdeci">static pj_sockaddr host_ip_ipv6</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03283">res_pjsip.c:3283</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a86180705d1f71413b4f8923366096ab3"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a86180705d1f71413b4f8923366096ab3">host_ip_ipv6_string</a></div><div class="ttdeci">static char host_ip_ipv6_string[PJ_INET6_ADDRSTRLEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03286">res_pjsip.c:3286</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_ada98f7e6ae63b0ee6f4c0642d67f48ad"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ada98f7e6ae63b0ee6f4c0642d67f48ad">host_ip_ipv4_string</a></div><div class="ttdeci">static char host_ip_ipv4_string[PJ_INET6_ADDRSTRLEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03280">res_pjsip.c:3280</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a0509a7fd8d03feaa2d66bcfed88ddf63"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a0509a7fd8d03feaa2d66bcfed88ddf63">host_ip_ipv4</a></div><div class="ttdeci">static pj_sockaddr host_ip_ipv4</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03277">res_pjsip.c:3277</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6da8e5c5006c0a1c81feb1198ab7e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6da8e5c5006c0a1c81feb1198ab7e6e">&#9670;&nbsp;</a></span>ast_sip_get_host_ip_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_sip_get_host_ip_string </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>af</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the local host address in string form. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">af</td><td>The address family to retrieve</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>13.6.0</dd></dl>
<dl class="section note"><dt>Note</dt><dd>An empty string may be returned if the address family is valid but no local address exists </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05473">5473</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03280">host_ip_ipv4_string</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03286">host_ip_ipv6_string</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05081">create_local_sdp()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l01704">create_outgoing_sdp_stream()</a>, and <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00146">multihomed_rewrite_sdp()</a>.</p>
<div class="fragment"><div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;{</div><div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;   <span class="keywordflow">if</span> (af == pj_AF_INET()) {</div><div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#ada98f7e6ae63b0ee6f4c0642d67f48ad">host_ip_ipv4_string</a>;</div><div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (af == pj_AF_INET6()) {</div><div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a86180705d1f71413b4f8923366096ab3">host_ip_ipv6_string</a>;</div><div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;   }</div><div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;</div><div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_a86180705d1f71413b4f8923366096ab3"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a86180705d1f71413b4f8923366096ab3">host_ip_ipv6_string</a></div><div class="ttdeci">static char host_ip_ipv6_string[PJ_INET6_ADDRSTRLEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03286">res_pjsip.c:3286</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_ada98f7e6ae63b0ee6f4c0642d67f48ad"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ada98f7e6ae63b0ee6f4c0642d67f48ad">host_ip_ipv4_string</a></div><div class="ttdeci">static char host_ip_ipv4_string[PJ_INET6_ADDRSTRLEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03280">res_pjsip.c:3280</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa93f25c991cf8d8abb179bece0f179a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa93f25c991cf8d8abb179bece0f179a6">&#9670;&nbsp;</a></span>ast_sip_get_ignore_uri_user_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_ignore_uri_user_options </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global setting 'ignore_uri_user_options'. </p>
<dl class="section since"><dt>Since</dt><dd>13.12.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non</td><td>zero if ignore the user field options. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00447">447</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00051">DEFAULT_IGNORE_URI_USER_OPTIONS</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00110">global_config::ignore_uri_user_options</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01007">find_registrar_aor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ignore_uri_user_options;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#ad1014bd920b90013a63ccc7add96d66b">DEFAULT_IGNORE_URI_USER_OPTIONS</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   ignore_uri_user_options = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a7d4590accc3cbca600e6884ccd8ba6c1">ignore_uri_user_options</a>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db1/structglobal__config.html#a7d4590accc3cbca600e6884ccd8ba6c1">ignore_uri_user_options</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_ad1014bd920b90013a63ccc7add96d66b"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#ad1014bd920b90013a63ccc7add96d66b">DEFAULT_IGNORE_URI_USER_OPTIONS</a></div><div class="ttdeci">#define DEFAULT_IGNORE_URI_USER_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00051">config_global.c:51</a></div></div>
<div class="ttc" id="structglobal__config_html_a7d4590accc3cbca600e6884ccd8ba6c1"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a7d4590accc3cbca600e6884ccd8ba6c1">global_config::ignore_uri_user_options</a></div><div class="ttdeci">unsigned int ignore_uri_user_options</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00110">config_global.c:110</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f02fd2b6907575037b6c21ddddfe927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f02fd2b6907575037b6c21ddddfe927">&#9670;&nbsp;</a></span>ast_sip_get_keep_alive_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_keep_alive_interval </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the system keep alive interval setting. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>keep alive interval. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00294">294</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00033">DEFAULT_KEEPALIVE_INTERVAL</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00088">global_config::keep_alive_interval</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00317">keepalive_global_loaded()</a>.</p>
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interval;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#aed758d7c94b17adfc8ccfe87036b568e">DEFAULT_KEEPALIVE_INTERVAL</a>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   interval = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a14b3df32629398aa04524c484e73f34c">keep_alive_interval</a>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <span class="keywordflow">return</span> interval;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="structglobal__config_html_a14b3df32629398aa04524c484e73f34c"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a14b3df32629398aa04524c484e73f34c">global_config::keep_alive_interval</a></div><div class="ttdeci">unsigned int keep_alive_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00088">config_global.c:88</a></div></div>
<div class="ttc" id="config__global_8c_html_aed758d7c94b17adfc8ccfe87036b568e"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#aed758d7c94b17adfc8ccfe87036b568e">DEFAULT_KEEPALIVE_INTERVAL</a></div><div class="ttdeci">#define DEFAULT_KEEPALIVE_INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00033">config_global.c:33</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ecc2eb4141ac3b294628a55545a991f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ecc2eb4141ac3b294628a55545a991f">&#9670;&nbsp;</a></span>ast_sip_get_max_initial_qualify_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_max_initial_qualify_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the system max initial qualify time. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>maximum initial qualify time. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00339">339</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00038">DEFAULT_MAX_INITIAL_QUALIFY_TIME</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00090">global_config::max_initial_qualify_time</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01094">sip_options_determine_initial_qualify_time()</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> time;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#a586d9d29115ea6ddb685aa9bb9df1b94">DEFAULT_MAX_INITIAL_QUALIFY_TIME</a>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   time = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a0a20953d082eda17eb834e7968438cf4">max_initial_qualify_time</a>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <span class="keywordflow">return</span> time;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="config__global_8c_html_a586d9d29115ea6ddb685aa9bb9df1b94"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a586d9d29115ea6ddb685aa9bb9df1b94">DEFAULT_MAX_INITIAL_QUALIFY_TIME</a></div><div class="ttdeci">#define DEFAULT_MAX_INITIAL_QUALIFY_TIME</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00038">config_global.c:38</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
<div class="ttc" id="structglobal__config_html_a0a20953d082eda17eb834e7968438cf4"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a0a20953d082eda17eb834e7968438cf4">global_config::max_initial_qualify_time</a></div><div class="ttdeci">unsigned int max_initial_qualify_time</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00090">config_global.c:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac45b58ec6aa9a3778c7cdd48457c7b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45b58ec6aa9a3778c7cdd48457c7b17">&#9670;&nbsp;</a></span>ast_sip_get_mwi_disable_initial_unsolicited()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_mwi_disable_initial_unsolicited </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global setting 'disable sending unsolicited mwi on startup'. </p>
<dl class="section since"><dt>Since</dt><dd>13.12.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non</td><td>zero if disable. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00432">432</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00050">DEFAULT_MWI_DISABLE_INITIAL_UNSOLICITED</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00107">global_config::disable_initial_unsolicited</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, and <a class="el" href="../../d2/db1/structglobal__config.html#abcf3c9f3dfe1ee06797929e00bf9303a">global_config::mwi</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01553">load_module()</a>, and <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01517">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/db1/structglobal__config.html#a64a05a38c5d6cc6a2e2abb8cde90795d">disable_initial_unsolicited</a>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#a91ad72e07f5071613a5cf04ad31981db">DEFAULT_MWI_DISABLE_INITIAL_UNSOLICITED</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   disable_initial_unsolicited = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#abcf3c9f3dfe1ee06797929e00bf9303a">mwi</a>.<a class="code" href="../../d2/db1/structglobal__config.html#a64a05a38c5d6cc6a2e2abb8cde90795d">disable_initial_unsolicited</a>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db1/structglobal__config.html#a64a05a38c5d6cc6a2e2abb8cde90795d">disable_initial_unsolicited</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="structglobal__config_html_abcf3c9f3dfe1ee06797929e00bf9303a"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#abcf3c9f3dfe1ee06797929e00bf9303a">global_config::mwi</a></div><div class="ttdeci">struct global_config::@477 mwi</div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a91ad72e07f5071613a5cf04ad31981db"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a91ad72e07f5071613a5cf04ad31981db">DEFAULT_MWI_DISABLE_INITIAL_UNSOLICITED</a></div><div class="ttdeci">#define DEFAULT_MWI_DISABLE_INITIAL_UNSOLICITED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00050">config_global.c:50</a></div></div>
<div class="ttc" id="structglobal__config_html_a64a05a38c5d6cc6a2e2abb8cde90795d"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a64a05a38c5d6cc6a2e2abb8cde90795d">global_config::disable_initial_unsolicited</a></div><div class="ttdeci">unsigned int disable_initial_unsolicited</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00107">config_global.c:107</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3f33b363ff46d3a6e05ee63afd45205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3f33b363ff46d3a6e05ee63afd45205">&#9670;&nbsp;</a></span>ast_sip_get_mwi_tps_queue_high()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_mwi_tps_queue_high </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global MWI taskprocessor high water alert trigger level. </p>
<dl class="section since"><dt>Since</dt><dd>13.12.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>system MWI taskprocessor high water alert trigger level </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00402">402</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00048">DEFAULT_MWI_TPS_QUEUE_HIGH</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, <a class="el" href="../../d2/db1/structglobal__config.html#abcf3c9f3dfe1ee06797929e00bf9303a">global_config::mwi</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00103">global_config::tps_queue_high</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01505">global_loaded()</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/db1/structglobal__config.html#a06858e631356b4ac5e2b4baacf0b5450">tps_queue_high</a>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#adde367fee5fef3dd4a90ac4dbcfd1319">DEFAULT_MWI_TPS_QUEUE_HIGH</a>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   tps_queue_high = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#abcf3c9f3dfe1ee06797929e00bf9303a">mwi</a>.<a class="code" href="../../d2/db1/structglobal__config.html#a06858e631356b4ac5e2b4baacf0b5450">tps_queue_high</a>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db1/structglobal__config.html#a06858e631356b4ac5e2b4baacf0b5450">tps_queue_high</a>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div><div class="ttc" id="config__global_8c_html_adde367fee5fef3dd4a90ac4dbcfd1319"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#adde367fee5fef3dd4a90ac4dbcfd1319">DEFAULT_MWI_TPS_QUEUE_HIGH</a></div><div class="ttdeci">#define DEFAULT_MWI_TPS_QUEUE_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00048">config_global.c:48</a></div></div>
<div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="structglobal__config_html_abcf3c9f3dfe1ee06797929e00bf9303a"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#abcf3c9f3dfe1ee06797929e00bf9303a">global_config::mwi</a></div><div class="ttdeci">struct global_config::@477 mwi</div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
<div class="ttc" id="structglobal__config_html_a06858e631356b4ac5e2b4baacf0b5450"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a06858e631356b4ac5e2b4baacf0b5450">global_config::tps_queue_high</a></div><div class="ttdeci">unsigned int tps_queue_high</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00103">config_global.c:103</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acacb0a5069465c03171486fe7cea85a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acacb0a5069465c03171486fe7cea85a5">&#9670;&nbsp;</a></span>ast_sip_get_mwi_tps_queue_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_get_mwi_tps_queue_low </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global MWI taskprocessor low water clear alert level. </p>
<dl class="section since"><dt>Since</dt><dd>13.12.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>system MWI taskprocessor low water clear alert level </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00417">417</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00049">DEFAULT_MWI_TPS_QUEUE_LOW</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, <a class="el" href="../../d2/db1/structglobal__config.html#abcf3c9f3dfe1ee06797929e00bf9303a">global_config::mwi</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00105">global_config::tps_queue_low</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01505">global_loaded()</a>.</p>
<div class="fragment"><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;{</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d2/db1/structglobal__config.html#a25eabae2c4c86a11e17adec312dae0e0">tps_queue_low</a>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#afe7a2fee09861617a9e77adc6bb39afb">DEFAULT_MWI_TPS_QUEUE_LOW</a>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   tps_queue_low = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#abcf3c9f3dfe1ee06797929e00bf9303a">mwi</a>.<a class="code" href="../../d2/db1/structglobal__config.html#a25eabae2c4c86a11e17adec312dae0e0">tps_queue_low</a>;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db1/structglobal__config.html#a25eabae2c4c86a11e17adec312dae0e0">tps_queue_low</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="config__global_8c_html_afe7a2fee09861617a9e77adc6bb39afb"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#afe7a2fee09861617a9e77adc6bb39afb">DEFAULT_MWI_TPS_QUEUE_LOW</a></div><div class="ttdeci">#define DEFAULT_MWI_TPS_QUEUE_LOW</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00049">config_global.c:49</a></div></div>
<div class="ttc" id="structglobal__config_html_abcf3c9f3dfe1ee06797929e00bf9303a"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#abcf3c9f3dfe1ee06797929e00bf9303a">global_config::mwi</a></div><div class="ttdeci">struct global_config::@477 mwi</div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
<div class="ttc" id="structglobal__config_html_a25eabae2c4c86a11e17adec312dae0e0"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a25eabae2c4c86a11e17adec312dae0e0">global_config::tps_queue_low</a></div><div class="ttdeci">int tps_queue_low</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00105">config_global.c:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ba92141c24bf4204831637d8e4a205a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba92141c24bf4204831637d8e4a205a">&#9670;&nbsp;</a></span>ast_sip_get_norefersub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_norefersub </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global setting 'norefersub'. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non</td><td>zero if norefersub is to be sent in "Supported" Headers </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00507">507</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00055">DEFAULT_NOREFERSUB</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00118">global_config::norefersub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l01262">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;{</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/db1/structglobal__config.html#a43aefb22ca400c685af24073de9127ab">norefersub</a>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#a1b8cb3bb6ae2eaf3b70624be82478464">DEFAULT_NOREFERSUB</a>;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   norefersub = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a43aefb22ca400c685af24073de9127ab">norefersub</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db1/structglobal__config.html#a43aefb22ca400c685af24073de9127ab">norefersub</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="config__global_8c_html_a1b8cb3bb6ae2eaf3b70624be82478464"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a1b8cb3bb6ae2eaf3b70624be82478464">DEFAULT_NOREFERSUB</a></div><div class="ttdeci">#define DEFAULT_NOREFERSUB</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00055">config_global.c:55</a></div></div>
<div class="ttc" id="structglobal__config_html_a43aefb22ca400c685af24073de9127ab"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a43aefb22ca400c685af24073de9127ab">global_config::norefersub</a></div><div class="ttdeci">unsigned int norefersub</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00118">config_global.c:118</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a785afb501e315c8a97ad476fb6a8be1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a785afb501e315c8a97ad476fb6a8be1d">&#9670;&nbsp;</a></span>ast_sip_get_pjsip_endpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pjsip_endpoint* ast_sip_get_pjsip_endpoint </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the PJSIP endpoint. </p>
<p>This is useful when modules have specific information they need to register with the PJSIP core. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>endpoint has not been created yet. </td></tr>
    <tr><td class="paramname">non-NULL</td><td>PJSIP endpoint. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03718">3718</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03272">ast_pjsip_endpoint</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d5e/res__pjsip__acl_8c_source.html#l00215">acl_on_rx_msg()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02835">ast_res_pjsip_cleanup_options_handling()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02918">ast_res_pjsip_init_options_handling()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05448">ast_sip_create_response()</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00382">ast_sip_destroy_transport_events()</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00394">ast_sip_initialize_transport_events()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03440">ast_sip_pubsub_register_body_generator()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05407">ast_sip_send_response()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03554">ast_sip_session_defer_termination()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02798">ast_sip_session_resume_reinvite()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00880">authenticate()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00363">cancel_publish_refresh()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00544">cancel_registration()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00760">channel_read_pjsip()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04380">create_out_of_dialog_request()</a>, <a class="el" href="../../d4/d61/res__pjsip__outbound__authenticator__digest_8c_source.html#l00410">digest_create_request_with_auth()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00943">distribute()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00485">distributor()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03558">do_cli_dump_endpt()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00718">endpoint_lookup()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04751">endpt_send_request()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04628">endpt_send_request_cb()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00482">exten_state_data_alloc()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00470">exten_state_data_destructor()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00619">exten_state_publisher_cb()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00225">filter_on_tx_message()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01007">find_registrar_aor()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00059">keepalive_transport_send_keepalive()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01566">load_module()</a>, <a class="el" href="../../d7/da2/res__hep__pjsip_8c_source.html#l00156">logging_on_rx_msg()</a>, <a class="el" href="../../d7/da2/res__hep__pjsip_8c_source.html#l00083">logging_on_tx_msg()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00288">notify_task()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00446">on_rx_process_uris()</a>, <a class="el" href="../../d2/d3b/res__pjsip__dlg__options_8c_source.html#l00039">options_incoming_request()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01121">parse_uri_cb()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03789">pre_session_setup()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03214">publish_request_initial()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03614">pubsub_on_rx_mwi_notify_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03326">pubsub_on_rx_publish_request()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l02969">pubsub_on_rx_subscribe_request()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00900">register_aor()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01076">registrar_on_rx_request()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l04269">reschedule_reinvite()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00373">schedule_publish_refresh()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00721">schedule_registration()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00215">send_options_response()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02733">session_reinvite_on_rx_request()</a>, <a class="el" href="../../d4/d43/pjsip__resolver_8c_source.html#l00636">sip_check_transport()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01388">sip_dialog_create_contact()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03813">sip_dialog_create_from()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00935">sip_outbound_publisher_init()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01603">sip_outbound_registration_regc_alloc()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03179">sip_publication_respond()</a>, <a class="el" href="../../d4/d43/pjsip__resolver_8c_source.html#l00683">sip_replace_resolver()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03588">sip_session_defer_termination_stop_timer()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01750">subscription_persistence_load()</a>, <a class="el" href="../../df/dfd/config__system_8c_source.html#l00250">system_create_resolver_and_set_nameservers()</a>, <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00129">t38_change_state()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00632">transport_apply()</a>, and <a class="el" href="../../d2/db8/res__pjsip__transport__websocket_8c_source.html#l00149">transport_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;{</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a0154360b6fa47543e1e0f9203a7aa458">ast_pjsip_endpoint</a>;</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_a0154360b6fa47543e1e0f9203a7aa458"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a0154360b6fa47543e1e0f9203a7aa458">ast_pjsip_endpoint</a></div><div class="ttdeci">static pjsip_endpoint * ast_pjsip_endpoint</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03272">res_pjsip.c:3272</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e4a08b7fcd1bfcfbb4b26581378e2be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e4a08b7fcd1bfcfbb4b26581378e2be">&#9670;&nbsp;</a></span>ast_sip_get_regcontext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_sip_get_regcontext </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global regcontext setting. </p>
<dl class="section since"><dt>Since</dt><dd>13.8.0</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returned string needs to be de-allocated by caller.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>global regcontext setting </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00247">247</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00041">DEFAULT_REGCONTEXT</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00084">global_config::regcontext</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01329">ast_sip_persistent_endpoint_update_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="keywordtype">char</span> *res;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../dd/dfd/config__global_8c.html#ab9679666849201496a5ef971fae9a9dc">DEFAULT_REGCONTEXT</a>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   res = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a1ed19699c0362c118706ff8cd6c33ba8">regcontext</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="config__global_8c_html_ab9679666849201496a5ef971fae9a9dc"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#ab9679666849201496a5ef971fae9a9dc">DEFAULT_REGCONTEXT</a></div><div class="ttdeci">#define DEFAULT_REGCONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00041">config_global.c:41</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structglobal__config_html_a1ed19699c0362c118706ff8cd6c33ba8"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a1ed19699c0362c118706ff8cd6c33ba8">global_config::regcontext</a></div><div class="ttdeci">const ast_string_field regcontext</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00084">config_global.c:84</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b7a9b6cb450b52a5c230afdae0d6fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7a9b6cb450b52a5c230afdae0d6fb1">&#9670;&nbsp;</a></span>ast_sip_get_send_contact_status_on_update_registration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_send_contact_status_on_update_registration </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global setting 'send_contact_status_on_update_registration'. </p>
<dl class="section since"><dt>Since</dt><dd>16.2.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non</td><td>zero if need to send AMI ContactStatus event when a contact is updated. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00477">477</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00053">DEFAULT_SEND_CONTACT_STATUS_ON_UPDATE_REGISTRATION</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00114">global_config::send_contact_status_on_update_registration</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02225">contact_observer_updated()</a>.</p>
<div class="fragment"><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;{</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/db1/structglobal__config.html#a0731d3dea629b625b344e9260657f26d">send_contact_status_on_update_registration</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#a56a1c2c908701e9d84e1604f64cf3d4d">DEFAULT_SEND_CONTACT_STATUS_ON_UPDATE_REGISTRATION</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   send_contact_status_on_update_registration = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a0731d3dea629b625b344e9260657f26d">send_contact_status_on_update_registration</a>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db1/structglobal__config.html#a0731d3dea629b625b344e9260657f26d">send_contact_status_on_update_registration</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div><div class="ttc" id="structglobal__config_html_a0731d3dea629b625b344e9260657f26d"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a0731d3dea629b625b344e9260657f26d">global_config::send_contact_status_on_update_registration</a></div><div class="ttdeci">unsigned int send_contact_status_on_update_registration</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00114">config_global.c:114</a></div></div>
<div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
<div class="ttc" id="config__global_8c_html_a56a1c2c908701e9d84e1604f64cf3d4d"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a56a1c2c908701e9d84e1604f64cf3d4d">DEFAULT_SEND_CONTACT_STATUS_ON_UPDATE_REGISTRATION</a></div><div class="ttdeci">#define DEFAULT_SEND_CONTACT_STATUS_ON_UPDATE_REGISTRATION</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00053">config_global.c:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5572d52daf1a841b0f9308df901448c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5572d52daf1a841b0f9308df901448c8">&#9670;&nbsp;</a></span>ast_sip_get_sorcery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a>* ast_sip_get_sorcery </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the SIP sorcery structure. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>sorcery has not been initialized </td></tr>
    <tr><td class="paramname">non-NULL</td><td>sorcery structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">2404</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00052">sip_sorcery</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d5e/res__pjsip__acl_8c_source.html#l00287">acl_change_stasis_cb()</a>, <a class="el" href="../../d5/d5e/res__pjsip__acl_8c_source.html#l00215">acl_on_rx_msg()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00594">alloc_artificial_auth()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01676">ami_show_endpoint()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01190">ami_show_registration_contact_statuses()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04112">ami_show_resource_lists()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02666">ami_sip_qualify()</a>, <a class="el" href="../../df/dd7/res__pjsip__endpoint__identifier__anonymous_8c_source.html#l00062">anonymous_identify()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00081">aor_deleted_observer()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02835">ast_res_pjsip_cleanup_options_handling()</a>, <a class="el" href="../../d0/df0/pjsip__cli_8c_source.html#l00036">ast_sip_cli_print_sorcery_objectset()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01334">ast_sip_destroy_distributor()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00630">ast_sip_destroy_sorcery_global()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01467">ast_sip_destroy_sorcery_location()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00410">ast_sip_destroy_transport_management()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00135">ast_sip_for_each_auth()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01260">ast_sip_initialize_distributor()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00071">ast_sip_initialize_sorcery_domain_alias()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00647">ast_sip_initialize_sorcery_global()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01618">ast_sip_initialize_sorcery_transport()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00372">ast_sip_initialize_transport_management()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00355">ast_sip_location_create_contact()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00450">ast_sip_location_delete_contact()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00469">ast_sip_location_prune_boot_contacts()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00147">ast_sip_location_retrieve_aor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00219">ast_sip_location_retrieve_aor_contacts_nolock_filtered()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00350">ast_sip_location_retrieve_contact()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00445">ast_sip_location_update_contact()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02360">ast_sip_retrieve_auths()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02385">ast_sip_retrieve_auths_vector()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03957">ast_sip_set_tpselector_from_transport_name()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01609">ast_sip_sorcery_object_to_ami()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00594">asterisk_publication_devicestate_state_change()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00685">asterisk_publication_mwi_state_change()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00479">asterisk_publication_new()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00766">asterisk_publication_send_refresh()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02332">auth_observer()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01461">can_reuse_registration()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l01174">chan_pjsip_devicestate()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01266">check_expiration_thread()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02372">check_state()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04962">cleanup_resource_list()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00879">cli_aor_get_container()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01146">cli_aor_retrieve_by_id()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00913">cli_complete_endpoint()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01924">cli_complete_registration()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01026">cli_contact_get_container()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01827">cli_endpoint_retrieve_by_id()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01229">cli_get_aors()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00216">cli_get_auths()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00277">cli_get_container()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01479">cli_iterate()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00675">cli_iterator()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02346">cli_qualify()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02630">cli_reload_qualify_aor()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02576">cli_reload_qualify_endpoint()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00306">cli_retrieve_by_id()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02483">cli_show_qualify_endpoint()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00265">common_identify()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02225">contact_observer_updated()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00638">create_artificial_endpoint()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01301">create_mwi_subscriptions()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04983">create_resource_list()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00228">create_rtp()</a>, <a class="el" href="../../d9/d91/res__pjsip__path_8c_source.html#l00039">find_aor()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00947">find_aor_name()</a>, <a class="el" href="../../d9/d24/res__pjsip__endpoint__identifier__user_8c_source.html#l00081">find_endpoint()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00646">format_ami_endpoint_identify()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00168">format_ami_endpoint_transport()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02400">get_all_contacts()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00323">get_publishes_and_update_state()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00481">get_registrations()</a>, <a class="el" href="../../d2/db8/res__pjsip__transport__websocket_8c_source.html#l00311">get_write_timeout()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00505">handle_atsign()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l01230">handle_export_primitives()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00288">handle_single_token()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00358">handle_slash()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00512">line_identify()</a>, <a class="el" href="../../d5/d5e/res__pjsip__acl_8c_source.html#l00297">load_module()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01361">mwi_contact_changed()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01414">mwi_contact_deleted()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00587">mwi_subscription_shutdown()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00505">on_rx_process_symmetric_transport()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00589">permanent_uri_handler()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00983">pjsip_acf_dial_contacts_read()</a>, <a class="el" href="../../dd/d92/func__pjsip__aor_8c_source.html#l00070">pjsip_aor_function_read()</a>, <a class="el" href="../../de/d6a/func__pjsip__contact_8c_source.html#l00086">pjsip_contact_function_read()</a>, <a class="el" href="../../d0/d7b/func__pjsip__endpoint_8c_source.html#l00071">pjsip_endpoint_function_read()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00342">pjsip_outbound_registration_metrics_init()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00323">pjsip_outbound_registration_metrics_unload_cb()</a>, <a class="el" href="../../d4/dc3/res__pjsip__nat_8c_source.html#l00365">process_nat()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03214">publish_request_initial()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00803">push_notify()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00151">registration_deleted_observer()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00212">registration_loaded_observer()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00880">reload_module()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02559">request()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01918">reregister_all()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00902">retrieve_resource_list()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00490">send_unsolicited_mwi_notify()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00777">sip_aor_to_ami()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00612">sip_cli_print_global()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01960">sip_options_aor_observer_modified_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01240">sip_options_apply_aor_configuration()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02154">sip_options_contact_add_management_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02885">sip_options_init_task()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00847">sip_options_qualify_contact()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01749">sip_options_synchronize_task()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01556">sub_persistence_recreate()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00637">subscription_persistence_create()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01750">subscription_persistence_load()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01684">subscription_persistence_recreate()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00745">subscription_persistence_remove()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00662">subscription_persistence_update()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02096">transfer()</a>, and <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00558">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;{</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/df6/pjsip__configuration_8c.html#ac48616e42021978f48d538f44388f9ee">sip_sorcery</a>;</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;}</div><div class="ttc" id="pjsip__configuration_8c_html_ac48616e42021978f48d538f44388f9ee"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#ac48616e42021978f48d538f44388f9ee">sip_sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sip_sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00052">pjsip_configuration.c:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1c1bd79cf3f3c57a0efbfd31ff45f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1c1bd79cf3f3c57a0efbfd31ff45f2f">&#9670;&nbsp;</a></span>ast_sip_get_transport_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_get_transport_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_sip_uri *&#160;</td>
          <td class="paramname"><em>sip_uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the transport name from an endpoint or request uri. </p>
<dl class="section since"><dt>Since</dt><dd>13.15.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td></td></tr>
    <tr><td class="paramname">sip_uri</td><td></td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to receive transport name </td></tr>
    <tr><td class="paramname">buf_len</td><td>Buffer length</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If endpoint-&gt;transport is not NULL, it is returned in buf. Otherwise if sip_uri has an 'x-ast-txp' parameter AND the sip_uri host is an ip4 or ip6 address, its value is returned, </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03762">3762</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00290">ast_alloca</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05240">ast_copy_pj_str()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00909">AST_SIP_X_AST_TXP</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00910">AST_SIP_X_AST_TXP_LEN</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00230">ast_sockaddr_parse()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d0/d8a/muted_8c_source.html#l00077">host</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01135">PARSE_PORT_FORBID</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00817">ast_sip_endpoint::transport</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03975">ast_sip_set_tpselector_from_ep_or_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;{</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> pj_str_t x_name = { <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a643c3def003b3009563b8427d10ed0d6">AST_SIP_X_AST_TXP</a>, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ada35df7749f7a33221d126acc6e13b57">AST_SIP_X_AST_TXP_LEN</a> };</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;   pjsip_param *x_transport;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a44cdbda076f37ba09880ba74d942b606">transport</a>)) {</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a44cdbda076f37ba09880ba74d942b606">transport</a>, buf_len);</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;   }</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;   x_transport = pjsip_param_find(&amp;sip_uri-&gt;other_param, &amp;x_name);</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;   <span class="keywordflow">if</span> (!x_transport) {</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;   }</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;   <span class="comment">/* Only use x_transport if the uri host is an ip (4 or 6) address */</span></div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;   host = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(sip_uri-&gt;host.slen + 1);</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a7da3e1f7ee3fcb77f29d41a76a7528fe">ast_copy_pj_str</a>(host, &amp;sip_uri-&gt;host, sip_uri-&gt;host.slen + 1);</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/df1/netsock2_8h.html#aad98818272870e12d48fe4347aaa46d0">ast_sockaddr_parse</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, host, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa42789f26318ec8def793a3df3a35efe3">PARSE_PORT_FORBID</a>)) {</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;   }</div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;</div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a7da3e1f7ee3fcb77f29d41a76a7528fe">ast_copy_pj_str</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, &amp;x_transport-&gt;value, buf_len);</div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_aad98818272870e12d48fe4347aaa46d0"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aad98818272870e12d48fe4347aaa46d0">ast_sockaddr_parse</a></div><div class="ttdeci">int ast_sockaddr_parse(struct ast_sockaddr *addr, const char *str, int flags)</div><div class="ttdoc">Parse an IPv4 or IPv6 address string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00230">netsock2.c:230</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_a44cdbda076f37ba09880ba74d942b606"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#a44cdbda076f37ba09880ba74d942b606">ast_sip_endpoint::transport</a></div><div class="ttdeci">const ast_string_field transport</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00817">res_pjsip.h:817</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569fa42789f26318ec8def793a3df3a35efe3"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa42789f26318ec8def793a3df3a35efe3">PARSE_PORT_FORBID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01135">include/asterisk/config.h:1135</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a7da3e1f7ee3fcb77f29d41a76a7528fe"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a7da3e1f7ee3fcb77f29d41a76a7528fe">ast_copy_pj_str</a></div><div class="ttdeci">void ast_copy_pj_str(char *dest, const pj_str_t *src, size_t size)</div><div class="ttdoc">Copy a pj_str_t into a standard character buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05240">res_pjsip.c:5240</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="muted_8c_html_a41c3a180b50c6b2ddcc1b6843a48f205"><div class="ttname"><a href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a></div><div class="ttdeci">static char host[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00077">muted.c:77</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ada35df7749f7a33221d126acc6e13b57"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ada35df7749f7a33221d126acc6e13b57">AST_SIP_X_AST_TXP_LEN</a></div><div class="ttdeci">#define AST_SIP_X_AST_TXP_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00910">res_pjsip.h:910</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a643c3def003b3009563b8427d10ed0d6"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a643c3def003b3009563b8427d10ed0d6">AST_SIP_X_AST_TXP</a></div><div class="ttdeci">#define AST_SIP_X_AST_TXP</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00909">res_pjsip.h:909</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6000ab7fe69594070bb59b995ccb5ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6000ab7fe69594070bb59b995ccb5ee">&#9670;&nbsp;</a></span>ast_sip_get_transport_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a>* ast_sip_get_transport_state </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>transport_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve transport state. </p>
<dl class="section since"><dt>Since</dt><dd>13.7.1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport_id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transport_state</dd></dl>
<dl class="section note"><dt>Note</dt><dd>ao2_cleanup(...) or ao2_ref(..., -1) must be called on the returned object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01564">1564</a> of file <a class="el" href="../../d3/d17/config__transport_8c_source.html">config_transport.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00149">ast_sip_transport_state::flow</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00049">internal_state::state</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00089">ast_sip_transport_state::transport</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00301">ast_sip_message_apply_transport()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03907">ast_sip_set_tpselector_from_transport()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00242">ast_sip_transport_state_set_preferred_identity()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00270">ast_sip_transport_state_set_service_routes()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00206">ast_sip_transport_state_set_transport()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l02226">change_outgoing_sdp_stream_media_address()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00228">create_rtp()</a>, and <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05457">session_outgoing_nat_hook()</a>.</p>
<div class="fragment"><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;{</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d8d/structinternal__state.html">internal_state</a> *<a class="code" href="../../d4/d88/structstate.html">state</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a> *trans_state;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d17/config__transport_8c.html#afcddeb3e731b920c647149af910906e6">transport_states</a>) {</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   }</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;   state = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d3/d17/config__transport_8c.html#afcddeb3e731b920c647149af910906e6">transport_states</a>, transport_id, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   <span class="keywordflow">if</span> (!state) {</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   }</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   trans_state = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(state-&gt;<a class="code" href="../../d3/d8d/structinternal__state.html#a73aa4724dd105a54a65b8089dd548417">state</a>);</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(state, -1);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   <span class="comment">/* If this is a child transport see if the transport is actually dead */</span></div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   <span class="keywordflow">if</span> (trans_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">flow</a>) {</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(trans_state);</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="keywordflow">if</span> (trans_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a> &amp;&amp; trans_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>-&gt;is_shutdown == PJ_TRUE) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;         pjsip_transport_dec_ref(trans_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;         trans_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      }</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(trans_state);</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;   }</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;   <span class="keywordflow">return</span> trans_state;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;}</div><div class="ttc" id="structast__sip__transport__state_html_a3a44e2579abfd2c9e9cd570a78b01282"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">ast_sip_transport_state::flow</a></div><div class="ttdeci">int flow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00149">res_pjsip.h:149</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structinternal__state_html_a73aa4724dd105a54a65b8089dd548417"><div class="ttname"><a href="../../d3/d8d/structinternal__state.html#a73aa4724dd105a54a65b8089dd548417">internal_state::state</a></div><div class="ttdeci">struct ast_sip_transport_state * state</div><div class="ttdoc">Transport state information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l00049">config_transport.c:49</a></div></div>
<div class="ttc" id="config__transport_8c_html_afcddeb3e731b920c647149af910906e6"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#afcddeb3e731b920c647149af910906e6">transport_states</a></div><div class="ttdeci">static struct ao2_container * transport_states</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l00040">config_transport.c:40</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a></div><div class="ttdoc">Structure for SIP transport information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00087">res_pjsip.h:87</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a7475e193e8f10f809dbde0ddba4ad006"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">ast_sip_transport_state::transport</a></div><div class="ttdeci">struct pjsip_transport * transport</div><div class="ttdoc">Transport itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00089">res_pjsip.h:89</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="structinternal__state_html"><div class="ttname"><a href="../../d3/d8d/structinternal__state.html">internal_state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l00042">config_transport.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7739cc1c2dda386e264c2e90855d4e3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7739cc1c2dda386e264c2e90855d4e3e">&#9670;&nbsp;</a></span>ast_sip_get_transport_states()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_sip_get_transport_states </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves all transport states. </p>
<dl class="section since"><dt>Since</dt><dd>13.7.1</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d2/da9/structao2__container.html" title="Generic container type. ">ao2_container</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>ao2_cleanup(...) or ao2_ref(..., -1) must be called on the returned object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01604">1604</a> of file <a class="el" href="../../d3/d17/config__transport_8c_source.html">config_transport.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00039">DEFAULT_STATE_BUCKETS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01594">populate_transport_states()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00134">transport_state_cmp()</a>, and <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00113">transport_state_hash()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dd7/res__pjsip__endpoint__identifier__anonymous_8c_source.html#l00062">anonymous_identify()</a>, <a class="el" href="../../d9/d24/res__pjsip__endpoint__identifier__user_8c_source.html#l00081">find_endpoint()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00102">get_udp_transport()</a>, <a class="el" href="../../d2/db8/res__pjsip__transport__websocket_8c_source.html#l00311">get_write_timeout()</a>, and <a class="el" href="../../d4/dc3/res__pjsip__nat_8c_source.html#l00365">process_nat()</a>.</p>
<div class="fragment"><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;{</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *states = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0,</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      <a class="code" href="../../d3/d17/config__transport_8c.html#a46aa50c37f5c251756d5564d8c96aa38">DEFAULT_STATE_BUCKETS</a>, <a class="code" href="../../d3/d17/config__transport_8c.html#a224f7dc48338da871397f57027476686">transport_state_hash</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/d17/config__transport_8c.html#a397ff8409f04817afb48ab618fa72d78">transport_state_cmp</a>);</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;   <span class="keywordflow">if</span> (!states) {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;   }</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../d3/d17/config__transport_8c.html#afcddeb3e731b920c647149af910906e6">transport_states</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d3/d17/config__transport_8c.html#aa0b62a2689a7f3de85dbc6fea3747bc3">populate_transport_states</a>, states);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;   <span class="keywordflow">return</span> states;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;}</div><div class="ttc" id="config__transport_8c_html_a397ff8409f04817afb48ab618fa72d78"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#a397ff8409f04817afb48ab618fa72d78">transport_state_cmp</a></div><div class="ttdeci">static int transport_state_cmp(void *obj, void *arg, int flags)</div><div class="ttdoc">comparator function for state objects </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l00134">config_transport.c:134</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="config__transport_8c_html_afcddeb3e731b920c647149af910906e6"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#afcddeb3e731b920c647149af910906e6">transport_states</a></div><div class="ttdeci">static struct ao2_container * transport_states</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l00040">config_transport.c:40</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="config__transport_8c_html_a224f7dc48338da871397f57027476686"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#a224f7dc48338da871397f57027476686">transport_state_hash</a></div><div class="ttdeci">static int transport_state_hash(const void *obj, const int flags)</div><div class="ttdoc">hashing function for state objects </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l00113">config_transport.c:113</a></div></div>
<div class="ttc" id="config__transport_8c_html_a46aa50c37f5c251756d5564d8c96aa38"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#a46aa50c37f5c251756d5564d8c96aa38">DEFAULT_STATE_BUCKETS</a></div><div class="ttdeci">#define DEFAULT_STATE_BUCKETS</div><div class="ttdoc">Default number of state container buckets. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l00039">config_transport.c:39</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="config__transport_8c_html_aa0b62a2689a7f3de85dbc6fea3747bc3"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#aa0b62a2689a7f3de85dbc6fea3747bc3">populate_transport_states</a></div><div class="ttdeci">static int populate_transport_states(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l01594">config_transport.c:1594</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afbb99d171b29a7191422d016e8199e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbb99d171b29a7191422d016e8199e02">&#9670;&nbsp;</a></span>ast_sip_get_unidentified_request_thresholds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_get_unidentified_request_thresholds </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>prune_interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the unidentified request security event thresholds. </p>
<dl class="section since"><dt>Since</dt><dd>13.8.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The maximum number of unidentified requests per source ip to accumulate before emitting a security event </td></tr>
    <tr><td class="paramname">period</td><td>The period in seconds over which to accumulate unidentified requests </td></tr>
    <tr><td class="paramname">prune_interval</td><td>The interval in seconds at which expired entries will be pruned </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00354">354</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00045">DEFAULT_UNIDENTIFIED_REQUEST_COUNT</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00046">DEFAULT_UNIDENTIFIED_REQUEST_PERIOD</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00047">DEFAULT_UNIDENTIFIED_REQUEST_PRUNE_INTERVAL</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00096">global_config::unidentified_request_count</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00098">global_config::unidentified_request_period</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00100">global_config::unidentified_request_prune_interval</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01165">global_loaded()</a>, and <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01149">prune_task()</a>.</p>
<div class="fragment"><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      *count = <a class="code" href="../../dd/dfd/config__global_8c.html#a2bf069e917666e3e99e706fa062a9b6e">DEFAULT_UNIDENTIFIED_REQUEST_COUNT</a>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      *period = <a class="code" href="../../dd/dfd/config__global_8c.html#ae13470e0ebb4d2f51b38dc83c1d4c69d">DEFAULT_UNIDENTIFIED_REQUEST_PERIOD</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      *prune_interval = <a class="code" href="../../dd/dfd/config__global_8c.html#a9b2f6dc088345476aef873224729c68b">DEFAULT_UNIDENTIFIED_REQUEST_PRUNE_INTERVAL</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   *count = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#ab92d76248b21bc687f75d56d93dbf3ae">unidentified_request_count</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   *period = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#afc10cf88d82c9065eaedbc5c33344d70">unidentified_request_period</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   *prune_interval = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a2a240f19f3dcd6c1387a88806c891d60">unidentified_request_prune_interval</a>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div><div class="ttc" id="config__global_8c_html_a9b2f6dc088345476aef873224729c68b"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a9b2f6dc088345476aef873224729c68b">DEFAULT_UNIDENTIFIED_REQUEST_PRUNE_INTERVAL</a></div><div class="ttdeci">#define DEFAULT_UNIDENTIFIED_REQUEST_PRUNE_INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00047">config_global.c:47</a></div></div>
<div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="structglobal__config_html_a2a240f19f3dcd6c1387a88806c891d60"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a2a240f19f3dcd6c1387a88806c891d60">global_config::unidentified_request_prune_interval</a></div><div class="ttdeci">unsigned int unidentified_request_prune_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00100">config_global.c:100</a></div></div>
<div class="ttc" id="structglobal__config_html_ab92d76248b21bc687f75d56d93dbf3ae"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#ab92d76248b21bc687f75d56d93dbf3ae">global_config::unidentified_request_count</a></div><div class="ttdeci">unsigned int unidentified_request_count</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00096">config_global.c:96</a></div></div>
<div class="ttc" id="config__global_8c_html_a2bf069e917666e3e99e706fa062a9b6e"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a2bf069e917666e3e99e706fa062a9b6e">DEFAULT_UNIDENTIFIED_REQUEST_COUNT</a></div><div class="ttdeci">#define DEFAULT_UNIDENTIFIED_REQUEST_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00045">config_global.c:45</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_ae13470e0ebb4d2f51b38dc83c1d4c69d"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#ae13470e0ebb4d2f51b38dc83c1d4c69d">DEFAULT_UNIDENTIFIED_REQUEST_PERIOD</a></div><div class="ttdeci">#define DEFAULT_UNIDENTIFIED_REQUEST_PERIOD</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00046">config_global.c:46</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
<div class="ttc" id="structglobal__config_html_afc10cf88d82c9065eaedbc5c33344d70"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#afc10cf88d82c9065eaedbc5c33344d70">global_config::unidentified_request_period</a></div><div class="ttdeci">unsigned int unidentified_request_period</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00098">config_global.c:98</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d563129fecea04e6b7feae05d32470e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d563129fecea04e6b7feae05d32470e">&#9670;&nbsp;</a></span>ast_sip_get_use_callerid_contact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_sip_get_use_callerid_contact </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the global setting 'use_callerid_contact'. </p>
<dl class="section since"><dt>Since</dt><dd>13.24.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non</td><td>zero if CALLERID(num) is to be used as the default username in the contact </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00462">462</a> of file <a class="el" href="../../dd/dfd/config__global_8c_source.html">config_global.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00052">DEFAULT_USE_CALLERID_CONTACT</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00212">get_global_cfg()</a>, and <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00112">global_config::use_callerid_contact</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l01637">set_from_header()</a>.</p>
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/db1/structglobal__config.html#a37613a7e918b31fadb33f19874059665">use_callerid_contact</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db1/structglobal__config.html">global_config</a> *cfg;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   cfg = <a class="code" href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a>();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dfd/config__global_8c.html#acba77e0fef38642bb8cce0ede8566c79">DEFAULT_USE_CALLERID_CONTACT</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   use_callerid_contact = cfg-&gt;<a class="code" href="../../d2/db1/structglobal__config.html#a37613a7e918b31fadb33f19874059665">use_callerid_contact</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db1/structglobal__config.html#a37613a7e918b31fadb33f19874059665">use_callerid_contact</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div><div class="ttc" id="structglobal__config_html"><div class="ttname"><a href="../../d2/db1/structglobal__config.html">global_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00068">config_global.c:68</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="config__global_8c_html_acba77e0fef38642bb8cce0ede8566c79"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#acba77e0fef38642bb8cce0ede8566c79">DEFAULT_USE_CALLERID_CONTACT</a></div><div class="ttdeci">#define DEFAULT_USE_CALLERID_CONTACT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00052">config_global.c:52</a></div></div>
<div class="ttc" id="structglobal__config_html_a37613a7e918b31fadb33f19874059665"><div class="ttname"><a href="../../d2/db1/structglobal__config.html#a37613a7e918b31fadb33f19874059665">global_config::use_callerid_contact</a></div><div class="ttdeci">unsigned int use_callerid_contact</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00112">config_global.c:112</a></div></div>
<div class="ttc" id="config__global_8c_html_a96fe543e4a53c0ce6b1fd4f1aba27910"><div class="ttname"><a href="../../dd/dfd/config__global_8c.html#a96fe543e4a53c0ce6b1fd4f1aba27910">get_global_cfg</a></div><div class="ttdeci">static struct global_config * get_global_cfg(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00212">config_global.c:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aca93ad473a36034768c5d504ab991e06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca93ad473a36034768c5d504ab991e06">&#9670;&nbsp;</a></span>ast_sip_identify_endpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a>* ast_sip_identify_endpoint </td>
          <td>(</td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the endpoint that has sent a SIP message. </p>
<p>This will call into each of the registered endpoint identifiers' identify_endpoint() callbacks until one returns a non-NULL endpoint. This will return an ao2 object. Its reference count will need to be decremented when completed using the endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdata</td><td>The inbound SIP message to use when identifying the endpoint. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>No matching endpoint </td></tr>
    <tr><td class="paramname">non-NULL</td><td>The matching endpoint </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03528">3528</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03425">endpoint_identifier_list::identifier</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00998">ast_sip_endpoint_identifier::identify_endpoint</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00718">endpoint_lookup()</a>.</p>
<div class="fragment"><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;{</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d73/structendpoint__identifier__list.html">endpoint_identifier_list</a> *iter;</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *endpoint = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>);</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, iter, list) {</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(iter-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a7f1bfe31ef240c6c5e0a688bace06214">identifier</a>-&gt;<a class="code" href="../../d0/d97/structast__sip__endpoint__identifier.html#a70e9eb29aa44b8d1b8e2e158b97bb11c">identify_endpoint</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;      endpoint = iter-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a7f1bfe31ef240c6c5e0a688bace06214">identifier</a>-&gt;<a class="code" href="../../d0/d97/structast__sip__endpoint__identifier.html#a70e9eb29aa44b8d1b8e2e158b97bb11c">identify_endpoint</a>(rdata);</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;      <span class="keywordflow">if</span> (endpoint) {</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;      }</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;   }</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;   <span class="keywordflow">return</span> endpoint;</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__sip__endpoint__identifier_html_a70e9eb29aa44b8d1b8e2e158b97bb11c"><div class="ttname"><a href="../../d0/d97/structast__sip__endpoint__identifier.html#a70e9eb29aa44b8d1b8e2e158b97bb11c">ast_sip_endpoint_identifier::identify_endpoint</a></div><div class="ttdeci">struct ast_sip_endpoint *(* identify_endpoint)(pjsip_rx_data *rdata)</div><div class="ttdoc">Callback used to identify the source of a message. See ast_sip_identify_endpoint for more details...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00998">res_pjsip.h:998</a></div></div>
<div class="ttc" id="structendpoint__identifier__list_html"><div class="ttname"><a href="../../d3/d73/structendpoint__identifier__list.html">endpoint_identifier_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03422">res_pjsip.c:3422</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a></div><div class="ttdoc">An entity with which Asterisk communicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00812">res_pjsip.h:812</a></div></div>
<div class="ttc" id="structendpoint__identifier__list_html_a7f1bfe31ef240c6c5e0a688bace06214"><div class="ttname"><a href="../../d3/d73/structendpoint__identifier__list.html#a7f1bfe31ef240c6c5e0a688bace06214">endpoint_identifier_list::identifier</a></div><div class="ttdeci">struct ast_sip_endpoint_identifier * identifier</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03425">res_pjsip.c:3425</a></div></div>
<div class="ttc" id="structendpoint__identifiers_html"><div class="ttname"><a href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03429">res_pjsip.c:3429</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae47a39537fdf10ceba2fad9d9c380179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae47a39537fdf10ceba2fad9d9c380179">&#9670;&nbsp;</a></span>ast_sip_is_content_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_is_content_type </td>
          <td>(</td>
          <td class="paramtype">pjsip_media_type *&#160;</td>
          <td class="paramname"><em>content_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>subtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the given content type matches type/subtype. </p>
<p>Compares the pjsip_media_type with the passed type and subtype and returns the result of that comparison. The media type parameters are ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">content_type</td><td>The pjsip_media_type structure to compare </td></tr>
    <tr><td class="paramname">type</td><td>The media type to compare </td></tr>
    <tr><td class="paramname">subtype</td><td>The media subtype to compare </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No match </td></tr>
    <tr><td class="paramname">-1</td><td>Match </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05259">5259</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00188">compare()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00594">asterisk_publication_devicestate_state_change()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00685">asterisk_publication_mwi_state_change()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00151">check_content_type()</a>, <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00225">filter_on_tx_message()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03697">pubsub_on_rx_notify_request()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l05457">session_outgoing_nat_hook()</a>, and <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l02295">video_info_incoming_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;{</div><div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;   pjsip_media_type <a class="code" href="../../d0/de2/app__directory_8c.html#adf773af7f5d8ca288a3a68fc3659d95c">compare</a>;</div><div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;</div><div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;   <span class="keywordflow">if</span> (!content_type) {</div><div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;   }</div><div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;</div><div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;   pjsip_media_type_init2(&amp;compare, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, subtype);</div><div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;</div><div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;   <span class="keywordflow">return</span> pjsip_media_type_cmp(content_type, &amp;compare, 0) ? 0 : -1;</div><div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="app__directory_8c_html_adf773af7f5d8ca288a3a68fc3659d95c"><div class="ttname"><a href="../../d0/de2/app__directory_8c.html#adf773af7f5d8ca288a3a68fc3659d95c">compare</a></div><div class="ttdeci">static int compare(const char *text, const char *template)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/de2/app__directory_8c_source.html#l00188">app_directory.c:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e5134065c18faa51258176d2ad81e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e5134065c18faa51258176d2ad81e04">&#9670;&nbsp;</a></span>ast_sip_location_add_contact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_location_add_contact </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&#160;</td>
          <td class="paramname"><em>expiration_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>via_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>via_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>call_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new contact to an AOR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>Pointer to the AOR </td></tr>
    <tr><td class="paramname">uri</td><td>Full contact URI </td></tr>
    <tr><td class="paramname">expiration_time</td><td>Optional expiration time of the contact </td></tr>
    <tr><td class="paramname">path_info</td><td>Path information </td></tr>
    <tr><td class="paramname">user_agent</td><td>User-Agent header from REGISTER request </td></tr>
    <tr><td class="paramname">via_addr</td><td></td></tr>
    <tr><td class="paramname">via_port</td><td></td></tr>
    <tr><td class="paramname">call_id</td><td></td></tr>
    <tr><td class="paramname">endpoint</td><td>The endpoint that resulted in the contact being added</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>failure </td></tr>
    <tr><td class="paramname">0</td><td>success</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function holds a named write lock on the aor. If you already hold the lock you should call ast_sip_location_add_contact_nolock instead. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00429">429</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00416">ast_sip_location_add_contact_nolock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(aor);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   res = <a class="code" href="../../d0/dad/location_8c.html#afaeecf183c0b24247fea03bec9f8e199">ast_sip_location_add_contact_nolock</a>(aor, uri, expiration_time, path_info, user_agent,</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      via_addr, via_port, call_id,</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      endpoint);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(aor);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="location_8c_html_afaeecf183c0b24247fea03bec9f8e199"><div class="ttname"><a href="../../d0/dad/location_8c.html#afaeecf183c0b24247fea03bec9f8e199">ast_sip_location_add_contact_nolock</a></div><div class="ttdeci">int ast_sip_location_add_contact_nolock(struct ast_sip_aor *aor, const char *uri, struct timeval expiration_time, const char *path_info, const char *user_agent, const char *via_addr, int via_port, const char *call_id, struct ast_sip_endpoint *endpoint)</div><div class="ttdoc">Add a new contact to an AOR without locking the AOR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00416">location.c:416</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afaeecf183c0b24247fea03bec9f8e199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaeecf183c0b24247fea03bec9f8e199">&#9670;&nbsp;</a></span>ast_sip_location_add_contact_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_location_add_contact_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&#160;</td>
          <td class="paramname"><em>expiration_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>via_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>via_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>call_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new contact to an AOR without locking the AOR. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>Pointer to the AOR </td></tr>
    <tr><td class="paramname">uri</td><td>Full contact URI </td></tr>
    <tr><td class="paramname">expiration_time</td><td>Optional expiration time of the contact </td></tr>
    <tr><td class="paramname">path_info</td><td>Path information </td></tr>
    <tr><td class="paramname">user_agent</td><td>User-Agent header from REGISTER request </td></tr>
    <tr><td class="paramname">via_addr</td><td></td></tr>
    <tr><td class="paramname">via_port</td><td></td></tr>
    <tr><td class="paramname">call_id</td><td></td></tr>
    <tr><td class="paramname">endpoint</td><td>The endpoint that resulted in the contact being added</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>failure </td></tr>
    <tr><td class="paramname">0</td><td>success</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function should only be called if you already hold a named write lock on the aor. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00416">416</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00355">ast_sip_location_create_contact()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00429">ast_sip_location_add_contact()</a>.</p>
<div class="fragment"><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;{</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="code" href="../../d9/d03/structcontact.html">contact</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   contact = <a class="code" href="../../d0/dad/location_8c.html#a8af68d3a6a66cb6f1f7b9bd28690251b">ast_sip_location_create_contact</a>(aor, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">uri</a>, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a98ed99328ad621551cdfbee6b83754ae">expiration_time</a>, path_info,</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="../../d8/d8a/structast__sip__contact.html#ad6233310a4cab812bbccf98b823aa039">user_agent</a>, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a526207204e5f599fb9a618d9f8001ca2">via_addr</a>, <a class="code" href="../../d8/d8a/structast__sip__contact.html#ad3a98d512391e68d8473ad51e3fd2401">via_port</a>, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a71e59257a329fbb031e9fc17eaca0922">call_id</a>, 0, endpoint);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(contact);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keywordflow">return</span> contact ? 0 : -1;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div><div class="ttc" id="structast__sip__contact_html_a71e59257a329fbb031e9fc17eaca0922"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a71e59257a329fbb031e9fc17eaca0922">ast_sip_contact::call_id</a></div><div class="ttdeci">const ast_string_field call_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact_html_ad6233310a4cab812bbccf98b823aa039"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#ad6233310a4cab812bbccf98b823aa039">ast_sip_contact::user_agent</a></div><div class="ttdeci">const ast_string_field user_agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a526207204e5f599fb9a618d9f8001ca2"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a526207204e5f599fb9a618d9f8001ca2">ast_sip_contact::via_addr</a></div><div class="ttdeci">const ast_string_field via_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="location_8c_html_a8af68d3a6a66cb6f1f7b9bd28690251b"><div class="ttname"><a href="../../d0/dad/location_8c.html#a8af68d3a6a66cb6f1f7b9bd28690251b">ast_sip_location_create_contact</a></div><div class="ttdeci">struct ast_sip_contact * ast_sip_location_create_contact(struct ast_sip_aor *aor, const char *uri, struct timeval expiration_time, const char *path_info, const char *user_agent, const char *via_addr, int via_port, const char *call_id, int prune_on_boot, struct ast_sip_endpoint *endpoint)</div><div class="ttdoc">Create a new contact for an AOR without locking the AOR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00355">location.c:355</a></div></div>
<div class="ttc" id="structast__sip__contact_html_ad3a98d512391e68d8473ad51e3fd2401"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#ad3a98d512391e68d8473ad51e3fd2401">ast_sip_contact::via_port</a></div><div class="ttdeci">int via_port</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00315">res_pjsip.h:315</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a98ed99328ad621551cdfbee6b83754ae"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a98ed99328ad621551cdfbee6b83754ae">ast_sip_contact::expiration_time</a></div><div class="ttdeci">struct timeval expiration_time</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00305">res_pjsip.h:305</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a19ac71226fac09e87afe31acb4c99214"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">ast_sip_contact::uri</a></div><div class="ttdeci">const ast_string_field uri</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8af68d3a6a66cb6f1f7b9bd28690251b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8af68d3a6a66cb6f1f7b9bd28690251b">&#9670;&nbsp;</a></span>ast_sip_location_create_contact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a>* ast_sip_location_create_contact </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&#160;</td>
          <td class="paramname"><em>expiration_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>via_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>via_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>call_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prune_on_boot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new contact for an AOR without locking the AOR. </p>
<dl class="section since"><dt>Since</dt><dd>13.18.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>Pointer to the AOR </td></tr>
    <tr><td class="paramname">uri</td><td>Full contact URI </td></tr>
    <tr><td class="paramname">expiration_time</td><td>Optional expiration time of the contact </td></tr>
    <tr><td class="paramname">path_info</td><td>Path information </td></tr>
    <tr><td class="paramname">user_agent</td><td>User-Agent header from REGISTER request </td></tr>
    <tr><td class="paramname">via_addr</td><td></td></tr>
    <tr><td class="paramname">via_port</td><td></td></tr>
    <tr><td class="paramname">call_id</td><td></td></tr>
    <tr><td class="paramname">prune_on_boot</td><td>Non-zero if the contact cannot survive a restart/boot. </td></tr>
    <tr><td class="paramname">endpoint</td><td>The endpoint that resulted in the contact being added</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created contact or NULL on failure.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function should only be called if you already hold a named write lock on the aor. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00355">355</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00170">ast_config_AST_SYSTEM_NAME</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00248">ast_md5_hash()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01744">ast_sorcery_alloc()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02057">ast_sorcery_create()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00309">ast_sip_contact::authenticate_qualify</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00377">ast_sip_aor::authenticate_qualify</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00313">ast_sip_contact::endpoint</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::endpoint_name</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00305">ast_sip_contact::expiration_time</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00110">MAX_OBJECT_FIELD</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::outbound_proxy</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00367">ast_sip_aor::outbound_proxy</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::path</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00317">ast_sip_contact::prune_on_boot</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00307">ast_sip_contact::qualify_frequency</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00375">ast_sip_aor::qualify_frequency</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00311">ast_sip_contact::qualify_timeout</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00387">ast_sip_aor::qualify_timeout</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::reg_server</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00385">ast_sip_aor::support_path</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00315">ast_sip_contact::via_port</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00416">ast_sip_location_add_contact_nolock()</a>, and <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>.</p>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="code" href="../../d9/d03/structcontact.html">contact</a>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>[<a class="code" href="../../d8/d25/sorcery_8h.html#aca877fd857a49db7740effaa55a01e52">MAX_OBJECT_FIELD</a> * 2 + 3];</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keywordtype">char</span> hash[33];</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#aee8200caadc6a4b5afe01ea37fd26cb3">ast_md5_hash</a>(hash, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">uri</a>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   snprintf(name, <span class="keyword">sizeof</span>(name), <span class="stringliteral">&quot;%s;@%s&quot;</span>, <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(aor), hash);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   contact = <a class="code" href="../../d8/d25/sorcery_8h.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;contact&quot;</span>, name);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <span class="keywordflow">if</span> (!contact) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(contact, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">uri</a>, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">uri</a>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a98ed99328ad621551cdfbee6b83754ae">expiration_time</a> = <a class="code" href="../../d8/d8a/structast__sip__contact.html#a98ed99328ad621551cdfbee6b83754ae">expiration_time</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#afbb1dc2791b27417c95a4ff1693fa44b">qualify_frequency</a> = aor-&gt;<a class="code" href="../../d4/d03/structast__sip__aor.html#afbb1dc2791b27417c95a4ff1693fa44b">qualify_frequency</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a3020ce9ec467a10058a0d149f43aceae">qualify_timeout</a> = aor-&gt;<a class="code" href="../../d4/d03/structast__sip__aor.html#a3020ce9ec467a10058a0d149f43aceae">qualify_timeout</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#aceb8cd1d19b9020476de70a5d9d38809">authenticate_qualify</a> = aor-&gt;<a class="code" href="../../d4/d03/structast__sip__aor.html#aceb8cd1d19b9020476de70a5d9d38809">authenticate_qualify</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordflow">if</span> (path_info &amp;&amp; aor-&gt;<a class="code" href="../../d4/d03/structast__sip__aor.html#a6e527f7843b00df547d2221a7d31ef60">support_path</a>) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(contact, <a class="code" href="../../d8/d8a/structast__sip__contact.html#aaeae1324cdfad45634df796a27bb37ac">path</a>, path_info);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(aor-&gt;<a class="code" href="../../d4/d03/structast__sip__aor.html#a8b55fd039a8b14683eae2d3c0a1c86ae">outbound_proxy</a>)) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(contact, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a8b55fd039a8b14683eae2d3c0a1c86ae">outbound_proxy</a>, aor-&gt;<a class="code" href="../../d4/d03/structast__sip__aor.html#a8b55fd039a8b14683eae2d3c0a1c86ae">outbound_proxy</a>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d8a/structast__sip__contact.html#ad6233310a4cab812bbccf98b823aa039">user_agent</a>)) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(contact, <a class="code" href="../../d8/d8a/structast__sip__contact.html#ad6233310a4cab812bbccf98b823aa039">user_agent</a>, <a class="code" href="../../d8/d8a/structast__sip__contact.html#ad6233310a4cab812bbccf98b823aa039">user_agent</a>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../dd/df2/paths_8h.html#ab9f9346c7a41bdf3720f7b1ed02ec703">ast_config_AST_SYSTEM_NAME</a>)) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(contact, <a class="code" href="../../d8/d8a/structast__sip__contact.html#ad560d6e3eaa972115c360eeae000b25b">reg_server</a>, <a class="code" href="../../dd/df2/paths_8h.html#ab9f9346c7a41bdf3720f7b1ed02ec703">ast_config_AST_SYSTEM_NAME</a>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d8a/structast__sip__contact.html#a526207204e5f599fb9a618d9f8001ca2">via_addr</a>)) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(contact, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a526207204e5f599fb9a618d9f8001ca2">via_addr</a>, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a526207204e5f599fb9a618d9f8001ca2">via_addr</a>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#ad3a98d512391e68d8473ad51e3fd2401">via_port</a> = <a class="code" href="../../d8/d8a/structast__sip__contact.html#ad3a98d512391e68d8473ad51e3fd2401">via_port</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d8/d8a/structast__sip__contact.html#a71e59257a329fbb031e9fc17eaca0922">call_id</a>)) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(contact, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a71e59257a329fbb031e9fc17eaca0922">call_id</a>, <a class="code" href="../../d8/d8a/structast__sip__contact.html#a71e59257a329fbb031e9fc17eaca0922">call_id</a>);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a3960205b2a4e7e012dc9f0eae1855f01">endpoint</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(endpoint);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keywordflow">if</span> (endpoint) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(contact, <a class="code" href="../../d8/d8a/structast__sip__contact.html#ab4cbf7f39957c6802d6421a2eb5b6350">endpoint_name</a>, <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(endpoint));</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a08e0b4a94cab7d431f1717d53d619447">prune_on_boot</a> = <a class="code" href="../../d8/d8a/structast__sip__contact.html#a08e0b4a94cab7d431f1717d53d619447">prune_on_boot</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d25/sorcery_8h.html#a575dfe8fd872c033d2b902549df502ea">ast_sorcery_create</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), contact)) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(contact, -1);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <span class="keywordflow">return</span> contact;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div><div class="ttc" id="structast__sip__aor_html_a3020ce9ec467a10058a0d149f43aceae"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html#a3020ce9ec467a10058a0d149f43aceae">ast_sip_aor::qualify_timeout</a></div><div class="ttdeci">double qualify_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00387">res_pjsip.h:387</a></div></div>
<div class="ttc" id="structast__sip__contact_html_aceb8cd1d19b9020476de70a5d9d38809"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#aceb8cd1d19b9020476de70a5d9d38809">ast_sip_contact::authenticate_qualify</a></div><div class="ttdeci">int authenticate_qualify</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00309">res_pjsip.h:309</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a8b55fd039a8b14683eae2d3c0a1c86ae"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a8b55fd039a8b14683eae2d3c0a1c86ae">ast_sip_contact::outbound_proxy</a></div><div class="ttdeci">const ast_string_field outbound_proxy</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a71e59257a329fbb031e9fc17eaca0922"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a71e59257a329fbb031e9fc17eaca0922">ast_sip_contact::call_id</a></div><div class="ttdeci">const ast_string_field call_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact_html_ad6233310a4cab812bbccf98b823aa039"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#ad6233310a4cab812bbccf98b823aa039">ast_sip_contact::user_agent</a></div><div class="ttdeci">const ast_string_field user_agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact_html_aaeae1324cdfad45634df796a27bb37ac"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#aaeae1324cdfad45634df796a27bb37ac">ast_sip_contact::path</a></div><div class="ttdeci">const ast_string_field path</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a08e0b4a94cab7d431f1717d53d619447"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a08e0b4a94cab7d431f1717d53d619447">ast_sip_contact::prune_on_boot</a></div><div class="ttdeci">int prune_on_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00317">res_pjsip.h:317</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a526207204e5f599fb9a618d9f8001ca2"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a526207204e5f599fb9a618d9f8001ca2">ast_sip_contact::via_addr</a></div><div class="ttdeci">const ast_string_field via_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="structast__sip__contact_html_afbb1dc2791b27417c95a4ff1693fa44b"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#afbb1dc2791b27417c95a4ff1693fa44b">ast_sip_contact::qualify_frequency</a></div><div class="ttdeci">unsigned int qualify_frequency</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00307">res_pjsip.h:307</a></div></div>
<div class="ttc" id="structast__sip__aor_html_a8b55fd039a8b14683eae2d3c0a1c86ae"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html#a8b55fd039a8b14683eae2d3c0a1c86ae">ast_sip_aor::outbound_proxy</a></div><div class="ttdeci">const ast_string_field outbound_proxy</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00367">res_pjsip.h:367</a></div></div>
<div class="ttc" id="structast__sip__contact_html_ad560d6e3eaa972115c360eeae000b25b"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#ad560d6e3eaa972115c360eeae000b25b">ast_sip_contact::reg_server</a></div><div class="ttdeci">const ast_string_field reg_server</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sip__contact_html_ad3a98d512391e68d8473ad51e3fd2401"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#ad3a98d512391e68d8473ad51e3fd2401">ast_sip_contact::via_port</a></div><div class="ttdeci">int via_port</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00315">res_pjsip.h:315</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="paths_8h_html_ab9f9346c7a41bdf3720f7b1ed02ec703"><div class="ttname"><a href="../../dd/df2/paths_8h.html#ab9f9346c7a41bdf3720f7b1ed02ec703">ast_config_AST_SYSTEM_NAME</a></div><div class="ttdeci">const char * ast_config_AST_SYSTEM_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00170">options.c:170</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a3960205b2a4e7e012dc9f0eae1855f01"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a3960205b2a4e7e012dc9f0eae1855f01">ast_sip_contact::endpoint</a></div><div class="ttdeci">struct ast_sip_endpoint * endpoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00313">res_pjsip.h:313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="structast__sip__aor_html_afbb1dc2791b27417c95a4ff1693fa44b"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html#afbb1dc2791b27417c95a4ff1693fa44b">ast_sip_aor::qualify_frequency</a></div><div class="ttdeci">unsigned int qualify_frequency</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00375">res_pjsip.h:375</a></div></div>
<div class="ttc" id="sorcery_8h_html_a575dfe8fd872c033d2b902549df502ea"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a575dfe8fd872c033d2b902549df502ea">ast_sorcery_create</a></div><div class="ttdeci">int ast_sorcery_create(const struct ast_sorcery *sorcery, void *object)</div><div class="ttdoc">Create and potentially persist an object using an available wizard. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02057">sorcery.c:2057</a></div></div>
<div class="ttc" id="structast__sip__contact_html_ab4cbf7f39957c6802d6421a2eb5b6350"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#ab4cbf7f39957c6802d6421a2eb5b6350">ast_sip_contact::endpoint_name</a></div><div class="ttdeci">const ast_string_field endpoint_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a3020ce9ec467a10058a0d149f43aceae"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a3020ce9ec467a10058a0d149f43aceae">ast_sip_contact::qualify_timeout</a></div><div class="ttdeci">double qualify_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00311">res_pjsip.h:311</a></div></div>
<div class="ttc" id="structast__sip__aor_html_a6e527f7843b00df547d2221a7d31ef60"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html#a6e527f7843b00df547d2221a7d31ef60">ast_sip_aor::support_path</a></div><div class="ttdeci">unsigned int support_path</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00385">res_pjsip.h:385</a></div></div>
<div class="ttc" id="sorcery_8h_html_aca877fd857a49db7740effaa55a01e52"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aca877fd857a49db7740effaa55a01e52">MAX_OBJECT_FIELD</a></div><div class="ttdeci">#define MAX_OBJECT_FIELD</div><div class="ttdoc">Maximum length of an object field name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00110">sorcery.h:110</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="sorcery_8h_html_acb6c97c18566cf94a7ac95a43dd9a816"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#acb6c97c18566cf94a7ac95a43dd9a816">ast_sorcery_alloc</a></div><div class="ttdeci">void * ast_sorcery_alloc(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Allocate an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01744">sorcery.c:1744</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a98ed99328ad621551cdfbee6b83754ae"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a98ed99328ad621551cdfbee6b83754ae">ast_sip_contact::expiration_time</a></div><div class="ttdeci">struct timeval expiration_time</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00305">res_pjsip.h:305</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="structast__sip__aor_html_aceb8cd1d19b9020476de70a5d9d38809"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html#aceb8cd1d19b9020476de70a5d9d38809">ast_sip_aor::authenticate_qualify</a></div><div class="ttdeci">int authenticate_qualify</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00377">res_pjsip.h:377</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
<div class="ttc" id="utils_8h_html_aee8200caadc6a4b5afe01ea37fd26cb3"><div class="ttname"><a href="../../d5/d60/utils_8h.html#aee8200caadc6a4b5afe01ea37fd26cb3">ast_md5_hash</a></div><div class="ttdeci">void ast_md5_hash(char *output, const char *input)</div><div class="ttdoc">Produces MD5 hash based on input string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00248">main/utils.c:248</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a19ac71226fac09e87afe31acb4c99214"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">ast_sip_contact::uri</a></div><div class="ttdeci">const ast_string_field uri</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af7205a9dc0a18ef1dc14785099846ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7205a9dc0a18ef1dc14785099846ca3">&#9670;&nbsp;</a></span>ast_sip_location_delete_contact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_location_delete_contact </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td>
          <td class="paramname"><em>contact</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a contact. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contact</td><td>Contact object to delete</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>failure </td></tr>
    <tr><td class="paramname">0</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00450">450</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02233">ast_sorcery_delete()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00153">contact_expire()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00072">destroy_contact()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00455">prune_boot_contacts_cb()</a>, and <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00403">registrar_contact_delete()</a>.</p>
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#aeb9bd9c0bcdaff27ac438a02d472c3b1">ast_sorcery_delete</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), contact);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_aeb9bd9c0bcdaff27ac438a02d472c3b1"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aeb9bd9c0bcdaff27ac438a02d472c3b1">ast_sorcery_delete</a></div><div class="ttdeci">int ast_sorcery_delete(const struct ast_sorcery *sorcery, void *object)</div><div class="ttdoc">Delete an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02233">sorcery.c:2233</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeee4658ff2a410126f97dc5bf6632dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee4658ff2a410126f97dc5bf6632dd7">&#9670;&nbsp;</a></span>ast_sip_location_prune_boot_contacts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_location_prune_boot_contacts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prune the prune_on_boot contacts. </p>
<dl class="section since"><dt>Since</dt><dd>13.18.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00469">469</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00123">AST_RETRIEVE_FLAG_ALL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00120">AST_RETRIEVE_FLAG_MULTIPLE</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01897">ast_sorcery_retrieve_by_fields()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00455">prune_boot_contacts_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>.</p>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *contacts;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   contacts = <a class="code" href="../../d8/d25/sorcery_8h.html#aaa9cd237841a70862001f580b23212c9">ast_sorcery_retrieve_by_fields</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;contact&quot;</span>,</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a> | <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd">AST_RETRIEVE_FLAG_ALL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   <span class="keywordflow">if</span> (contacts) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(contacts, 0, <a class="code" href="../../d0/dad/location_8c.html#a66d277acf6e1e949d86c6b6682bd681c">prune_boot_contacts_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(contacts, -1);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="location_8c_html_a66d277acf6e1e949d86c6b6682bd681c"><div class="ttname"><a href="../../d0/dad/location_8c.html#a66d277acf6e1e949d86c6b6682bd681c">prune_boot_contacts_cb</a></div><div class="ttdeci">static int prune_boot_contacts_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00455">location.c:455</a></div></div>
<div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd">AST_RETRIEVE_FLAG_ALL</a></div><div class="ttdoc">Perform no matching, return all objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00123">sorcery.h:123</a></div></div>
<div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a></div><div class="ttdoc">Return all matching objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00120">sorcery.h:120</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="sorcery_8h_html_aaa9cd237841a70862001f580b23212c9"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aaa9cd237841a70862001f580b23212c9">ast_sorcery_retrieve_by_fields</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_fields(const struct ast_sorcery *sorcery, const char *type, unsigned int flags, struct ast_variable *fields)</div><div class="ttdoc">Retrieve an object or multiple objects using specific fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01897">sorcery.c:1897</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a434c2d85dbd10a9453f6d409809330d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a434c2d85dbd10a9453f6d409809330d5">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_aor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a>* ast_sip_location_retrieve_aor </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aor_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a named AOR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor_name</td><td>Name of the AOR</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if not found </td></tr>
    <tr><td class="paramname">non-NULL</td><td>if found </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00147">147</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00684">ast_sip_for_each_aor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00272">ast_sip_location_retrieve_contact_and_aor_from_list_filtered()</a>, <a class="el" href="../../d9/d91/res__pjsip__path_8c_source.html#l00039">find_aor()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00450">find_aor_for_resource()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01007">find_registrar_aor()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00358">handle_slash()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00677">notify_endpoint()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00983">pjsip_acf_dial_contacts_read()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00330">register_contact_transport_remove_cb()</a>, and <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00490">send_unsolicited_mwi_notify()</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;aor&quot;</span>, aor_name);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a404837089a8a08b9f341f2ccea7128ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a404837089a8a08b9f341f2ccea7128ef">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_aor_contacts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_sip_location_retrieve_aor_contacts </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve all contacts currently available for an AOR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>Pointer to the AOR</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no contacts available </td></tr>
    <tr><td class="paramname">non-NULL</td><td>if contacts available</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Since this function prunes expired contacts before returning, it holds a named write lock on the aor. If you already hold the lock, call ast_sip_location_retrieve_aor_contacts_nolock instead. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00247">247</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l01006">AST_SIP_CONTACT_FILTER_DEFAULT</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00252">ast_sip_location_retrieve_aor_contacts_filtered()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00719">ast_sip_for_each_contact()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00828">format_ami_aor_handler()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00319">gather_contacts_for_aor()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00677">notify_endpoint()</a>, <a class="el" href="../../dd/d92/func__pjsip__aor_8c_source.html#l00070">pjsip_aor_function_read()</a>, and <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00490">send_unsolicited_mwi_notify()</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/dad/location_8c.html#a9988373a3803c99249efaa6fccf72444">ast_sip_location_retrieve_aor_contacts_filtered</a>(aor, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7">AST_SIP_CONTACT_FILTER_DEFAULT</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7">AST_SIP_CONTACT_FILTER_DEFAULT</a></div><div class="ttdoc">Default filter flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l01006">res_pjsip.h:1006</a></div></div>
<div class="ttc" id="location_8c_html_a9988373a3803c99249efaa6fccf72444"><div class="ttname"><a href="../../d0/dad/location_8c.html#a9988373a3803c99249efaa6fccf72444">ast_sip_location_retrieve_aor_contacts_filtered</a></div><div class="ttdeci">struct ao2_container * ast_sip_location_retrieve_aor_contacts_filtered(const struct ast_sip_aor *aor, unsigned int flags)</div><div class="ttdoc">Retrieve all contacts currently available for an AOR and filter based on flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00252">location.c:252</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9988373a3803c99249efaa6fccf72444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9988373a3803c99249efaa6fccf72444">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_aor_contacts_filtered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_sip_location_retrieve_aor_contacts_filtered </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve all contacts currently available for an AOR and filter based on flags. </p>
<dl class="section since"><dt>Since</dt><dd>13.16.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>Pointer to the AOR </td></tr>
    <tr><td class="paramname">flags</td><td>Filtering flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no contacts available </td></tr>
    <tr><td class="paramname">non-NULL</td><td>if contacts available</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Since this function prunes expired contacts before returning, it holds a named write lock on the aor. If you already hold the lock, call ast_sip_location_retrieve_aor_contacts_nolock instead. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00252">252</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00219">ast_sip_location_retrieve_aor_contacts_nolock_filtered()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00247">ast_sip_location_retrieve_aor_contacts()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00199">ast_sip_location_retrieve_first_aor_contact_filtered()</a>, and <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00983">pjsip_acf_dial_contacts_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *contacts;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <span class="comment">/* ao2_lock / ao2_unlock do not actually write aor since it has an ao2 lockobj. */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>((<span class="keywordtype">void</span>*)aor);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   contacts = <a class="code" href="../../d0/dad/location_8c.html#a9d7cbdd32ef68e07f2ab10dab9e8dd36">ast_sip_location_retrieve_aor_contacts_nolock_filtered</a>(aor, flags);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>((<span class="keywordtype">void</span>*)aor);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keywordflow">return</span> contacts;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="location_8c_html_a9d7cbdd32ef68e07f2ab10dab9e8dd36"><div class="ttname"><a href="../../d0/dad/location_8c.html#a9d7cbdd32ef68e07f2ab10dab9e8dd36">ast_sip_location_retrieve_aor_contacts_nolock_filtered</a></div><div class="ttdeci">struct ao2_container * ast_sip_location_retrieve_aor_contacts_nolock_filtered(const struct ast_sip_aor *aor, unsigned int flags)</div><div class="ttdoc">Retrieve all contacts currently available for an AOR without locking the AOR and filter based on flag...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00219">location.c:219</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f4e724ff69a0fdf9f6c471ac888e204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f4e724ff69a0fdf9f6c471ac888e204">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_aor_contacts_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_sip_location_retrieve_aor_contacts_nolock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve all contacts currently available for an AOR without locking the AOR. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>Pointer to the AOR</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no contacts available </td></tr>
    <tr><td class="paramname">non-NULL</td><td>if contacts available</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function should only be called if you already hold a named write lock on the aor. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00214">214</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l01006">AST_SIP_CONTACT_FILTER_DEFAULT</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00219">ast_sip_location_retrieve_aor_contacts_nolock_filtered()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00900">register_aor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/dad/location_8c.html#a9d7cbdd32ef68e07f2ab10dab9e8dd36">ast_sip_location_retrieve_aor_contacts_nolock_filtered</a>(aor, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7">AST_SIP_CONTACT_FILTER_DEFAULT</a>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7">AST_SIP_CONTACT_FILTER_DEFAULT</a></div><div class="ttdoc">Default filter flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l01006">res_pjsip.h:1006</a></div></div>
<div class="ttc" id="location_8c_html_a9d7cbdd32ef68e07f2ab10dab9e8dd36"><div class="ttname"><a href="../../d0/dad/location_8c.html#a9d7cbdd32ef68e07f2ab10dab9e8dd36">ast_sip_location_retrieve_aor_contacts_nolock_filtered</a></div><div class="ttdeci">struct ao2_container * ast_sip_location_retrieve_aor_contacts_nolock_filtered(const struct ast_sip_aor *aor, unsigned int flags)</div><div class="ttdoc">Retrieve all contacts currently available for an AOR without locking the AOR and filter based on flag...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00219">location.c:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d7cbdd32ef68e07f2ab10dab9e8dd36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d7cbdd32ef68e07f2ab10dab9e8dd36">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_aor_contacts_nolock_filtered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_sip_location_retrieve_aor_contacts_nolock_filtered </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve all contacts currently available for an AOR without locking the AOR and filter based on flags. </p>
<dl class="section since"><dt>Since</dt><dd>13.16.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>Pointer to the AOR </td></tr>
    <tr><td class="paramname">flags</td><td>Filtering flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no contacts available </td></tr>
    <tr><td class="paramname">non-NULL</td><td>if contacts available</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function should only be called if you already hold a named write lock on the aor. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00219">219</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l01009">AST_SIP_CONTACT_FILTER_REACHABLE</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01984">ast_sorcery_retrieve_by_prefix()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00153">contact_expire()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00168">contact_link_static()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00177">contact_remove_unreachable()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00383">ast_sip_aor::permanent_contacts</a>, and <a class="el" href="../../dd/d43/http_8c_source.html#l00141">prefix</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00252">ast_sip_location_retrieve_aor_contacts_filtered()</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00214">ast_sip_location_retrieve_aor_contacts_nolock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   <span class="comment">/* Give enough space for ;@ at the end, since that is our object naming scheme */</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordtype">size_t</span> prefix_len = strlen(<a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(aor)) + <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;;@&quot;</span>) - 1;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>[prefix_len + 1];</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *contacts;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   sprintf(prefix, <span class="stringliteral">&quot;%s;@&quot;</span>, <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(aor)); <span class="comment">/* Safe */</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">if</span> (!(contacts = <a class="code" href="../../d8/d25/sorcery_8h.html#a7214aea6ccfa9c7a6d08ee9a4fad9af9">ast_sorcery_retrieve_by_prefix</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;contact&quot;</span>, prefix, prefix_len))) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="comment">/* Prune any expired contacts and delete them, we do this first because static contacts can never expire */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(contacts, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>, <a class="code" href="../../d0/dad/location_8c.html#ab574957a057204fa36f48555b900798a">contact_expire</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="comment">/* Add any permanent contacts from the AOR */</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <span class="keywordflow">if</span> (aor-&gt;<a class="code" href="../../d4/d03/structast__sip__aor.html#a80213dc86b0894f7b48e94529194f209">permanent_contacts</a>) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(aor-&gt;<a class="code" href="../../d4/d03/structast__sip__aor.html#a80213dc86b0894f7b48e94529194f209">permanent_contacts</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d0/dad/location_8c.html#a622e2aac21965037ac2906719b9c228c">contact_link_static</a>, contacts);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea517c167e994d3131efdf30ef399c8e75">AST_SIP_CONTACT_FILTER_REACHABLE</a>) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(contacts, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>, <a class="code" href="../../d0/dad/location_8c.html#ab3e0bf9c7d8ce8d60d4eeb49c559f6a8">contact_remove_unreachable</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="keywordflow">return</span> contacts;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div><div class="ttc" id="location_8c_html_ab3e0bf9c7d8ce8d60d4eeb49c559f6a8"><div class="ttname"><a href="../../d0/dad/location_8c.html#ab3e0bf9c7d8ce8d60d4eeb49c559f6a8">contact_remove_unreachable</a></div><div class="ttdeci">static int contact_remove_unreachable(void *obj, void *arg, int flags)</div><div class="ttdoc">Internal callback function which removes any contact which is unreachable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00177">location.c:177</a></div></div>
<div class="ttc" id="location_8c_html_ab574957a057204fa36f48555b900798a"><div class="ttname"><a href="../../d0/dad/location_8c.html#ab574957a057204fa36f48555b900798a">contact_expire</a></div><div class="ttdeci">static int contact_expire(void *obj, void *arg, int flags)</div><div class="ttdoc">Internal callback function which deletes and unlinks any expired contacts. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00153">location.c:153</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="location_8c_html_a622e2aac21965037ac2906719b9c228c"><div class="ttname"><a href="../../d0/dad/location_8c.html#a622e2aac21965037ac2906719b9c228c">contact_link_static</a></div><div class="ttdeci">static int contact_link_static(void *obj, void *arg, int flags)</div><div class="ttdoc">Internal callback function which links static contacts into another container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00168">location.c:168</a></div></div>
<div class="ttc" id="sorcery_8h_html_a7214aea6ccfa9c7a6d08ee9a4fad9af9"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a7214aea6ccfa9c7a6d08ee9a4fad9af9">ast_sorcery_retrieve_by_prefix</a></div><div class="ttdeci">struct ao2_container * ast_sorcery_retrieve_by_prefix(const struct ast_sorcery *sorcery, const char *type, const char *prefix, const size_t prefix_len)</div><div class="ttdoc">Retrieve multiple objects whose id begins with the specified prefix. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01984">sorcery.c:1984</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="structast__sip__aor_html_a80213dc86b0894f7b48e94529194f209"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html#a80213dc86b0894f7b48e94529194f209">ast_sip_aor::permanent_contacts</a></div><div class="ttdeci">struct ao2_container * permanent_contacts</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00383">res_pjsip.h:383</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a8eecba6db028d0775d3208ed8b74926ea517c167e994d3131efdf30ef399c8e75"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea517c167e994d3131efdf30ef399c8e75">AST_SIP_CONTACT_FILTER_REACHABLE</a></div><div class="ttdoc">Return only reachable or unknown contacts. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l01009">res_pjsip.h:1009</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a465c83962f7f1d9d1ee84fca764505a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a465c83962f7f1d9d1ee84fca764505a4">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_contact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a>* ast_sip_location_retrieve_contact </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>contact_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a named contact. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contact_name</td><td>Name of the contact</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if not found </td></tr>
    <tr><td class="paramname">non-NULL</td><td>if found </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00350">350</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00330">register_contact_transport_remove_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;contact&quot;</span>, contact_name);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1eda9fba6e163f02ac78e4a974525957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eda9fba6e163f02ac78e4a974525957">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_contact_and_aor_from_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_location_retrieve_contact_and_aor_from_list </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aor_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> **&#160;</td>
          <td class="paramname"><em>aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> **&#160;</td>
          <td class="paramname"><em>contact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the first bound contact AND the AOR chosen from a list of AORs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor_list</td><td>A comma-separated list of AOR names </td></tr>
    <tr><td class="paramname">aor</td><td>The chosen AOR </td></tr>
    <tr><td class="paramname">contact</td><td>The chosen contact </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00266">266</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l01006">AST_SIP_CONTACT_FILTER_DEFAULT</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00272">ast_sip_location_retrieve_contact_and_aor_from_list_filtered()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00304">ast_sip_location_retrieve_contact_from_aor_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <a class="code" href="../../d0/dad/location_8c.html#ac3d09ffbeec1bf7617e6d26084517d70">ast_sip_location_retrieve_contact_and_aor_from_list_filtered</a>(aor_list, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7">AST_SIP_CONTACT_FILTER_DEFAULT</a>, aor, contact);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7">AST_SIP_CONTACT_FILTER_DEFAULT</a></div><div class="ttdoc">Default filter flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l01006">res_pjsip.h:1006</a></div></div>
<div class="ttc" id="location_8c_html_ac3d09ffbeec1bf7617e6d26084517d70"><div class="ttname"><a href="../../d0/dad/location_8c.html#ac3d09ffbeec1bf7617e6d26084517d70">ast_sip_location_retrieve_contact_and_aor_from_list_filtered</a></div><div class="ttdeci">void ast_sip_location_retrieve_contact_and_aor_from_list_filtered(const char *aor_list, unsigned int flags, struct ast_sip_aor **aor, struct ast_sip_contact **contact)</div><div class="ttdoc">Retrieve the first bound contact AND the AOR chosen from a list of AORs and filter based on flags...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00272">location.c:272</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3d09ffbeec1bf7617e6d26084517d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d09ffbeec1bf7617e6d26084517d70">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_contact_and_aor_from_list_filtered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_location_retrieve_contact_and_aor_from_list_filtered </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aor_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> **&#160;</td>
          <td class="paramname"><em>aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> **&#160;</td>
          <td class="paramname"><em>contact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the first bound contact AND the AOR chosen from a list of AORs and filter based on flags. </p>
<dl class="section since"><dt>Since</dt><dd>13.16.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor_list</td><td>A comma-separated list of AOR names </td></tr>
    <tr><td class="paramname">flags</td><td>Filtering flags </td></tr>
    <tr><td class="paramname">aor</td><td>The chosen AOR </td></tr>
    <tr><td class="paramname">contact</td><td>The chosen contact </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00272">272</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00147">ast_sip_location_retrieve_aor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00199">ast_sip_location_retrieve_first_aor_contact_filtered()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00219">ast_strip()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00266">ast_sip_location_retrieve_contact_and_aor_from_list()</a>, and <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03317">ast_sip_session_create_outgoing()</a>.</p>
<div class="fragment"><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;{</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <span class="keywordtype">char</span> *aor_name;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="keywordtype">char</span> *rest;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="comment">/* If the location is still empty we have nowhere to go */</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(aor_list) || !(rest = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(aor_list))) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to determine contacts from empty aor list\n&quot;</span>);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   *aor = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   *contact = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   <span class="keywordflow">while</span> ((aor_name = <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(<a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;rest, <span class="stringliteral">&quot;,&quot;</span>)))) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      *aor = <a class="code" href="../../d0/dad/location_8c.html#a434c2d85dbd10a9453f6d409809330d5">ast_sip_location_retrieve_aor</a>(aor_name);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">if</span> (!(*aor)) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      *contact = <a class="code" href="../../d0/dad/location_8c.html#ae6179bd8c08b5c726a9e40553223a486">ast_sip_location_retrieve_first_aor_contact_filtered</a>(*aor, flags);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="comment">/* If a valid contact is available use its URI for dialing */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">if</span> (*contact) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(*aor, -1);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      *aor = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="location_8c_html_a434c2d85dbd10a9453f6d409809330d5"><div class="ttname"><a href="../../d0/dad/location_8c.html#a434c2d85dbd10a9453f6d409809330d5">ast_sip_location_retrieve_aor</a></div><div class="ttdeci">struct ast_sip_aor * ast_sip_location_retrieve_aor(const char *aor_name)</div><div class="ttdoc">Retrieve a named AOR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00147">location.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="location_8c_html_ae6179bd8c08b5c726a9e40553223a486"><div class="ttname"><a href="../../d0/dad/location_8c.html#ae6179bd8c08b5c726a9e40553223a486">ast_sip_location_retrieve_first_aor_contact_filtered</a></div><div class="ttdeci">struct ast_sip_contact * ast_sip_location_retrieve_first_aor_contact_filtered(const struct ast_sip_aor *aor, unsigned int flags)</div><div class="ttdoc">Retrieve the first bound contact for an AOR and filter based on flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00199">location.c:199</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00fd98f03df089bd6aa358f941ae0dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00fd98f03df089bd6aa358f941ae0dcd">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_contact_from_aor_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a>* ast_sip_location_retrieve_contact_from_aor_list </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aor_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the first bound contact from a list of AORs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor_list</td><td>A comma-separated list of AOR names </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no contacts available </td></tr>
    <tr><td class="paramname">non-NULL</td><td>if contacts available </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00304">304</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00266">ast_sip_location_retrieve_contact_and_aor_from_list()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00902">cli_contact_populate_container()</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00495">permanent_uri_sort_fn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01868">ast_sip_create_subscription()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04380">create_out_of_dialog_request()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00505">handle_atsign()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00288">handle_single_token()</a>, <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00213">insert_user_in_contact_uri()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01414">mwi_contact_deleted()</a>, and <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02096">transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *aor;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="code" href="../../d9/d03/structcontact.html">contact</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <a class="code" href="../../d0/dad/location_8c.html#a1eda9fba6e163f02ac78e4a974525957">ast_sip_location_retrieve_contact_and_aor_from_list</a>(aor_list, &amp;aor, &amp;contact);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(aor);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keywordflow">return</span> contact;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div><div class="ttc" id="structast__sip__aor_html"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a></div><div class="ttdoc">A SIP address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00361">res_pjsip.h:361</a></div></div>
<div class="ttc" id="location_8c_html_a1eda9fba6e163f02ac78e4a974525957"><div class="ttname"><a href="../../d0/dad/location_8c.html#a1eda9fba6e163f02ac78e4a974525957">ast_sip_location_retrieve_contact_and_aor_from_list</a></div><div class="ttdeci">void ast_sip_location_retrieve_contact_and_aor_from_list(const char *aor_list, struct ast_sip_aor **aor, struct ast_sip_contact **contact)</div><div class="ttdoc">Retrieve the first bound contact AND the AOR chosen from a list of AORs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00266">location.c:266</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac194f975420b02896748df8668494921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac194f975420b02896748df8668494921">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_contacts_from_aor_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_sip_location_retrieve_contacts_from_aor_list </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aor_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve all contacts from a list of AORs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor_list</td><td>A comma-separated list of AOR names </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no contacts available </td></tr>
    <tr><td class="paramname">non-NULL</td><td>container (which must be freed) if contacts available </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00335">335</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01192">AO2_CONTAINER_ALLOC_OPT_DUPS_REJECT</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00684">ast_sip_for_each_aor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00319">gather_contacts_for_aor()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00495">permanent_uri_sort_fn()</a>.</p>
<div class="fragment"><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *contacts;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   contacts = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>,</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadaba53a115685d6a8944dd2c6a8d7bfb">AO2_CONTAINER_ALLOC_OPT_DUPS_REJECT</a>, <a class="code" href="../../d0/dad/location_8c.html#a90ac75279010ab5742beae1f9cfb3d8a">permanent_uri_sort_fn</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">if</span> (!contacts) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <a class="code" href="../../d0/dad/location_8c.html#a4a6f16128f131ec8feae5dc0f8545b2f">ast_sip_for_each_aor</a>(aor_list, <a class="code" href="../../d0/dad/location_8c.html#aac23ee3804adc764d703e156d248c171">gather_contacts_for_aor</a>, contacts);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="keywordflow">return</span> contacts;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="location_8c_html_a4a6f16128f131ec8feae5dc0f8545b2f"><div class="ttname"><a href="../../d0/dad/location_8c.html#a4a6f16128f131ec8feae5dc0f8545b2f">ast_sip_for_each_aor</a></div><div class="ttdeci">int ast_sip_for_each_aor(const char *aors, ao2_callback_fn on_aor, void *arg)</div><div class="ttdoc">For every aor in the comma separated aors string call the given &amp;#39;on_aor&amp;#39; handler. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00684">location.c:684</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="location_8c_html_aac23ee3804adc764d703e156d248c171"><div class="ttname"><a href="../../d0/dad/location_8c.html#aac23ee3804adc764d703e156d248c171">gather_contacts_for_aor</a></div><div class="ttdeci">static int gather_contacts_for_aor(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00319">location.c:319</a></div></div>
<div class="ttc" id="location_8c_html_a90ac75279010ab5742beae1f9cfb3d8a"><div class="ttname"><a href="../../d0/dad/location_8c.html#a90ac75279010ab5742beae1f9cfb3d8a">permanent_uri_sort_fn</a></div><div class="ttdeci">static int permanent_uri_sort_fn(const void *obj_left, const void *obj_right, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00495">location.c:495</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520acadaba53a115685d6a8944dd2c6a8d7bfb"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520acadaba53a115685d6a8944dd2c6a8d7bfb">AO2_CONTAINER_ALLOC_OPT_DUPS_REJECT</a></div><div class="ttdoc">Reject objects with duplicate keys in container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01192">astobj2.h:1192</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf39fcf3388190cf49dbc5670c7aca20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf39fcf3388190cf49dbc5670c7aca20">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_first_aor_contact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a>* ast_sip_location_retrieve_first_aor_contact </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the first bound contact for an AOR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>Pointer to the AOR </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no contacts available </td></tr>
    <tr><td class="paramname">non-NULL</td><td>if contacts available </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00194">194</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l01006">AST_SIP_CONTACT_FILTER_DEFAULT</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00199">ast_sip_location_retrieve_first_aor_contact_filtered()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l00358">handle_slash()</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/dad/location_8c.html#ae6179bd8c08b5c726a9e40553223a486">ast_sip_location_retrieve_first_aor_contact_filtered</a>(aor, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7">AST_SIP_CONTACT_FILTER_DEFAULT</a>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea7685065b08bfdd8e9ad9ebc478fc46a7">AST_SIP_CONTACT_FILTER_DEFAULT</a></div><div class="ttdoc">Default filter flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l01006">res_pjsip.h:1006</a></div></div>
<div class="ttc" id="location_8c_html_ae6179bd8c08b5c726a9e40553223a486"><div class="ttname"><a href="../../d0/dad/location_8c.html#ae6179bd8c08b5c726a9e40553223a486">ast_sip_location_retrieve_first_aor_contact_filtered</a></div><div class="ttdeci">struct ast_sip_contact * ast_sip_location_retrieve_first_aor_contact_filtered(const struct ast_sip_aor *aor, unsigned int flags)</div><div class="ttdoc">Retrieve the first bound contact for an AOR and filter based on flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00199">location.c:199</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6179bd8c08b5c726a9e40553223a486"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6179bd8c08b5c726a9e40553223a486">&#9670;&nbsp;</a></span>ast_sip_location_retrieve_first_aor_contact_filtered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a>* ast_sip_location_retrieve_first_aor_contact_filtered </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *&#160;</td>
          <td class="paramname"><em>aor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the first bound contact for an AOR and filter based on flags. </p>
<dl class="section since"><dt>Since</dt><dd>13.16.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aor</td><td>Pointer to the AOR </td></tr>
    <tr><td class="paramname">flags</td><td>Filtering flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no contacts available </td></tr>
    <tr><td class="paramname">non-NULL</td><td>if contacts available </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00199">199</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00252">ast_sip_location_retrieve_aor_contacts_filtered()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dad/location_8c_source.html#l00272">ast_sip_location_retrieve_contact_and_aor_from_list_filtered()</a>, and <a class="el" href="../../d0/dad/location_8c_source.html#l00194">ast_sip_location_retrieve_first_aor_contact()</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *contacts;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="code" href="../../d9/d03/structcontact.html">contact</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   contacts = <a class="code" href="../../d0/dad/location_8c.html#a9988373a3803c99249efaa6fccf72444">ast_sip_location_retrieve_aor_contacts_filtered</a>(aor, flags);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <span class="keywordflow">if</span> (contacts &amp;&amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(contacts)) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="comment">/* Get the first AOR contact in the container. */</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      contact = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(contacts, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(contacts);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <span class="keywordflow">return</span> contact;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="location_8c_html_a9988373a3803c99249efaa6fccf72444"><div class="ttname"><a href="../../d0/dad/location_8c.html#a9988373a3803c99249efaa6fccf72444">ast_sip_location_retrieve_aor_contacts_filtered</a></div><div class="ttdeci">struct ao2_container * ast_sip_location_retrieve_aor_contacts_filtered(const struct ast_sip_aor *aor, unsigned int flags)</div><div class="ttdoc">Retrieve all contacts currently available for an AOR and filter based on flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00252">location.c:252</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add251e9c14eb0f9791e60dc5c2a9e9b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add251e9c14eb0f9791e60dc5c2a9e9b4">&#9670;&nbsp;</a></span>ast_sip_location_update_contact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_location_update_contact </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *&#160;</td>
          <td class="paramname"><em>contact</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a contact. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contact</td><td>New contact object with details</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>failure </td></tr>
    <tr><td class="paramname">0</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/dad/location_8c_source.html#l00445">445</a> of file <a class="el" href="../../d0/dad/location_8c_source.html">location.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, and <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02145">ast_sorcery_update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>.</p>
<div class="fragment"><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d25/sorcery_8h.html#ab9184a8cdeb14537309e5e020948ecd3">ast_sorcery_update</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), contact);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="sorcery_8h_html_ab9184a8cdeb14537309e5e020948ecd3"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ab9184a8cdeb14537309e5e020948ecd3">ast_sorcery_update</a></div><div class="ttdeci">int ast_sorcery_update(const struct ast_sorcery *sorcery, void *object)</div><div class="ttdoc">Update an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02145">sorcery.c:2145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a594764e7c50b75d6e15709572e06a318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a594764e7c50b75d6e15709572e06a318">&#9670;&nbsp;</a></span>ast_sip_message_apply_transport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_message_apply_transport </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>transport_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply the configuration for a transport to an outgoing message. </p>
<dl class="section since"><dt>Since</dt><dd>17.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport_name</td><td>The name of the transport to apply configuration from </td></tr>
    <tr><td class="paramname">tdata</td><td>The SIP message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00301">301</a> of file <a class="el" href="../../d3/d17/config__transport_8c_source.html">config_transport.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05063">ast_sip_add_header()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01564">ast_sip_get_transport_state()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00149">ast_sip_transport_state::flow</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00154">ast_sip_transport_state::preferred_identity</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00159">ast_sip_transport_state::service_routes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04993">ast_sip_send_out_of_dialog_request()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l04481">handle_outgoing_request()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l04498">handle_outgoing_response()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05385">supplement_outgoing_response()</a>.</p>
<div class="fragment"><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a> *transport_state;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(transport_name)) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="comment">/* We only currently care about requests that are of the INVITE, CANCEL, or OPTIONS</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">    * type but in the future we could support other messages.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <span class="keywordflow">if</span> (tdata-&gt;msg-&gt;type != PJSIP_REQUEST_MSG ||</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      (pjsip_method_cmp(&amp;tdata-&gt;msg-&gt;line.req.method, &amp;pjsip_invite_method) &amp;&amp;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      pjsip_method_cmp(&amp;tdata-&gt;msg-&gt;line.req.method, &amp;pjsip_cancel_method) &amp;&amp;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      pjsip_method_cmp(&amp;tdata-&gt;msg-&gt;line.req.method, &amp;pjsip_options_method))) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   transport_state = <a class="code" href="../../d3/d17/config__transport_8c.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a>(transport_name);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="keywordflow">if</span> (!transport_state) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordflow">if</span> (!transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">flow</a>) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transport_state, -1);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(transport_state);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <span class="comment">/* If a Preferred Identity has been set then add it to the request */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="keywordflow">if</span> (transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a5fa0f86bf70f29621e0642bdaf7a180b">preferred_identity</a>) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a>(tdata, <span class="stringliteral">&quot;P-Preferred-Identity&quot;</span>, transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a5fa0f86bf70f29621e0642bdaf7a180b">preferred_identity</a>);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="comment">/* If Service Routes have been set then add them to the request */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <span class="keywordflow">if</span> (transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">service_routes</a>) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">service_routes</a>); ++idx) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;         <span class="keywordtype">char</span> *service_route = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">service_routes</a>, idx);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;         <a class="code" href="../../d8/d8c/res__pjsip_8h.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a>(tdata, <span class="stringliteral">&quot;Route&quot;</span>, service_route);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(transport_state);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transport_state, -1);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div><div class="ttc" id="structast__sip__transport__state_html_a3a44e2579abfd2c9e9cd570a78b01282"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">ast_sip_transport_state::flow</a></div><div class="ttdeci">int flow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00149">res_pjsip.h:149</a></div></div>
<div class="ttc" id="config__transport_8c_html_ab6000ab7fe69594070bb59b995ccb5ee"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a></div><div class="ttdeci">struct ast_sip_transport_state * ast_sip_get_transport_state(const char *transport_id)</div><div class="ttdoc">Retrieve transport state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l01564">config_transport.c:1564</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_acef4d0aef5bdc92f0b6b188e48f2e90f"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#acef4d0aef5bdc92f0b6b188e48f2e90f">ast_sip_add_header</a></div><div class="ttdeci">int ast_sip_add_header(pjsip_tx_data *tdata, const char *name, const char *value)</div><div class="ttdoc">Add a header to an outbound SIP message. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05063">res_pjsip.c:5063</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a5fa0f86bf70f29621e0642bdaf7a180b"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a5fa0f86bf70f29621e0642bdaf7a180b">ast_sip_transport_state::preferred_identity</a></div><div class="ttdeci">char * preferred_identity</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00154">res_pjsip.h:154</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a></div><div class="ttdoc">Structure for SIP transport information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00087">res_pjsip.h:87</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a4a2ad801f391c0f1c94ae87268439c46"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">ast_sip_transport_state::service_routes</a></div><div class="ttdeci">struct ast_sip_service_route_vector * service_routes</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00159">res_pjsip.h:159</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afe1cbe99a485f1e003ecc829b5885eeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe1cbe99a485f1e003ecc829b5885eeb">&#9670;&nbsp;</a></span>ast_sip_modify_id_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_modify_id_header </td>
          <td>(</td>
          <td class="paramtype">pj_pool_t *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_fromto_hdr *&#160;</td>
          <td class="paramname"><em>id_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d1/dcb/structast__party__id.html">ast_party_id</a> *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set name and number information on an identity header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Memory pool to use for string duplication </td></tr>
    <tr><td class="paramname">id_hdr</td><td>A From, P-Asserted-Identity, or Remote-Party-ID header to modify </td></tr>
    <tr><td class="paramname">id</td><td>The identity information to apply to the header </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05587">5587</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00290">ast_alloca</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00635">ast_escape_quoted()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00341">ast_party_id::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00343">ast_party_id::number</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00265">ast_party_name::str</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00292">ast_party_number::str</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00280">ast_party_name::valid</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l00298">ast_party_number::valid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d2a/res__pjsip__caller__id_8c_source.html#l00563">add_pai_header()</a>, <a class="el" href="../../dc/d2a/res__pjsip__caller__id_8c_source.html#l00699">add_rpid_header()</a>, and <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l01637">set_from_header()</a>.</p>
<div class="fragment"><div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;{</div><div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;   pjsip_name_addr *id_name_addr;</div><div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;   pjsip_sip_uri *id_uri;</div><div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;</div><div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;   id_name_addr = (pjsip_name_addr *) id_hdr-&gt;uri;</div><div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;   id_uri = pjsip_uri_get_uri(id_name_addr-&gt;uri);</div><div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;</div><div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;   <span class="keywordflow">if</span> (id-&gt;<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>) {</div><div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(id-&gt;<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>)) {</div><div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;         <span class="keywordtype">int</span> name_buf_len = strlen(id-&gt;<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>) * 2 + 1;</div><div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;         <span class="keywordtype">char</span> *name_buf = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(name_buf_len);</div><div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;</div><div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a4b31ed81ab98c5aa5fc1d298874abf54">ast_escape_quoted</a>(id-&gt;<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, name_buf, name_buf_len);</div><div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;         pj_strdup2(<a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, &amp;id_name_addr-&gt;display, name_buf);</div><div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;         pj_strdup2(<a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, &amp;id_name_addr-&gt;display, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;      }</div><div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;   }</div><div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;</div><div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;   <span class="keywordflow">if</span> (id-&gt;<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>) {</div><div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;      pj_strdup2(<a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, &amp;id_uri-&gt;user, id-&gt;<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>);</div><div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;   }</div><div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;}</div><div class="ttc" id="structast__party__number_html_ab50d783982593ef993ea0b68f7ad8b80"><div class="ttname"><a href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">ast_party_number::str</a></div><div class="ttdeci">char * str</div><div class="ttdoc">Subscriber phone number (Malloced) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00292">channel.h:292</a></div></div>
<div class="ttc" id="structast__party__id_html_aab4036618469f3fa9ab26a22726ba2db"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">ast_party_id::name</a></div><div class="ttdeci">struct ast_party_name name</div><div class="ttdoc">Subscriber name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00341">channel.h:341</a></div></div>
<div class="ttc" id="res__rtp__asterisk_8c_html_a2e57658a5d3ef6c4ef2774c9d5868e7c"><div class="ttname"><a href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a></div><div class="ttdeci">static pj_pool_t * pool</div><div class="ttdoc">Global memory pool for configuration and timers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00236">res_rtp_asterisk.c:236</a></div></div>
<div class="ttc" id="structast__party__name_html_ab50d783982593ef993ea0b68f7ad8b80"><div class="ttname"><a href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">ast_party_name::str</a></div><div class="ttdeci">char * str</div><div class="ttdoc">Subscriber name (Malloced) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00265">channel.h:265</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="utils_8h_html_a4b31ed81ab98c5aa5fc1d298874abf54"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a4b31ed81ab98c5aa5fc1d298874abf54">ast_escape_quoted</a></div><div class="ttdeci">char * ast_escape_quoted(const char *string, char *outbuf, int buflen)</div><div class="ttdoc">Escape characters found in a quoted string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00635">main/utils.c:635</a></div></div>
<div class="ttc" id="structast__party__name_html_aaa04218f9e3a9065afa8be2491da8904"><div class="ttname"><a href="../../d8/d6f/structast__party__name.html#aaa04218f9e3a9065afa8be2491da8904">ast_party_name::valid</a></div><div class="ttdeci">unsigned char valid</div><div class="ttdoc">TRUE if the name information is valid/present. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00280">channel.h:280</a></div></div>
<div class="ttc" id="structast__party__number_html_aaa04218f9e3a9065afa8be2491da8904"><div class="ttname"><a href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">ast_party_number::valid</a></div><div class="ttdeci">unsigned char valid</div><div class="ttdoc">TRUE if the number information is valid/present. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00298">channel.h:298</a></div></div>
<div class="ttc" id="structast__party__id_html_aca2d7de6c89f201dc8bd0a2642d2a352"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">ast_party_id::number</a></div><div class="ttdeci">struct ast_party_number number</div><div class="ttdoc">Subscriber phone number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00343">channel.h:343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a123be41b7fec5b6c9d896463855f6266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a123be41b7fec5b6c9d896463855f6266">&#9670;&nbsp;</a></span>ast_sip_persistent_endpoint_publish_contact_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_persistent_endpoint_publish_contact_state </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>endpoint_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d5/d17/structast__sip__contact__status.html">ast_sip_contact_status</a> *&#160;</td>
          <td class="paramname"><em>contact_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish the change of state for a contact. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint_name</td><td>The SIP endpoint name. </td></tr>
    <tr><td class="paramname">contact_status</td><td>The contact status. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01386">1386</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00347">ast_sip_contact_status::aor</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00325">ast_endpoint_blob_publish()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00383">ast_endpoint_get_resource()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00336">ast_sip_get_contact_status_label()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00046">sip_persistent_endpoint::endpoint</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00347">ast_sip_contact_status::rtt</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00351">ast_sip_contact_status::status</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00347">ast_sip_contact_status::uri</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00416">sip_options_publish_contact_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;{</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html">sip_persistent_endpoint</a> *persistent;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *blob;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;   <span class="keywordtype">char</span> rtt[32];</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;   persistent = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../dc/df6/pjsip__configuration_8c.html#ae4f9e2a60c7aebce6c9f18ceefa1eb6b">persistent_endpoints</a>, endpoint_name, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;   <span class="keywordflow">if</span> (!persistent) {</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;   }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;   snprintf(rtt, <span class="keyword">sizeof</span>(rtt), <span class="stringliteral">&quot;%&quot;</span> PRId64, contact_status-&gt;<a class="code" href="../../d5/d17/structast__sip__contact__status.html#adde3e75a4d9d8f8e72782a767e0858b7">rtt</a>);</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s, s: s, s: s, s: s}&quot;</span>,</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <span class="stringliteral">&quot;contact_status&quot;</span>, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a972a08491892c70d60830d3e78d4d429">ast_sip_get_contact_status_label</a>(contact_status-&gt;<a class="code" href="../../d5/d17/structast__sip__contact__status.html#a3def763479a6f4255ff4071c86be1646">status</a>),</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="stringliteral">&quot;aor&quot;</span>, contact_status-&gt;<a class="code" href="../../d5/d17/structast__sip__contact__status.html#a7d6a7c1f176fb54d59dd27ea307f44e6">aor</a>,</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      <span class="stringliteral">&quot;uri&quot;</span>, contact_status-&gt;<a class="code" href="../../d5/d17/structast__sip__contact__status.html#a19ac71226fac09e87afe31acb4c99214">uri</a>,</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="stringliteral">&quot;roundtrip_usec&quot;</span>, rtt,</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="stringliteral">&quot;endpoint_name&quot;</span>, <a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>));</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   <span class="keywordflow">if</span> (blob) {</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a>(), blob);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(blob);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;   }</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(persistent, -1);</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;}</div><div class="ttc" id="structsip__persistent__endpoint_html_aad78dcd53e5bd3e0d6a9098a462e98f6"><div class="ttname"><a href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">sip_persistent_endpoint::endpoint</a></div><div class="ttdeci">struct ast_endpoint * endpoint</div><div class="ttdoc">Asterisk endpoint itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00046">pjsip_configuration.c:46</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="structsip__persistent__endpoint_html"><div class="ttname"><a href="../../d4/d7d/structsip__persistent__endpoint.html">sip_persistent_endpoint</a></div><div class="ttdoc">Persistent endpoint information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00044">pjsip_configuration.c:44</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a972a08491892c70d60830d3e78d4d429"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a972a08491892c70d60830d3e78d4d429">ast_sip_get_contact_status_label</a></div><div class="ttdeci">const char * ast_sip_get_contact_status_label(const enum ast_sip_contact_status_type status)</div><div class="ttdoc">translate ast_sip_contact_status_type to character string. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/pjsip__options_8c_source.html#l00336">pjsip_options.c:336</a></div></div>
<div class="ttc" id="structast__sip__contact__status_html_a19ac71226fac09e87afe31acb4c99214"><div class="ttname"><a href="../../d5/d17/structast__sip__contact__status.html#a19ac71226fac09e87afe31acb4c99214">ast_sip_contact_status::uri</a></div><div class="ttdeci">const ast_string_field uri</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00347">res_pjsip.h:347</a></div></div>
<div class="ttc" id="endpoints_8h_html_afa1641cd83857e47418009992cb2de6f"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a></div><div class="ttdeci">const char * ast_endpoint_get_resource(const struct ast_endpoint *endpoint)</div><div class="ttdoc">Gets the resource name of the given endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00383">main/endpoints.c:383</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_ae4f9e2a60c7aebce6c9f18ceefa1eb6b"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#ae4f9e2a60c7aebce6c9f18ceefa1eb6b">persistent_endpoints</a></div><div class="ttdeci">static struct ao2_container * persistent_endpoints</div><div class="ttdoc">Container for persistent endpoint information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00050">pjsip_configuration.c:50</a></div></div>
<div class="ttc" id="structast__sip__contact__status_html_a3def763479a6f4255ff4071c86be1646"><div class="ttname"><a href="../../d5/d17/structast__sip__contact__status.html#a3def763479a6f4255ff4071c86be1646">ast_sip_contact_status::status</a></div><div class="ttdeci">enum ast_sip_contact_status_type status</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00351">res_pjsip.h:351</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga18159008df1e2c2f4d86060386c8b47c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a></div><div class="ttdeci">void ast_endpoint_blob_publish(struct ast_endpoint *endpoint, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Creates and publishes a ast_endpoint_blob message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00325">stasis_endpoints.c:325</a></div></div>
<div class="ttc" id="structast__sip__contact__status_html_adde3e75a4d9d8f8e72782a767e0858b7"><div class="ttname"><a href="../../d5/d17/structast__sip__contact__status.html#adde3e75a4d9d8f8e72782a767e0858b7">ast_sip_contact_status::rtt</a></div><div class="ttdeci">int64_t rtt</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00347">res_pjsip.h:347</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga4d2d85d612142c53bd09d580857206a8"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_contact_state_type(void)</div><div class="ttdoc">Message type for endpoint contact state changes. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="structast__sip__contact__status_html_a7d6a7c1f176fb54d59dd27ea307f44e6"><div class="ttname"><a href="../../d5/d17/structast__sip__contact__status.html#a7d6a7c1f176fb54d59dd27ea307f44e6">ast_sip_contact_status::aor</a></div><div class="ttdeci">const ast_string_field aor</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00347">res_pjsip.h:347</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9212ca6a529f085934286a1f8a941056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9212ca6a529f085934286a1f8a941056">&#9670;&nbsp;</a></span>ast_sip_persistent_endpoint_update_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_persistent_endpoint_update_state </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>endpoint_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448e">ast_endpoint_state</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change state of a persistent endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint_name</td><td>The SIP endpoint name to change state. </td></tr>
    <tr><td class="paramname">state</td><td>The new state </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Endpoint not found </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01329">1329</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06970">ast_add_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04952">ast_context_remove_extension()</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00053">AST_DEVICE_UNKNOWN</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00070">AST_DEVSTATE_CACHABLE</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00510">ast_devstate_changed()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00325">ast_endpoint_blob_publish()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00383">ast_endpoint_get_resource()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00399">ast_endpoint_get_state()</a>, <a class="el" href="../../d4/d61/endpoints_8h_source.html#l00055">AST_ENDPOINT_OFFLINE</a>, <a class="el" href="../../d4/d61/endpoints_8h_source.html#l00057">AST_ENDPOINT_ONLINE</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00407">ast_endpoint_set_state()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04179">ast_exists_extension()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00247">ast_sip_get_regcontext()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00218">E_MATCH</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00046">sip_persistent_endpoint::endpoint</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00152">pbx_find_extension()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00321">regcontext</a>, and <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00238">pbx_find_info::stacklen</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01584">sip_options_synchronize_endpoint()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l01724">sip_options_unused_endpoint_state_compositor()</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00581">sip_options_update_endpoint_state_compositor_aor()</a>.</p>
<div class="fragment"><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;{</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html">sip_persistent_endpoint</a> *persistent;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *blob;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/dff/chan__iax2_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;   persistent = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../dc/df6/pjsip__configuration_8c.html#ae4f9e2a60c7aebce6c9f18ceefa1eb6b">persistent_endpoints</a>, endpoint_name, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;   <span class="keywordflow">if</span> (!persistent) {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;   }</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   <span class="comment">/* If there was no state change, don&#39;t publish anything. */</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d61/endpoints_8h.html#a98e4966acb2ca2792aaae9a14c935b90">ast_endpoint_get_state</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>) == <a class="code" href="../../d4/d88/structstate.html">state</a>) {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(persistent, -1);</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;   }</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;   regcontext = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a6e4a08b7fcd1bfcfbb4b26581378e2be">ast_sip_get_regcontext</a>();</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d88/structstate.html">state</a> == <a class="code" href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea18800ee482eac39e9d235ddd357b9de3">AST_ENDPOINT_ONLINE</a>) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <a class="code" href="../../d4/d61/endpoints_8h.html#a04bfc77dacce061c28fa31e2b86827e8">ast_endpoint_set_state</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea18800ee482eac39e9d235ddd357b9de3">AST_ENDPOINT_ONLINE</a>);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>, <span class="stringliteral">&quot;peer_status&quot;</span>, <span class="stringliteral">&quot;Reachable&quot;</span>);</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(regcontext)) {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, regcontext, <a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>), 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a>(regcontext, 1, <a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>), 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;               <span class="stringliteral">&quot;Noop&quot;</span>, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>)), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>);</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;         }</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      }</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Endpoint %s is now Reachable\n&quot;</span>, <a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>));</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <a class="code" href="../../d4/d61/endpoints_8h.html#a04bfc77dacce061c28fa31e2b86827e8">ast_endpoint_set_state</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea0c201502490a90f732b9946dc7545114">AST_ENDPOINT_OFFLINE</a>);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>, <span class="stringliteral">&quot;peer_status&quot;</span>, <span class="stringliteral">&quot;Unreachable&quot;</span>);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(regcontext)) {</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../db/d81/structpbx__find__info.html">pbx_find_info</a> q = { .<a class="code" href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">stacklen</a> = 0 };</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;q, regcontext, <a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>), 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a>)) {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a721c6ba091102f155a586e09b2a526bf">ast_context_remove_extension</a>(regcontext, <a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>), 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;         }</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      }</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Endpoint %s is now Unreachable\n&quot;</span>, <a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>));</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   }</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(regcontext);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a>(), blob);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(blob);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;PJSIP/%s&quot;</span>, <a class="code" href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a>(persistent-&gt;<a class="code" href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>));</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(persistent, -1);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;}</div><div class="ttc" id="structsip__persistent__endpoint_html_aad78dcd53e5bd3e0d6a9098a462e98f6"><div class="ttname"><a href="../../d4/d7d/structsip__persistent__endpoint.html#aad78dcd53e5bd3e0d6a9098a462e98f6">sip_persistent_endpoint::endpoint</a></div><div class="ttdeci">struct ast_endpoint * endpoint</div><div class="ttdoc">Asterisk endpoint itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00046">pjsip_configuration.c:46</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00218">extconf.h:218</a></div></div>
<div class="ttc" id="endpoints_8h_html_a98e4966acb2ca2792aaae9a14c935b90"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a98e4966acb2ca2792aaae9a14c935b90">ast_endpoint_get_state</a></div><div class="ttdeci">enum ast_endpoint_state ast_endpoint_get_state(const struct ast_endpoint *endpoint)</div><div class="ttdoc">Gets the state of the given endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00399">main/endpoints.c:399</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a6e4a08b7fcd1bfcfbb4b26581378e2be"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a6e4a08b7fcd1bfcfbb4b26581378e2be">ast_sip_get_regcontext</a></div><div class="ttdeci">char * ast_sip_get_regcontext(void)</div><div class="ttdoc">Retrieve the global regcontext setting. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00247">config_global.c:247</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="structsip__persistent__endpoint_html"><div class="ttname"><a href="../../d4/d7d/structsip__persistent__endpoint.html">sip_persistent_endpoint</a></div><div class="ttdoc">Persistent endpoint information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00044">pjsip_configuration.c:44</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="endpoints_8h_html_a04bfc77dacce061c28fa31e2b86827e8"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a04bfc77dacce061c28fa31e2b86827e8">ast_endpoint_set_state</a></div><div class="ttdeci">void ast_endpoint_set_state(struct ast_endpoint *endpoint, enum ast_endpoint_state state)</div><div class="ttdoc">Updates the state of the given endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00407">main/endpoints.c:407</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="endpoints_8h_html_afa1641cd83857e47418009992cb2de6f"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#afa1641cd83857e47418009992cb2de6f">ast_endpoint_get_resource</a></div><div class="ttdeci">const char * ast_endpoint_get_resource(const struct ast_endpoint *endpoint)</div><div class="ttdoc">Gets the resource name of the given endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00383">main/endpoints.c:383</a></div></div>
<div class="ttc" id="pbx_8h_html_a721c6ba091102f155a586e09b2a526bf"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a721c6ba091102f155a586e09b2a526bf">ast_context_remove_extension</a></div><div class="ttdeci">int ast_context_remove_extension(const char *context, const char *extension, int priority, const char *registrar)</div><div class="ttdoc">Simply remove extension from context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04952">pbx.c:4952</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structpbx__find__info_html"><div class="ttname"><a href="../../db/d81/structpbx__find__info.html">pbx_find_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00230">extconf.h:230</a></div></div>
<div class="ttc" id="devicestate_8h_html_a62a8e6bc4b82dd797e505688f9f29bff"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a></div><div class="ttdeci">int ast_devstate_changed(enum ast_device_state state, enum ast_devstate_cache cachable, const char *fmt,...)</div><div class="ttdoc">Tells Asterisk the State for Device is changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00510">devicestate.c:510</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00053">devicestate.h:53</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="endpoints_8h_html_a00db6879caf0ce423b5a35b57d01448ea18800ee482eac39e9d235ddd357b9de3"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea18800ee482eac39e9d235ddd357b9de3">AST_ENDPOINT_ONLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d61/endpoints_8h_source.html#l00057">endpoints.h:57</a></div></div>
<div class="ttc" id="pbx_8h_html_a64a5b8fdc919806135ad427aca9e71b7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a></div><div class="ttdeci">int ast_exists_extension(struct ast_channel *c, const char *context, const char *exten, int priority, const char *callerid)</div><div class="ttdoc">Determine whether an extension exists. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04179">pbx.c:4179</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_ae4f9e2a60c7aebce6c9f18ceefa1eb6b"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#ae4f9e2a60c7aebce6c9f18ceefa1eb6b">persistent_endpoints</a></div><div class="ttdeci">static struct ao2_container * persistent_endpoints</div><div class="ttdoc">Container for persistent endpoint information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l00050">pjsip_configuration.c:50</a></div></div>
<div class="ttc" id="endpoints_8h_html_a00db6879caf0ce423b5a35b57d01448ea0c201502490a90f732b9946dc7545114"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea0c201502490a90f732b9946dc7545114">AST_ENDPOINT_OFFLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d61/endpoints_8h_source.html#l00055">endpoints.h:55</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga5bef70de71c061b6ef7739d9634ebbb1"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_state_type(void)</div><div class="ttdoc">Message type for endpoint state changes. </div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structpbx__find__info_html_a31dd453024f17e9e35717368cf8c87fb"><div class="ttname"><a href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">pbx_find_info::stacklen</a></div><div class="ttdeci">int stacklen</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00238">extconf.h:238</a></div></div>
<div class="ttc" id="devicestate_8h_html_a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00070">devicestate.h:70</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga18159008df1e2c2f4d86060386c8b47c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a></div><div class="ttdeci">void ast_endpoint_blob_publish(struct ast_endpoint *endpoint, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Creates and publishes a ast_endpoint_blob message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00325">stasis_endpoints.c:325</a></div></div>
<div class="ttc" id="pbx_8h_html_a07176e8d314eb68b3b50279fafa11390"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a></div><div class="ttdeci">int ast_add_extension(const char *context, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar)</div><div class="ttdoc">Add and extension to an extension context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06970">pbx.c:6970</a></div></div>
<div class="ttc" id="chan__iax2_8c_html_a4d41e07a86f9575719f396ac801b0208"><div class="ttname"><a href="../../d5/dff/chan__iax2_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a></div><div class="ttdeci">static char regcontext[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dff/chan__iax2_8c_source.html#l00321">chan_iax2.c:321</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="pbx_8h_html_ae12539be833fc552d4556c886605f17f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a></div><div class="ttdeci">struct ast_exten * pbx_find_extension(struct ast_channel *chan, struct ast_context *bypass, struct pbx_find_info *q, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00152">ael_main.c:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8789fca05b6fcb5ca809e7758995959c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8789fca05b6fcb5ca809e7758995959c">&#9670;&nbsp;</a></span>ast_sip_rdata_get_header_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_sip_rdata_get_header_value </td>
          <td>(</td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pj_str_t&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a specific header value from rdata. </p>
<dl class="section note"><dt>Note</dt><dd>The returned value does not need to be freed since it's from the rdata pool</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdata</td><td>The rdata </td></tr>
    <tr><td class="paramname">str</td><td>The header to find</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on failure </td></tr>
    <tr><td class="paramname">The</td><td>header value on success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03543">3543</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c_source.html#l00122">stir_shaken_incoming_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;{</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;   pjsip_generic_string_hdr *hdr;</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;   pj_str_t hdr_val;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;   hdr = pjsip_msg_find_hdr_by_name(rdata-&gt;msg_info.msg, &amp;<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;   <span class="keywordflow">if</span> (!hdr) {</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;   }</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;   pj_strdup_with_null(rdata-&gt;tp_info.pool, &amp;hdr_val, &amp;hdr-&gt;hvalue);</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;   <span class="keywordflow">return</span> hdr_val.ptr;</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;}</div><div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9619038b1c9446b8aa48f3701b41495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9619038b1c9446b8aa48f3701b41495">&#9670;&nbsp;</a></span>ast_sip_register_authenticator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_register_authenticator </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/de9/structast__sip__authenticator.html">ast_sip_authenticator</a> *&#160;</td>
          <td class="paramname"><em>auth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a SIP authenticator. </p>
<p>An authenticator has three main purposes: 1) Determining if authentication should be performed on an incoming request 2) Gathering credentials necessary for issuing an authentication challenge 3) Authenticating a request that has credentials</p>
<p>Asterisk provides a default authenticator, but it may be replaced by a custom one if desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">auth</td><td>The authenticator to register </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03338">3338</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00542">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;{</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a>) {</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Authenticator %p is already registered. Cannot register a new one\n&quot;</span>, <a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a>);</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;   }</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a> = auth;</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Registered SIP authenticator module %p\n&quot;</span>, auth);</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_ac51146e0275b19fab3031e6176c745e8"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a></div><div class="ttdeci">static struct ast_sip_authenticator * registered_authenticator</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03336">res_pjsip.c:3336</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98cd6c4d4f72f59a48ccbedc8e6634e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98cd6c4d4f72f59a48ccbedc8e6634e4">&#9670;&nbsp;</a></span>ast_sip_register_endpoint_formatter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_register_endpoint_formatter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d30/structast__sip__endpoint__formatter.html">ast_sip_endpoint_formatter</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an endpoint formatter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the formatter to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03679">3679</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00189">ast_cli_entry::next</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02918">ast_res_pjsip_init_options_handling()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01618">ast_sip_initialize_sorcery_transport()</a>, and <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00841">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;{</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;<a class="code" href="../../d7/dcc/structendpoint__formatters.html">endpoint_formatters</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>);</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d7/dcc/structendpoint__formatters.html">endpoint_formatters</a>, obj, next);</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
<div class="ttc" id="structendpoint__formatters_html"><div class="ttname"><a href="../../d7/dcc/structendpoint__formatters.html">endpoint_formatters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03677">res_pjsip.c:3677</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66822f0bda04ca112f8f1d0b29e9f4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66822f0bda04ca112f8f1d0b29e9f4a4">&#9670;&nbsp;</a></span>ast_sip_register_endpoint_identifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_register_endpoint_identifier </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d97/structast__sip__endpoint__identifier.html">ast_sip_endpoint_identifier</a> *&#160;</td>
          <td class="paramname"><em>identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a SIP endpoint identifier. </p>
<p>An endpoint identifier's purpose is to determine which endpoint a given SIP message has come from.</p>
<p>Multiple endpoint identifiers may be registered so that if an endpoint cannot be identified by one identifier, it may be identified by another.</p>
<p>Asterisk provides two endpoint identifiers. One identifies endpoints based on the user part of the From header URI. The other identifies endpoints based on the source IP address.</p>
<p>If the order in which endpoint identifiers is run is important to you, then be sure to load individual endpoint identifier modules in the order you wish for them to be run in modules.conf</p>
<dl class="section note"><dt>Note</dt><dd>endpoint identifiers registered using this method (no name specified) are placed at the front of the endpoint identifiers list ahead of any named identifiers.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>The SIP endpoint identifier to register </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03508">3508</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03431">ast_sip_register_endpoint_identifier_with_name()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02508">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;{</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#ac769118e31b822fcd28c2b3b3d921c6e">ast_sip_register_endpoint_identifier_with_name</a>(identifier, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_ac769118e31b822fcd28c2b3b3d921c6e"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ac769118e31b822fcd28c2b3b3d921c6e">ast_sip_register_endpoint_identifier_with_name</a></div><div class="ttdeci">int ast_sip_register_endpoint_identifier_with_name(struct ast_sip_endpoint_identifier *identifier, const char *name)</div><div class="ttdoc">Register a SIP endpoint identifier with a name. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03431">res_pjsip.c:3431</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac769118e31b822fcd28c2b3b3d921c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac769118e31b822fcd28c2b3b3d921c6e">&#9670;&nbsp;</a></span>ast_sip_register_endpoint_identifier_with_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_register_endpoint_identifier_with_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d97/structast__sip__endpoint__identifier.html">ast_sip_endpoint_identifier</a> *&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a SIP endpoint identifier with a name. </p>
<p>An endpoint identifier's purpose is to determine which endpoint a given SIP message has come from.</p>
<p>Multiple endpoint identifiers may be registered so that if an endpoint cannot be identified by one identifier, it may be identified by another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>The SIP endpoint identifier to register </td></tr>
    <tr><td class="paramname">name</td><td>The name of the endpoint identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03431">3431</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00451">AST_RWLIST_EMPTY</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00701">AST_RWLIST_INSERT_AFTER</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00609">AST_RWLIST_INSERT_BEFORE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00717">AST_RWLIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00440">AST_RWLIST_NEXT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00279">ast_sip_get_endpoint_identifier_order()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03425">endpoint_identifier_list::identifier</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03423">endpoint_identifier_list::name</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03424">endpoint_identifier_list::priority</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03508">ast_sip_register_endpoint_identifier()</a>, and <a class="el" href="../../df/dd7/res__pjsip__endpoint__identifier__anonymous_8c_source.html#l00127">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;{</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;   <span class="keywordtype">char</span> *prev, *current, *identifier_order;</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d73/structendpoint__identifier__list.html">endpoint_identifier_list</a> *iter, *id_list_item;</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>);</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;   id_list_item = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*id_list_item));</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;   <span class="keywordflow">if</span> (!id_list_item) {</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to add endpoint identifier. Out of memory.\n&quot;</span>);</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;   }</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;   id_list_item-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a7f1bfe31ef240c6c5e0a688bace06214">identifier</a> = <a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a7f1bfe31ef240c6c5e0a688bace06214">identifier</a>;</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;   id_list_item-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>;</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Register endpoint identifier %s(%p)\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> ?: <span class="stringliteral">&quot;&quot;</span>, identifier);</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;      <span class="comment">/* if an identifier has no name then place in front */</span></div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, id_list_item, list);</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;   }</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;   <span class="comment">/* see if the name of the identifier is in the global endpoint_identifier_order list */</span></div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;   identifier_order = prev = current = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a17ead55af9630ebe9d2acd8d52833aae">ast_sip_get_endpoint_identifier_order</a>();</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(identifier_order)) {</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      id_list_item-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a1e440af9e86f7a3c2784c3e2bd687d25">priority</a> = UINT_MAX;</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, id_list_item, list);</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(identifier_order);</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;   }</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;   id_list_item-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a1e440af9e86f7a3c2784c3e2bd687d25">priority</a> = 0;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;   <span class="keywordflow">while</span> ((current = strchr(current, <span class="charliteral">&#39;,&#39;</span>))) {</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;      ++id_list_item-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a1e440af9e86f7a3c2784c3e2bd687d25">priority</a>;</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;      <span class="keywordflow">if</span> (!strncmp(prev, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, current - prev)</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;         &amp;&amp; strlen(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) == current - prev) {</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;      }</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;      prev = ++current;</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;   }</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;   <span class="keywordflow">if</span> (!current) {</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;      <span class="comment">/* check to see if it is the only or last item */</span></div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;      <span class="keywordflow">if</span> (!strcmp(prev, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;         ++id_list_item-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a1e440af9e86f7a3c2784c3e2bd687d25">priority</a>;</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;         id_list_item-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a1e440af9e86f7a3c2784c3e2bd687d25">priority</a> = UINT_MAX;</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;      }</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;   }</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;   <span class="keywordflow">if</span> (id_list_item-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a1e440af9e86f7a3c2784c3e2bd687d25">priority</a> == UINT_MAX || <a class="code" href="../../df/d90/linkedlists_8h.html#a0044f6572f50a89049b3b5272e51b0e7">AST_RWLIST_EMPTY</a>(&amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>)) {</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;      <span class="comment">/* if not in the endpoint_identifier_order list then consider it less in</span></div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;<span class="comment">         priority and add it to the end */</span></div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, id_list_item, list);</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(identifier_order);</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;   }</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, iter, list) {</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;      <span class="keywordflow">if</span> (id_list_item-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a1e440af9e86f7a3c2784c3e2bd687d25">priority</a> &lt; iter-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a1e440af9e86f7a3c2784c3e2bd687d25">priority</a>) {</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#acf8253a64f9a4e2170454f4bf0559e33">AST_RWLIST_INSERT_BEFORE_CURRENT</a>(id_list_item, list);</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;      }</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../df/d90/linkedlists_8h.html#a5c021d1e034a53d09360da4d95c76220">AST_RWLIST_NEXT</a>(iter, list)) {</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a5937d72e8b39660a1b824af2042c0e9c">AST_RWLIST_INSERT_AFTER</a>(&amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, iter, id_list_item, list);</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;      }</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;   }</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(identifier_order);</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a5c021d1e034a53d09360da4d95c76220"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a5c021d1e034a53d09360da4d95c76220">AST_RWLIST_NEXT</a></div><div class="ttdeci">#define AST_RWLIST_NEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00440">linkedlists.h:440</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a5937d72e8b39660a1b824af2042c0e9c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a5937d72e8b39660a1b824af2042c0e9c">AST_RWLIST_INSERT_AFTER</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_AFTER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00701">linkedlists.h:701</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structendpoint__identifier__list_html"><div class="ttname"><a href="../../d3/d73/structendpoint__identifier__list.html">endpoint_identifier_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03422">res_pjsip.c:3422</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aacc5f6b7c25e361d11d40137fd55a8e8"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_HEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00717">linkedlists.h:717</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structendpoint__identifier__list_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d3/d73/structendpoint__identifier__list.html#a8f8f80d37794cde9472343e4487ba3eb">endpoint_identifier_list::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03423">res_pjsip.c:3423</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="linkedlists_8h_html_acf8253a64f9a4e2170454f4bf0559e33"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#acf8253a64f9a4e2170454f4bf0559e33">AST_RWLIST_INSERT_BEFORE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_BEFORE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00609">linkedlists.h:609</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0044f6572f50a89049b3b5272e51b0e7"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0044f6572f50a89049b3b5272e51b0e7">AST_RWLIST_EMPTY</a></div><div class="ttdeci">#define AST_RWLIST_EMPTY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00451">linkedlists.h:451</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structendpoint__identifier__list_html_a1e440af9e86f7a3c2784c3e2bd687d25"><div class="ttname"><a href="../../d3/d73/structendpoint__identifier__list.html#a1e440af9e86f7a3c2784c3e2bd687d25">endpoint_identifier_list::priority</a></div><div class="ttdeci">unsigned int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03424">res_pjsip.c:3424</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a17ead55af9630ebe9d2acd8d52833aae"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a17ead55af9630ebe9d2acd8d52833aae">ast_sip_get_endpoint_identifier_order</a></div><div class="ttdeci">char * ast_sip_get_endpoint_identifier_order(void)</div><div class="ttdoc">Retrieve the global endpoint_identifier_order setting. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00279">config_global.c:279</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structendpoint__identifier__list_html_a7f1bfe31ef240c6c5e0a688bace06214"><div class="ttname"><a href="../../d3/d73/structendpoint__identifier__list.html#a7f1bfe31ef240c6c5e0a688bace06214">endpoint_identifier_list::identifier</a></div><div class="ttdeci">struct ast_sip_endpoint_identifier * identifier</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03425">res_pjsip.c:3425</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
<div class="ttc" id="structendpoint__identifiers_html"><div class="ttname"><a href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03429">res_pjsip.c:3429</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98307b232bed0aa477edfdb1cb2d6ee4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98307b232bed0aa477edfdb1cb2d6ee4">&#9670;&nbsp;</a></span>ast_sip_register_outbound_authenticator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_register_outbound_authenticator </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/dc2/structast__sip__outbound__authenticator.html">ast_sip_outbound_authenticator</a> *&#160;</td>
          <td class="paramname"><em>outbound_auth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an outbound SIP authenticator. </p>
<p>An outbound authenticator is responsible for creating responses to authentication challenges by remote endpoints.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">auth</td><td>The authenticator to register </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03389">3389</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d61/res__pjsip__outbound__authenticator__digest_8c_source.html#l00581">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;{</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a>) {</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Outbound authenticator %p is already registered. Cannot register a new one\n&quot;</span>, <a class="code" href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a>);</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;   }</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a> = auth;</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Registered SIP outbound authenticator module %p\n&quot;</span>, auth);</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a18741a3257cf9d9ae4f755778d97f716"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a></div><div class="ttdeci">static struct ast_sip_outbound_authenticator * registered_outbound_authenticator</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03387">res_pjsip.c:3387</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d923ef44f62dffc05178f762b88f084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d923ef44f62dffc05178f762b88f084">&#9670;&nbsp;</a></span>ast_sip_register_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_register_service </td>
          <td>(</td>
          <td class="paramtype">pjsip_module *&#160;</td>
          <td class="paramname"><em>module</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a SIP service in Asterisk. </p>
<p>This is more-or-less a wrapper around pjsip_endpt_register_module(). Registering a service makes it so that PJSIP will call into the service at appropriate times. For more information about PJSIP module callbacks, see the PJSIP documentation. Asterisk modules that call this function will likely do so at module load time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">module</td><td>The module that is to be registered with PJSIP </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03315">3315</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05204">ast_sip_push_task_wait_servant()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03300">register_service()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00573">ast_res_pjsip_init_message_filter()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01260">ast_sip_initialize_distributor()</a>, <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00163">ast_sip_initialize_global_headers()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00372">ast_sip_initialize_transport_management()</a>, and <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l03304">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;{</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dfa/group__pjsip__threading.html#gab8c82412fe0432a91d5c7985cfdf9b59">ast_sip_push_task_wait_servant</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../de/d96/res__pjsip_8c.html#abf53097fa8d7a15c1fca7aa7df5d2071">register_service</a>, &amp;module);</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_abf53097fa8d7a15c1fca7aa7df5d2071"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#abf53097fa8d7a15c1fca7aa7df5d2071">register_service</a></div><div class="ttdeci">static int register_service(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03300">res_pjsip.c:3300</a></div></div>
<div class="ttc" id="group__pjsip__threading_html_gab8c82412fe0432a91d5c7985cfdf9b59"><div class="ttname"><a href="../../d7/dfa/group__pjsip__threading.html#gab8c82412fe0432a91d5c7985cfdf9b59">ast_sip_push_task_wait_servant</a></div><div class="ttdeci">int ast_sip_push_task_wait_servant(struct ast_taskprocessor *serializer, int(*sip_task)(void *), void *task_data)</div><div class="ttdoc">Push a task to SIP servants and wait for it to complete. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05204">res_pjsip.c:5204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a51b89c7cffebd4ea3dd0bb2a34eb9a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b89c7cffebd4ea3dd0bb2a34eb9a6f">&#9670;&nbsp;</a></span>ast_sip_register_supplement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_register_supplement </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a> *&#160;</td>
          <td class="paramname"><em>supplement</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a supplement to SIP out of dialog processing. </p>
<p>This allows for someone to insert themselves in the processing of out of dialog SIP requests and responses. This, for example could allow for a module to set channel data based on headers in an incoming message. Similarly, a module could reject an incoming request if desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">supplement</td><td>The supplement to register </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04511">4511</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00609">AST_RWLIST_INSERT_BEFORE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02938">ast_sip_supplement::next</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02892">ast_sip_supplement::priority</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00573">ast_res_pjsip_init_message_filter()</a>, and <a class="el" href="../../d9/d91/res__pjsip__path_8c_source.html#l00252">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;{</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a> *iter;</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;   <span class="keywordtype">int</span> inserted = 0;</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;<a class="code" href="../../d7/db8/structsupplements.html">supplements</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>);</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d7/db8/structsupplements.html">supplements</a>, iter, <a class="code" href="../../df/d71/structast__sip__supplement.html#ab03b800fabdc22f80a5fc2bf746defb2">next</a>) {</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;      <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../df/d71/structast__sip__supplement.html#aa513867e0c879afe032ffc99bac34d3b">priority</a> &gt; supplement-&gt;<a class="code" href="../../df/d71/structast__sip__supplement.html#aa513867e0c879afe032ffc99bac34d3b">priority</a>) {</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#acf8253a64f9a4e2170454f4bf0559e33">AST_RWLIST_INSERT_BEFORE_CURRENT</a>(supplement, <a class="code" href="../../df/d71/structast__sip__supplement.html#ab03b800fabdc22f80a5fc2bf746defb2">next</a>);</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;         inserted = 1;</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;      }</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;   }</div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;</div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;   <span class="keywordflow">if</span> (!inserted) {</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d7/db8/structsupplements.html">supplements</a>, supplement, <a class="code" href="../../df/d71/structast__sip__supplement.html#ab03b800fabdc22f80a5fc2bf746defb2">next</a>);</div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;   }</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="structast__sip__supplement_html_ab03b800fabdc22f80a5fc2bf746defb2"><div class="ttname"><a href="../../df/d71/structast__sip__supplement.html#ab03b800fabdc22f80a5fc2bf746defb2">ast_sip_supplement::next</a></div><div class="ttdeci">struct ast_sip_supplement * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02938">res_pjsip.h:2938</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="linkedlists_8h_html_acf8253a64f9a4e2170454f4bf0559e33"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#acf8253a64f9a4e2170454f4bf0559e33">AST_RWLIST_INSERT_BEFORE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_BEFORE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00609">linkedlists.h:609</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
<div class="ttc" id="structsupplements_html"><div class="ttname"><a href="../../d7/db8/structsupplements.html">supplements</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04509">res_pjsip.c:4509</a></div></div>
<div class="ttc" id="structast__sip__supplement_html"><div class="ttname"><a href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a></div><div class="ttdoc">A supplement to SIP message processing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02888">res_pjsip.h:2888</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
<div class="ttc" id="structast__sip__supplement_html_aa513867e0c879afe032ffc99bac34d3b"><div class="ttname"><a href="../../df/d71/structast__sip__supplement.html#aa513867e0c879afe032ffc99bac34d3b">ast_sip_supplement::priority</a></div><div class="ttdeci">enum ast_sip_supplement_priority priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02892">res_pjsip.h:2892</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a579992115db554aed5f14a1c99adfc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a579992115db554aed5f14a1c99adfc4e">&#9670;&nbsp;</a></span>ast_sip_report_auth_challenge_sent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_report_auth_challenge_sent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a security event notification for when an authentication challenge is sent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Pointer to the endpoint in use </td></tr>
    <tr><td class="paramname">rdata</td><td>Received message </td></tr>
    <tr><td class="paramname">tdata</td><td>Sent message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00197">197</a> of file <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html">res/res_pjsip/security_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05240">ast_copy_pj_str()</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00139">AST_SEC_EVT</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00113">AST_SECURITY_EVENT_CHAL_SENT</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00491">AST_SECURITY_EVENT_CHAL_SENT_VERSION</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l01171">ast_security_event_report()</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00496">ast_security_event_chal_sent::common</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00158">ast_security_event_common::event_type</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">get_account_id()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">security_event_get_transport()</a>, and <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">security_event_populate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00880">authenticate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   pjsip_www_authenticate_hdr *auth = pjsip_msg_find_hdr(tdata-&gt;msg, PJSIP_H_WWW_AUTHENTICATE, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a> transport = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a>(rdata);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <span class="keywordtype">char</span> nonce[64] = <span class="stringliteral">&quot;&quot;</span>, call_id[pj_strlen(&amp;rdata-&gt;msg_info.cid-&gt;id) + 1];</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> local, remote;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d93/structast__security__event__chal__sent.html">ast_security_event_chal_sent</a> chal_sent = {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;         .<a class="code" href="../../dc/d93/structast__security__event__chal__sent.html#a5853d232c74e8c3de4a3387c05c07df0">common</a>.<a class="code" href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">event_type</a> = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372ca9bffff473a991355355166f484d7c8e0">AST_SECURITY_EVENT_CHAL_SENT</a>,</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         .common.version    = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#ae2561d254794f55183af87300bcecc4a">AST_SECURITY_EVENT_CHAL_SENT_VERSION</a>,</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;         .common.service    = <span class="stringliteral">&quot;PJSIP&quot;</span>,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;         .common.account_id = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a>(endpoint),</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;         .common.local_addr = {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;               .addr      = &amp;local,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;               .transport = transport,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         },</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;         .common.remote_addr = {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;               .addr      = &amp;remote,</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;               .transport = transport,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;         },</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;         .common.session_id = call_id,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;         .challenge         = nonce,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   };</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keywordflow">if</span> (auth &amp;&amp; !pj_strcmp2(&amp;auth-&gt;scheme, <span class="stringliteral">&quot;digest&quot;</span>)) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a7da3e1f7ee3fcb77f29d41a76a7528fe">ast_copy_pj_str</a>(nonce, &amp;auth-&gt;challenge.digest.nonce, <span class="keyword">sizeof</span>(nonce));</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a>(rdata, call_id, <span class="keyword">sizeof</span>(call_id), &amp;local, &amp;remote);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <a class="code" href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a>(<a class="code" href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a>(&amp;chal_sent));</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div><div class="ttc" id="structast__security__event__common_html_ab6aa0eb589925a75d104087ce946a0ad"><div class="ttname"><a href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">ast_security_event_common::event_type</a></div><div class="ttdeci">enum ast_security_event_type event_type</div><div class="ttdoc">The security event sub-type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00158">security_events_defs.h:158</a></div></div>
<div class="ttc" id="netsock2_8h_html_aa2785c5990a086943fea750c980abbc3"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a></div><div class="ttdeci">ast_transport</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00059">netsock2.h:59</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_ae2561d254794f55183af87300bcecc4a"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#ae2561d254794f55183af87300bcecc4a">AST_SECURITY_EVENT_CHAL_SENT_VERSION</a></div><div class="ttdeci">#define AST_SECURITY_EVENT_CHAL_SENT_VERSION</div><div class="ttdoc">Event descriptor version. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00491">security_events_defs.h:491</a></div></div>
<div class="ttc" id="structast__security__event__chal__sent_html"><div class="ttname"><a href="../../dc/d93/structast__security__event__chal__sent.html">ast_security_event_chal_sent</a></div><div class="ttdoc">A challenge was sent out. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00486">security_events_defs.h:486</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a7da3e1f7ee3fcb77f29d41a76a7528fe"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a7da3e1f7ee3fcb77f29d41a76a7528fe">ast_copy_pj_str</a></div><div class="ttdeci">void ast_copy_pj_str(char *dest, const pj_str_t *src, size_t size)</div><div class="ttdoc">Copy a pj_str_t into a standard character buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05240">res_pjsip.c:5240</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_af08538976e14908080145cb050f39510"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a></div><div class="ttdeci">#define AST_SEC_EVT(e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00139">security_events_defs.h:139</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_ac2b6df8229537d9dbb35aaf6bd82372ca9bffff473a991355355166f484d7c8e0"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372ca9bffff473a991355355166f484d7c8e0">AST_SECURITY_EVENT_CHAL_SENT</a></div><div class="ttdoc">Challenge was sent out, informational. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00113">security_events_defs.h:113</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a81ec4f103fd2df808c6e8026ae6b72fe"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a></div><div class="ttdeci">static enum ast_transport security_event_get_transport(pjsip_rx_data *rdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">res/res_pjsip/security_events.c:34</a></div></div>
<div class="ttc" id="structast__security__event__chal__sent_html_a5853d232c74e8c3de4a3387c05c07df0"><div class="ttname"><a href="../../dc/d93/structast__security__event__chal__sent.html#a5853d232c74e8c3de4a3387c05c07df0">ast_security_event_chal_sent::common</a></div><div class="ttdeci">struct ast_security_event_common common</div><div class="ttdoc">Common security event descriptor elements. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00496">security_events_defs.h:496</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a4c5bd58d4eccdb8a5c48bda45f64200f"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a></div><div class="ttdeci">static void security_event_populate(pjsip_rx_data *rdata, char *call_id, size_t call_id_size, struct ast_sockaddr *local, struct ast_sockaddr *remote)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">res/res_pjsip/security_events.c:54</a></div></div>
<div class="ttc" id="include_2asterisk_2security__events_8h_html_ae13dc3d123710d7519588d54c51f8170"><div class="ttname"><a href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a></div><div class="ttdeci">int ast_security_event_report(const struct ast_security_event_common *sec)</div><div class="ttdoc">Report a security event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d30/main_2security__events_8c_source.html#l01171">main/security_events.c:1171</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_acc53efa5f3d89de6581a25661d3e50fd"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a></div><div class="ttdeci">static const char * get_account_id(struct ast_sip_endpoint *endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">res/res_pjsip/security_events.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abde6d68cb68ba653a27ace5e50157c5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abde6d68cb68ba653a27ace5e50157c5b">&#9670;&nbsp;</a></span>ast_sip_report_auth_failed_challenge_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_report_auth_failed_challenge_response </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a security event notification for when a challenge response has failed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Pointer to the endpoint in use </td></tr>
    <tr><td class="paramname">rdata</td><td>Received message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00130">130</a> of file <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html">res/res_pjsip/security_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05240">ast_copy_pj_str()</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00139">AST_SEC_EVT</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00105">AST_SECURITY_EVENT_CHAL_RESP_FAILED</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00429">AST_SECURITY_EVENT_CHAL_RESP_FAILED_VERSION</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l01171">ast_security_event_report()</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00434">ast_security_event_chal_resp_failed::common</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00158">ast_security_event_common::event_type</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">get_account_id()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00444">ast_security_event_chal_resp_failed::response</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">security_event_get_transport()</a>, and <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">security_event_populate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00880">authenticate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   pjsip_authorization_hdr *auth = pjsip_msg_find_hdr(rdata-&gt;msg_info.msg, PJSIP_H_AUTHORIZATION, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a> transport = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a>(rdata);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <span class="keywordtype">char</span> call_id[pj_strlen(&amp;rdata-&gt;msg_info.cid-&gt;id) + 1];</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="keywordtype">char</span> nonce[64] = <span class="stringliteral">&quot;&quot;</span>, response[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> local, remote;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d5a/structast__security__event__chal__resp__failed.html">ast_security_event_chal_resp_failed</a> chal_resp_failed = {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            .<a class="code" href="../../d3/d5a/structast__security__event__chal__resp__failed.html#a5853d232c74e8c3de4a3387c05c07df0">common</a>.<a class="code" href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">event_type</a> = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372cab2e0e2ff82bce347821f967f1729c3fd">AST_SECURITY_EVENT_CHAL_RESP_FAILED</a>,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            .common.version    = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#a00073637bd298c4ceff7c0e257840f96">AST_SECURITY_EVENT_CHAL_RESP_FAILED_VERSION</a>,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            .common.service    = <span class="stringliteral">&quot;PJSIP&quot;</span>,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            .common.account_id = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a>(endpoint),</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            .common.local_addr = {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                  .addr      = &amp;local,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                  .transport = transport,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            },</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            .common.remote_addr = {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                  .addr      = &amp;remote,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                  .transport = transport,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            },</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            .common.session_id = call_id,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            .challenge         = nonce,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            .response          = <a class="code" href="../../d3/d5a/structast__security__event__chal__resp__failed.html#a3002c92aebac5e2755282e16b2d6e01a">response</a>,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            .expected_response = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   };</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <span class="keywordflow">if</span> (auth &amp;&amp; !pj_strcmp2(&amp;auth-&gt;scheme, <span class="stringliteral">&quot;Digest&quot;</span>)) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a7da3e1f7ee3fcb77f29d41a76a7528fe">ast_copy_pj_str</a>(nonce, &amp;auth-&gt;credential.digest.nonce, <span class="keyword">sizeof</span>(nonce));</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a7da3e1f7ee3fcb77f29d41a76a7528fe">ast_copy_pj_str</a>(<a class="code" href="../../d3/d5a/structast__security__event__chal__resp__failed.html#a3002c92aebac5e2755282e16b2d6e01a">response</a>, &amp;auth-&gt;credential.digest.response, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d5a/structast__security__event__chal__resp__failed.html#a3002c92aebac5e2755282e16b2d6e01a">response</a>));</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a>(rdata, call_id, <span class="keyword">sizeof</span>(call_id), &amp;local, &amp;remote);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <a class="code" href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a>(<a class="code" href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a>(&amp;chal_resp_failed));</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="ttc" id="structast__security__event__common_html_ab6aa0eb589925a75d104087ce946a0ad"><div class="ttname"><a href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">ast_security_event_common::event_type</a></div><div class="ttdeci">enum ast_security_event_type event_type</div><div class="ttdoc">The security event sub-type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00158">security_events_defs.h:158</a></div></div>
<div class="ttc" id="structast__security__event__chal__resp__failed_html"><div class="ttname"><a href="../../d3/d5a/structast__security__event__chal__resp__failed.html">ast_security_event_chal_resp_failed</a></div><div class="ttdoc">An attempt at challenge/response auth failed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00424">security_events_defs.h:424</a></div></div>
<div class="ttc" id="netsock2_8h_html_aa2785c5990a086943fea750c980abbc3"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a></div><div class="ttdeci">ast_transport</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00059">netsock2.h:59</a></div></div>
<div class="ttc" id="structast__security__event__chal__resp__failed_html_a3002c92aebac5e2755282e16b2d6e01a"><div class="ttname"><a href="../../d3/d5a/structast__security__event__chal__resp__failed.html#a3002c92aebac5e2755282e16b2d6e01a">ast_security_event_chal_resp_failed::response</a></div><div class="ttdeci">const char * response</div><div class="ttdoc">Response received. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00444">security_events_defs.h:444</a></div></div>
<div class="ttc" id="structast__security__event__chal__resp__failed_html_a5853d232c74e8c3de4a3387c05c07df0"><div class="ttname"><a href="../../d3/d5a/structast__security__event__chal__resp__failed.html#a5853d232c74e8c3de4a3387c05c07df0">ast_security_event_chal_resp_failed::common</a></div><div class="ttdeci">struct ast_security_event_common common</div><div class="ttdoc">Common security event descriptor elements. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00434">security_events_defs.h:434</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a7da3e1f7ee3fcb77f29d41a76a7528fe"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a7da3e1f7ee3fcb77f29d41a76a7528fe">ast_copy_pj_str</a></div><div class="ttdeci">void ast_copy_pj_str(char *dest, const pj_str_t *src, size_t size)</div><div class="ttdoc">Copy a pj_str_t into a standard character buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05240">res_pjsip.c:5240</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_af08538976e14908080145cb050f39510"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a></div><div class="ttdeci">#define AST_SEC_EVT(e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00139">security_events_defs.h:139</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a81ec4f103fd2df808c6e8026ae6b72fe"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a></div><div class="ttdeci">static enum ast_transport security_event_get_transport(pjsip_rx_data *rdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">res/res_pjsip/security_events.c:34</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_ac2b6df8229537d9dbb35aaf6bd82372cab2e0e2ff82bce347821f967f1729c3fd"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372cab2e0e2ff82bce347821f967f1729c3fd">AST_SECURITY_EVENT_CHAL_RESP_FAILED</a></div><div class="ttdoc">An attempt at challenge/response authentication failed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00105">security_events_defs.h:105</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_a00073637bd298c4ceff7c0e257840f96"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#a00073637bd298c4ceff7c0e257840f96">AST_SECURITY_EVENT_CHAL_RESP_FAILED_VERSION</a></div><div class="ttdeci">#define AST_SECURITY_EVENT_CHAL_RESP_FAILED_VERSION</div><div class="ttdoc">Event descriptor version. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00429">security_events_defs.h:429</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a4c5bd58d4eccdb8a5c48bda45f64200f"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a></div><div class="ttdeci">static void security_event_populate(pjsip_rx_data *rdata, char *call_id, size_t call_id_size, struct ast_sockaddr *local, struct ast_sockaddr *remote)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">res/res_pjsip/security_events.c:54</a></div></div>
<div class="ttc" id="include_2asterisk_2security__events_8h_html_ae13dc3d123710d7519588d54c51f8170"><div class="ttname"><a href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a></div><div class="ttdeci">int ast_security_event_report(const struct ast_security_event_common *sec)</div><div class="ttdoc">Report a security event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d30/main_2security__events_8c_source.html#l01171">main/security_events.c:1171</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_acc53efa5f3d89de6581a25661d3e50fd"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a></div><div class="ttdeci">static const char * get_account_id(struct ast_sip_endpoint *endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">res/res_pjsip/security_events.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2aaee728a6d48faa505902a7c0edbe65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aaee728a6d48faa505902a7c0edbe65">&#9670;&nbsp;</a></span>ast_sip_report_auth_success()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_report_auth_success </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a security event notification for when authentication succeeds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Pointer to the endpoint in use </td></tr>
    <tr><td class="paramname">rdata</td><td>Received message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00168">168</a> of file <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html">res/res_pjsip/security_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00139">AST_SEC_EVT</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l01171">ast_security_event_report()</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00097">AST_SECURITY_EVENT_SUCCESSFUL_AUTH</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00387">AST_SECURITY_EVENT_SUCCESSFUL_AUTH_VERSION</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00392">ast_security_event_successful_auth::common</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00158">ast_security_event_common::event_type</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">get_account_id()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">security_event_get_transport()</a>, and <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">security_event_populate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00880">authenticate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   pjsip_authorization_hdr *auth = pjsip_msg_find_hdr(rdata-&gt;msg_info.msg, PJSIP_H_AUTHORIZATION, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a> transport = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a>(rdata);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="keywordtype">char</span> call_id[pj_strlen(&amp;rdata-&gt;msg_info.cid-&gt;id) + 1];</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> local, remote;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d86/structast__security__event__successful__auth.html">ast_security_event_successful_auth</a> successful_auth = {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;         .<a class="code" href="../../d6/d86/structast__security__event__successful__auth.html#a5853d232c74e8c3de4a3387c05c07df0">common</a>.<a class="code" href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">event_type</a>  = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372caeba3af0716af08bf27b004b5b935d24f">AST_SECURITY_EVENT_SUCCESSFUL_AUTH</a>,</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;         .common.version     = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#adc105808e97bd06ee0b39375c6c2a137">AST_SECURITY_EVENT_SUCCESSFUL_AUTH_VERSION</a>,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;         .common.service     = <span class="stringliteral">&quot;PJSIP&quot;</span>,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;         .common.account_id  = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a>(endpoint),</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;         .common.local_addr  = {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;               .addr       = &amp;local,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;               .transport  = transport,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;         },</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;         .common.remote_addr = {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;               .addr       = &amp;remote,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;               .transport  = transport,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;         },</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;         .common.session_id  = call_id,</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;         .using_password     = auth ? 1 : 0,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   };</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a>(rdata, call_id, <span class="keyword">sizeof</span>(call_id), &amp;local, &amp;remote);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <a class="code" href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a>(<a class="code" href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a>(&amp;successful_auth));</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="ttc" id="structast__security__event__common_html_ab6aa0eb589925a75d104087ce946a0ad"><div class="ttname"><a href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">ast_security_event_common::event_type</a></div><div class="ttdeci">enum ast_security_event_type event_type</div><div class="ttdoc">The security event sub-type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00158">security_events_defs.h:158</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_ac2b6df8229537d9dbb35aaf6bd82372caeba3af0716af08bf27b004b5b935d24f"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372caeba3af0716af08bf27b004b5b935d24f">AST_SECURITY_EVENT_SUCCESSFUL_AUTH</a></div><div class="ttdoc">FYI FWIW, Successful authentication has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00097">security_events_defs.h:97</a></div></div>
<div class="ttc" id="netsock2_8h_html_aa2785c5990a086943fea750c980abbc3"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a></div><div class="ttdeci">ast_transport</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00059">netsock2.h:59</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_adc105808e97bd06ee0b39375c6c2a137"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#adc105808e97bd06ee0b39375c6c2a137">AST_SECURITY_EVENT_SUCCESSFUL_AUTH_VERSION</a></div><div class="ttdeci">#define AST_SECURITY_EVENT_SUCCESSFUL_AUTH_VERSION</div><div class="ttdoc">Event descriptor version. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00387">security_events_defs.h:387</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_af08538976e14908080145cb050f39510"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a></div><div class="ttdeci">#define AST_SEC_EVT(e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00139">security_events_defs.h:139</a></div></div>
<div class="ttc" id="structast__security__event__successful__auth_html"><div class="ttname"><a href="../../d6/d86/structast__security__event__successful__auth.html">ast_security_event_successful_auth</a></div><div class="ttdoc">Successful authentication. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00382">security_events_defs.h:382</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a81ec4f103fd2df808c6e8026ae6b72fe"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a></div><div class="ttdeci">static enum ast_transport security_event_get_transport(pjsip_rx_data *rdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">res/res_pjsip/security_events.c:34</a></div></div>
<div class="ttc" id="structast__security__event__successful__auth_html_a5853d232c74e8c3de4a3387c05c07df0"><div class="ttname"><a href="../../d6/d86/structast__security__event__successful__auth.html#a5853d232c74e8c3de4a3387c05c07df0">ast_security_event_successful_auth::common</a></div><div class="ttdeci">struct ast_security_event_common common</div><div class="ttdoc">Common security event descriptor elements. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00392">security_events_defs.h:392</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a4c5bd58d4eccdb8a5c48bda45f64200f"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a></div><div class="ttdeci">static void security_event_populate(pjsip_rx_data *rdata, char *call_id, size_t call_id_size, struct ast_sockaddr *local, struct ast_sockaddr *remote)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">res/res_pjsip/security_events.c:54</a></div></div>
<div class="ttc" id="include_2asterisk_2security__events_8h_html_ae13dc3d123710d7519588d54c51f8170"><div class="ttname"><a href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a></div><div class="ttdeci">int ast_security_event_report(const struct ast_security_event_common *sec)</div><div class="ttdoc">Report a security event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d30/main_2security__events_8c_source.html#l01171">main/security_events.c:1171</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_acc53efa5f3d89de6581a25661d3e50fd"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a></div><div class="ttdeci">static const char * get_account_id(struct ast_sip_endpoint *endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">res/res_pjsip/security_events.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afa522937191ad0d45711173590521d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa522937191ad0d45711173590521d47">&#9670;&nbsp;</a></span>ast_sip_report_failed_acl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_report_failed_acl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a security event notification for when an ACL check fails. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Pointer to the endpoint in use </td></tr>
    <tr><td class="paramname">rdata</td><td>Received message </td></tr>
    <tr><td class="paramname">name</td><td>Name of the ACL </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00102">102</a> of file <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html">res/res_pjsip/security_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00139">AST_SEC_EVT</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00048">AST_SECURITY_EVENT_FAILED_ACL</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00208">AST_SECURITY_EVENT_FAILED_ACL_VERSION</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l01171">ast_security_event_report()</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00213">ast_security_event_failed_acl::common</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00158">ast_security_event_common::event_type</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">get_account_id()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">security_event_get_transport()</a>, and <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">security_event_populate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00807">apply_endpoint_acl()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00845">apply_endpoint_contact_acl()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>, and <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01076">registrar_on_rx_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a> transport = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a>(rdata);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <span class="keywordtype">char</span> call_id[pj_strlen(&amp;rdata-&gt;msg_info.cid-&gt;id) + 1];</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> local, remote;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d53/structast__security__event__failed__acl.html">ast_security_event_failed_acl</a> failed_acl_event = {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;         .<a class="code" href="../../df/d53/structast__security__event__failed__acl.html#a5853d232c74e8c3de4a3387c05c07df0">common</a>.<a class="code" href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">event_type</a>  = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372ca598f4a7e416c29b499f2bbe828a6f036">AST_SECURITY_EVENT_FAILED_ACL</a>,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;         .common.version     = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#a9eb882bf892c0882de06605a4f6d78b2">AST_SECURITY_EVENT_FAILED_ACL_VERSION</a>,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;         .common.service     = <span class="stringliteral">&quot;PJSIP&quot;</span>,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;         .common.account_id  = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a>(endpoint),</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;         .common.local_addr  = {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;               .addr       = &amp;local,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;               .transport  = transport,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;         },</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;         .common.remote_addr = {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;               .addr       = &amp;remote,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;               .transport  = transport,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;         },</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;         .common.session_id  = call_id,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;         .acl_name           = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>,</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   };</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a>(rdata, call_id, <span class="keyword">sizeof</span>(call_id), &amp;local, &amp;remote);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <a class="code" href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a>(<a class="code" href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a>(&amp;failed_acl_event));</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="ttc" id="structast__security__event__common_html_ab6aa0eb589925a75d104087ce946a0ad"><div class="ttname"><a href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">ast_security_event_common::event_type</a></div><div class="ttdeci">enum ast_security_event_type event_type</div><div class="ttdoc">The security event sub-type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00158">security_events_defs.h:158</a></div></div>
<div class="ttc" id="netsock2_8h_html_aa2785c5990a086943fea750c980abbc3"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a></div><div class="ttdeci">ast_transport</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00059">netsock2.h:59</a></div></div>
<div class="ttc" id="structast__security__event__failed__acl_html"><div class="ttname"><a href="../../df/d53/structast__security__event__failed__acl.html">ast_security_event_failed_acl</a></div><div class="ttdoc">Checking against an IP access control list failed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00203">security_events_defs.h:203</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_af08538976e14908080145cb050f39510"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a></div><div class="ttdeci">#define AST_SEC_EVT(e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00139">security_events_defs.h:139</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_a9eb882bf892c0882de06605a4f6d78b2"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#a9eb882bf892c0882de06605a4f6d78b2">AST_SECURITY_EVENT_FAILED_ACL_VERSION</a></div><div class="ttdeci">#define AST_SECURITY_EVENT_FAILED_ACL_VERSION</div><div class="ttdoc">Event descriptor version. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00208">security_events_defs.h:208</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a81ec4f103fd2df808c6e8026ae6b72fe"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a></div><div class="ttdeci">static enum ast_transport security_event_get_transport(pjsip_rx_data *rdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">res/res_pjsip/security_events.c:34</a></div></div>
<div class="ttc" id="structast__security__event__failed__acl_html_a5853d232c74e8c3de4a3387c05c07df0"><div class="ttname"><a href="../../df/d53/structast__security__event__failed__acl.html#a5853d232c74e8c3de4a3387c05c07df0">ast_security_event_failed_acl::common</a></div><div class="ttdeci">struct ast_security_event_common common</div><div class="ttdoc">Common security event descriptor elements. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00213">security_events_defs.h:213</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_ac2b6df8229537d9dbb35aaf6bd82372ca598f4a7e416c29b499f2bbe828a6f036"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372ca598f4a7e416c29b499f2bbe828a6f036">AST_SECURITY_EVENT_FAILED_ACL</a></div><div class="ttdoc">Failed ACL. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00048">security_events_defs.h:48</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a4c5bd58d4eccdb8a5c48bda45f64200f"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a></div><div class="ttdeci">static void security_event_populate(pjsip_rx_data *rdata, char *call_id, size_t call_id_size, struct ast_sockaddr *local, struct ast_sockaddr *remote)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">res/res_pjsip/security_events.c:54</a></div></div>
<div class="ttc" id="include_2asterisk_2security__events_8h_html_ae13dc3d123710d7519588d54c51f8170"><div class="ttname"><a href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a></div><div class="ttdeci">int ast_security_event_report(const struct ast_security_event_common *sec)</div><div class="ttdoc">Report a security event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d30/main_2security__events_8c_source.html#l01171">main/security_events.c:1171</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_acc53efa5f3d89de6581a25661d3e50fd"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a></div><div class="ttdeci">static const char * get_account_id(struct ast_sip_endpoint *endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">res/res_pjsip/security_events.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a964541b2cceff1606e55de6cc639c651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a964541b2cceff1606e55de6cc639c651">&#9670;&nbsp;</a></span>ast_sip_report_invalid_endpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_report_invalid_endpoint </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a security event notification for when an invalid endpoint is requested. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the endpoint requested </td></tr>
    <tr><td class="paramname">rdata</td><td>Received message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00075">75</a> of file <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html">res/res_pjsip/security_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00139">AST_SEC_EVT</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00056">AST_SECURITY_EVENT_INVAL_ACCT_ID</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00229">AST_SECURITY_EVENT_INVAL_ACCT_ID_VERSION</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l01171">ast_security_event_report()</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00234">ast_security_event_inval_acct_id::common</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00158">ast_security_event_common::event_type</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">security_event_get_transport()</a>, and <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">security_event_populate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00683">check_endpoint()</a>, and <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00718">endpoint_lookup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a> transport = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a>(rdata);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="keywordtype">char</span> call_id[pj_strlen(&amp;rdata-&gt;msg_info.cid-&gt;id) + 1];</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> local, remote;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dc8/structast__security__event__inval__acct__id.html">ast_security_event_inval_acct_id</a> inval_acct_id = {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      .<a class="code" href="../../dd/dc8/structast__security__event__inval__acct__id.html#a5853d232c74e8c3de4a3387c05c07df0">common</a>.<a class="code" href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">event_type</a> = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372caee96f0d4fa24a2f49c4b0374c230d5d7">AST_SECURITY_EVENT_INVAL_ACCT_ID</a>,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      .common.version    = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#aba272dad0be48d171bd66fde6f64db37">AST_SECURITY_EVENT_INVAL_ACCT_ID_VERSION</a>,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      .common.service    = <span class="stringliteral">&quot;PJSIP&quot;</span>,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      .common.account_id = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      .common.local_addr = {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;         .addr      = &amp;local,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;         .transport = transport,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      },</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      .common.remote_addr = {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;         .addr       = &amp;remote,</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;         .transport = transport,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      },</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      .common.session_id = call_id,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   };</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a>(rdata, call_id, <span class="keyword">sizeof</span>(call_id), &amp;local, &amp;remote);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   <a class="code" href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a>(<a class="code" href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a>(&amp;inval_acct_id));</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="ttc" id="structast__security__event__common_html_ab6aa0eb589925a75d104087ce946a0ad"><div class="ttname"><a href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">ast_security_event_common::event_type</a></div><div class="ttdeci">enum ast_security_event_type event_type</div><div class="ttdoc">The security event sub-type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00158">security_events_defs.h:158</a></div></div>
<div class="ttc" id="netsock2_8h_html_aa2785c5990a086943fea750c980abbc3"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a></div><div class="ttdeci">ast_transport</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00059">netsock2.h:59</a></div></div>
<div class="ttc" id="structast__security__event__inval__acct__id_html_a5853d232c74e8c3de4a3387c05c07df0"><div class="ttname"><a href="../../dd/dc8/structast__security__event__inval__acct__id.html#a5853d232c74e8c3de4a3387c05c07df0">ast_security_event_inval_acct_id::common</a></div><div class="ttdeci">struct ast_security_event_common common</div><div class="ttdoc">Common security event descriptor elements. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00234">security_events_defs.h:234</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_af08538976e14908080145cb050f39510"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a></div><div class="ttdeci">#define AST_SEC_EVT(e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00139">security_events_defs.h:139</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a81ec4f103fd2df808c6e8026ae6b72fe"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a></div><div class="ttdeci">static enum ast_transport security_event_get_transport(pjsip_rx_data *rdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">res/res_pjsip/security_events.c:34</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_aba272dad0be48d171bd66fde6f64db37"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#aba272dad0be48d171bd66fde6f64db37">AST_SECURITY_EVENT_INVAL_ACCT_ID_VERSION</a></div><div class="ttdeci">#define AST_SECURITY_EVENT_INVAL_ACCT_ID_VERSION</div><div class="ttdoc">Event descriptor version. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00229">security_events_defs.h:229</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__security__event__inval__acct__id_html"><div class="ttname"><a href="../../dd/dc8/structast__security__event__inval__acct__id.html">ast_security_event_inval_acct_id</a></div><div class="ttdoc">Invalid account ID specified (invalid username, for example) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00224">security_events_defs.h:224</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_ac2b6df8229537d9dbb35aaf6bd82372caee96f0d4fa24a2f49c4b0374c230d5d7"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372caee96f0d4fa24a2f49c4b0374c230d5d7">AST_SECURITY_EVENT_INVAL_ACCT_ID</a></div><div class="ttdoc">Invalid Account ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00056">security_events_defs.h:56</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a4c5bd58d4eccdb8a5c48bda45f64200f"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a></div><div class="ttdeci">static void security_event_populate(pjsip_rx_data *rdata, char *call_id, size_t call_id_size, struct ast_sockaddr *local, struct ast_sockaddr *remote)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">res/res_pjsip/security_events.c:54</a></div></div>
<div class="ttc" id="include_2asterisk_2security__events_8h_html_ae13dc3d123710d7519588d54c51f8170"><div class="ttname"><a href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a></div><div class="ttdeci">int ast_security_event_report(const struct ast_security_event_common *sec)</div><div class="ttdoc">Report a security event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d30/main_2security__events_8c_source.html#l01171">main/security_events.c:1171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23b231b4a7f3a764fd071a854e9195c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b231b4a7f3a764fd071a854e9195c2">&#9670;&nbsp;</a></span>ast_sip_report_mem_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_report_mem_limit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a security event notification for when a memory limit is hit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Pointer to the endpoint in use </td></tr>
    <tr><td class="paramname">rdata</td><td>Received message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00259">259</a> of file <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html">res/res_pjsip/security_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00139">AST_SEC_EVT</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00070">AST_SECURITY_EVENT_MEM_LIMIT</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00261">AST_SECURITY_EVENT_MEM_LIMIT_VERSION</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l01171">ast_security_event_report()</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00266">ast_security_event_mem_limit::common</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00158">ast_security_event_common::event_type</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">get_account_id()</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">security_event_get_transport()</a>, and <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">security_event_populate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a> transport = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a>(rdata);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keywordtype">char</span> call_id[pj_strlen(&amp;rdata-&gt;msg_info.cid-&gt;id) + 1];</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> local, remote;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d76/structast__security__event__mem__limit.html">ast_security_event_mem_limit</a> mem_limit_event = {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      .<a class="code" href="../../db/d76/structast__security__event__mem__limit.html#a5853d232c74e8c3de4a3387c05c07df0">common</a>.<a class="code" href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">event_type</a>  = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372ca88f190e602baf759f0e525f7660ef5e9">AST_SECURITY_EVENT_MEM_LIMIT</a>,</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      .common.version     = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#a151d58ec9886cef66bd9e5dd469f886f">AST_SECURITY_EVENT_MEM_LIMIT_VERSION</a>,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      .common.service     = <span class="stringliteral">&quot;PJSIP&quot;</span>,</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      .common.account_id  = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a>(endpoint),</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      .common.local_addr  = {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;         .addr       = &amp;local,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;         .transport  = transport,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      },</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      .common.remote_addr = {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;         .addr       = &amp;remote,</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;         .transport  = transport,</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      },</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      .common.session_id  = call_id</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   };</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a>(rdata, call_id, <span class="keyword">sizeof</span>(call_id), &amp;local, &amp;remote);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <a class="code" href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a>(<a class="code" href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a>(&amp;mem_limit_event));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="ttc" id="structast__security__event__mem__limit_html_a5853d232c74e8c3de4a3387c05c07df0"><div class="ttname"><a href="../../db/d76/structast__security__event__mem__limit.html#a5853d232c74e8c3de4a3387c05c07df0">ast_security_event_mem_limit::common</a></div><div class="ttdeci">struct ast_security_event_common common</div><div class="ttdoc">Common security event descriptor elements. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00266">security_events_defs.h:266</a></div></div>
<div class="ttc" id="structast__security__event__common_html_ab6aa0eb589925a75d104087ce946a0ad"><div class="ttname"><a href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">ast_security_event_common::event_type</a></div><div class="ttdeci">enum ast_security_event_type event_type</div><div class="ttdoc">The security event sub-type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00158">security_events_defs.h:158</a></div></div>
<div class="ttc" id="netsock2_8h_html_aa2785c5990a086943fea750c980abbc3"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a></div><div class="ttdeci">ast_transport</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00059">netsock2.h:59</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_af08538976e14908080145cb050f39510"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a></div><div class="ttdeci">#define AST_SEC_EVT(e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00139">security_events_defs.h:139</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_ac2b6df8229537d9dbb35aaf6bd82372ca88f190e602baf759f0e525f7660ef5e9"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372ca88f190e602baf759f0e525f7660ef5e9">AST_SECURITY_EVENT_MEM_LIMIT</a></div><div class="ttdoc">Memory limit reached. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00070">security_events_defs.h:70</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a81ec4f103fd2df808c6e8026ae6b72fe"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a></div><div class="ttdeci">static enum ast_transport security_event_get_transport(pjsip_rx_data *rdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">res/res_pjsip/security_events.c:34</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_a151d58ec9886cef66bd9e5dd469f886f"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#a151d58ec9886cef66bd9e5dd469f886f">AST_SECURITY_EVENT_MEM_LIMIT_VERSION</a></div><div class="ttdeci">#define AST_SECURITY_EVENT_MEM_LIMIT_VERSION</div><div class="ttdoc">Event descriptor version. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00261">security_events_defs.h:261</a></div></div>
<div class="ttc" id="structast__security__event__mem__limit_html"><div class="ttname"><a href="../../db/d76/structast__security__event__mem__limit.html">ast_security_event_mem_limit</a></div><div class="ttdoc">Request denied because of a memory limit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00256">security_events_defs.h:256</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a4c5bd58d4eccdb8a5c48bda45f64200f"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a></div><div class="ttdeci">static void security_event_populate(pjsip_rx_data *rdata, char *call_id, size_t call_id_size, struct ast_sockaddr *local, struct ast_sockaddr *remote)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">res/res_pjsip/security_events.c:54</a></div></div>
<div class="ttc" id="include_2asterisk_2security__events_8h_html_ae13dc3d123710d7519588d54c51f8170"><div class="ttname"><a href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a></div><div class="ttdeci">int ast_security_event_report(const struct ast_security_event_common *sec)</div><div class="ttdoc">Report a security event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d30/main_2security__events_8c_source.html#l01171">main/security_events.c:1171</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_acc53efa5f3d89de6581a25661d3e50fd"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a></div><div class="ttdeci">static const char * get_account_id(struct ast_sip_endpoint *endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">res/res_pjsip/security_events.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a24ad1d4596f0644e856ff6e7ec2dd590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ad1d4596f0644e856ff6e7ec2dd590">&#9670;&nbsp;</a></span>ast_sip_report_req_no_support()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_report_req_no_support </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>req_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a security event notification for when a request is not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Pointer to the endpoint in use </td></tr>
    <tr><td class="paramname">rdata</td><td>Received message </td></tr>
    <tr><td class="paramname">req_type</td><td>the type of request </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00230">230</a> of file <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html">res/res_pjsip/security_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00139">AST_SEC_EVT</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l01171">ast_security_event_report()</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00081">AST_SECURITY_EVENT_REQ_NO_SUPPORT</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00293">AST_SECURITY_EVENT_REQ_NO_SUPPORT_VERSION</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00298">ast_security_event_req_no_support::common</a>, <a class="el" href="../../d7/dc2/security__events__defs_8h_source.html#l00158">ast_security_event_common::event_type</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">get_account_id()</a>, <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">security_event_get_transport()</a>, and <a class="el" href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">security_event_populate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01007">find_registrar_aor()</a>, and <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01076">registrar_on_rx_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a> transport = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a>(rdata);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <span class="keywordtype">char</span> call_id[pj_strlen(&amp;rdata-&gt;msg_info.cid-&gt;id) + 1];</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> local, remote;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__security__event__req__no__support.html">ast_security_event_req_no_support</a> req_no_support_event = {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      .<a class="code" href="../../d9/df5/structast__security__event__req__no__support.html#a5853d232c74e8c3de4a3387c05c07df0">common</a>.<a class="code" href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">event_type</a>  = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372ca420a3ec3b6afd1bbc14cd6d0142b1ff9">AST_SECURITY_EVENT_REQ_NO_SUPPORT</a>,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      .common.version     = <a class="code" href="../../d7/dc2/security__events__defs_8h.html#a408a83fac910bbaa2ad271e822c92d43">AST_SECURITY_EVENT_REQ_NO_SUPPORT_VERSION</a>,</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      .common.service     = <span class="stringliteral">&quot;PJSIP&quot;</span>,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      .common.account_id  = <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a>(endpoint),</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      .common.local_addr  = {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;         .addr       = &amp;local,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         .transport  = transport,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      },</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      .common.remote_addr = {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;         .addr       = &amp;remote,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;         .transport  = transport,</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      },</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      .common.session_id  = call_id,</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      .request_type       = req_type</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   };</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <a class="code" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a>(rdata, call_id, <span class="keyword">sizeof</span>(call_id), &amp;local, &amp;remote);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <a class="code" href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a>(<a class="code" href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a>(&amp;req_no_support_event));</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div><div class="ttc" id="structast__security__event__common_html_ab6aa0eb589925a75d104087ce946a0ad"><div class="ttname"><a href="../../dd/d40/structast__security__event__common.html#ab6aa0eb589925a75d104087ce946a0ad">ast_security_event_common::event_type</a></div><div class="ttdeci">enum ast_security_event_type event_type</div><div class="ttdoc">The security event sub-type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00158">security_events_defs.h:158</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_a408a83fac910bbaa2ad271e822c92d43"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#a408a83fac910bbaa2ad271e822c92d43">AST_SECURITY_EVENT_REQ_NO_SUPPORT_VERSION</a></div><div class="ttdeci">#define AST_SECURITY_EVENT_REQ_NO_SUPPORT_VERSION</div><div class="ttdoc">Event descriptor version. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00293">security_events_defs.h:293</a></div></div>
<div class="ttc" id="netsock2_8h_html_aa2785c5990a086943fea750c980abbc3"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3">ast_transport</a></div><div class="ttdeci">ast_transport</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00059">netsock2.h:59</a></div></div>
<div class="ttc" id="structast__security__event__req__no__support_html"><div class="ttname"><a href="../../d9/df5/structast__security__event__req__no__support.html">ast_security_event_req_no_support</a></div><div class="ttdoc">Request denied because we don&amp;#39;t support it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00288">security_events_defs.h:288</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_af08538976e14908080145cb050f39510"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#af08538976e14908080145cb050f39510">AST_SEC_EVT</a></div><div class="ttdeci">#define AST_SEC_EVT(e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00139">security_events_defs.h:139</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a81ec4f103fd2df808c6e8026ae6b72fe"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a81ec4f103fd2df808c6e8026ae6b72fe">security_event_get_transport</a></div><div class="ttdeci">static enum ast_transport security_event_get_transport(pjsip_rx_data *rdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00034">res/res_pjsip/security_events.c:34</a></div></div>
<div class="ttc" id="structast__security__event__req__no__support_html_a5853d232c74e8c3de4a3387c05c07df0"><div class="ttname"><a href="../../d9/df5/structast__security__event__req__no__support.html#a5853d232c74e8c3de4a3387c05c07df0">ast_security_event_req_no_support::common</a></div><div class="ttdeci">struct ast_security_event_common common</div><div class="ttdoc">Common security event descriptor elements. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00298">security_events_defs.h:298</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_a4c5bd58d4eccdb8a5c48bda45f64200f"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#a4c5bd58d4eccdb8a5c48bda45f64200f">security_event_populate</a></div><div class="ttdeci">static void security_event_populate(pjsip_rx_data *rdata, char *call_id, size_t call_id_size, struct ast_sockaddr *local, struct ast_sockaddr *remote)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00054">res/res_pjsip/security_events.c:54</a></div></div>
<div class="ttc" id="include_2asterisk_2security__events_8h_html_ae13dc3d123710d7519588d54c51f8170"><div class="ttname"><a href="../../d0/d29/include_2asterisk_2security__events_8h.html#ae13dc3d123710d7519588d54c51f8170">ast_security_event_report</a></div><div class="ttdeci">int ast_security_event_report(const struct ast_security_event_common *sec)</div><div class="ttdoc">Report a security event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d30/main_2security__events_8c_source.html#l01171">main/security_events.c:1171</a></div></div>
<div class="ttc" id="res_2res__pjsip_2security__events_8c_html_acc53efa5f3d89de6581a25661d3e50fd"><div class="ttname"><a href="../../d2/d63/res_2res__pjsip_2security__events_8c.html#acc53efa5f3d89de6581a25661d3e50fd">get_account_id</a></div><div class="ttdeci">static const char * get_account_id(struct ast_sip_endpoint *endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d63/res_2res__pjsip_2security__events_8c_source.html#l00068">res/res_pjsip/security_events.c:68</a></div></div>
<div class="ttc" id="security__events__defs_8h_html_ac2b6df8229537d9dbb35aaf6bd82372ca420a3ec3b6afd1bbc14cd6d0142b1ff9"><div class="ttname"><a href="../../d7/dc2/security__events__defs_8h.html#ac2b6df8229537d9dbb35aaf6bd82372ca420a3ec3b6afd1bbc14cd6d0142b1ff9">AST_SECURITY_EVENT_REQ_NO_SUPPORT</a></div><div class="ttdoc">A request was made that we understand, but do not support. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc2/security__events__defs_8h_source.html#l00081">security_events_defs.h:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a22df541cc658cbeb30d34df2902b37ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22df541cc658cbeb30d34df2902b37ef">&#9670;&nbsp;</a></span>ast_sip_requires_authentication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_requires_authentication </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if an incoming request requires authentication. </p>
<p>This calls into the registered authenticator's requires_authentication callback in order to determine if the request requires authentication.</p>
<p>If there is no registered authenticator, then authentication will be assumed not to be required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>The endpoint from which the request originates </td></tr>
    <tr><td class="paramname">rdata</td><td>The incoming SIP request </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-zero</td><td>The request requires authentication </td></tr>
    <tr><td class="paramname">0</td><td>The request does not require authentication </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03361">3361</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00905">ast_sip_endpoint::allow_unauthenticated_options</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00955">ast_sip_authenticator::requires_authentication</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00880">authenticate()</a>.</p>
<div class="fragment"><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;{</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;   <span class="keywordflow">if</span> (endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#ab128ab9b20b31b95c793e752f986b35b">allow_unauthenticated_options</a></div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;      &amp;&amp; !pjsip_method_cmp(&amp;rdata-&gt;msg_info.msg-&gt;line.req.method, &amp;pjsip_options_method)) {</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Skipping OPTIONS authentication due to endpoint configuration\n&quot;</span>);</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;   }</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a>) {</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No SIP authenticator registered. Assuming authentication is not required\n&quot;</span>);</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;   }</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a>-&gt;<a class="code" href="../../d9/de9/structast__sip__authenticator.html#ae4251ee7afaa0f05d76c91b0f1f60e83">requires_authentication</a>(endpoint, rdata);</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_ac51146e0275b19fab3031e6176c745e8"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a></div><div class="ttdeci">static struct ast_sip_authenticator * registered_authenticator</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03336">res_pjsip.c:3336</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__sip__authenticator_html_ae4251ee7afaa0f05d76c91b0f1f60e83"><div class="ttname"><a href="../../d9/de9/structast__sip__authenticator.html#ae4251ee7afaa0f05d76c91b0f1f60e83">ast_sip_authenticator::requires_authentication</a></div><div class="ttdeci">int(* requires_authentication)(struct ast_sip_endpoint *endpoint, pjsip_rx_data *rdata)</div><div class="ttdoc">Check if a request requires authentication See ast_sip_requires_authentication for more details...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00955">res_pjsip.h:955</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html_ab128ab9b20b31b95c793e752f986b35b"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#ab128ab9b20b31b95c793e752f986b35b">ast_sip_endpoint::allow_unauthenticated_options</a></div><div class="ttdeci">unsigned int allow_unauthenticated_options</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00905">res_pjsip.h:905</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a72f43e82cb97ea0b744a4a0ba7ff0a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72f43e82cb97ea0b744a4a0ba7ff0a43">&#9670;&nbsp;</a></span>ast_sip_retrieve_auths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_retrieve_auths </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *&#160;</td>
          <td class="paramname"><em>auths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve relevant SIP auth structures from sorcery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">auths</td><td>Vector of sorcery IDs of auth credentials to retrieve </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>The retrieved auths are stored here </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02360">2360</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, and <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00405">digest_check_auth()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01545">set_outbound_initial_authentication_credentials()</a>.</p>
<div class="fragment"><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;{</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(auths); ++i) {</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;      <span class="comment">/* Using AST_VECTOR_GET is safe since the vector is immutable */</span></div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(auths, i);</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      out[i] = <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(<a class="code" href="../../dc/df6/pjsip__configuration_8c.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), SIP_SORCERY_AUTH_TYPE, name);</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <span class="keywordflow">if</span> (!out[i]) {</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Couldn&#39;t find auth &#39;%s&#39;. Cannot authenticate\n&quot;</span>, name);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      }</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;   }</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa470ba4d30d13a73a7f161fefcbd9ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa470ba4d30d13a73a7f161fefcbd9ecc">&#9670;&nbsp;</a></span>ast_sip_retrieve_auths_vector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_retrieve_auths_vector </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/dca/structast__sip__auth__vector.html">ast_sip_auth_vector</a> *&#160;</td>
          <td class="paramname"><em>auth_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ast_sip_auth_objects_vector *&#160;</td>
          <td class="paramname"><em>auth_objects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02385">2385</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d61/res__pjsip__outbound__authenticator__digest_8c_source.html#l00410">digest_create_request_with_auth()</a>.</p>
<div class="fragment"><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;{</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(auth_ids); ++i) {</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;      <span class="comment">/* Using AST_VECTOR_GET is safe since the vector is immutable */</span></div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(auth_ids, i);</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> *auth_object = <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(<a class="code" href="../../dc/df6/pjsip__configuration_8c.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), SIP_SORCERY_AUTH_TYPE, name);</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;      <span class="keywordflow">if</span> (!auth_object) {</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Auth object &#39;%s&#39; could not be found\n&quot;</span>, name);</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(auth_objects, auth_object);</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;      }</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;   }</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(auth_objects) == <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(auth_ids) ? 0 : -1;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;}</div><div class="ttc" id="structast__sip__auth_html"><div class="ttname"><a href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00444">res_pjsip.h:444</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a833b03a523fee9bde77af138a38e3dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a833b03a523fee9bde77af138a38e3dfa">&#9670;&nbsp;</a></span>ast_sip_send_out_of_dialog_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_send_out_of_dialog_request </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *token, pjsip_event *e)&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General purpose method for sending an Out-Of-Dialog SIP request. </p>
<p>This is a companion function for <a class="el" href="../../de/d96/res__pjsip_8c.html#ac981149e3fb0f7fc8b6e75607b1b2ad0">ast_sip_create_request</a>. The request created there can be passed to this function, though any request may be passed in.</p>
<p>This will automatically set up handling outbound authentication challenges if they arrive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tdata</td><td>The request to send </td></tr>
    <tr><td class="paramname">endpoint</td><td>Optional. If specified, the out-of-dialog request is sent to the endpoint. </td></tr>
    <tr><td class="paramname">timeout.</td><td>If non-zero, after the timeout the transaction will be terminated and the callback will be called with the PJSIP_EVENT_TIMER type. </td></tr>
    <tr><td class="paramname">token</td><td>Data to be passed to the callback upon receipt of out-of-dialog response. </td></tr>
    <tr><td class="paramname">callback</td><td>Callback to be called upon receipt of out-of-dialog response.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure (out-of-dialog callback will not be called.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Timeout processing: There are 2 timers associated with this request, PJSIP timer_b which is set globally in the "system" section of pjsip.conf, and the timeout specified on this call. The timer that expires first (before normal completion) will cause the callback to be run with e-&gt;body.tsx_state.type = PJSIP_EVENT_TIMER. The timer that expires second is simply ignored and the callback is not run again. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04993">4993</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00301">ast_sip_message_apply_transport()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02638">ast_sip_mod_data_get</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02670">ast_sip_mod_data_set</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04554">does_method_match()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04751">endpt_send_request()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02890">ast_sip_supplement::method</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03264">MOD_DATA_CONTACT</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02931">ast_sip_supplement::outgoing_request</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04589">send_request_data_alloc()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04373">supplement_module</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00817">ast_sip_endpoint::transport</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05034">ast_sip_send_request()</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00847">sip_options_qualify_contact()</a>.</p>
<div class="fragment"><div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;{</div><div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a> *supplement;</div><div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d8e/structsend__request__data.html">send_request_data</a> *req_data;</div><div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="code" href="../../d9/d03/structcontact.html">contact</a>;</div><div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;</div><div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;   req_data = <a class="code" href="../../de/d96/res__pjsip_8c.html#af13a3926b27d237d40764862b0a6347a">send_request_data_alloc</a>(endpoint, token, callback);</div><div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;   <span class="keywordflow">if</span> (!req_data) {</div><div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;      pjsip_tx_data_dec_ref(tdata);</div><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;   }</div><div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;</div><div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;   <span class="keywordflow">if</span> (endpoint) {</div><div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a594764e7c50b75d6e15709572e06a318">ast_sip_message_apply_transport</a>(endpoint-&gt;<a class="code" href="../../d3/d46/structast__sip__endpoint.html#a44cdbda076f37ba09880ba74d942b606">transport</a>, tdata);</div><div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;   }</div><div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;</div><div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;   contact = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aad194ead974937834375b0ac8d37a7c2">ast_sip_mod_data_get</a>(tdata-&gt;mod_data, <a class="code" href="../../de/d96/res__pjsip_8c.html#ad4148e8b866195343e8ee93ba9dd229f">supplement_module</a>.id, <a class="code" href="../../de/d96/res__pjsip_8c.html#a38381dc3e18f7d4bffe6533bac848ca3">MOD_DATA_CONTACT</a>);</div><div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;</div><div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d7/db8/structsupplements.html">supplements</a>);</div><div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d7/db8/structsupplements.html">supplements</a>, supplement, next) {</div><div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;      <span class="keywordflow">if</span> (supplement-&gt;<a class="code" href="../../df/d71/structast__sip__supplement.html#a1816e986a825275a05d1de0c4297a206">outgoing_request</a></div><div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;         &amp;&amp; <a class="code" href="../../de/d96/res__pjsip_8c.html#adfed42a1933e5cd396c5125d2199a14a">does_method_match</a>(&amp;tdata-&gt;msg-&gt;line.req.method.name, supplement-&gt;<a class="code" href="../../df/d71/structast__sip__supplement.html#a8b44a03925325ceaf2de7b079b1541a1">method</a>)) {</div><div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;         supplement-&gt;<a class="code" href="../../df/d71/structast__sip__supplement.html#a1816e986a825275a05d1de0c4297a206">outgoing_request</a>(endpoint, contact, tdata);</div><div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;      }</div><div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;   }</div><div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/db8/structsupplements.html">supplements</a>);</div><div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;</div><div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a9937f98867d28da0cc0e8590d9c9ffa4">ast_sip_mod_data_set</a>(tdata-&gt;pool, tdata-&gt;mod_data, <a class="code" href="../../de/d96/res__pjsip_8c.html#ad4148e8b866195343e8ee93ba9dd229f">supplement_module</a>.id, <a class="code" href="../../de/d96/res__pjsip_8c.html#a38381dc3e18f7d4bffe6533bac848ca3">MOD_DATA_CONTACT</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(contact);</div><div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;</div><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d96/res__pjsip_8c.html#a8b67a512469864e7ed2add9b85e9dd4b">endpt_send_request</a>(endpoint, tdata, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, req_data, <a class="code" href="../../de/d96/res__pjsip_8c.html#a687c566135e86195175d937499c14956">send_request_cb</a>)</div><div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;      != PJ_SUCCESS) {</div><div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(req_data);</div><div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;   }</div><div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;</div><div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;}</div><div class="ttc" id="structast__sip__endpoint_html_a44cdbda076f37ba09880ba74d942b606"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html#a44cdbda076f37ba09880ba74d942b606">ast_sip_endpoint::transport</a></div><div class="ttdeci">const ast_string_field transport</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00817">res_pjsip.h:817</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_af13a3926b27d237d40764862b0a6347a"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#af13a3926b27d237d40764862b0a6347a">send_request_data_alloc</a></div><div class="ttdeci">static struct send_request_data * send_request_data_alloc(struct ast_sip_endpoint *endpoint, void *token, void(*callback)(void *token, pjsip_event *e))</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04589">res_pjsip.c:4589</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structast__sip__supplement_html_a8b44a03925325ceaf2de7b079b1541a1"><div class="ttname"><a href="../../df/d71/structast__sip__supplement.html#a8b44a03925325ceaf2de7b079b1541a1">ast_sip_supplement::method</a></div><div class="ttdeci">const char * method</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02890">res_pjsip.h:2890</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_ad4148e8b866195343e8ee93ba9dd229f"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ad4148e8b866195343e8ee93ba9dd229f">supplement_module</a></div><div class="ttdeci">static pjsip_module supplement_module</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04373">res_pjsip.c:4373</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a9937f98867d28da0cc0e8590d9c9ffa4"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a9937f98867d28da0cc0e8590d9c9ffa4">ast_sip_mod_data_set</a></div><div class="ttdeci">#define ast_sip_mod_data_set(pool, mod_data, id, key, val)</div><div class="ttdoc">Utilizing a mod_data array for a given id, set the value associated with the given key...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02670">res_pjsip.h:2670</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aad194ead974937834375b0ac8d37a7c2"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aad194ead974937834375b0ac8d37a7c2">ast_sip_mod_data_get</a></div><div class="ttdeci">#define ast_sip_mod_data_get(mod_data, id, key)</div><div class="ttdoc">Using the dictionary stored in mod_data array at a given id, retrieve the value associated with the g...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02638">res_pjsip.h:2638</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a8b67a512469864e7ed2add9b85e9dd4b"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a8b67a512469864e7ed2add9b85e9dd4b">endpt_send_request</a></div><div class="ttdeci">static pj_status_t endpt_send_request(struct ast_sip_endpoint *endpoint, pjsip_tx_data *tdata, pj_int32_t timeout, void *token, pjsip_endpt_send_callback cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04751">res_pjsip.c:4751</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_adfed42a1933e5cd396c5125d2199a14a"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#adfed42a1933e5cd396c5125d2199a14a">does_method_match</a></div><div class="ttdeci">static pj_bool_t does_method_match(const pj_str_t *message_method, const char *supplement_method)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04554">res_pjsip.c:4554</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a594764e7c50b75d6e15709572e06a318"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a594764e7c50b75d6e15709572e06a318">ast_sip_message_apply_transport</a></div><div class="ttdeci">void ast_sip_message_apply_transport(const char *transport_name, pjsip_tx_data *tdata)</div><div class="ttdoc">Apply the configuration for a transport to an outgoing message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l00301">config_transport.c:301</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a38381dc3e18f7d4bffe6533bac848ca3"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a38381dc3e18f7d4bffe6533bac848ca3">MOD_DATA_CONTACT</a></div><div class="ttdeci">#define MOD_DATA_CONTACT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03264">res_pjsip.c:3264</a></div></div>
<div class="ttc" id="structsupplements_html"><div class="ttname"><a href="../../d7/db8/structsupplements.html">supplements</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04509">res_pjsip.c:4509</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__sip__supplement_html"><div class="ttname"><a href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a></div><div class="ttdoc">A supplement to SIP message processing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02888">res_pjsip.h:2888</a></div></div>
<div class="ttc" id="structsend__request__data_html"><div class="ttname"><a href="../../d5/d8e/structsend__request__data.html">send_request_data</a></div><div class="ttdoc">Structure to hold information about an outbound request. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04571">res_pjsip.c:4571</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
<div class="ttc" id="structast__sip__supplement_html_a1816e986a825275a05d1de0c4297a206"><div class="ttname"><a href="../../df/d71/structast__sip__supplement.html#a1816e986a825275a05d1de0c4297a206">ast_sip_supplement::outgoing_request</a></div><div class="ttdeci">void(* outgoing_request)(struct ast_sip_endpoint *endpoint, struct ast_sip_contact *contact, struct pjsip_tx_data *tdata)</div><div class="ttdoc">Called on an outgoing SIP request This method is always called from a SIP servant thread...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02931">res_pjsip.h:2931</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a687c566135e86195175d937499c14956"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a687c566135e86195175d937499c14956">send_request_cb</a></div><div class="ttdeci">static void send_request_cb(void *token, pjsip_event *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04937">res_pjsip.c:4937</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9302fd362f9d52147d928c5bc4740433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9302fd362f9d52147d928c5bc4740433">&#9670;&nbsp;</a></span>ast_sip_send_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_send_request </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pjsip_dialog *&#160;</td>
          <td class="paramname"><em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *token, pjsip_event *e)&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General purpose method for sending a SIP request. </p>
<p>This is a companion function for <a class="el" href="../../de/d96/res__pjsip_8c.html#ac981149e3fb0f7fc8b6e75607b1b2ad0">ast_sip_create_request</a>. The request created there can be passed to this function, though any request may be passed in.</p>
<p>This will automatically set up handling outbound authentication challenges if they arrive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tdata</td><td>The request to send </td></tr>
    <tr><td class="paramname">dlg</td><td>Optional. The dialog in which the request is sent. Otherwise it is out-of-dialog. </td></tr>
    <tr><td class="paramname">endpoint</td><td>Optional. If specified, the out-of-dialog request is sent to the endpoint. </td></tr>
    <tr><td class="paramname">token</td><td>Data to be passed to the callback upon receipt of out-of-dialog response. </td></tr>
    <tr><td class="paramname">callback</td><td>Callback to be called upon receipt of out-of-dialog response.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure (out-of-dialog callback will not be called.) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05034">5034</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04993">ast_sip_send_out_of_dialog_request()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04545">send_in_dialog_request()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01221">msg_send()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00751">notify_channel()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00645">notify_contact()</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00709">notify_uri()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l00371">send_unsolicited_mwi_notify_to_contact()</a>, and <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02744">sendtext()</a>.</p>
<div class="fragment"><div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;{</div><div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(tdata-&gt;msg-&gt;type == PJSIP_REQUEST_MSG);</div><div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;</div><div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;   <span class="keywordflow">if</span> (dlg) {</div><div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a7daa7ca393a1187a33ce4952c2458c18">send_in_dialog_request</a>(tdata, dlg);</div><div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a833b03a523fee9bde77af138a38e3dfa">ast_sip_send_out_of_dialog_request</a>(tdata, endpoint, -1, token, callback);</div><div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;   }</div><div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;}</div><div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a833b03a523fee9bde77af138a38e3dfa"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a833b03a523fee9bde77af138a38e3dfa">ast_sip_send_out_of_dialog_request</a></div><div class="ttdeci">int ast_sip_send_out_of_dialog_request(pjsip_tx_data *tdata, struct ast_sip_endpoint *endpoint, int timeout, void *token, void(*callback)(void *token, pjsip_event *e))</div><div class="ttdoc">General purpose method for sending an Out-Of-Dialog SIP request. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04993">res_pjsip.c:4993</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a7daa7ca393a1187a33ce4952c2458c18"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a7daa7ca393a1187a33ce4952c2458c18">send_in_dialog_request</a></div><div class="ttdeci">static int send_in_dialog_request(pjsip_tx_data *tdata, struct pjsip_dialog *dlg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04545">res_pjsip.c:4545</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23dc9da0cb0fd4ea9d64fb9901c254a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23dc9da0cb0fd4ea9d64fb9901c254a4">&#9670;&nbsp;</a></span>ast_sip_send_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_send_response </td>
          <td>(</td>
          <td class="paramtype">pjsip_response_addr *&#160;</td>
          <td class="paramname"><em>res_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>sip_endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a response to an out of dialog request. </p>
<p>Use this function sparingly, since this does not create a transaction within PJSIP. This means that if the request is retransmitted, it is your responsibility to detect this and not process the same request twice, and to send the same response for each retransmission.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res_addr</td><td>The response address for this response </td></tr>
    <tr><td class="paramname">tdata</td><td>The response to send </td></tr>
    <tr><td class="paramname">endpoint</td><td>The <a class="el" href="../../d3/d46/structast__sip__endpoint.html" title="An entity with which Asterisk communicates. ">ast_sip_endpoint</a> associated with this response</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05407">5407</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03718">ast_sip_get_pjsip_endpoint()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05385">supplement_outgoing_response()</a>.</p>
<div class="fragment"><div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;{</div><div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;   pj_status_t <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>;</div><div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;</div><div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a0c1dbd9c8b20b85be851d6920d058d0b">supplement_outgoing_response</a>(tdata, sip_endpoint);</div><div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;   status = pjsip_endpt_send_response(<a class="code" href="../../de/d96/res__pjsip_8c.html#a785afb501e315c8a97ad476fb6a8be1d">ast_sip_get_pjsip_endpoint</a>(), res_addr, tdata, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;   <span class="keywordflow">if</span> (status != PJ_SUCCESS) {</div><div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;      pjsip_tx_data_dec_ref(tdata);</div><div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;   }</div><div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;</div><div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;   <span class="keywordflow">return</span> status == PJ_SUCCESS ? 0 : -1;</div><div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a0c1dbd9c8b20b85be851d6920d058d0b"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a0c1dbd9c8b20b85be851d6920d058d0b">supplement_outgoing_response</a></div><div class="ttdeci">static void supplement_outgoing_response(pjsip_tx_data *tdata, struct ast_sip_endpoint *sip_endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05385">res_pjsip.c:5385</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a785afb501e315c8a97ad476fb6a8be1d"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a785afb501e315c8a97ad476fb6a8be1d">ast_sip_get_pjsip_endpoint</a></div><div class="ttdeci">pjsip_endpoint * ast_sip_get_pjsip_endpoint(void)</div><div class="ttdoc">Get a pointer to the PJSIP endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03718">res_pjsip.c:3718</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae207f7592aa7a69d0425a77bb8aa494d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae207f7592aa7a69d0425a77bb8aa494d">&#9670;&nbsp;</a></span>ast_sip_send_stateful_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_send_stateful_response </td>
          <td>(</td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>sip_endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a stateful response to an out of dialog request. </p>
<p>This creates a transaction within PJSIP, meaning that if the request that we are responding to is retransmitted, we will not attempt to re-handle the request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdata</td><td>The request that is being responded to </td></tr>
    <tr><td class="paramname">tdata</td><td>The response to send </td></tr>
    <tr><td class="paramname">endpoint</td><td>The <a class="el" href="../../d3/d46/structast__sip__endpoint.html" title="An entity with which Asterisk communicates. ">ast_sip_endpoint</a> associated with this response</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>13.4.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05420">5420</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02638">ast_sip_mod_data_get</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02670">ast_sip_mod_data_set</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03264">MOD_DATA_CONTACT</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04373">supplement_module</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05385">supplement_outgoing_response()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00900">register_aor()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00215">send_options_response()</a>, and <a class="el" href="../../da/d83/res__pjsip__messaging_8c_source.html#l01378">send_response()</a>.</p>
<div class="fragment"><div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;{</div><div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;   pjsip_transaction *tsx;</div><div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;</div><div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;   <span class="keywordflow">if</span> (pjsip_tsx_create_uas(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, rdata, &amp;tsx) != PJ_SUCCESS) {</div><div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="code" href="../../d9/d03/structcontact.html">contact</a>;</div><div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;</div><div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;      <span class="comment">/* ast_sip_create_response bumps the refcount of the contact and adds it to the tdata.</span></div><div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;<span class="comment">       * We&#39;ll leak that reference if we don&#39;t get rid of it here.</span></div><div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;      contact = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aad194ead974937834375b0ac8d37a7c2">ast_sip_mod_data_get</a>(tdata-&gt;mod_data, <a class="code" href="../../de/d96/res__pjsip_8c.html#ad4148e8b866195343e8ee93ba9dd229f">supplement_module</a>.id, <a class="code" href="../../de/d96/res__pjsip_8c.html#a38381dc3e18f7d4bffe6533bac848ca3">MOD_DATA_CONTACT</a>);</div><div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(contact);</div><div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a9937f98867d28da0cc0e8590d9c9ffa4">ast_sip_mod_data_set</a>(tdata-&gt;pool, tdata-&gt;mod_data, <a class="code" href="../../de/d96/res__pjsip_8c.html#ad4148e8b866195343e8ee93ba9dd229f">supplement_module</a>.id, <a class="code" href="../../de/d96/res__pjsip_8c.html#a38381dc3e18f7d4bffe6533bac848ca3">MOD_DATA_CONTACT</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;      pjsip_tx_data_dec_ref(tdata);</div><div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;   }</div><div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;   pjsip_tsx_recv_msg(tsx, rdata);</div><div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;</div><div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a0c1dbd9c8b20b85be851d6920d058d0b">supplement_outgoing_response</a>(tdata, sip_endpoint);</div><div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;</div><div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;   <span class="keywordflow">if</span> (pjsip_tsx_send_msg(tsx, tdata) != PJ_SUCCESS) {</div><div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;      pjsip_tx_data_dec_ref(tdata);</div><div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;   }</div><div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;</div><div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_ad4148e8b866195343e8ee93ba9dd229f"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ad4148e8b866195343e8ee93ba9dd229f">supplement_module</a></div><div class="ttdeci">static pjsip_module supplement_module</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04373">res_pjsip.c:4373</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a9937f98867d28da0cc0e8590d9c9ffa4"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a9937f98867d28da0cc0e8590d9c9ffa4">ast_sip_mod_data_set</a></div><div class="ttdeci">#define ast_sip_mod_data_set(pool, mod_data, id, key, val)</div><div class="ttdoc">Utilizing a mod_data array for a given id, set the value associated with the given key...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02670">res_pjsip.h:2670</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aad194ead974937834375b0ac8d37a7c2"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aad194ead974937834375b0ac8d37a7c2">ast_sip_mod_data_get</a></div><div class="ttdeci">#define ast_sip_mod_data_get(mod_data, id, key)</div><div class="ttdoc">Using the dictionary stored in mod_data array at a given id, retrieve the value associated with the g...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02638">res_pjsip.h:2638</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a0c1dbd9c8b20b85be851d6920d058d0b"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a0c1dbd9c8b20b85be851d6920d058d0b">supplement_outgoing_response</a></div><div class="ttdeci">static void supplement_outgoing_response(pjsip_tx_data *tdata, struct ast_sip_endpoint *sip_endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05385">res_pjsip.c:5385</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a38381dc3e18f7d4bffe6533bac848ca3"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a38381dc3e18f7d4bffe6533bac848ca3">MOD_DATA_CONTACT</a></div><div class="ttdeci">#define MOD_DATA_CONTACT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03264">res_pjsip.c:3264</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d3bb8496e8ca801ce7e5ff204a28837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d3bb8496e8ca801ce7e5ff204a28837">&#9670;&nbsp;</a></span>ast_sip_service_route_vector_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ast_sip_service_route_vector* ast_sip_service_route_vector_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a vector of service routes. </p>
<dl class="section since"><dt>Since</dt><dd>17.0.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>success </td></tr>
    <tr><td class="paramname">NULL</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00352">352</a> of file <a class="el" href="../../d3/d17/config__transport_8c_source.html">config_transport.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00986">save_response_fields_to_transport()</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   <span class="keyword">struct </span>ast_sip_service_route_vector *service_routes;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   service_routes = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*service_routes));</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="keywordflow">if</span> (!service_routes) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(service_routes, 0);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keywordflow">return</span> service_routes;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a790e1a3ec85fd649e267eee830b565c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790e1a3ec85fd649e267eee830b565c4">&#9670;&nbsp;</a></span>ast_sip_service_route_vector_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_service_route_vector_destroy </td>
          <td>(</td>
          <td class="paramtype">struct ast_sip_service_route_vector *&#160;</td>
          <td class="paramname"><em>service_routes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a vector of service routes. </p>
<dl class="section since"><dt>Since</dt><dd>17.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">service_routes</td><td>A vector of service routes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00366">366</a> of file <a class="el" href="../../d3/d17/config__transport_8c_source.html">config_transport.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, and <a class="el" href="../../d6/d68/vector_8h_source.html#l00865">AST_VECTOR_CALLBACK_VOID</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00270">ast_sip_transport_state_set_service_routes()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00986">save_response_fields_to_transport()</a>.</p>
<div class="fragment"><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <span class="keywordflow">if</span> (!service_routes) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a>(service_routes, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(service_routes);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div><div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="vector_8h_html_aeb9853664dde8a7df8bc7ea180d73d54"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a></div><div class="ttdeci">#define AST_VECTOR_CALLBACK_VOID(vec, callback,...)</div><div class="ttdoc">Execute a callback on every element in a vector disregarding callback return. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00865">vector.h:865</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac41d89bd55a72ddfc32f657e6bc51908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41d89bd55a72ddfc32f657e6bc51908">&#9670;&nbsp;</a></span>ast_sip_set_outbound_proxy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_set_outbound_proxy </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>proxy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the outbound proxy for an outbound SIP message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tdata</td><td>The message to set the outbound proxy on </td></tr>
    <tr><td class="paramname">proxy</td><td>SIP uri of the proxy </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05047">5047</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04380">create_out_of_dialog_request()</a>, <a class="el" href="../../d9/d91/res__pjsip__path_8c_source.html#l00165">path_outgoing_request()</a>, and <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00847">sip_options_qualify_contact()</a>.</p>
<div class="fragment"><div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;{</div><div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;   pjsip_route_hdr *route;</div><div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> pj_str_t ROUTE_HNAME = { <span class="stringliteral">&quot;Route&quot;</span>, 5 };</div><div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;   pj_str_t <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;</div><div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;   pj_strdup2_with_null(tdata-&gt;pool, &amp;tmp, proxy);</div><div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;   <span class="keywordflow">if</span> (!(route = pjsip_parse_hdr(tdata-&gt;pool, &amp;ROUTE_HNAME, tmp.ptr, tmp.slen, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;   }</div><div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;</div><div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;   pj_list_insert_nodes_before(&amp;tdata-&gt;msg-&gt;hdr, (pjsip_hdr*)route);</div><div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;</div><div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a74c80b6cedcf4cc847f2b81ba6437337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74c80b6cedcf4cc847f2b81ba6437337">&#9670;&nbsp;</a></span>ast_sip_set_tpselector_from_ep_or_uri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_set_tpselector_from_ep_or_uri </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_sip_uri *&#160;</td>
          <td class="paramname"><em>sip_uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tpselector *&#160;</td>
          <td class="paramname"><em>selector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets pjsip_tpselector from an endpoint or uri. </p>
<dl class="section since"><dt>Since</dt><dd>13.15.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>If endpoint-&gt;transport is set, it's used </td></tr>
    <tr><td class="paramname">sip_uri</td><td>If sip_uri contains a x-ast-txp parameter, it's used </td></tr>
    <tr><td class="paramname">selector</td><td>The selector to be populated</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03975">3975</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03762">ast_sip_get_transport_name()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03957">ast_sip_set_tpselector_from_transport_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03791">ast_sip_dlg_set_transport()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04177">create_dialog_uas()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04380">create_out_of_dialog_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;{</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;   <span class="keywordtype">char</span> transport_name[128];</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d96/res__pjsip_8c.html#aa1c1bd79cf3f3c57a0efbfd31ff45f2f">ast_sip_get_transport_name</a>(endpoint, sip_uri, transport_name, <span class="keyword">sizeof</span>(transport_name))) {</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;   }</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#ac94b7c59f69d31b962e42098955f8fa4">ast_sip_set_tpselector_from_transport_name</a>(transport_name, selector);</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_ac94b7c59f69d31b962e42098955f8fa4"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ac94b7c59f69d31b962e42098955f8fa4">ast_sip_set_tpselector_from_transport_name</a></div><div class="ttdeci">int ast_sip_set_tpselector_from_transport_name(const char *transport_name, pjsip_tpselector *selector)</div><div class="ttdoc">Sets pjsip_tpselector from ast_sip_transport. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03957">res_pjsip.c:3957</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_aa1c1bd79cf3f3c57a0efbfd31ff45f2f"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#aa1c1bd79cf3f3c57a0efbfd31ff45f2f">ast_sip_get_transport_name</a></div><div class="ttdeci">int ast_sip_get_transport_name(const struct ast_sip_endpoint *endpoint, pjsip_sip_uri *sip_uri, char *buf, size_t buf_len)</div><div class="ttdoc">Get the transport name from an endpoint or request uri. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03762">res_pjsip.c:3762</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a72d9aae56d12729bff60ac4f145db3fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72d9aae56d12729bff60ac4f145db3fc">&#9670;&nbsp;</a></span>ast_sip_set_tpselector_from_transport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_set_tpselector_from_transport </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d1/d04/structast__sip__transport.html">ast_sip_transport</a> *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tpselector *&#160;</td>
          <td class="paramname"><em>selector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets pjsip_tpselector from <a class="el" href="../../d1/d04/structast__sip__transport.html" title="Transport to bind to. ">ast_sip_transport</a>. </p>
<dl class="section since"><dt>Since</dt><dd>13.8.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>The transport to be used </td></tr>
    <tr><td class="paramname">selector</td><td>The selector to be populated </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The transport selector must be unreffed using ast_sip_tpselector_unref </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03907">3907</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01564">ast_sip_get_transport_state()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00063">AST_TRANSPORT_WS</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00064">AST_TRANSPORT_WSS</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00091">ast_sip_transport_state::factory</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00149">ast_sip_transport_state::flow</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00251">ast_sip_transport::flow</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00089">ast_sip_transport_state::transport</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00193">ast_sip_transport::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03957">ast_sip_set_tpselector_from_transport_name()</a>.</p>
<div class="fragment"><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;{</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a> *transport_state;</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;   transport_state = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a>(<a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(transport));</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;   <span class="keywordflow">if</span> (!transport_state) {</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to retrieve PJSIP transport state for &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;         <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(transport));</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;   }</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;   <span class="comment">/* Only flows maintain dynamic state which needs protection */</span></div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;   <span class="keywordflow">if</span> (transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">flow</a>) {</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(transport_state);</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;   }</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;   <span class="keywordflow">if</span> (transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>) {</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;      selector-&gt;type = PJSIP_TPSELECTOR_TRANSPORT;</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;      selector-&gt;u.transport = transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>;</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;      pjsip_transport_add_ref(selector-&gt;u.transport);</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a270761e87121ede08b66619c36c23ebd">factory</a>) {</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;      selector-&gt;type = PJSIP_TPSELECTOR_LISTENER;</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      selector-&gt;u.listener = transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a270761e87121ede08b66619c36c23ebd">factory</a>;</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (transport-&gt;<a class="code" href="../../d1/d04/structast__sip__transport.html#a412bcf75e793ebae3f463f57410a6046">type</a> == <a class="code" href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3a6d8ef74bba673bd5a95d9b2da8116b4f">AST_TRANSPORT_WS</a> || transport-&gt;<a class="code" href="../../d1/d04/structast__sip__transport.html#a412bcf75e793ebae3f463f57410a6046">type</a> == <a class="code" href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3a611d4a9fc154cea78fe3f7f768185c4d">AST_TRANSPORT_WSS</a>) {</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;      <span class="comment">/* The WebSocket transport has no factory as it can not create outgoing connections, so</span></div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;<span class="comment">       * even if an endpoint is locked to a WebSocket transport we let the PJSIP logic</span></div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;<span class="comment">       * find the existing connection if available and use it.</span></div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (transport-&gt;<a class="code" href="../../d1/d04/structast__sip__transport.html#a3a44e2579abfd2c9e9cd570a78b01282">flow</a>) {</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      <span class="comment">/* This is a child of another transport, so we need to establish a new connection */</span></div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;<span class="preprocessor">#ifdef HAVE_PJSIP_TRANSPORT_DISABLE_CONNECTION_REUSE</span></div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;      selector-&gt;disable_connection_reuse = PJ_TRUE;</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Connection reuse could not be disabled on transport &#39;%s&#39; as support is not available\n&quot;</span>,</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;         <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(transport));</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;      res = -1;</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;   }</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;   <span class="keywordflow">if</span> (transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">flow</a>) {</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(transport_state);</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;   }</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transport_state, -1);</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_aa2785c5990a086943fea750c980abbc3a611d4a9fc154cea78fe3f7f768185c4d"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3a611d4a9fc154cea78fe3f7f768185c4d">AST_TRANSPORT_WSS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00064">netsock2.h:64</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a3a44e2579abfd2c9e9cd570a78b01282"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">ast_sip_transport_state::flow</a></div><div class="ttdeci">int flow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00149">res_pjsip.h:149</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structast__sip__transport_html_a412bcf75e793ebae3f463f57410a6046"><div class="ttname"><a href="../../d1/d04/structast__sip__transport.html#a412bcf75e793ebae3f463f57410a6046">ast_sip_transport::type</a></div><div class="ttdeci">enum ast_transport type</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00193">res_pjsip.h:193</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a></div><div class="ttdoc">Structure for SIP transport information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00087">res_pjsip.h:87</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a7475e193e8f10f809dbde0ddba4ad006"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">ast_sip_transport_state::transport</a></div><div class="ttdeci">struct pjsip_transport * transport</div><div class="ttdoc">Transport itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00089">res_pjsip.h:89</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__sip__transport_html_a3a44e2579abfd2c9e9cd570a78b01282"><div class="ttname"><a href="../../d1/d04/structast__sip__transport.html#a3a44e2579abfd2c9e9cd570a78b01282">ast_sip_transport::flow</a></div><div class="ttdeci">int flow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00251">res_pjsip.h:251</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ab6000ab7fe69594070bb59b995ccb5ee"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a></div><div class="ttdeci">struct ast_sip_transport_state * ast_sip_get_transport_state(const char *transport_id)</div><div class="ttdoc">Retrieve transport state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l01564">config_transport.c:1564</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a270761e87121ede08b66619c36c23ebd"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a270761e87121ede08b66619c36c23ebd">ast_sip_transport_state::factory</a></div><div class="ttdeci">struct pjsip_tpfactory * factory</div><div class="ttdoc">Transport factory. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00091">res_pjsip.h:91</a></div></div>
<div class="ttc" id="netsock2_8h_html_aa2785c5990a086943fea750c980abbc3a6d8ef74bba673bd5a95d9b2da8116b4f"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa2785c5990a086943fea750c980abbc3a6d8ef74bba673bd5a95d9b2da8116b4f">AST_TRANSPORT_WS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00063">netsock2.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac94b7c59f69d31b962e42098955f8fa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94b7c59f69d31b962e42098955f8fa4">&#9670;&nbsp;</a></span>ast_sip_set_tpselector_from_transport_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_set_tpselector_from_transport_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>transport_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_tpselector *&#160;</td>
          <td class="paramname"><em>selector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets pjsip_tpselector from <a class="el" href="../../d1/d04/structast__sip__transport.html" title="Transport to bind to. ">ast_sip_transport</a>. </p>
<dl class="section since"><dt>Since</dt><dd>13.8.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport_name</td><td>The name of the transport to be used </td></tr>
    <tr><td class="paramname">selector</td><td>The selector to be populated </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The transport selector must be unreffed using ast_sip_tpselector_unref </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03957">3957</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03907">ast_sip_set_tpselector_from_transport()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00089">ast_sip_transport_state::transport</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03975">ast_sip_set_tpselector_from_ep_or_uri()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00557">registration_client_send()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00427">set_transport()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01603">sip_outbound_registration_regc_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;{</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/d04/structast__sip__transport.html">ast_sip_transport</a> *, <a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(transport_name)) {</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;   }</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;   <a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a> = <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;transport&quot;</span>, transport_name);</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>) {</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to retrieve PJSIP transport &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;         transport_name);</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;   }</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a72d9aae56d12729bff60ac4f145db3fc">ast_sip_set_tpselector_from_transport</a>(<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>, selector);</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a7475e193e8f10f809dbde0ddba4ad006"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">ast_sip_transport_state::transport</a></div><div class="ttdeci">struct pjsip_transport * transport</div><div class="ttdoc">Transport itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00089">res_pjsip.h:89</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__sip__transport_html"><div class="ttname"><a href="../../d1/d04/structast__sip__transport.html">ast_sip_transport</a></div><div class="ttdoc">Transport to bind to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00171">res_pjsip.h:171</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a72d9aae56d12729bff60ac4f145db3fc"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a72d9aae56d12729bff60ac4f145db3fc">ast_sip_set_tpselector_from_transport</a></div><div class="ttdeci">int ast_sip_set_tpselector_from_transport(const struct ast_sip_transport *transport, pjsip_tpselector *selector)</div><div class="ttdoc">Sets pjsip_tpselector from ast_sip_transport. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03907">res_pjsip.c:3907</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab105b4d8cca635ce7aeed34c4543ab54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab105b4d8cca635ce7aeed34c4543ab54">&#9670;&nbsp;</a></span>ast_sip_sorcery_object_to_ami()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_sorcery_object_to_ami </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a sorcery object to a string of object properties. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the sorcery object to convert </td></tr>
    <tr><td class="paramname">str</td><td>the string buffer to write the object data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, non-zero on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01609">1609</a> of file <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html">pjsip_configuration.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00137">AST_HANDLER_ONLY_STRING</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01511">ast_sorcery_objectset_create2()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00509">ast_to_camel_case</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01601">sip_sorcery_object_ami_set_type_name()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02135">ami_outbound_registration_task()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01133">ami_registrations_aor()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l04090">format_ami_resource_lists()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00162">sip_auth_to_ami()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02410">sip_contact_to_ami()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01641">sip_endpoint_to_ami()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00614">sip_identify_to_ami()</a>, and <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00162">sip_transport_to_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;{</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *, objset, <a class="code" href="../../d8/d25/sorcery_8h.html#afe388a29f4d5aaa1da64f955f115c887">ast_sorcery_objectset_create2</a>(</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;          <a class="code" href="../../dc/df6/pjsip__configuration_8c.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), obj, <a class="code" href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf">AST_HANDLER_ONLY_STRING</a>), <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>);</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *i;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;   <span class="keywordflow">if</span> (!objset) {</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;   }</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;   <a class="code" href="../../dc/df6/pjsip__configuration_8c.html#a797174e0472c7c10eb2e005faa49bae1">sip_sorcery_object_ami_set_type_name</a>(obj, buf);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;   <span class="keywordflow">for</span> (i = objset; i; i = i-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keywordtype">char</span> *, camel, <a class="code" href="../../d6/d90/strings_8h.html#ad0bec94a9f3092be74c32953bc5b4ead">ast_to_camel_case</a>(i-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(buf, 0, <span class="stringliteral">&quot;%s: %s\r\n&quot;</span>, camel, i-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;   }</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="sorcery_8h_html_afe388a29f4d5aaa1da64f955f115c887"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#afe388a29f4d5aaa1da64f955f115c887">ast_sorcery_objectset_create2</a></div><div class="ttdeci">struct ast_variable * ast_sorcery_objectset_create2(const struct ast_sorcery *sorcery, const void *object, enum ast_sorcery_field_handler_flags flags)</div><div class="ttdoc">Create an object set (KVP list) for an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01511">sorcery.c:1511</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="strings_8h_html_ad0bec94a9f3092be74c32953bc5b4ead"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ad0bec94a9f3092be74c32953bc5b4ead">ast_to_camel_case</a></div><div class="ttdeci">#define ast_to_camel_case(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00509">strings.h:509</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="sorcery_8h_html_ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ac1fdd981feb0ebfb50d6d8de2aa89689ab0a98dd0c046d0315dc724fb19ded8bf">AST_HANDLER_ONLY_STRING</a></div><div class="ttdoc">Use string handler only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00137">sorcery.h:137</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_a797174e0472c7c10eb2e005faa49bae1"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#a797174e0472c7c10eb2e005faa49bae1">sip_sorcery_object_ami_set_type_name</a></div><div class="ttdeci">static void sip_sorcery_object_ami_set_type_name(const void *obj, struct ast_str **buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l01601">pjsip_configuration.c:1601</a></div></div>
<div class="ttc" id="pjsip__configuration_8c_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../dc/df6/pjsip__configuration_8c.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acca3189197cd95ee5ba26bb695fd6078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca3189197cd95ee5ba26bb695fd6078">&#9670;&nbsp;</a></span>ast_sip_str_to_dtmf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_str_to_dtmf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dtmf_mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the DTMF mode name into an enum. </p>
<dl class="section since"><dt>Since</dt><dd>13.18.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dtmf_mode</td><td>dtmf mode as a string</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;=</td><td>0 The enum value </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05513">5513</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00419">AST_SIP_DTMF_AUTO</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00421">AST_SIP_DTMF_AUTO_INFO</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00415">AST_SIP_DTMF_INBAND</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00417">AST_SIP_DTMF_INFO</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00410">AST_SIP_DTMF_NONE</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00413">AST_SIP_DTMF_RFC_4733</a>, and <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00146">dtmf_handler()</a>, and <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01530">pjsip_acf_dtmf_mode_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;{</div><div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = -1;</div><div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;</div><div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(dtmf_mode, <span class="stringliteral">&quot;info&quot;</span>)) {</div><div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;      result = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d">AST_SIP_DTMF_INFO</a>;</div><div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(dtmf_mode, <span class="stringliteral">&quot;rfc4733&quot;</span>)) {</div><div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;      result = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2">AST_SIP_DTMF_RFC_4733</a>;</div><div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(dtmf_mode, <span class="stringliteral">&quot;inband&quot;</span>)) {</div><div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;      result = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a>;</div><div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(dtmf_mode, <span class="stringliteral">&quot;none&quot;</span>)) {</div><div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;      result = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe">AST_SIP_DTMF_NONE</a>;</div><div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(dtmf_mode, <span class="stringliteral">&quot;auto&quot;</span>)) {</div><div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;      result = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a>;</div><div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(dtmf_mode, <span class="stringliteral">&quot;auto_info&quot;</span>)) {</div><div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;      result = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728">AST_SIP_DTMF_AUTO_INFO</a>;</div><div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;   }</div><div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;</div><div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d">AST_SIP_DTMF_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00417">res_pjsip.h:417</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728">AST_SIP_DTMF_AUTO_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00421">res_pjsip.h:421</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00415">res_pjsip.h:415</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00419">res_pjsip.h:419</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2">AST_SIP_DTMF_RFC_4733</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00413">res_pjsip.h:413</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe">AST_SIP_DTMF_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00410">res_pjsip.h:410</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00b2e65f1281b71eae7dbf27972e99a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00b2e65f1281b71eae7dbf27972e99a8">&#9670;&nbsp;</a></span>ast_sip_threadpool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d5/d10/structast__threadpool.html">ast_threadpool</a>* ast_sip_threadpool </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the SIP threadpool object. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05630">5630</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03274">sip_threadpool</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01553">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;{</div><div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d96/res__pjsip_8c.html#a714a1bebd7d5fe9712c059a60e3f5f20">sip_threadpool</a>;</div><div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_a714a1bebd7d5fe9712c059a60e3f5f20"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a714a1bebd7d5fe9712c059a60e3f5f20">sip_threadpool</a></div><div class="ttdeci">static struct ast_threadpool * sip_threadpool</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03274">res_pjsip.c:3274</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93df45b17946f91f1300227febf89a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93df45b17946f91f1300227febf89a73">&#9670;&nbsp;</a></span>ast_sip_threadpool_queue_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long ast_sip_threadpool_queue_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the size of the SIP threadpool's task queue. </p>
<dl class="section since"><dt>Since</dt><dd>13.7.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05625">5625</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01437">ast_threadpool_queue_size()</a>.</p>
<div class="fragment"><div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;{</div><div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d40/threadpool_8h.html#a6e65e5b2e17e83c008f74b1d93cee2b5">ast_threadpool_queue_size</a>(<a class="code" href="../../de/d96/res__pjsip_8c.html#a714a1bebd7d5fe9712c059a60e3f5f20">sip_threadpool</a>);</div><div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_a714a1bebd7d5fe9712c059a60e3f5f20"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a714a1bebd7d5fe9712c059a60e3f5f20">sip_threadpool</a></div><div class="ttdeci">static struct ast_threadpool * sip_threadpool</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03274">res_pjsip.c:3274</a></div></div>
<div class="ttc" id="threadpool_8h_html_a6e65e5b2e17e83c008f74b1d93cee2b5"><div class="ttname"><a href="../../d3/d40/threadpool_8h.html#a6e65e5b2e17e83c008f74b1d93cee2b5">ast_threadpool_queue_size</a></div><div class="ttdeci">long ast_threadpool_queue_size(struct ast_threadpool *pool)</div><div class="ttdoc">Return the size of the threadpool&amp;#39;s task queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/threadpool_8c_source.html#l01437">threadpool.c:1437</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e1ef995698ba16cad6608225b8de946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1ef995698ba16cad6608225b8de946">&#9670;&nbsp;</a></span>ast_sip_tpselector_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_tpselector_unref </td>
          <td>(</td>
          <td class="paramtype">pjsip_tpselector *&#160;</td>
          <td class="paramname"><em>selector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unreference a pjsip_tpselector. </p>
<dl class="section since"><dt>Since</dt><dd>17.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">selector</td><td>The selector to be unreffed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03987">3987</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04028">ast_sip_create_dialog_uac()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03791">ast_sip_dlg_set_transport()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04177">create_dialog_uas()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04380">create_out_of_dialog_request()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00557">registration_client_send()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00427">set_transport()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01603">sip_outbound_registration_regc_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;{</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;   <span class="keywordflow">if</span> (selector-&gt;type == PJSIP_TPSELECTOR_TRANSPORT &amp;&amp; selector-&gt;u.transport) {</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;      pjsip_transport_dec_ref(selector-&gt;u.transport);</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;   }</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="aaee14820d45bd0be318822580b5a8b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaee14820d45bd0be318822580b5a8b59">&#9670;&nbsp;</a></span>ast_sip_transport_monitor_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38">ast_transport_monitor_reg</a> ast_sip_transport_monitor_register </td>
          <td>(</td>
          <td class="paramtype">pjsip_transport *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab796e8903e7cf1836adc07b01df7e4a1">ast_transport_monitor_shutdown_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ao2_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a reliable transport shutdown monitor callback. </p>
<dl class="section since"><dt>Since</dt><dd>13.20.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Transport to monitor for shutdown. </td></tr>
    <tr><td class="paramname">cb</td><td>Who to call when transport is shutdown. </td></tr>
    <tr><td class="paramname">ao2_data</td><td>Data to pass with the callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The data object passed will have its reference count automatically incremented by this call and automatically decremented after the callback runs or when the callback is unregistered.</dd></dl>
<p>There is no checking for duplicate registrations.</p>
<dl class="section return"><dt>Returns</dt><dd>enum ast_transport_monitor_reg </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00306">306</a> of file <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html">pjsip_transport_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00312">ast_sip_transport_monitor_register_replace()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00962">registration_transport_monitor_setup()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00662">subscription_persistence_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;{</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#a5b7ab353d9342e09fcb0520d3da15376">ast_sip_transport_monitor_register_replace</a>(transport, cb, ao2_data, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pjsip__transport__events_8c_html_a5b7ab353d9342e09fcb0520d3da15376"><div class="ttname"><a href="../../d1/d94/pjsip__transport__events_8c.html#a5b7ab353d9342e09fcb0520d3da15376">ast_sip_transport_monitor_register_replace</a></div><div class="ttdeci">enum ast_transport_monitor_reg ast_sip_transport_monitor_register_replace(pjsip_transport *transport, ast_transport_monitor_shutdown_cb cb, void *ao2_data, ast_transport_monitor_data_matcher matches)</div><div class="ttdoc">Register a reliable transport shutdown monitor callback replacing any duplicate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00312">pjsip_transport_events.c:312</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b7ab353d9342e09fcb0520d3da15376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7ab353d9342e09fcb0520d3da15376">&#9670;&nbsp;</a></span>ast_sip_transport_monitor_register_replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38">ast_transport_monitor_reg</a> ast_sip_transport_monitor_register_replace </td>
          <td>(</td>
          <td class="paramtype">pjsip_transport *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab796e8903e7cf1836adc07b01df7e4a1">ast_transport_monitor_shutdown_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ao2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a170e27cdfa504ce0a20244ae1a46439b">ast_transport_monitor_data_matcher</a>&#160;</td>
          <td class="paramname"><em>matches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a reliable transport shutdown monitor callback replacing any duplicate. </p>
<dl class="section since"><dt>Since</dt><dd>13.26.0 </dd>
<dd>
16.3.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Transport to monitor for shutdown. </td></tr>
    <tr><td class="paramname">cb</td><td>Who to call when transport is shutdown. </td></tr>
    <tr><td class="paramname">ao2_data</td><td>Data to pass with the callback. </td></tr>
    <tr><td class="paramname">matches</td><td>Matcher function that returns true if data matches a previously registered data object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The data object passed will have its reference count automatically incremented by this call and automatically decremented after the callback runs or when the callback is unregistered.</dd></dl>
<p>This function checks for duplicates, and overwrites/replaces the old monitor with the given one.</p>
<dl class="section return"><dt>Returns</dt><dd>enum ast_transport_monitor_reg </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00312">312</a> of file <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html">pjsip_transport_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00925">ao2_global_obj_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l03470">AST_TRANSPORT_MONITOR_REG_FAILED</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l03468">AST_TRANSPORT_MONITOR_REG_NOT_FOUND</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l03461">AST_TRANSPORT_MONITOR_REG_SUCCESS</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00045">transport_monitor_notifier::cb</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00226">callback_data::cb</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00047">transport_monitor_notifier::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00252">ptr_matcher()</a>, and <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00231">transport_monitor_unregister_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00306">ast_sip_transport_monitor_register()</a>, and <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;{</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *transports;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d24/structtransport__monitor.html">transport_monitor</a> *monitored;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38">ast_transport_monitor_reg</a> res = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38a37d88b73103a454dadea3c6fea2d356f">AST_TRANSPORT_MONITOR_REG_NOT_FOUND</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d4/d24/structtransport__monitor.html#a0cd500af1726295a50c6494772baaaec">transport</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; cb != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   transports = <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(active_transports);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keywordflow">if</span> (!transports) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(transports);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   monitored = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(transports, <a class="code" href="../../d4/d24/structtransport__monitor.html#a0cd500af1726295a50c6494772baaaec">transport</a>-&gt;obj_name, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="keywordflow">if</span> (monitored) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/df4/structtransport__monitor__notifier.html">transport_monitor_notifier</a> new_monitor;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d6/ddb/structcallback__data.html">callback_data</a> cb_data = {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;         .<a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a> = <a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a>,</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;         .data = ao2_data,</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         .matches = <a class="code" href="../../d6/ddb/structcallback__data.html#a6ea84a21b4717a5e67c9df3c924227b8">matches</a> ?: <a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#ad79e606487baa4e0deeb791685818e1d">ptr_matcher</a>,</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      };</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#adf29802e873ee1c56571c638c9eddcd8">transport_monitor_unregister_cb</a>(monitored, &amp;cb_data, 0);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">/* Add new monitor to vector */</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      new_monitor.cb = <a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      new_monitor.data = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(ao2_data);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;monitored-&gt;monitors, new_monitor)) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(ao2_data);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;         res = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38ab76014283d08b11e00f189aae42e930f">AST_TRANSPORT_MONITOR_REG_FAILED</a>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Register monitor %p(%p) to transport %s FAILED\n&quot;</span>,</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a>, ao2_data, transport-&gt;obj_name);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;         res = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38ac59adc05087cbec38917a63da409029a">AST_TRANSPORT_MONITOR_REG_SUCCESS</a>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Registered monitor %p(%p) to transport %s\n&quot;</span>,</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a>, ao2_data, transport-&gt;obj_name);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(monitored, -1);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(transports);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transports, -1);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ab6c70bb53bc418e328a179b3b2466c38"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38">ast_transport_monitor_reg</a></div><div class="ttdeci">ast_transport_monitor_reg</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l03459">res_pjsip.h:3459</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structtransport__monitor__notifier_html"><div class="ttname"><a href="../../d3/df4/structtransport__monitor__notifier.html">transport_monitor_notifier</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00043">pjsip_transport_events.c:43</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structtransport__monitor_html"><div class="ttname"><a href="../../d4/d24/structtransport__monitor.html">transport_monitor</a></div><div class="ttdoc">Structure for transport to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00051">pjsip_transport_events.c:51</a></div></div>
<div class="ttc" id="structcallback__data_html_a6ea84a21b4717a5e67c9df3c924227b8"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html#a6ea84a21b4717a5e67c9df3c924227b8">callback_data::matches</a></div><div class="ttdeci">ast_transport_monitor_data_matcher matches</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00228">pjsip_transport_events.c:228</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ab6c70bb53bc418e328a179b3b2466c38ac59adc05087cbec38917a63da409029a"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38ac59adc05087cbec38917a63da409029a">AST_TRANSPORT_MONITOR_REG_SUCCESS</a></div><div class="ttdoc">Successfully registered the transport monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l03461">res_pjsip.h:3461</a></div></div>
<div class="ttc" id="structcallback__data_html"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html">callback_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00225">pjsip_transport_events.c:225</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ab6c70bb53bc418e328a179b3b2466c38a37d88b73103a454dadea3c6fea2d356f"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38a37d88b73103a454dadea3c6fea2d356f">AST_TRANSPORT_MONITOR_REG_NOT_FOUND</a></div><div class="ttdoc">Transport not found to monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l03468">res_pjsip.h:3468</a></div></div>
<div class="ttc" id="structtransport__monitor_html_a0cd500af1726295a50c6494772baaaec"><div class="ttname"><a href="../../d4/d24/structtransport__monitor.html#a0cd500af1726295a50c6494772baaaec">transport_monitor::transport</a></div><div class="ttdeci">pjsip_transport * transport</div><div class="ttdoc">The underlying PJSIP transport. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00053">pjsip_transport_events.c:53</a></div></div>
<div class="ttc" id="pjsip__transport__events_8c_html_adf29802e873ee1c56571c638c9eddcd8"><div class="ttname"><a href="../../d1/d94/pjsip__transport__events_8c.html#adf29802e873ee1c56571c638c9eddcd8">transport_monitor_unregister_cb</a></div><div class="ttdeci">static int transport_monitor_unregister_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00231">pjsip_transport_events.c:231</a></div></div>
<div class="ttc" id="pjsip__transport__events_8c_html_ad79e606487baa4e0deeb791685818e1d"><div class="ttname"><a href="../../d1/d94/pjsip__transport__events_8c.html#ad79e606487baa4e0deeb791685818e1d">ptr_matcher</a></div><div class="ttdeci">static int ptr_matcher(void *a, void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00252">pjsip_transport_events.c:252</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ab6c70bb53bc418e328a179b3b2466c38ab76014283d08b11e00f189aae42e930f"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ab6c70bb53bc418e328a179b3b2466c38ab76014283d08b11e00f189aae42e930f">AST_TRANSPORT_MONITOR_REG_FAILED</a></div><div class="ttdoc">Error while registering transport monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l03470">res_pjsip.h:3470</a></div></div>
<div class="ttc" id="structcallback__data_html_aa98abbcdd31b17b3b45923ba63940971"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">callback_data::cb</a></div><div class="ttdeci">ast_transport_monitor_shutdown_cb cb</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00226">pjsip_transport_events.c:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d73e049fbced1da4e3041d1656e0aa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d73e049fbced1da4e3041d1656e0aa6">&#9670;&nbsp;</a></span>ast_sip_transport_monitor_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_transport_monitor_unregister </td>
          <td>(</td>
          <td class="paramtype">pjsip_transport *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab796e8903e7cf1836adc07b01df7e4a1">ast_transport_monitor_shutdown_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a170e27cdfa504ce0a20244ae1a46439b">ast_transport_monitor_data_matcher</a>&#160;</td>
          <td class="paramname"><em>matches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a reliable transport shutdown monitor. </p>
<dl class="section since"><dt>Since</dt><dd>13.20.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Transport to monitor for shutdown. </td></tr>
    <tr><td class="paramname">cb</td><td>The callback that was used for the original register. </td></tr>
    <tr><td class="paramname">data</td><td>Data to pass to the matcher. May be NULL and does NOT need to be an ao2 object. If NULL, all monitors with the provided callbck are unregistered. </td></tr>
    <tr><td class="paramname">matches</td><td>Matcher function that returns true if data matches the previously registered data object. If NULL, a simple pointer comparison is done.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The data object passed into the original register will have its reference count automatically decremeneted.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00277">277</a> of file <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html">pjsip_transport_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00925">ao2_global_obj_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00045">transport_monitor_notifier::cb</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00226">callback_data::cb</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00047">transport_monitor_notifier::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00252">ptr_matcher()</a>, and <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00231">transport_monitor_unregister_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01056">handle_registration_response()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00403">registrar_contact_delete()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l00745">subscription_persistence_remove()</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *transports;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d24/structtransport__monitor.html">transport_monitor</a> *monitored;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d4/d24/structtransport__monitor.html#a0cd500af1726295a50c6494772baaaec">transport</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; cb != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   transports = <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(active_transports);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   <span class="keywordflow">if</span> (!transports) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(transports);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   monitored = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(transports, <a class="code" href="../../d4/d24/structtransport__monitor.html#a0cd500af1726295a50c6494772baaaec">transport</a>-&gt;obj_name, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keywordflow">if</span> (monitored) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d6/ddb/structcallback__data.html">callback_data</a> cb_data = {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         .<a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a> = <a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a>,</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         .data = <a class="code" href="../../d6/ddb/structcallback__data.html#a735984d41155bc1032e09bece8f8d66d">data</a>,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;         .matches = <a class="code" href="../../d6/ddb/structcallback__data.html#a6ea84a21b4717a5e67c9df3c924227b8">matches</a> ?: <a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#ad79e606487baa4e0deeb791685818e1d">ptr_matcher</a>,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      };</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#adf29802e873ee1c56571c638c9eddcd8">transport_monitor_unregister_cb</a>(monitored, &amp;cb_data, 0);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(monitored, -1);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(transports);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transports, -1);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div><div class="ttc" id="structcallback__data_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html#a735984d41155bc1032e09bece8f8d66d">callback_data::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00227">pjsip_transport_events.c:227</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structtransport__monitor_html"><div class="ttname"><a href="../../d4/d24/structtransport__monitor.html">transport_monitor</a></div><div class="ttdoc">Structure for transport to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00051">pjsip_transport_events.c:51</a></div></div>
<div class="ttc" id="structcallback__data_html_a6ea84a21b4717a5e67c9df3c924227b8"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html#a6ea84a21b4717a5e67c9df3c924227b8">callback_data::matches</a></div><div class="ttdeci">ast_transport_monitor_data_matcher matches</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00228">pjsip_transport_events.c:228</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structcallback__data_html"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html">callback_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00225">pjsip_transport_events.c:225</a></div></div>
<div class="ttc" id="structtransport__monitor_html_a0cd500af1726295a50c6494772baaaec"><div class="ttname"><a href="../../d4/d24/structtransport__monitor.html#a0cd500af1726295a50c6494772baaaec">transport_monitor::transport</a></div><div class="ttdeci">pjsip_transport * transport</div><div class="ttdoc">The underlying PJSIP transport. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00053">pjsip_transport_events.c:53</a></div></div>
<div class="ttc" id="pjsip__transport__events_8c_html_adf29802e873ee1c56571c638c9eddcd8"><div class="ttname"><a href="../../d1/d94/pjsip__transport__events_8c.html#adf29802e873ee1c56571c638c9eddcd8">transport_monitor_unregister_cb</a></div><div class="ttdeci">static int transport_monitor_unregister_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00231">pjsip_transport_events.c:231</a></div></div>
<div class="ttc" id="pjsip__transport__events_8c_html_ad79e606487baa4e0deeb791685818e1d"><div class="ttname"><a href="../../d1/d94/pjsip__transport__events_8c.html#ad79e606487baa4e0deeb791685818e1d">ptr_matcher</a></div><div class="ttdeci">static int ptr_matcher(void *a, void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00252">pjsip_transport_events.c:252</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="structcallback__data_html_aa98abbcdd31b17b3b45923ba63940971"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">callback_data::cb</a></div><div class="ttdeci">ast_transport_monitor_shutdown_cb cb</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00226">pjsip_transport_events.c:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e419c29ebfb010ca04b7c189c207bbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e419c29ebfb010ca04b7c189c207bbd">&#9670;&nbsp;</a></span>ast_sip_transport_monitor_unregister_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_transport_monitor_unregister_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#ab796e8903e7cf1836adc07b01df7e4a1">ast_transport_monitor_shutdown_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d8c/res__pjsip_8h.html#a170e27cdfa504ce0a20244ae1a46439b">ast_transport_monitor_data_matcher</a>&#160;</td>
          <td class="paramname"><em>matches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a transport shutdown monitor from all reliable transports. </p>
<dl class="section since"><dt>Since</dt><dd>13.20.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>The callback that was used for the original register. </td></tr>
    <tr><td class="paramname">data</td><td>Data to pass to the matcher. May be NULL and does NOT need to be an ao2 object. If NULL, all monitors with the provided callbck are unregistered. </td></tr>
    <tr><td class="paramname">matches</td><td>Matcher function that returns true if ao2_data matches the previously registered data object. If NULL, a simple pointer comparison is done.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The data object passed into the original register will have its reference count automatically decremeneted.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00257">257</a> of file <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html">pjsip_transport_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00925">ao2_global_obj_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00045">transport_monitor_notifier::cb</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00226">callback_data::cb</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00047">transport_monitor_notifier::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00252">ptr_matcher()</a>, and <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00231">transport_monitor_unregister_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00403">registrar_contact_delete()</a>, and <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l02461">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *transports;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/ddb/structcallback__data.html">callback_data</a> cb_data = {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      .<a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a> = <a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a>,</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      .data = <a class="code" href="../../d6/ddb/structcallback__data.html#a735984d41155bc1032e09bece8f8d66d">data</a>,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      .matches = <a class="code" href="../../d6/ddb/structcallback__data.html#a6ea84a21b4717a5e67c9df3c924227b8">matches</a> ?: <a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#ad79e606487baa4e0deeb791685818e1d">ptr_matcher</a>,</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   };</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">cb</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   transports = <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(active_transports);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordflow">if</span> (!transports) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(transports, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#adf29802e873ee1c56571c638c9eddcd8">transport_monitor_unregister_cb</a>, &amp;cb_data);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transports, -1);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div><div class="ttc" id="structcallback__data_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html#a735984d41155bc1032e09bece8f8d66d">callback_data::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00227">pjsip_transport_events.c:227</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structcallback__data_html_a6ea84a21b4717a5e67c9df3c924227b8"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html#a6ea84a21b4717a5e67c9df3c924227b8">callback_data::matches</a></div><div class="ttdeci">ast_transport_monitor_data_matcher matches</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00228">pjsip_transport_events.c:228</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structcallback__data_html"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html">callback_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00225">pjsip_transport_events.c:225</a></div></div>
<div class="ttc" id="pjsip__transport__events_8c_html_adf29802e873ee1c56571c638c9eddcd8"><div class="ttname"><a href="../../d1/d94/pjsip__transport__events_8c.html#adf29802e873ee1c56571c638c9eddcd8">transport_monitor_unregister_cb</a></div><div class="ttdeci">static int transport_monitor_unregister_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00231">pjsip_transport_events.c:231</a></div></div>
<div class="ttc" id="pjsip__transport__events_8c_html_ad79e606487baa4e0deeb791685818e1d"><div class="ttname"><a href="../../d1/d94/pjsip__transport__events_8c.html#ad79e606487baa4e0deeb791685818e1d">ptr_matcher</a></div><div class="ttdeci">static int ptr_matcher(void *a, void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00252">pjsip_transport_events.c:252</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="structcallback__data_html_aa98abbcdd31b17b3b45923ba63940971"><div class="ttname"><a href="../../d6/ddb/structcallback__data.html#aa98abbcdd31b17b3b45923ba63940971">callback_data::cb</a></div><div class="ttdeci">ast_transport_monitor_shutdown_cb cb</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/pjsip__transport__events_8c_source.html#l00226">pjsip_transport_events.c:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e5c44ee9690761368571915b3f4d451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e5c44ee9690761368571915b3f4d451">&#9670;&nbsp;</a></span>ast_sip_transport_state_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_transport_state_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d35/structast__sip__tpmgr__state__callback.html">ast_sip_tpmgr_state_callback</a> *&#160;</td>
          <td class="paramname"><em>element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a transport state notification callback element. </p>
<dl class="section since"><dt>Since</dt><dd>13.18.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>What we are registering.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00366">366</a> of file <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html">pjsip_transport_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, and <a class="el" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00372">ast_sip_initialize_transport_management()</a>.</p>
<div class="fragment"><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d35/structast__sip__tpmgr__state__callback.html">ast_sip_tpmgr_state_callback</a> *tpmgr_notifier;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>, tpmgr_notifier, <a class="code" href="../../d5/da1/structnode.html">node</a>) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keywordflow">if</span> (element == tpmgr_notifier) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         <span class="comment">/* Already registered. */</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>, element, <a class="code" href="../../d5/da1/structnode.html">node</a>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div><div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/test__heap_8c_source.html#l00038">test_heap.c:38</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structast__sip__tpmgr__state__callback_html"><div class="ttname"><a href="../../d0/d35/structast__sip__tpmgr__state__callback.html">ast_sip_tpmgr_state_callback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l03553">res_pjsip.h:3553</a></div></div>
<div class="ttc" id="pjsip__transport__events_8c_html_a3035fbd0cf0223eb4b585a3f552064ca"><div class="ttname"><a href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a></div><div class="ttdeci">static struct @480 transport_state_list</div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae885353b1f44a15a8a828864561de00c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae885353b1f44a15a8a828864561de00c">&#9670;&nbsp;</a></span>ast_sip_transport_state_set_preferred_identity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_transport_state_set_preferred_identity </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>transport_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>identity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the P-Preferred-Identity on a child transport. </p>
<dl class="section since"><dt>Since</dt><dd>17.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport_name</td><td>The name of the transport to be set on </td></tr>
    <tr><td class="paramname">identity</td><td>The P-Preferred-Identity to use on requests on this transport </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00242">242</a> of file <a class="el" href="../../d3/d17/config__transport_8c_source.html">config_transport.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01564">ast_sip_get_transport_state()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00149">ast_sip_transport_state::flow</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00154">ast_sip_transport_state::preferred_identity</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00986">save_response_fields_to_transport()</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a> *transport_state;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(transport_name)) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   transport_state = <a class="code" href="../../d3/d17/config__transport_8c.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a>(transport_name);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keywordflow">if</span> (!transport_state) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="keywordflow">if</span> (!transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">flow</a>) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transport_state, -1);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(transport_state);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a5fa0f86bf70f29621e0642bdaf7a180b">preferred_identity</a>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a5fa0f86bf70f29621e0642bdaf7a180b">preferred_identity</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(identity);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(transport_state);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transport_state, -1);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="ttc" id="structast__sip__transport__state_html_a3a44e2579abfd2c9e9cd570a78b01282"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">ast_sip_transport_state::flow</a></div><div class="ttdeci">int flow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00149">res_pjsip.h:149</a></div></div>
<div class="ttc" id="config__transport_8c_html_ab6000ab7fe69594070bb59b995ccb5ee"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a></div><div class="ttdeci">struct ast_sip_transport_state * ast_sip_get_transport_state(const char *transport_id)</div><div class="ttdoc">Retrieve transport state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l01564">config_transport.c:1564</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a5fa0f86bf70f29621e0642bdaf7a180b"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a5fa0f86bf70f29621e0642bdaf7a180b">ast_sip_transport_state::preferred_identity</a></div><div class="ttdeci">char * preferred_identity</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00154">res_pjsip.h:154</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a></div><div class="ttdoc">Structure for SIP transport information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00087">res_pjsip.h:87</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb302970b725b934e07bbda28c9e4f23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb302970b725b934e07bbda28c9e4f23">&#9670;&nbsp;</a></span>ast_sip_transport_state_set_service_routes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_transport_state_set_service_routes </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>transport_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ast_sip_service_route_vector *&#160;</td>
          <td class="paramname"><em>service_routes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the service routes on a child transport. </p>
<dl class="section since"><dt>Since</dt><dd>17.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport_name</td><td>The name of the transport to be set on </td></tr>
    <tr><td class="paramname">service_routes</td><td>A vector of service routes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This assumes ownership of the service routes in both success and failure scenarios </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00270">270</a> of file <a class="el" href="../../d3/d17/config__transport_8c_source.html">config_transport.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01564">ast_sip_get_transport_state()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00366">ast_sip_service_route_vector_destroy()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00149">ast_sip_transport_state::flow</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00159">ast_sip_transport_state::service_routes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00986">save_response_fields_to_transport()</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a> *transport_state;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(transport_name)) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <a class="code" href="../../d3/d17/config__transport_8c.html#a790e1a3ec85fd649e267eee830b565c4">ast_sip_service_route_vector_destroy</a>(<a class="code" href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">service_routes</a>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   transport_state = <a class="code" href="../../d3/d17/config__transport_8c.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a>(transport_name);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   <span class="keywordflow">if</span> (!transport_state) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <a class="code" href="../../d3/d17/config__transport_8c.html#a790e1a3ec85fd649e267eee830b565c4">ast_sip_service_route_vector_destroy</a>(<a class="code" href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">service_routes</a>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keywordflow">if</span> (!transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">flow</a>) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transport_state, -1);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <a class="code" href="../../d3/d17/config__transport_8c.html#a790e1a3ec85fd649e267eee830b565c4">ast_sip_service_route_vector_destroy</a>(<a class="code" href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">service_routes</a>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(transport_state);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <a class="code" href="../../d3/d17/config__transport_8c.html#a790e1a3ec85fd649e267eee830b565c4">ast_sip_service_route_vector_destroy</a>(transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">service_routes</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">service_routes</a> = <a class="code" href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">service_routes</a>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(transport_state);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transport_state, -1);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="ttc" id="structast__sip__transport__state_html_a3a44e2579abfd2c9e9cd570a78b01282"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">ast_sip_transport_state::flow</a></div><div class="ttdeci">int flow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00149">res_pjsip.h:149</a></div></div>
<div class="ttc" id="config__transport_8c_html_ab6000ab7fe69594070bb59b995ccb5ee"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a></div><div class="ttdeci">struct ast_sip_transport_state * ast_sip_get_transport_state(const char *transport_id)</div><div class="ttdoc">Retrieve transport state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l01564">config_transport.c:1564</a></div></div>
<div class="ttc" id="config__transport_8c_html_a790e1a3ec85fd649e267eee830b565c4"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#a790e1a3ec85fd649e267eee830b565c4">ast_sip_service_route_vector_destroy</a></div><div class="ttdeci">void ast_sip_service_route_vector_destroy(struct ast_sip_service_route_vector *service_routes)</div><div class="ttdoc">Destroy a vector of service routes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l00366">config_transport.c:366</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a></div><div class="ttdoc">Structure for SIP transport information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00087">res_pjsip.h:87</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a4a2ad801f391c0f1c94ae87268439c46"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a4a2ad801f391c0f1c94ae87268439c46">ast_sip_transport_state::service_routes</a></div><div class="ttdeci">struct ast_sip_service_route_vector * service_routes</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00159">res_pjsip.h:159</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b1690d1107c614d4eb2853d96c55062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1690d1107c614d4eb2853d96c55062">&#9670;&nbsp;</a></span>ast_sip_transport_state_set_transport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_sip_transport_state_set_transport </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>transport_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pjsip_transport *&#160;</td>
          <td class="paramname"><em>transport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the PJSIP transport on a child transport. </p>
<dl class="section since"><dt>Since</dt><dd>17.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport_name</td><td>The name of the transport to be updated </td></tr>
    <tr><td class="paramname">transport</td><td>The PJSIP transport </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00206">206</a> of file <a class="el" href="../../d3/d17/config__transport_8c_source.html">config_transport.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01564">ast_sip_get_transport_state()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00149">ast_sip_transport_state::flow</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00047">internal_state::transport</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00089">ast_sip_transport_state::transport</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l00986">save_response_fields_to_transport()</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a> *transport_state;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="comment">/* To make it easier on callers we allow an empty transport name */</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(transport_name)) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   transport_state = <a class="code" href="../../d3/d17/config__transport_8c.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a>(transport_name);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <span class="keywordflow">if</span> (!transport_state) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <span class="keywordflow">if</span> (!transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">flow</a>) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transport_state, -1);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(transport_state);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="keywordflow">if</span> (transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a> != <a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">if</span> (transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;         pjsip_transport_dec_ref(transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a> = <a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">if</span> (transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;         pjsip_transport_add_ref(transport_state-&gt;<a class="code" href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">transport</a>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(transport_state);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transport_state, -1);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div><div class="ttc" id="structast__sip__transport__state_html_a3a44e2579abfd2c9e9cd570a78b01282"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a3a44e2579abfd2c9e9cd570a78b01282">ast_sip_transport_state::flow</a></div><div class="ttdeci">int flow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00149">res_pjsip.h:149</a></div></div>
<div class="ttc" id="config__transport_8c_html_ab6000ab7fe69594070bb59b995ccb5ee"><div class="ttname"><a href="../../d3/d17/config__transport_8c.html#ab6000ab7fe69594070bb59b995ccb5ee">ast_sip_get_transport_state</a></div><div class="ttdeci">struct ast_sip_transport_state * ast_sip_get_transport_state(const char *transport_id)</div><div class="ttdoc">Retrieve transport state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d17/config__transport_8c_source.html#l01564">config_transport.c:1564</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html">ast_sip_transport_state</a></div><div class="ttdoc">Structure for SIP transport information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00087">res_pjsip.h:87</a></div></div>
<div class="ttc" id="structast__sip__transport__state_html_a7475e193e8f10f809dbde0ddba4ad006"><div class="ttname"><a href="../../db/dac/structast__sip__transport__state.html#a7475e193e8f10f809dbde0ddba4ad006">ast_sip_transport_state::transport</a></div><div class="ttdeci">struct pjsip_transport * transport</div><div class="ttdoc">Transport itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00089">res_pjsip.h:89</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab34e363e7d16a3b96ab9b2a9e6d0f285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab34e363e7d16a3b96ab9b2a9e6d0f285">&#9670;&nbsp;</a></span>ast_sip_transport_state_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_transport_state_unregister </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d35/structast__sip__tpmgr__state__callback.html">ast_sip_tpmgr_state_callback</a> *&#160;</td>
          <td class="paramname"><em>element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a transport state notification callback element. </p>
<dl class="section since"><dt>Since</dt><dd>13.18.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>What we are unregistering.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html#l00359">359</a> of file <a class="el" href="../../d1/d94/pjsip__transport__events_8c_source.html">pjsip_transport_events.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00855">AST_LIST_REMOVE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, and <a class="el" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00410">ast_sip_destroy_transport_management()</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a>(&amp;<a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>, element, <a class="code" href="../../d5/da1/structnode.html">node</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div><div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/test__heap_8c_source.html#l00038">test_heap.c:38</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa36e72b77f1b80881cd0a9fcca66ce19"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a></div><div class="ttdeci">#define AST_LIST_REMOVE(head, elm, field)</div><div class="ttdoc">Removes a specific entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00855">linkedlists.h:855</a></div></div>
<div class="ttc" id="pjsip__transport__events_8c_html_a3035fbd0cf0223eb4b585a3f552064ca"><div class="ttname"><a href="../../d1/d94/pjsip__transport__events_8c.html#a3035fbd0cf0223eb4b585a3f552064ca">transport_state_list</a></div><div class="ttdeci">static struct @480 transport_state_list</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fa30d3e04f251038795393bbd08e75f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fa30d3e04f251038795393bbd08e75f">&#9670;&nbsp;</a></span>ast_sip_unregister_authenticator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_unregister_authenticator </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/de9/structast__sip__authenticator.html">ast_sip_authenticator</a> *&#160;</td>
          <td class="paramname"><em>auth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a SIP authenticator. </p>
<p>When there is no authenticator registered, requests cannot be challenged or authenticated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">auth</td><td>The authenticator to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03350">3350</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/db2/res__pjsip__authenticator__digest_8c_source.html#l00558">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;{</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a> != auth) {</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Trying to unregister authenticator %p but authenticator %p registered\n&quot;</span>,</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;            auth, <a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a>);</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;   }</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Unregistered SIP authenticator %p\n&quot;</span>, auth);</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;}</div><div class="ttc" id="res__pjsip_8c_html_ac51146e0275b19fab3031e6176c745e8"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#ac51146e0275b19fab3031e6176c745e8">registered_authenticator</a></div><div class="ttdeci">static struct ast_sip_authenticator * registered_authenticator</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03336">res_pjsip.c:3336</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3ce86eac2bb4697e59839b6020b9712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3ce86eac2bb4697e59839b6020b9712">&#9670;&nbsp;</a></span>ast_sip_unregister_endpoint_formatter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_unregister_endpoint_formatter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d30/structast__sip__endpoint__formatter.html">ast_sip_endpoint_formatter</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister an endpoint formatter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the formatter to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03685">3685</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02835">ast_res_pjsip_cleanup_options_handling()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00426">ast_sip_destroy_sorcery_auth()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01467">ast_sip_destroy_sorcery_location()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01692">ast_sip_destroy_sorcery_transport()</a>, and <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00887">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;{</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d30/structast__sip__endpoint__formatter.html">ast_sip_endpoint_formatter</a> *i;</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;<a class="code" href="../../d7/dcc/structendpoint__formatters.html">endpoint_formatters</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>);</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d7/dcc/structendpoint__formatters.html">endpoint_formatters</a>, i, next) {</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;      <span class="keywordflow">if</span> (i == obj) {</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(next);</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;      }</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;   }</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;}</div><div class="ttc" id="structast__sip__endpoint__formatter_html"><div class="ttname"><a href="../../d6/d30/structast__sip__endpoint__formatter.html">ast_sip_endpoint_formatter</a></div><div class="ttdoc">An entity responsible formatting endpoint information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02763">res_pjsip.h:2763</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="structendpoint__formatters_html"><div class="ttname"><a href="../../d7/dcc/structendpoint__formatters.html">endpoint_formatters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03677">res_pjsip.c:3677</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ba7488bde246be405e2e376f18107ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba7488bde246be405e2e376f18107ab">&#9670;&nbsp;</a></span>ast_sip_unregister_endpoint_identifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_unregister_endpoint_identifier </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d97/structast__sip__endpoint__identifier.html">ast_sip_endpoint_identifier</a> *&#160;</td>
          <td class="paramname"><em>identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a SIP endpoint identifier. </p>
<p>This stops an endpoint identifier from being used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>The SIP endoint identifier to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03513">3513</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03425">endpoint_identifier_list::identifier</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dd7/res__pjsip__endpoint__identifier__anonymous_8c_source.html#l00133">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;{</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d73/structendpoint__identifier__list.html">endpoint_identifier_list</a> *iter;</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>);</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a>, iter, list) {</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;      <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../d3/d73/structendpoint__identifier__list.html#a7f1bfe31ef240c6c5e0a688bace06214">identifier</a> == identifier) {</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(list);</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(iter);</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Unregistered endpoint identifier %p\n&quot;</span>, identifier);</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;      }</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;   }</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structendpoint__identifier__list_html"><div class="ttname"><a href="../../d3/d73/structendpoint__identifier__list.html">endpoint_identifier_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03422">res_pjsip.c:3422</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structendpoint__identifier__list_html_a7f1bfe31ef240c6c5e0a688bace06214"><div class="ttname"><a href="../../d3/d73/structendpoint__identifier__list.html#a7f1bfe31ef240c6c5e0a688bace06214">endpoint_identifier_list::identifier</a></div><div class="ttdeci">struct ast_sip_endpoint_identifier * identifier</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03425">res_pjsip.c:3425</a></div></div>
<div class="ttc" id="structendpoint__identifiers_html"><div class="ttname"><a href="../../d1/da7/structendpoint__identifiers.html">endpoint_identifiers</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03429">res_pjsip.c:3429</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a7f20f3df296fe384f405c5e5a2995a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7f20f3df296fe384f405c5e5a2995a">&#9670;&nbsp;</a></span>ast_sip_unregister_outbound_authenticator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_unregister_outbound_authenticator </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/dc2/structast__sip__outbound__authenticator.html">ast_sip_outbound_authenticator</a> *&#160;</td>
          <td class="paramname"><em>auth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister an outbound SIP authenticator. </p>
<p>When there is no outbound authenticator registered, authentication challenges will be handled as any other final response would be.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">auth</td><td>The authenticator to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03401">3401</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d61/res__pjsip__outbound__authenticator__digest_8c_source.html#l00589">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;{</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a> != auth) {</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Trying to unregister outbound authenticator %p but outbound authenticator %p registered\n&quot;</span>,</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;            auth, <a class="code" href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a>);</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;   }</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;   <a class="code" href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Unregistered SIP outbound authenticator %p\n&quot;</span>, auth);</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a18741a3257cf9d9ae4f755778d97f716"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a18741a3257cf9d9ae4f755778d97f716">registered_outbound_authenticator</a></div><div class="ttdeci">static struct ast_sip_outbound_authenticator * registered_outbound_authenticator</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03387">res_pjsip.c:3387</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15aa09d9084763cdd20b7467a4cd381a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15aa09d9084763cdd20b7467a4cd381a">&#9670;&nbsp;</a></span>ast_sip_unregister_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_unregister_service </td>
          <td>(</td>
          <td class="paramtype">pjsip_module *&#160;</td>
          <td class="paramname"><em>module</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the opposite of <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a2d923ef44f62dffc05178f762b88f084" title="Register a SIP service in Asterisk. ">ast_sip_register_service()</a>. Unregistering a service means that PJSIP will no longer call into the module any more. This will likely occur when an Asterisk module is unloaded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">module</td><td>The PJSIP module to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03331">3331</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05204">ast_sip_push_task_wait_servant()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03320">unregister_service()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00565">ast_res_pjsip_cleanup_message_filter()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l01334">ast_sip_destroy_distributor()</a>, <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00181">ast_sip_destroy_global_headers()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00410">ast_sip_destroy_transport_management()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l03304">load_module()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l03403">unload_module()</a>, and <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05700">unload_pjsip()</a>.</p>
<div class="fragment"><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;{</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;   <a class="code" href="../../d7/dfa/group__pjsip__threading.html#gab8c82412fe0432a91d5c7985cfdf9b59">ast_sip_push_task_wait_servant</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../de/d96/res__pjsip_8c.html#a42cd1bebde23095537a4bfc00d28b75c">unregister_service</a>, &amp;module);</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="group__pjsip__threading_html_gab8c82412fe0432a91d5c7985cfdf9b59"><div class="ttname"><a href="../../d7/dfa/group__pjsip__threading.html#gab8c82412fe0432a91d5c7985cfdf9b59">ast_sip_push_task_wait_servant</a></div><div class="ttdeci">int ast_sip_push_task_wait_servant(struct ast_taskprocessor *serializer, int(*sip_task)(void *), void *task_data)</div><div class="ttdoc">Push a task to SIP servants and wait for it to complete. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05204">res_pjsip.c:5204</a></div></div>
<div class="ttc" id="res__pjsip_8c_html_a42cd1bebde23095537a4bfc00d28b75c"><div class="ttname"><a href="../../de/d96/res__pjsip_8c.html#a42cd1bebde23095537a4bfc00d28b75c">unregister_service</a></div><div class="ttdeci">static int unregister_service(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03320">res_pjsip.c:3320</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0447e416567fdecaeef948338493d571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0447e416567fdecaeef948338493d571">&#9670;&nbsp;</a></span>ast_sip_unregister_supplement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sip_unregister_supplement </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a> *&#160;</td>
          <td class="paramname"><em>supplement</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a an supplement to SIP out of dialog processing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">supplement</td><td>The supplement to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04531">4531</a> of file <a class="el" href="../../de/d96/res__pjsip_8c_source.html">res_pjsip.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l02938">ast_sip_supplement::next</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d9e/pjsip__message__filter_8c_source.html#l00565">ast_res_pjsip_cleanup_message_filter()</a>, and <a class="el" href="../../d9/d91/res__pjsip__path_8c_source.html#l00260">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;{</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a> *iter;</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;<a class="code" href="../../d7/db8/structsupplements.html">supplements</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>, <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>);</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;</div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d7/db8/structsupplements.html">supplements</a>, iter, <a class="code" href="../../df/d71/structast__sip__supplement.html#ab03b800fabdc22f80a5fc2bf746defb2">next</a>) {</div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;      <span class="keywordflow">if</span> (supplement == iter) {</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(<a class="code" href="../../df/d71/structast__sip__supplement.html#ab03b800fabdc22f80a5fc2bf746defb2">next</a>);</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;      }</div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;   }</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="structast__sip__supplement_html_ab03b800fabdc22f80a5fc2bf746defb2"><div class="ttname"><a href="../../df/d71/structast__sip__supplement.html#ab03b800fabdc22f80a5fc2bf746defb2">ast_sip_supplement::next</a></div><div class="ttdeci">struct ast_sip_supplement * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02938">res_pjsip.h:2938</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="structsupplements_html"><div class="ttname"><a href="../../d7/db8/structsupplements.html">supplements</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l04509">res_pjsip.c:4509</a></div></div>
<div class="ttc" id="structast__sip__supplement_html"><div class="ttname"><a href="../../df/d71/structast__sip__supplement.html">ast_sip_supplement</a></div><div class="ttdoc">A supplement to SIP message processing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l02888">res_pjsip.h:2888</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f08c5bda4cb27c8ef42a64418f8838d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f08c5bda4cb27c8ef42a64418f8838d">&#9670;&nbsp;</a></span>AST_VECTOR() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_VECTOR </td>
          <td>(</td>
          <td class="paramtype">ast_sip_service_route_vector&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f28dbcdd30391427187ba0a62fc3272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f28dbcdd30391427187ba0a62fc3272">&#9670;&nbsp;</a></span>AST_VECTOR() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_VECTOR </td>
          <td>(</td>
          <td class="paramtype">ast_sip_auth_objects_vector&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve relevant SIP auth structures from sorcery as a vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">auth_ids</td><td>Vector of sorcery IDs of auth credentials to retrieve </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">auth_objects</td><td>A pointer ast_sip_auth_objects_vector to hold the objects</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Number of auth objects found is less than the number of names supplied.</td></tr>
  </table>
  </dd>
</dl>
<p>The number of auth objects retrieved may be less than the number of auth ids supplied if auth objects couldn't be found for some of them.</p>
<p>Since the ref count on all auith objects returned has been bumped, you must call <a class="el" href="../../d8/d8c/res__pjsip_8h.html#a9a1e39bb4db68bc2768dc43cc3d38149" title="Clean up retrieved auth objects in vector. ">ast_sip_cleanup_auth_objects_vector()</a> to decrement the ref count on all of the auth objects in the vector, then call <a class="el" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d" title="Deallocates this vector. ">AST_VECTOR_FREE()</a> on the vector itself. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:30 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
