<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: stasis_app.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">stasis_app.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stasis Application API. See <a class="el" href="../../d5/d72/res_stasis.html">Stasis Application API</a> for detailed documentation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for stasis_app.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/daf/stasis__app_8h__incl.png" border="0" usemap="#stasis__app_8h" alt=""/></div>
<map name="stasis__app_8h" id="stasis__app_8h">
<area shape="rect" id="node2" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1047,80,1186,107"/>
<area shape="rect" id="node3" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="910,155,1054,181"/>
<area shape="rect" id="node4" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="958,304,1073,331"/>
<area shape="rect" id="node5" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="428,453,541,480"/>
<area shape="rect" id="node7" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="937,379,1094,405"/>
<area shape="rect" id="node8" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1720,229,1879,256"/>
<area shape="rect" id="node12" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="5,304,140,331"/>
<area shape="rect" id="node13" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="419,379,569,405"/>
<area shape="rect" id="node14" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1884,155,2048,181"/>
<area shape="rect" id="node17" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1569,229,1696,256"/>
<area shape="rect" id="node19" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="197,155,343,181"/>
<area shape="rect" id="node20" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="317,229,444,256"/>
<area shape="rect" id="node21" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="2185,155,2291,181"/>
<area shape="rect" id="node22" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="419,304,569,331"/>
<area shape="rect" id="node23" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="2049,304,2211,331"/>
<area shape="rect" id="node24" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1281,304,1451,331"/>
<area shape="rect" id="node26" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1183,155,1299,181"/>
<area shape="rect" id="node28" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1478,155,1635,181"/>
<area shape="rect" id="node29" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="761,155,886,181"/>
<area shape="rect" id="node33" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="552,155,703,181"/>
<area shape="rect" id="node6" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="359,528,506,555"/>
<area shape="rect" id="node10" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="1750,304,1881,331"/>
<area shape="rect" id="node11" href="../../d1/d16/codec_8h.html" title="Codec API. " alt="" coords="1909,379,2036,405"/>
<area shape="rect" id="node15" href="../../d9/dab/select_8h.html" title="Bitfield expansions for ast_select. " alt="" coords="1903,229,2029,256"/>
<area shape="rect" id="node18" href="../../d1/d84/endian_8h.html" title="Asterisk architecture endianess compatibility definitions. " alt="" coords="1595,304,1726,331"/>
<area shape="rect" id="node25" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="1263,379,1347,405"/>
<area shape="rect" id="node27" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1281,229,1443,256"/>
<area shape="rect" id="node30" href="../../d4/d05/json_8h.html" title="Asterisk JSON abstraction layer. " alt="" coords="519,229,634,256"/>
<area shape="rect" id="node31" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="807,229,952,256"/>
<area shape="rect" id="node32" href="../../dd/d20/event_8h.html" title="asterisk/event.h" alt="" coords="659,229,783,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d44/stasis__app_8h__dep__incl.png" border="0" usemap="#stasis__app_8hdep" alt=""/></div>
<map name="stasis__app_8hdep" id="stasis__app_8hdep">
<area shape="rect" id="node2" href="../../de/d0b/stasis__app__impl_8h.html" title="Backend API for implementing components of res_stasis. " alt="" coords="1463,80,1599,107"/>
<area shape="rect" id="node4" href="../../db/d0b/resource__bridges_8c.html" title="Implementation for ARI stubs. " alt="" coords="188,155,331,181"/>
<area shape="rect" id="node14" href="../../de/de3/control_8c.html" title="Stasis application control support. " alt="" coords="1855,229,1933,256"/>
<area shape="rect" id="node15" href="../../d9/de0/stasis__bridge_8c.html" title="Stasis bridge subclass. " alt="" coords="2205,229,2322,256"/>
<area shape="rect" id="node16" href="../../d1/d75/stasis__app__device__state_8h.html" title="Stasis Application Device State API. See StasisApplication API&quot; for detailed documentation. " alt="" coords="2281,80,2472,107"/>
<area shape="rect" id="node18" href="../../d7/deb/stasis__app__mailbox_8h.html" title="Stasis Application Mailbox API. See StasisApplication API&quot; for detailed documentation. " alt="" coords="2496,80,2655,107"/>
<area shape="rect" id="node20" href="../../d3/d1e/stasis__app__playback_8h.html" title="Stasis Application Playback API. See StasisApplication API&quot; for detailed documentation. " alt="" coords="349,80,514,107"/>
<area shape="rect" id="node21" href="../../da/d49/resource__channels_8c.html" title="Implementation for ARI stubs. " alt="" coords="355,155,508,181"/>
<area shape="rect" id="node23" href="../../d2/dda/stasis__app__recording_8h.html" title="Stasis Application Recording API. See StasisApplication API&quot; for detailed documentation. " alt="" coords="713,80,883,107"/>
<area shape="rect" id="node26" href="../../d7/d9b/stasis__app__snoop_8h.html" title="Stasis Application Snoop API. See StasisApplication API&quot; for detailed documentation. " alt="" coords="1188,80,1336,107"/>
<area shape="rect" id="node27" href="../../d8/d44/ari__websockets_8c.html" title="WebSocket support for RESTful API&#39;s. " alt="" coords="2730,80,2861,107"/>
<area shape="rect" id="node28" href="../../d8/dfa/res_2ari_2cli_8c.html" title="Command line for ARI. " alt="" coords="2885,80,2932,107"/>
<area shape="rect" id="node29" href="../../d5/dbc/resource__applications_8c.html" title="/api&#45;docs/applications.{format} implementation &#45; Stasis application resources " alt="" coords="2956,80,3128,107"/>
<area shape="rect" id="node30" href="../../d1/d5a/resource__endpoints_8c.html" title="/api&#45;docs/endpoints.{format} implementation&#45; Endpoint resources " alt="" coords="3152,80,3311,107"/>
<area shape="rect" id="node31" href="../../dd/df4/resource__events_8c.html" title="/api&#45;docs/events.{format} implementation&#45; WebSocket resource " alt="" coords="3335,80,3474,107"/>
<area shape="rect" id="node32" href="../../d7/dbc/res__ari_8c.html" title="HTTP binding for the Stasis API. " alt="" coords="3499,80,3575,107"/>
<area shape="rect" id="node33" href="../../d3/d82/res__ari__applications_8c.html" title="Stasis application resources. " alt="" coords="3599,80,3757,107"/>
<area shape="rect" id="node34" href="../../dd/d87/res__ari__asterisk_8c.html" title="Asterisk resources. " alt="" coords="3782,80,3915,107"/>
<area shape="rect" id="node35" href="../../d6/dcd/res__ari__bridges_8c.html" title="Bridge resources. " alt="" coords="3939,80,4070,107"/>
<area shape="rect" id="node36" href="../../de/daa/res__ari__channels_8c.html" title="Channel resources. " alt="" coords="4095,80,4235,107"/>
<area shape="rect" id="node37" href="../../dc/d85/res__ari__device__states_8c.html" title="Device state resources. " alt="" coords="4259,80,4430,107"/>
<area shape="rect" id="node38" href="../../d1/dd2/res__ari__endpoints_8c.html" title="Endpoint resources. " alt="" coords="4454,80,4601,107"/>
<area shape="rect" id="node39" href="../../d6/d87/res__ari__events_8c.html" title="WebSocket resource. " alt="" coords="4625,80,4752,107"/>
<area shape="rect" id="node40" href="../../d0/dd5/res__ari__mailboxes_8c.html" title="Mailboxes resources. " alt="" coords="4776,80,4924,107"/>
<area shape="rect" id="node41" href="../../d0/d2f/res__ari__playbacks_8c.html" title="Playback control resources. " alt="" coords="4949,80,5095,107"/>
<area shape="rect" id="node42" href="../../d8/dd5/res__ari__recordings_8c.html" title="Recording resources. " alt="" coords="5120,80,5271,107"/>
<area shape="rect" id="node43" href="../../dc/d1e/res__ari__sounds_8c.html" title="Sound resources. " alt="" coords="5295,80,5424,107"/>
<area shape="rect" id="node44" href="../../df/d5f/res_2stasis_2app_8h.html" title="Internal API for the Stasis application controller. " alt="" coords="2038,80,2097,107"/>
<area shape="rect" id="node45" href="../../d3/d5e/res_2stasis_2app_8c.html" title="Stasis application support. " alt="" coords="2315,155,2372,181"/>
<area shape="rect" id="node46" href="../../d9/d02/control_8h.html" title="Internal API for the Stasis application controller. " alt="" coords="2179,80,2257,107"/>
<area shape="rect" id="node47" href="../../d0/d77/test__res__stasis_8c.html" title="Test Stasis Application API. David M. Lee, II &lt;dlee@digium.com&gt; . " alt="" coords="5448,80,5577,107"/>
<area shape="rect" id="node3" href="../../d1/d25/app__stasis_8c.html" title="Stasis dialplan application. " alt="" coords="1705,155,1806,181"/>
<area shape="rect" id="node5" href="../../d2/d80/res__stasis_8c.html" title="Stasis application support. " alt="" coords="1881,155,1979,181"/>
<area shape="rect" id="node6" href="../../d4/d26/res__stasis__answer_8c.html" title="Stasis application control support. " alt="" coords="1532,155,1680,181"/>
<area shape="rect" id="node7" href="../../dd/d71/res__stasis__device__state_8c.html" title="res_stasis_device_state.c" alt="" coords="2105,155,2291,181"/>
<area shape="rect" id="node8" href="../../d5/daa/res__stasis__mailbox_8c.html" title="res_stasis_mailbox.c" alt="" coords="2498,155,2653,181"/>
<area shape="rect" id="node9" href="../../d7/de1/res__stasis__playback_8c.html" title="res_stasis playback support. " alt="" coords="533,155,693,181"/>
<area shape="rect" id="node10" href="../../d8/d4c/res__stasis__recording_8c.html" title="res_stasis recording support. " alt="" coords="1003,155,1167,181"/>
<area shape="rect" id="node11" href="../../dd/da3/res__stasis__snoop_8c.html" title="Stasis application snoop control support. " alt="" coords="1191,155,1333,181"/>
<area shape="rect" id="node12" href="../../d0/d09/command_8h.html" title="Internal API for the Stasis application commands. " alt="" coords="1409,155,1507,181"/>
<area shape="rect" id="node13" href="../../d5/d2e/command_8c.html" title="Stasis application command support. " alt="" coords="1365,229,1463,256"/>
<area shape="rect" id="node17" href="../../da/d20/resource__device__states_8c.html" title="/api&#45;docs/deviceStates.{format} implementation&#45; Device state resources " alt="" coords="2677,155,2861,181"/>
<area shape="rect" id="node19" href="../../d9/d8a/resource__mailboxes_8c.html" title="/api&#45;docs/mailboxes.{format} implementation&#45; Mailboxes resources " alt="" coords="2885,155,3047,181"/>
<area shape="rect" id="node22" href="../../d1/db1/resource__playbacks_8c.html" title="/api&#45;docs/playbacks.{format} implementation&#45; Playback control resources " alt="" coords="5,155,164,181"/>
<area shape="rect" id="node24" href="../../d6/d1b/resource__recordings_8c.html" title="/api&#45;docs/recordings.{format} implementation&#45; Recording resources " alt="" coords="717,155,879,181"/>
<area shape="rect" id="node25" href="../../d3/d74/stored_8c.html" title="Stored file operations for Stasis. " alt="" coords="903,155,978,181"/>
</map>
</div>
</div>
<p><a href="../../d8/d9c/stasis__app_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rule to check to see if an operation is allowed.  <a href="../../d3/dc3/structstasis__app__control__rule.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event source information and callbacks.  <a href="../../d7/d3a/structstasis__app__event__source.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a453a6c0b68581d87f9d38e659e8d251e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251e">stasis_app_user_event_res</a> { <br />
&#160;&#160;<a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eaadba62dc1d1fe986b584cc557361245a">STASIS_APP_USER_OK</a>, 
<a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea2934c5232a8150f7a16f68b4d1e2fadd">STASIS_APP_USER_APP_NOT_FOUND</a>, 
<a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea4d638b2ec2ab4f04577a1bf730452de7">STASIS_APP_USER_EVENT_SOURCE_NOT_FOUND</a>, 
<a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea5508946419d468c65f7468dab9c2872d">STASIS_APP_USER_EVENT_SOURCE_BAD_SCHEME</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea5dc2bc6e7de43791c30e36d18145e66a">STASIS_APP_USER_USEREVENT_INVALID</a>, 
<a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eab0c1aa02f313e675e647e88c66ef98bf">STASIS_APP_USER_INTERNAL_ERROR</a>
<br />
 }<tr class="memdesc:a453a6c0b68581d87f9d38e659e8d251e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return code for stasis_app_user_event.  <a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251e">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a453a6c0b68581d87f9d38e659e8d251e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae21cc45a96ed6435254781e0c7299bc2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a> { <br />
&#160;&#160;<a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a0079a4d74da9039b273214b71282c066">STASIS_ASR_OK</a>, 
<a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2ac19b84db0ec7174bf76408373b5ebc32">STASIS_ASR_APP_NOT_FOUND</a>, 
<a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2ab1c79217081aefb1d0d0f822d1d4602b">STASIS_ASR_EVENT_SOURCE_NOT_FOUND</a>, 
<a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a38d581d86391aff4f6717240eff52d4d">STASIS_ASR_EVENT_SOURCE_BAD_SCHEME</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a58a41e91d8c33fd78c949624b87a4620">STASIS_ASR_INTERNAL_ERROR</a>
<br />
 }<tr class="memdesc:ae21cc45a96ed6435254781e0c7299bc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return code for stasis_app_[un]subscribe.  <a href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ae21cc45a96ed6435254781e0c7299bc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745524550c947d73d1dc42de3c74627d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a>) (void *data, const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="memdesc:a745524550c947d73d1dc42de3c74627d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for Stasis application handler.  <a href="#a745524550c947d73d1dc42de3c74627d">More...</a><br /></td></tr>
<tr class="separator:a745524550c947d73d1dc42de3c74627d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd5d5852231994902e0c5c67ead2fd6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a9dd5d5852231994902e0c5c67ead2fd6">stasis_app_get_all</a> (void)</td></tr>
<tr class="memdesc:a9dd5d5852231994902e0c5c67ead2fd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the names of all registered Stasis applications.  <a href="#a9dd5d5852231994902e0c5c67ead2fd6">More...</a><br /></td></tr>
<tr class="separator:a9dd5d5852231994902e0c5c67ead2fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7c67f73571bdd74cd792c3633b34ff"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a3c7c67f73571bdd74cd792c3633b34ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a handle to a Stasis application by its name.  <a href="#a3c7c67f73571bdd74cd792c3633b34ff">More...</a><br /></td></tr>
<tr class="separator:a3c7c67f73571bdd74cd792c3633b34ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3b218f6acfe72a4d8c6a109abd3469"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a4d3b218f6acfe72a4d8c6a109abd3469">stasis_app_register</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, <a class="el" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a> <a class="el" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>, void *data)</td></tr>
<tr class="memdesc:a4d3b218f6acfe72a4d8c6a109abd3469"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new Stasis application.  <a href="#a4d3b218f6acfe72a4d8c6a109abd3469">More...</a><br /></td></tr>
<tr class="separator:a4d3b218f6acfe72a4d8c6a109abd3469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21c15986133e0241642e935477011d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#af21c15986133e0241642e935477011d0">stasis_app_register_all</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, <a class="el" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a> <a class="el" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>, void *data)</td></tr>
<tr class="memdesc:af21c15986133e0241642e935477011d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new Stasis application that receives all Asterisk events.  <a href="#af21c15986133e0241642e935477011d0">More...</a><br /></td></tr>
<tr class="separator:af21c15986133e0241642e935477011d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99253bb2d8ecd4b3dc223961316d9239"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a99253bb2d8ecd4b3dc223961316d9239">stasis_app_unregister</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>)</td></tr>
<tr class="memdesc:a99253bb2d8ecd4b3dc223961316d9239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a Stasis application.  <a href="#a99253bb2d8ecd4b3dc223961316d9239">More...</a><br /></td></tr>
<tr class="separator:a99253bb2d8ecd4b3dc223961316d9239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e480436ce57455bc35ec42889104ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a27e480436ce57455bc35ec42889104ab">stasis_app_send</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="memdesc:a27e480436ce57455bc35ec42889104ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to the given Stasis application.  <a href="#a27e480436ce57455bc35ec42889104ab">More...</a><br /></td></tr>
<tr class="separator:a27e480436ce57455bc35ec42889104ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f04206486943b8208052323a7dfd101"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a8f04206486943b8208052323a7dfd101">stasis_app_name</a> (const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a8f04206486943b8208052323a7dfd101"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an application's name.  <a href="#a8f04206486943b8208052323a7dfd101">More...</a><br /></td></tr>
<tr class="separator:a8f04206486943b8208052323a7dfd101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3240784e83df1a46da2c0586d337c7c3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a3240784e83df1a46da2c0586d337c7c3">stasis_app_object_to_json</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a3240784e83df1a46da2c0586d337c7c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the JSON representation of a Stasis application.  <a href="#a3240784e83df1a46da2c0586d337c7c3">More...</a><br /></td></tr>
<tr class="separator:a3240784e83df1a46da2c0586d337c7c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4cd8b912a6e31eb03699bd13bea9b29"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#ab4cd8b912a6e31eb03699bd13bea9b29">stasis_app_to_json</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>)</td></tr>
<tr class="memdesc:ab4cd8b912a6e31eb03699bd13bea9b29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the JSON representation of a Stasis application.  <a href="#ab4cd8b912a6e31eb03699bd13bea9b29">More...</a><br /></td></tr>
<tr class="separator:ab4cd8b912a6e31eb03699bd13bea9b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad7e2e88b43d2044074a802ebd34409d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#aad7e2e88b43d2044074a802ebd34409d">stasis_app_register_event_source</a> (struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a> *obj)</td></tr>
<tr class="memdesc:aad7e2e88b43d2044074a802ebd34409d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an application event source.  <a href="#aad7e2e88b43d2044074a802ebd34409d">More...</a><br /></td></tr>
<tr class="separator:aad7e2e88b43d2044074a802ebd34409d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6599f1f9ec81efa1150b8394c0903858"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a6599f1f9ec81efa1150b8394c0903858">stasis_app_register_event_sources</a> (void)</td></tr>
<tr class="memdesc:a6599f1f9ec81efa1150b8394c0903858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register core event sources.  <a href="#a6599f1f9ec81efa1150b8394c0903858">More...</a><br /></td></tr>
<tr class="separator:a6599f1f9ec81efa1150b8394c0903858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6899b9113d6f268865efa52e88a425f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a6899b9113d6f268865efa52e88a425f3">stasis_app_unregister_event_source</a> (struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a> *obj)</td></tr>
<tr class="memdesc:a6899b9113d6f268865efa52e88a425f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister an application event source.  <a href="#a6899b9113d6f268865efa52e88a425f3">More...</a><br /></td></tr>
<tr class="separator:a6899b9113d6f268865efa52e88a425f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b48d94fdb79f3d0fc2bc10b229458e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a31b48d94fdb79f3d0fc2bc10b229458e">stasis_app_unregister_event_sources</a> (void)</td></tr>
<tr class="memdesc:a31b48d94fdb79f3d0fc2bc10b229458e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister core event sources.  <a href="#a31b48d94fdb79f3d0fc2bc10b229458e">More...</a><br /></td></tr>
<tr class="separator:a31b48d94fdb79f3d0fc2bc10b229458e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ffc610970f392253ff3de33a6481d3"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251e">stasis_app_user_event_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a78ffc610970f392253ff3de33a6481d3">stasis_app_user_event</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, const char *event_name, const char **source_uris, int sources_count, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *json_variables)</td></tr>
<tr class="memdesc:a78ffc610970f392253ff3de33a6481d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a Userevent for stasis app (echo to AMI)  <a href="#a78ffc610970f392253ff3de33a6481d3">More...</a><br /></td></tr>
<tr class="separator:a78ffc610970f392253ff3de33a6481d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3661b0ee32badfbbf5386042bf368dd1"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a3661b0ee32badfbbf5386042bf368dd1">stasis_app_subscribe</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, const char **event_source_uris, int event_sources_count, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> **json)</td></tr>
<tr class="memdesc:a3661b0ee32badfbbf5386042bf368dd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribes an application to a list of event sources.  <a href="#a3661b0ee32badfbbf5386042bf368dd1">More...</a><br /></td></tr>
<tr class="separator:a3661b0ee32badfbbf5386042bf368dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a179259570589ab0bfa873900608c7f"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a9a179259570589ab0bfa873900608c7f">stasis_app_unsubscribe</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, const char **event_source_uris, int event_sources_count, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> **json)</td></tr>
<tr class="memdesc:a9a179259570589ab0bfa873900608c7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribes an application from a list of event sources.  <a href="#a9a179259570589ab0bfa873900608c7f">More...</a><br /></td></tr>
<tr class="separator:a9a179259570589ab0bfa873900608c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74298c6a966c1248dfc03869cd8b1089"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a74298c6a966c1248dfc03869cd8b1089">stasis_app_subscribe_channel</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a74298c6a966c1248dfc03869cd8b1089"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directly subscribe an application to a channel.  <a href="#a74298c6a966c1248dfc03869cd8b1089">More...</a><br /></td></tr>
<tr class="separator:a74298c6a966c1248dfc03869cd8b1089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8806ce156147c9a6daff8a6c9294211"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211">stasis_app_control_channel_result</a> { <a class="el" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211a974fc1b7c53cee860810d036888b8003">STASIS_APP_CHANNEL_OKAY</a> = 0, 
<a class="el" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211a6604de6e80d963507e730680226140b2">STASIS_APP_CHANNEL_RECORDING</a>
 }<tr class="memdesc:ad8806ce156147c9a6daff8a6c9294211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result codes used when adding/removing channels to/from bridges.  <a href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ad8806ce156147c9a6daff8a6c9294211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf20b6f2b70956f1d88829c37708f080"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#acf20b6f2b70956f1d88829c37708f080">stasis_app_control_register_add_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="el" href="../../d3/d61/structrule.html">rule</a>)</td></tr>
<tr class="memdesc:acf20b6f2b70956f1d88829c37708f080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an add channel to bridge rule.  <a href="#acf20b6f2b70956f1d88829c37708f080">More...</a><br /></td></tr>
<tr class="separator:acf20b6f2b70956f1d88829c37708f080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa038e171bcc2b5e09a09100063141ea1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#aa038e171bcc2b5e09a09100063141ea1">stasis_app_control_unregister_add_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="el" href="../../d3/d61/structrule.html">rule</a>)</td></tr>
<tr class="memdesc:aa038e171bcc2b5e09a09100063141ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">UnRegister an add channel to bridge rule.  <a href="#aa038e171bcc2b5e09a09100063141ea1">More...</a><br /></td></tr>
<tr class="separator:aa038e171bcc2b5e09a09100063141ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ffd34c4da0bc15d8334aa2983157f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a02ffd34c4da0bc15d8334aa2983157f3">stasis_app_control_register_remove_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="el" href="../../d3/d61/structrule.html">rule</a>)</td></tr>
<tr class="memdesc:a02ffd34c4da0bc15d8334aa2983157f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a remove channel from bridge rule.  <a href="#a02ffd34c4da0bc15d8334aa2983157f3">More...</a><br /></td></tr>
<tr class="separator:a02ffd34c4da0bc15d8334aa2983157f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f688a3d2e7d4bf0119dba4b6557ebc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a1f688a3d2e7d4bf0119dba4b6557ebc8">stasis_app_control_unregister_remove_rule</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *<a class="el" href="../../d3/d61/structrule.html">rule</a>)</td></tr>
<tr class="memdesc:a1f688a3d2e7d4bf0119dba4b6557ebc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters a remove channel from bridge rule.  <a href="#a1f688a3d2e7d4bf0119dba4b6557ebc8">More...</a><br /></td></tr>
<tr class="separator:a1f688a3d2e7d4bf0119dba4b6557ebc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8623f7f06a4475af1def681db3c0949e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a8623f7f06a4475af1def681db3c0949e">stasis_app_control_find_by_channel</a> (const struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a8623f7f06a4475af1def681db3c0949e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the handler for the given channel.  <a href="#a8623f7f06a4475af1def681db3c0949e">More...</a><br /></td></tr>
<tr class="separator:a8623f7f06a4475af1def681db3c0949e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4e1e822068e3e8dffa74bcbd8235f9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#abd4e1e822068e3e8dffa74bcbd8235f9">stasis_app_control_find_by_channel_id</a> (const char *channel_id)</td></tr>
<tr class="memdesc:abd4e1e822068e3e8dffa74bcbd8235f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the handler for the channel with the given id.  <a href="#abd4e1e822068e3e8dffa74bcbd8235f9">More...</a><br /></td></tr>
<tr class="separator:abd4e1e822068e3e8dffa74bcbd8235f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f63d3e139d209a4aca4405e8031c6a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#ae9f63d3e139d209a4aca4405e8031c6a">stasis_app_control_create</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ae9f63d3e139d209a4aca4405e8031c6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a control handler for a channel that isn't in a stasis app.  <a href="#ae9f63d3e139d209a4aca4405e8031c6a">More...</a><br /></td></tr>
<tr class="separator:ae9f63d3e139d209a4aca4405e8031c6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749c2ea261eace2b153f5f3a8b89e9f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a749c2ea261eace2b153f5f3a8b89e9f0">stasis_app_control_execute_until_exhausted</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a749c2ea261eace2b153f5f3a8b89e9f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Act on a stasis app control queue until it is empty.  <a href="#a749c2ea261eace2b153f5f3a8b89e9f0">More...</a><br /></td></tr>
<tr class="separator:a749c2ea261eace2b153f5f3a8b89e9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b9b43f053ce8e30751424af42c4e8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#ab3b9b43f053ce8e30751424af42c4e8f">stasis_app_control_is_done</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:ab3b9b43f053ce8e30751424af42c4e8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a control is marked as done.  <a href="#ab3b9b43f053ce8e30751424af42c4e8f">More...</a><br /></td></tr>
<tr class="separator:ab3b9b43f053ce8e30751424af42c4e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8188f94c15b15db5f01a9d14e191658d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a8188f94c15b15db5f01a9d14e191658d">stasis_app_control_flush_queue</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a8188f94c15b15db5f01a9d14e191658d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the control command queue.  <a href="#a8188f94c15b15db5f01a9d14e191658d">More...</a><br /></td></tr>
<tr class="separator:a8188f94c15b15db5f01a9d14e191658d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765833b409f1e57016e7fff07d9e0a01"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a> (const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a765833b409f1e57016e7fff07d9e0a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the uniqueid of the channel associated with this control.  <a href="#a765833b409f1e57016e7fff07d9e0a01">More...</a><br /></td></tr>
<tr class="separator:a765833b409f1e57016e7fff07d9e0a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a68f427b9d772cea5e222039314509"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a84a68f427b9d772cea5e222039314509">stasis_app_control_add_role</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *role)</td></tr>
<tr class="memdesc:a84a68f427b9d772cea5e222039314509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply a bridge role to a channel controlled by a stasis app control.  <a href="#a84a68f427b9d772cea5e222039314509">More...</a><br /></td></tr>
<tr class="separator:a84a68f427b9d772cea5e222039314509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42879b4f8dabd12fc8dd0677b3524808"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a42879b4f8dabd12fc8dd0677b3524808">stasis_app_control_clear_roles</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a42879b4f8dabd12fc8dd0677b3524808"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear bridge roles currently applied to a channel controlled by a stasis app control.  <a href="#a42879b4f8dabd12fc8dd0677b3524808">More...</a><br /></td></tr>
<tr class="separator:a42879b4f8dabd12fc8dd0677b3524808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c0b1bbbf0189d3c6b076eccd0a6d8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a44c0b1bbbf0189d3c6b076eccd0a6d8f">stasis_app_control_continue</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</td></tr>
<tr class="memdesc:a44c0b1bbbf0189d3c6b076eccd0a6d8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit <code>res_stasis</code> and continue execution in the dialplan.  <a href="#a44c0b1bbbf0189d3c6b076eccd0a6d8f">More...</a><br /></td></tr>
<tr class="separator:a44c0b1bbbf0189d3c6b076eccd0a6d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df0352d477bb7ff14767cf9d4cd301f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a5df0352d477bb7ff14767cf9d4cd301f">stasis_app_control_move</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, const char *app_args)</td></tr>
<tr class="memdesc:a5df0352d477bb7ff14767cf9d4cd301f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit <code>res_stasis</code> and move to another Stasis application.  <a href="#a5df0352d477bb7ff14767cf9d4cd301f">More...</a><br /></td></tr>
<tr class="separator:a5df0352d477bb7ff14767cf9d4cd301f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a22aa0f953281ff836d394667b9bd24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a5a22aa0f953281ff836d394667b9bd24">stasis_app_control_redirect</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *endpoint)</td></tr>
<tr class="memdesc:a5a22aa0f953281ff836d394667b9bd24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redirect a channel in <code>res_stasis</code> to a particular endpoint.  <a href="#a5a22aa0f953281ff836d394667b9bd24">More...</a><br /></td></tr>
<tr class="separator:a5a22aa0f953281ff836d394667b9bd24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9717bc28b2e5847e2d227c27bfe9116"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#af9717bc28b2e5847e2d227c27bfe9116">stasis_app_control_ring</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:af9717bc28b2e5847e2d227c27bfe9116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate ringing to the channel associated with this control.  <a href="#af9717bc28b2e5847e2d227c27bfe9116">More...</a><br /></td></tr>
<tr class="separator:af9717bc28b2e5847e2d227c27bfe9116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53d6f93bf8ba651ab404eaf855d4027"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#ab53d6f93bf8ba651ab404eaf855d4027">stasis_app_control_ring_stop</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:ab53d6f93bf8ba651ab404eaf855d4027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop locally generated ringing on the channel associated with this control.  <a href="#ab53d6f93bf8ba651ab404eaf855d4027">More...</a><br /></td></tr>
<tr class="separator:ab53d6f93bf8ba651ab404eaf855d4027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c019f054eb3780d13f1e691864cca44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a7c019f054eb3780d13f1e691864cca44">stasis_app_control_dtmf</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *dtmf, int before, int between, unsigned int duration, int after)</td></tr>
<tr class="memdesc:a7c019f054eb3780d13f1e691864cca44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send DTMF to the channel associated with this control.  <a href="#a7c019f054eb3780d13f1e691864cca44">More...</a><br /></td></tr>
<tr class="separator:a7c019f054eb3780d13f1e691864cca44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66191b73a286eb254c6d8ce1ad0f6483"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a66191b73a286eb254c6d8ce1ad0f6483">stasis_app_control_mute</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, unsigned int <a class="el" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>, enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a> frametype)</td></tr>
<tr class="memdesc:a66191b73a286eb254c6d8ce1ad0f6483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mute the channel associated with this control.  <a href="#a66191b73a286eb254c6d8ce1ad0f6483">More...</a><br /></td></tr>
<tr class="separator:a66191b73a286eb254c6d8ce1ad0f6483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221cfaccbc5c213fa0e56aacdc611669"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a221cfaccbc5c213fa0e56aacdc611669">stasis_app_control_unmute</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, unsigned int <a class="el" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>, enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a> frametype)</td></tr>
<tr class="memdesc:a221cfaccbc5c213fa0e56aacdc611669"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmute the channel associated with this control.  <a href="#a221cfaccbc5c213fa0e56aacdc611669">More...</a><br /></td></tr>
<tr class="separator:a221cfaccbc5c213fa0e56aacdc611669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affbf321a8a4ee3e7f55aacbc7aa6a152"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#affbf321a8a4ee3e7f55aacbc7aa6a152">stasis_app_control_answer</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:affbf321a8a4ee3e7f55aacbc7aa6a152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Answer the channel associated with this control.  <a href="#affbf321a8a4ee3e7f55aacbc7aa6a152">More...</a><br /></td></tr>
<tr class="separator:affbf321a8a4ee3e7f55aacbc7aa6a152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb085c198d616b3317f7327fd7e5fc7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#aeb085c198d616b3317f7327fd7e5fc7b">stasis_app_control_set_channel_var</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *variable, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:aeb085c198d616b3317f7327fd7e5fc7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a variable on the channel associated with this control to value.  <a href="#aeb085c198d616b3317f7327fd7e5fc7b">More...</a><br /></td></tr>
<tr class="separator:aeb085c198d616b3317f7327fd7e5fc7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bb10fa5db167b16a211526e13673edf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a9bb10fa5db167b16a211526e13673edf">stasis_app_control_hold</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a9bb10fa5db167b16a211526e13673edf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Place the channel associated with the control on hold.  <a href="#a9bb10fa5db167b16a211526e13673edf">More...</a><br /></td></tr>
<tr class="separator:a9bb10fa5db167b16a211526e13673edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2719b9cb8ef3ef44ad550fc3818d7264"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a2719b9cb8ef3ef44ad550fc3818d7264">stasis_app_control_unhold</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a2719b9cb8ef3ef44ad550fc3818d7264"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the channel associated with the control from hold.  <a href="#a2719b9cb8ef3ef44ad550fc3818d7264">More...</a><br /></td></tr>
<tr class="separator:a2719b9cb8ef3ef44ad550fc3818d7264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f12c113afa7b94a2ddf80d6d543b23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a11f12c113afa7b94a2ddf80d6d543b23">stasis_app_control_moh_start</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *moh_class)</td></tr>
<tr class="memdesc:a11f12c113afa7b94a2ddf80d6d543b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play music on hold to a channel (does not affect hold status)  <a href="#a11f12c113afa7b94a2ddf80d6d543b23">More...</a><br /></td></tr>
<tr class="separator:a11f12c113afa7b94a2ddf80d6d543b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d561aa1d3d4550d16717af2e9ff6c19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a5d561aa1d3d4550d16717af2e9ff6c19">stasis_app_control_moh_stop</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a5d561aa1d3d4550d16717af2e9ff6c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop playing music on hold to a channel (does not affect hold status)  <a href="#a5d561aa1d3d4550d16717af2e9ff6c19">More...</a><br /></td></tr>
<tr class="separator:a5d561aa1d3d4550d16717af2e9ff6c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b8ee9ca3a0ed85ce482681b0e6d9b45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a3b8ee9ca3a0ed85ce482681b0e6d9b45">stasis_app_control_silence_start</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a3b8ee9ca3a0ed85ce482681b0e6d9b45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start playing silence to a channel.  <a href="#a3b8ee9ca3a0ed85ce482681b0e6d9b45">More...</a><br /></td></tr>
<tr class="separator:a3b8ee9ca3a0ed85ce482681b0e6d9b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7239c782e4db64d0e0ddcbcd4283cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a3c7239c782e4db64d0e0ddcbcd4283cd">stasis_app_control_silence_stop</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a3c7239c782e4db64d0e0ddcbcd4283cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop playing silence to a channel.  <a href="#a3c7239c782e4db64d0e0ddcbcd4283cd">More...</a><br /></td></tr>
<tr class="separator:a3c7239c782e4db64d0e0ddcbcd4283cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e17c5418a4753bb1229f031041a645c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a2e17c5418a4753bb1229f031041a645c">stasis_app_control_get_snapshot</a> (const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a2e17c5418a4753bb1229f031041a645c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most recent snapshot for the associated channel.  <a href="#a2e17c5418a4753bb1229f031041a645c">More...</a><br /></td></tr>
<tr class="separator:a2e17c5418a4753bb1229f031041a645c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59eacac6d5939ac31361047ec04b34a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a59eacac6d5939ac31361047ec04b34a3">stasis_app_control_publish</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="memdesc:a59eacac6d5939ac31361047ec04b34a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a message to the <em>control's</em> channel's topic.  <a href="#a59eacac6d5939ac31361047ec04b34a3">More...</a><br /></td></tr>
<tr class="separator:a59eacac6d5939ac31361047ec04b34a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c95eccf2647ee7aba08fd47933940d7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a1c95eccf2647ee7aba08fd47933940d7">ast_app_get_topic</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a1c95eccf2647ee7aba08fd47933940d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the stasis topic for an app.  <a href="#a1c95eccf2647ee7aba08fd47933940d7">More...</a><br /></td></tr>
<tr class="separator:a1c95eccf2647ee7aba08fd47933940d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1925743427fa1e058f5059e3b2de4d28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390">ast_control_frame_type</a> <a class="el" href="../../d1/d46/codec__builtin_8c.html#a3ca2c0bc7578bf3d337e34b2c08a6c5f">frame_type</a>)</td></tr>
<tr class="memdesc:a1925743427fa1e058f5059e3b2de4d28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue a control frame without payload.  <a href="#a1925743427fa1e058f5059e3b2de4d28">More...</a><br /></td></tr>
<tr class="separator:a1925743427fa1e058f5059e3b2de4d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91df4734eca233c215ab79786f9d11b4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a91df4734eca233c215ab79786f9d11b4">stasis_app_bridge_create</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:a91df4734eca233c215ab79786f9d11b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a bridge of the specified type.  <a href="#a91df4734eca233c215ab79786f9d11b4">More...</a><br /></td></tr>
<tr class="separator:a91df4734eca233c215ab79786f9d11b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f76e15fbda00811dce3419a69b4ec9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a04f76e15fbda00811dce3419a69b4ec9">stasis_app_bridge_create_invisible</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:a04f76e15fbda00811dce3419a69b4ec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an invisible bridge of the specified type.  <a href="#a04f76e15fbda00811dce3419a69b4ec9">More...</a><br /></td></tr>
<tr class="separator:a04f76e15fbda00811dce3419a69b4ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe33686443d20df474000c93ce319804"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#abe33686443d20df474000c93ce319804">stasis_app_bridge_find_by_id</a> (const char *bridge_id)</td></tr>
<tr class="memdesc:abe33686443d20df474000c93ce319804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the bridge with the given id.  <a href="#abe33686443d20df474000c93ce319804">More...</a><br /></td></tr>
<tr class="separator:abe33686443d20df474000c93ce319804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e7e7260fa51f143f37037152a066ac"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a63e7e7260fa51f143f37037152a066ac">stasis_app_bridge_moh_channel</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a63e7e7260fa51f143f37037152a066ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds or creates an announcer channel in a bridge that can play music on hold.  <a href="#a63e7e7260fa51f143f37037152a066ac">More...</a><br /></td></tr>
<tr class="separator:a63e7e7260fa51f143f37037152a066ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb885cfb6f40052e5246ecd9b47e8330"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#afb885cfb6f40052e5246ecd9b47e8330">stasis_app_bridge_moh_stop</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:afb885cfb6f40052e5246ecd9b47e8330"><td class="mdescLeft">&#160;</td><td class="mdescRight">Breaks down MOH channels playing on the bridge created by stasis_app_bridge_moh_channel.  <a href="#afb885cfb6f40052e5246ecd9b47e8330">More...</a><br /></td></tr>
<tr class="separator:afb885cfb6f40052e5246ecd9b47e8330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25fa5ed44ce632f93f089310a83a1fc1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a25fa5ed44ce632f93f089310a83a1fc1">stasis_app_bridge_playback_channel_find</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a25fa5ed44ce632f93f089310a83a1fc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds an existing ARI playback channel in a bridge.  <a href="#a25fa5ed44ce632f93f089310a83a1fc1">More...</a><br /></td></tr>
<tr class="separator:a25fa5ed44ce632f93f089310a83a1fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982a6980aa99f3e44158ab610808addb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a982a6980aa99f3e44158ab610808addb">stasis_app_bridge_playback_channel_add</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a982a6980aa99f3e44158ab610808addb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a channel to the list of ARI playback channels for bridges.  <a href="#a982a6980aa99f3e44158ab610808addb">More...</a><br /></td></tr>
<tr class="separator:a982a6980aa99f3e44158ab610808addb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015fc5f54ed4261703fb8e7e307f012e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a015fc5f54ed4261703fb8e7e307f012e">stasis_app_bridge_playback_channel_remove</a> (char *bridge_id, struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a015fc5f54ed4261703fb8e7e307f012e"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove channel from list of ARI playback channels for bridges.  <a href="#a015fc5f54ed4261703fb8e7e307f012e">More...</a><br /></td></tr>
<tr class="separator:a015fc5f54ed4261703fb8e7e307f012e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e208e3badecf666903679cff10cd2d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a2e208e3badecf666903679cff10cd2d2">stasis_app_control_add_channel_to_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a2e208e3badecf666903679cff10cd2d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a channel to the bridge.  <a href="#a2e208e3badecf666903679cff10cd2d2">More...</a><br /></td></tr>
<tr class="separator:a2e208e3badecf666903679cff10cd2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874dcd52a4209a376cfdd082ec21725b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a874dcd52a4209a376cfdd082ec21725b">stasis_app_control_remove_channel_from_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a874dcd52a4209a376cfdd082ec21725b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a channel from the bridge.  <a href="#a874dcd52a4209a376cfdd082ec21725b">More...</a><br /></td></tr>
<tr class="separator:a874dcd52a4209a376cfdd082ec21725b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d7c78b5fc5947de58844090ee2518f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a8d7c78b5fc5947de58844090ee2518f9">stasis_app_control_bridge_features_init</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a8d7c78b5fc5947de58844090ee2518f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize bridge features into a channel control.  <a href="#a8d7c78b5fc5947de58844090ee2518f9">More...</a><br /></td></tr>
<tr class="separator:a8d7c78b5fc5947de58844090ee2518f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694987deedc23dec0abba4f7401d858e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a694987deedc23dec0abba4f7401d858e">stasis_app_control_absorb_dtmf_in_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, int absorb)</td></tr>
<tr class="memdesc:a694987deedc23dec0abba4f7401d858e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether DTMF from the channel is absorbed instead of passing through to the bridge.  <a href="#a694987deedc23dec0abba4f7401d858e">More...</a><br /></td></tr>
<tr class="separator:a694987deedc23dec0abba4f7401d858e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a8e7b7b8dad6e8559c7ee699a2b163"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a00a8e7b7b8dad6e8559c7ee699a2b163">stasis_app_control_mute_in_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, int <a class="el" href="../../d0/d8a/muted_8c.html#a40c353051f61f0b0ca3e1af451eefcd8">mute</a>)</td></tr>
<tr class="memdesc:a00a8e7b7b8dad6e8559c7ee699a2b163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether audio from the channel is muted instead of passing through to the bridge.  <a href="#a00a8e7b7b8dad6e8559c7ee699a2b163">More...</a><br /></td></tr>
<tr class="separator:a00a8e7b7b8dad6e8559c7ee699a2b163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852b7f8db110cea010cf8b430948c70f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a852b7f8db110cea010cf8b430948c70f">stasis_app_control_inhibit_colp_in_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, int inhibit_colp)</td></tr>
<tr class="memdesc:a852b7f8db110cea010cf8b430948c70f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether COLP frames should be generated when joining the bridge.  <a href="#a852b7f8db110cea010cf8b430948c70f">More...</a><br /></td></tr>
<tr class="separator:a852b7f8db110cea010cf8b430948c70f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00eec5811d50eb68749bf440708e156b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="memdesc:a00eec5811d50eb68749bf440708e156b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the bridge currently associated with a control object.  <a href="#a00eec5811d50eb68749bf440708e156b">More...</a><br /></td></tr>
<tr class="separator:a00eec5811d50eb68749bf440708e156b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4493fdb230759374b1a9aa51f5a3ab8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a4493fdb230759374b1a9aa51f5a3ab8d">stasis_app_bridge_destroy</a> (const char *bridge_id)</td></tr>
<tr class="memdesc:a4493fdb230759374b1a9aa51f5a3ab8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the bridge.  <a href="#a4493fdb230759374b1a9aa51f5a3ab8d">More...</a><br /></td></tr>
<tr class="separator:a4493fdb230759374b1a9aa51f5a3ab8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e0d54649ef61d0ac78c70bf9ff58ec"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a> (void)</td></tr>
<tr class="memdesc:a75e0d54649ef61d0ac78c70bf9ff58ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Stasis message sanitizer for app_stasis applications.  <a href="#a75e0d54649ef61d0ac78c70bf9ff58ec">More...</a><br /></td></tr>
<tr class="separator:a75e0d54649ef61d0ac78c70bf9ff58ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d647ca6bfea8ebd0800c6fcf62f0eee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a3d647ca6bfea8ebd0800c6fcf62f0eee">stasis_app_channel_set_stasis_end_published</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a3d647ca6bfea8ebd0800c6fcf62f0eee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that this channel has had a StasisEnd published for it.  <a href="#a3d647ca6bfea8ebd0800c6fcf62f0eee">More...</a><br /></td></tr>
<tr class="separator:a3d647ca6bfea8ebd0800c6fcf62f0eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae429eca049aebfe3cb49325eef2cb7e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#ae429eca049aebfe3cb49325eef2cb7e8">stasis_app_channel_is_stasis_end_published</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ae429eca049aebfe3cb49325eef2cb7e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has this channel had a StasisEnd published on it?  <a href="#ae429eca049aebfe3cb49325eef2cb7e8">More...</a><br /></td></tr>
<tr class="separator:ae429eca049aebfe3cb49325eef2cb7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e58d0a38378de4b66b3e2e622d23fca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a1e58d0a38378de4b66b3e2e622d23fca">stasis_app_channel_is_internal</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a1e58d0a38378de4b66b3e2e622d23fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this channel internal to Stasis?  <a href="#a1e58d0a38378de4b66b3e2e622d23fca">More...</a><br /></td></tr>
<tr class="separator:a1e58d0a38378de4b66b3e2e622d23fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f0cfe6db3bfaf00ebdb84740ab7c00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a84f0cfe6db3bfaf00ebdb84740ab7c00">stasis_app_channel_unreal_set_internal</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a84f0cfe6db3bfaf00ebdb84740ab7c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark this unreal channel and it's other half as being internal to Stasis.  <a href="#a84f0cfe6db3bfaf00ebdb84740ab7c00">More...</a><br /></td></tr>
<tr class="separator:a84f0cfe6db3bfaf00ebdb84740ab7c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a615331896e359c60c2502a5ea644e0c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a615331896e359c60c2502a5ea644e0c4">stasis_app_channel_set_internal</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a615331896e359c60c2502a5ea644e0c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark this channel as being internal to Stasis.  <a href="#a615331896e359c60c2502a5ea644e0c4">More...</a><br /></td></tr>
<tr class="separator:a615331896e359c60c2502a5ea644e0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab947f73656a6630c01b18dc648e58f5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#ab947f73656a6630c01b18dc648e58f5d">stasis_app_control_dial</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *dialstring, unsigned int <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr class="memdesc:ab947f73656a6630c01b18dc648e58f5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dial a channel.  <a href="#ab947f73656a6630c01b18dc648e58f5d">More...</a><br /></td></tr>
<tr class="separator:ab947f73656a6630c01b18dc648e58f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb45df1051fd2fa2cbf88b1c00ed13ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#afb45df1051fd2fa2cbf88b1c00ed13ea">stasis_app_control_shutdown</a> (void)</td></tr>
<tr class="memdesc:afb45df1051fd2fa2cbf88b1c00ed13ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let Stasis app internals shut down.  <a href="#afb45df1051fd2fa2cbf88b1c00ed13ea">More...</a><br /></td></tr>
<tr class="separator:afb45df1051fd2fa2cbf88b1c00ed13ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021880a772de9d50853755f00f3e1715"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a021880a772de9d50853755f00f3e1715">stasis_app_set_debug</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, int <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr class="memdesc:a021880a772de9d50853755f00f3e1715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable request/response and event logging on an application.  <a href="#a021880a772de9d50853755f00f3e1715">More...</a><br /></td></tr>
<tr class="separator:a021880a772de9d50853755f00f3e1715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a46dbc343b8338f76152e781349a33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a49a46dbc343b8338f76152e781349a33">stasis_app_set_debug_by_name</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, int <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr class="memdesc:a49a46dbc343b8338f76152e781349a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable request/response and event logging on an application.  <a href="#a49a46dbc343b8338f76152e781349a33">More...</a><br /></td></tr>
<tr class="separator:a49a46dbc343b8338f76152e781349a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9ee347f7e73966127369176bf1fd75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a7d9ee347f7e73966127369176bf1fd75">stasis_app_get_debug</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a7d9ee347f7e73966127369176bf1fd75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get debug status of an application.  <a href="#a7d9ee347f7e73966127369176bf1fd75">More...</a><br /></td></tr>
<tr class="separator:a7d9ee347f7e73966127369176bf1fd75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af858fde8ee399c0f266e908e780daf0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#af858fde8ee399c0f266e908e780daf0a">stasis_app_get_debug_by_name</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>)</td></tr>
<tr class="memdesc:af858fde8ee399c0f266e908e780daf0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get debug status of an application.  <a href="#af858fde8ee399c0f266e908e780daf0a">More...</a><br /></td></tr>
<tr class="separator:af858fde8ee399c0f266e908e780daf0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793181753c292309203d2bd578c2f489"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a793181753c292309203d2bd578c2f489">stasis_app_set_global_debug</a> (int <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr class="memdesc:a793181753c292309203d2bd578c2f489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable request/response and event logging on all applications.  <a href="#a793181753c292309203d2bd578c2f489">More...</a><br /></td></tr>
<tr class="separator:a793181753c292309203d2bd578c2f489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846417e8ae7b7f9d9fe66904d7ae2bcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a846417e8ae7b7f9d9fe66904d7ae2bcc">stasis_app_to_cli</a> (const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="memdesc:a846417e8ae7b7f9d9fe66904d7ae2bcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump properties of a <code><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a></code> to the CLI.  <a href="#a846417e8ae7b7f9d9fe66904d7ae2bcc">More...</a><br /></td></tr>
<tr class="separator:a846417e8ae7b7f9d9fe66904d7ae2bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831e5cbdbab284329b5850ec86ea1c46"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a831e5cbdbab284329b5850ec86ea1c46">stasis_app_event_filter_to_json</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *json)</td></tr>
<tr class="memdesc:a831e5cbdbab284329b5850ec86ea1c46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert and add the app's event type filter(s) to the given json object.  <a href="#a831e5cbdbab284329b5850ec86ea1c46">More...</a><br /></td></tr>
<tr class="separator:a831e5cbdbab284329b5850ec86ea1c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a715fba69467600dc1692afa5176c97af"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a715fba69467600dc1692afa5176c97af">stasis_app_event_filter_set</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d9/d1e/func__strings_8c.html#af2deb3c7b0d3bdd442bb9ada5fda3d17">filter</a>)</td></tr>
<tr class="memdesc:a715fba69467600dc1692afa5176c97af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the application's event type filter.  <a href="#a715fba69467600dc1692afa5176c97af">More...</a><br /></td></tr>
<tr class="separator:a715fba69467600dc1692afa5176c97af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c9b284230bdd01438dbaf2be5c32a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a21c9b284230bdd01438dbaf2be5c32a5">stasis_app_event_allowed</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>)</td></tr>
<tr class="memdesc:a21c9b284230bdd01438dbaf2be5c32a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the given event should be filtered.  <a href="#a21c9b284230bdd01438dbaf2be5c32a5">More...</a><br /></td></tr>
<tr class="separator:a21c9b284230bdd01438dbaf2be5c32a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stasis Application API. See <a class="el" href="../../d5/d72/res_stasis.html">Stasis Application API</a> for detailed documentation. </p>
<dl class="section author"><dt>Author</dt><dd>David M. Lee, II <a href="#" onclick="location.href='mai'+'lto:'+'dle'+'e@'+'dig'+'iu'+'m.c'+'om'; return false;">dlee@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d8/d9c/stasis__app_8h_source.html">stasis_app.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a745524550c947d73d1dc42de3c74627d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a745524550c947d73d1dc42de3c74627d">&#9670;&nbsp;</a></span>stasis_app_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* stasis_app_cb) (void *data, const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for Stasis application handler. </p>
<p>The message given to the handler is a borrowed copy. If you want to keep a reference to it, you should use <code><a class="el" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref()</a></code> to keep it around.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Data ptr given when registered. </td></tr>
    <tr><td class="paramname">app_name</td><td>Name of the application being dispatched to. </td></tr>
    <tr><td class="paramname">message</td><td>Message to handle. (borrowed copy) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00067">67</a> of file <a class="el" href="../../d8/d9c/stasis__app_8h_source.html">stasis_app.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ad8806ce156147c9a6daff8a6c9294211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8806ce156147c9a6daff8a6c9294211">&#9670;&nbsp;</a></span>stasis_app_control_channel_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211">stasis_app_control_channel_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Result codes used when adding/removing channels to/from bridges. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ad8806ce156147c9a6daff8a6c9294211a974fc1b7c53cee860810d036888b8003"></a>STASIS_APP_CHANNEL_OKAY&#160;</td><td class="fielddoc"><p>The channel is okay to be added/removed </p>
</td></tr>
<tr><td class="fieldname"><a id="ad8806ce156147c9a6daff8a6c9294211a6604de6e80d963507e730680226140b2"></a>STASIS_APP_CHANNEL_RECORDING&#160;</td><td class="fielddoc"><p>The channel is currently recording </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00777">777</a> of file <a class="el" href="../../d8/d9c/stasis__app_8h_source.html">stasis_app.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                                       {<span class="comment"></span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">   /*! The channel is okay to be added/removed */</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211a974fc1b7c53cee860810d036888b8003">STASIS_APP_CHANNEL_OKAY</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">   /*! The channel is currently recording */</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211a6604de6e80d963507e730680226140b2">STASIS_APP_CHANNEL_RECORDING</a></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;};</div><div class="ttc" id="stasis__app_8h_html_ad8806ce156147c9a6daff8a6c9294211a974fc1b7c53cee860810d036888b8003"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211a974fc1b7c53cee860810d036888b8003">STASIS_APP_CHANNEL_OKAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00779">stasis_app.h:779</a></div></div>
<div class="ttc" id="stasis__app_8h_html_ad8806ce156147c9a6daff8a6c9294211a6604de6e80d963507e730680226140b2"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211a6604de6e80d963507e730680226140b2">STASIS_APP_CHANNEL_RECORDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00781">stasis_app.h:781</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae21cc45a96ed6435254781e0c7299bc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae21cc45a96ed6435254781e0c7299bc2">&#9670;&nbsp;</a></span>stasis_app_subscribe_res</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return code for stasis_app_[un]subscribe. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae21cc45a96ed6435254781e0c7299bc2a0079a4d74da9039b273214b71282c066"></a>STASIS_ASR_OK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae21cc45a96ed6435254781e0c7299bc2ac19b84db0ec7174bf76408373b5ebc32"></a>STASIS_ASR_APP_NOT_FOUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae21cc45a96ed6435254781e0c7299bc2ab1c79217081aefb1d0d0f822d1d4602b"></a>STASIS_ASR_EVENT_SOURCE_NOT_FOUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae21cc45a96ed6435254781e0c7299bc2a38d581d86391aff4f6717240eff52d4d"></a>STASIS_ASR_EVENT_SOURCE_BAD_SCHEME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae21cc45a96ed6435254781e0c7299bc2a58a41e91d8c33fd78c949624b87a4620"></a>STASIS_ASR_INTERNAL_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00282">282</a> of file <a class="el" href="../../d8/d9c/stasis__app_8h_source.html">stasis_app.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                              {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a0079a4d74da9039b273214b71282c066">STASIS_ASR_OK</a>,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2ac19b84db0ec7174bf76408373b5ebc32">STASIS_ASR_APP_NOT_FOUND</a>,</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2ab1c79217081aefb1d0d0f822d1d4602b">STASIS_ASR_EVENT_SOURCE_NOT_FOUND</a>,</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a38d581d86391aff4f6717240eff52d4d">STASIS_ASR_EVENT_SOURCE_BAD_SCHEME</a>,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a58a41e91d8c33fd78c949624b87a4620">STASIS_ASR_INTERNAL_ERROR</a>,</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;};</div><div class="ttc" id="stasis__app_8h_html_ae21cc45a96ed6435254781e0c7299bc2a0079a4d74da9039b273214b71282c066"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a0079a4d74da9039b273214b71282c066">STASIS_ASR_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00283">stasis_app.h:283</a></div></div>
<div class="ttc" id="stasis__app_8h_html_ae21cc45a96ed6435254781e0c7299bc2a58a41e91d8c33fd78c949624b87a4620"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a58a41e91d8c33fd78c949624b87a4620">STASIS_ASR_INTERNAL_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00287">stasis_app.h:287</a></div></div>
<div class="ttc" id="stasis__app_8h_html_ae21cc45a96ed6435254781e0c7299bc2a38d581d86391aff4f6717240eff52d4d"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a38d581d86391aff4f6717240eff52d4d">STASIS_ASR_EVENT_SOURCE_BAD_SCHEME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00286">stasis_app.h:286</a></div></div>
<div class="ttc" id="stasis__app_8h_html_ae21cc45a96ed6435254781e0c7299bc2ac19b84db0ec7174bf76408373b5ebc32"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2ac19b84db0ec7174bf76408373b5ebc32">STASIS_ASR_APP_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00284">stasis_app.h:284</a></div></div>
<div class="ttc" id="stasis__app_8h_html_ae21cc45a96ed6435254781e0c7299bc2ab1c79217081aefb1d0d0f822d1d4602b"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2ab1c79217081aefb1d0d0f822d1d4602b">STASIS_ASR_EVENT_SOURCE_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00285">stasis_app.h:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a453a6c0b68581d87f9d38e659e8d251e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a453a6c0b68581d87f9d38e659e8d251e">&#9670;&nbsp;</a></span>stasis_app_user_event_res</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251e">stasis_app_user_event_res</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return code for stasis_app_user_event. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a453a6c0b68581d87f9d38e659e8d251eaadba62dc1d1fe986b584cc557361245a"></a>STASIS_APP_USER_OK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a453a6c0b68581d87f9d38e659e8d251ea2934c5232a8150f7a16f68b4d1e2fadd"></a>STASIS_APP_USER_APP_NOT_FOUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a453a6c0b68581d87f9d38e659e8d251ea4d638b2ec2ab4f04577a1bf730452de7"></a>STASIS_APP_USER_EVENT_SOURCE_NOT_FOUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a453a6c0b68581d87f9d38e659e8d251ea5508946419d468c65f7468dab9c2872d"></a>STASIS_APP_USER_EVENT_SOURCE_BAD_SCHEME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a453a6c0b68581d87f9d38e659e8d251ea5dc2bc6e7de43791c30e36d18145e66a"></a>STASIS_APP_USER_USEREVENT_INVALID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a453a6c0b68581d87f9d38e659e8d251eab0c1aa02f313e675e647e88c66ef98bf"></a>STASIS_APP_USER_INTERNAL_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00255">255</a> of file <a class="el" href="../../d8/d9c/stasis__app_8h_source.html">stasis_app.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                               {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eaadba62dc1d1fe986b584cc557361245a">STASIS_APP_USER_OK</a>,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea2934c5232a8150f7a16f68b4d1e2fadd">STASIS_APP_USER_APP_NOT_FOUND</a>,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea4d638b2ec2ab4f04577a1bf730452de7">STASIS_APP_USER_EVENT_SOURCE_NOT_FOUND</a>,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea5508946419d468c65f7468dab9c2872d">STASIS_APP_USER_EVENT_SOURCE_BAD_SCHEME</a>,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea5dc2bc6e7de43791c30e36d18145e66a">STASIS_APP_USER_USEREVENT_INVALID</a>,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eab0c1aa02f313e675e647e88c66ef98bf">STASIS_APP_USER_INTERNAL_ERROR</a>,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;};</div><div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251eab0c1aa02f313e675e647e88c66ef98bf"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eab0c1aa02f313e675e647e88c66ef98bf">STASIS_APP_USER_INTERNAL_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00261">stasis_app.h:261</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251ea2934c5232a8150f7a16f68b4d1e2fadd"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea2934c5232a8150f7a16f68b4d1e2fadd">STASIS_APP_USER_APP_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00257">stasis_app.h:257</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251eaadba62dc1d1fe986b584cc557361245a"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eaadba62dc1d1fe986b584cc557361245a">STASIS_APP_USER_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00256">stasis_app.h:256</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251ea5508946419d468c65f7468dab9c2872d"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea5508946419d468c65f7468dab9c2872d">STASIS_APP_USER_EVENT_SOURCE_BAD_SCHEME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00259">stasis_app.h:259</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251ea4d638b2ec2ab4f04577a1bf730452de7"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea4d638b2ec2ab4f04577a1bf730452de7">STASIS_APP_USER_EVENT_SOURCE_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00258">stasis_app.h:258</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251ea5dc2bc6e7de43791c30e36d18145e66a"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea5dc2bc6e7de43791c30e36d18145e66a">STASIS_APP_USER_USEREVENT_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00260">stasis_app.h:260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1c95eccf2647ee7aba08fd47933940d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c95eccf2647ee7aba08fd47933940d7">&#9670;&nbsp;</a></span>ast_app_get_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_app_get_topic </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the stasis topic for an app. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Stasis app to get topic of </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01028">1028</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01083">app_send_end_msg()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00991">send_start_msg_snapshots()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02095">stasis_app_user_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;{</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <span class="keywordflow">return</span> app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;}</div><div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a91df4734eca233c215ab79786f9d11b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91df4734eca233c215ab79786f9d11b4">&#9670;&nbsp;</a></span>stasis_app_bridge_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* stasis_app_bridge_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a bridge of the specified type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of bridge to be created </td></tr>
    <tr><td class="paramname">name</td><td>Optional name to give to the bridge </td></tr>
    <tr><td class="paramname">id</td><td>Optional Unique ID to give to the bridge</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New bridge. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00851">851</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00795">bridge_create_common()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00925">ast_ari_bridges_create()</a>, and <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00954">ast_ari_bridges_create_with_id()</a>.</p>
<div class="fragment"><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d80/res__stasis_8c.html#adf5c18e590fa6156e0da6266a9e6f2af">bridge_create_common</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="keywordtype">id</span>, 0);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="res__stasis_8c_html_adf5c18e590fa6156e0da6266a9e6f2af"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#adf5c18e590fa6156e0da6266a9e6f2af">bridge_create_common</a></div><div class="ttdeci">static struct ast_bridge * bridge_create_common(const char *type, const char *name, const char *id, int invisible)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00795">res_stasis.c:795</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a04f76e15fbda00811dce3419a69b4ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04f76e15fbda00811dce3419a69b4ec9">&#9670;&nbsp;</a></span>stasis_app_bridge_create_invisible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* stasis_app_bridge_create_invisible </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an invisible bridge of the specified type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of bridge to be created </td></tr>
    <tr><td class="paramname">name</td><td>Optional name to give to the bridge </td></tr>
    <tr><td class="paramname">id</td><td>Optional Unique ID to give to the bridge</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New bridge. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00856">856</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00795">bridge_create_common()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00974">get_dial_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;{</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d80/res__stasis_8c.html#adf5c18e590fa6156e0da6266a9e6f2af">bridge_create_common</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="keywordtype">id</span>, 1);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="res__stasis_8c_html_adf5c18e590fa6156e0da6266a9e6f2af"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#adf5c18e590fa6156e0da6266a9e6f2af">bridge_create_common</a></div><div class="ttdeci">static struct ast_bridge * bridge_create_common(const char *type, const char *name, const char *id, int invisible)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00795">res_stasis.c:795</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4493fdb230759374b1a9aa51f5a3ab8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4493fdb230759374b1a9aa51f5a3ab8d">&#9670;&nbsp;</a></span>stasis_app_bridge_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_bridge_destroy </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bridge_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_id</td><td>Uniqueid of bridge to be destroyed</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-zero</td><td>on failure </td></tr>
    <tr><td class="paramname">zero</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00861">861</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01598">ao2_unlink</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00774">stasis_app_bridge_find_by_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00872">ast_ari_bridges_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;{</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge = <a class="code" href="../../d2/d80/res__stasis_8c.html#abe33686443d20df474000c93ce319804">stasis_app_bridge_find_by_id</a>(bridge_id);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <span class="keywordflow">if</span> (!bridge) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a7896db107c13a174610ce550f73b4379">app_bridges</a>, bridge);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(bridge, 0);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;}</div><div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a7896db107c13a174610ce550f73b4379"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a7896db107c13a174610ce550f73b4379">app_bridges</a></div><div class="ttdeci">struct ao2_container * app_bridges</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00104">res_stasis.c:104</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="astobj2_8h_html_a64f51be4bee35c38dbe59b0a788b5ce8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a></div><div class="ttdeci">#define ao2_unlink(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01598">astobj2.h:1598</a></div></div>
<div class="ttc" id="res__stasis_8c_html_abe33686443d20df474000c93ce319804"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#abe33686443d20df474000c93ce319804">stasis_app_bridge_find_by_id</a></div><div class="ttdeci">struct ast_bridge * stasis_app_bridge_find_by_id(const char *bridge_id)</div><div class="ttdoc">Returns the bridge with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00774">res_stasis.c:774</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abe33686443d20df474000c93ce319804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe33686443d20df474000c93ce319804">&#9670;&nbsp;</a></span>stasis_app_bridge_find_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* stasis_app_bridge_find_by_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bridge_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the bridge with the given id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_id</td><td>Uniqueid of the bridge.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL bridge not created by a Stasis application, or bridge does not exist. </dd>
<dd>
Pointer to bridge. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00774">774</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01518">bridge_find()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00057">find_bridge()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00861">stasis_app_bridge_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;{</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a7896db107c13a174610ce550f73b4379">app_bridges</a>, bridge_id, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a7896db107c13a174610ce550f73b4379"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a7896db107c13a174610ce550f73b4379">app_bridges</a></div><div class="ttdeci">struct ao2_container * app_bridges</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00104">res_stasis.c:104</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a63e7e7260fa51f143f37037152a066ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63e7e7260fa51f143f37037152a066ac">&#9670;&nbsp;</a></span>stasis_app_bridge_moh_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a>* stasis_app_bridge_moh_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds or creates an announcer channel in a bridge that can play music on hold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge we want an MOH channel for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL if the music on hold channel fails to be created or join the bridge for any reason. </dd>
<dd>
Pointer to the ;1 end of the announcer channel chain. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00629">629</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01454">ast_channel_get_by_name()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00574">bridge_moh_create()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00425">stasis_app_bridge_channel_wrapper::channel_id</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00809">ast_ari_bridges_start_moh()</a>.</p>
<div class="fragment"><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a> *moh_wrapper;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a6087c047e3d42735633bfa233c9f6c18">app_bridges_moh</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   moh_wrapper = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a6087c047e3d42735633bfa233c9f6c18">app_bridges_moh</a>, bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <span class="keywordflow">if</span> (!moh_wrapper) {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      chan = <a class="code" href="../../d2/d80/res__stasis_8c.html#a54b2224bde918dd14a74b2f74c92ed0a">bridge_moh_create</a>(bridge);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a6087c047e3d42735633bfa233c9f6c18">app_bridges_moh</a>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   <span class="keywordflow">if</span> (moh_wrapper) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      chan = <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(moh_wrapper-&gt;<a class="code" href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html#a88a46081e4a6b006f0119288a885a099">channel_id</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(moh_wrapper, -1);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <span class="keywordflow">return</span> chan;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a6087c047e3d42735633bfa233c9f6c18"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a6087c047e3d42735633bfa233c9f6c18">app_bridges_moh</a></div><div class="ttdeci">struct ao2_container * app_bridges_moh</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00106">res_stasis.c:106</a></div></div>
<div class="ttc" id="structstasis__app__bridge__channel__wrapper_html"><div class="ttname"><a href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00421">res_stasis.c:421</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a54b2224bde918dd14a74b2f74c92ed0a"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a54b2224bde918dd14a74b2f74c92ed0a">bridge_moh_create</a></div><div class="ttdeci">static struct ast_channel * bridge_moh_create(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00574">res_stasis.c:574</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structstasis__app__bridge__channel__wrapper_html_a88a46081e4a6b006f0119288a885a099"><div class="ttname"><a href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html#a88a46081e4a6b006f0119288a885a099">stasis_app_bridge_channel_wrapper::channel_id</a></div><div class="ttdeci">const ast_string_field channel_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00425">res_stasis.c:425</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="channel_8h_html_ac7e42045272530c8678418993e75fd56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name(const char *name)</div><div class="ttdoc">Find a channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01454">channel.c:1454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb885cfb6f40052e5246ecd9b47e8330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb885cfb6f40052e5246ecd9b47e8330">&#9670;&nbsp;</a></span>stasis_app_bridge_moh_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_bridge_moh_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Breaks down MOH channels playing on the bridge created by stasis_app_bridge_moh_channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge we want to stop the MOH on</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if no moh channel could be found and stopped </dd>
<dd>
0 on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00649">649</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00105">AST_CAUSE_NORMAL_CLEARING</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01454">ast_channel_get_by_name()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07876">ast_moh_stop()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00425">stasis_app_bridge_channel_wrapper::channel_id</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00835">ast_ari_bridges_stop_moh()</a>.</p>
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a> *moh_wrapper;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   moh_wrapper = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a6087c047e3d42735633bfa233c9f6c18">app_bridges_moh</a>, bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   <span class="keywordflow">if</span> (!moh_wrapper) {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   }</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   chan = <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(moh_wrapper-&gt;<a class="code" href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html#a88a46081e4a6b006f0119288a885a099">channel_id</a>);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(moh_wrapper, -1);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <a class="code" href="../../dc/d07/musiconhold_8h.html#a52fead32f69533450f3c05b2e6960149">ast_moh_stop</a>(chan);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(chan);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a6087c047e3d42735633bfa233c9f6c18"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a6087c047e3d42735633bfa233c9f6c18">app_bridges_moh</a></div><div class="ttdeci">struct ao2_container * app_bridges_moh</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00106">res_stasis.c:106</a></div></div>
<div class="ttc" id="structstasis__app__bridge__channel__wrapper_html"><div class="ttname"><a href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00421">res_stasis.c:421</a></div></div>
<div class="ttc" id="musiconhold_8h_html_a52fead32f69533450f3c05b2e6960149"><div class="ttname"><a href="../../dc/d07/musiconhold_8h.html#a52fead32f69533450f3c05b2e6960149">ast_moh_stop</a></div><div class="ttdeci">void ast_moh_stop(struct ast_channel *chan)</div><div class="ttdoc">Turn off music on hold on a given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07876">channel.c:7876</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="causes_8h_html_af2235eb1c27925e4020ce286255d165f"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL_CLEARING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00105">causes.h:105</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_ac2d6607253f7e8b272d4e845474eaa9b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a></div><div class="ttdeci">int ast_softhangup(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02476">channel.c:2476</a></div></div>
<div class="ttc" id="structstasis__app__bridge__channel__wrapper_html_a88a46081e4a6b006f0119288a885a099"><div class="ttname"><a href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html#a88a46081e4a6b006f0119288a885a099">stasis_app_bridge_channel_wrapper::channel_id</a></div><div class="ttdeci">const ast_string_field channel_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00425">res_stasis.c:425</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_ac7e42045272530c8678418993e75fd56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name(const char *name)</div><div class="ttdoc">Find a channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01454">channel.c:1454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a982a6980aa99f3e44158ab610808addb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a982a6980aa99f3e44158ab610808addb">&#9670;&nbsp;</a></span>stasis_app_bridge_playback_channel_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_bridge_playback_channel_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a channel to the list of ARI playback channels for bridges. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge we are adding the playback channel for </td></tr>
    <tr><td class="paramname">chan</td><td>Channel being added as a playback channel (must be ;1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>failed to add channel for any reason </td></tr>
    <tr><td class="paramname">0</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00705">705</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00259">ast_bridge_set_after_callback()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00698">playback_after_bridge_cb()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00691">playback_after_bridge_cb_failed()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00455">stasis_app_bridge_channel_wrapper_destructor()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00407">ari_bridges_play_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a> *, new_wrapper, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   <span class="keywordtype">char</span> *bridge_id = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <span class="keywordflow">if</span> (!bridge_id) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d85/bridge__after_8h.html#a866e05c6b083030e9757cfb37814e671">ast_bridge_set_after_callback</a>(chan,</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <a class="code" href="../../d2/d80/res__stasis_8c.html#a3a1cde5d7ac56b53dff88288a9d9ec28">playback_after_bridge_cb</a>, <a class="code" href="../../d2/d80/res__stasis_8c.html#a47039fad3cd7d282a570afb65c4d7df7">playback_after_bridge_cb_failed</a>, bridge_id)) {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(bridge_id);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   new_wrapper = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(<span class="keyword">sizeof</span>(*new_wrapper),</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <a class="code" href="../../d2/d80/res__stasis_8c.html#a08629ec6aa72fe3dc0336b57334116cc">stasis_app_bridge_channel_wrapper_destructor</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <span class="keywordflow">if</span> (!new_wrapper) {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(new_wrapper, 32)) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(new_wrapper, bridge_id, bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(new_wrapper, channel_id, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a0c88572f7539795df78ee8ac43fcbb84">app_bridges_playback</a>, new_wrapper)) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a45c33c16626c653874a91777849d600a">app_controls</a>, control);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div><div class="ttc" id="res__stasis_8c_html_a3a1cde5d7ac56b53dff88288a9d9ec28"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a3a1cde5d7ac56b53dff88288a9d9ec28">playback_after_bridge_cb</a></div><div class="ttdeci">static void playback_after_bridge_cb(struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00698">res_stasis.c:698</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="structstasis__app__bridge__channel__wrapper_html"><div class="ttname"><a href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00421">res_stasis.c:421</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a866e05c6b083030e9757cfb37814e671"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a866e05c6b083030e9757cfb37814e671">ast_bridge_set_after_callback</a></div><div class="ttdeci">int ast_bridge_set_after_callback(struct ast_channel *chan, ast_bridge_after_cb callback, ast_bridge_after_cb_failed failed, void *data)</div><div class="ttdoc">Setup an after bridge callback for when the channel leaves the bridging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00259">bridge_after.c:259</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a45c33c16626c653874a91777849d600a"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a45c33c16626c653874a91777849d600a">app_controls</a></div><div class="ttdeci">struct ao2_container * app_controls</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00102">res_stasis.c:102</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a0c88572f7539795df78ee8ac43fcbb84"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a0c88572f7539795df78ee8ac43fcbb84">app_bridges_playback</a></div><div class="ttdeci">struct ao2_container * app_bridges_playback</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00108">res_stasis.c:108</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a47039fad3cd7d282a570afb65c4d7df7"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a47039fad3cd7d282a570afb65c4d7df7">playback_after_bridge_cb_failed</a></div><div class="ttdeci">static void playback_after_bridge_cb_failed(enum ast_bridge_after_cb_reason reason, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00691">res_stasis.c:691</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a08629ec6aa72fe3dc0336b57334116cc"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a08629ec6aa72fe3dc0336b57334116cc">stasis_app_bridge_channel_wrapper_destructor</a></div><div class="ttdeci">static void stasis_app_bridge_channel_wrapper_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00455">res_stasis.c:455</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a25fa5ed44ce632f93f089310a83a1fc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25fa5ed44ce632f93f089310a83a1fc1">&#9670;&nbsp;</a></span>stasis_app_bridge_playback_channel_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a>* stasis_app_bridge_playback_channel_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds an existing ARI playback channel in a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge we want to find the playback channel for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL if the playback channel can not be found for any reason. </dd>
<dd>
Pointer to the ;1 end of the playback channel chain. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00759">759</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01454">ast_channel_get_by_name()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00425">stasis_app_bridge_channel_wrapper::channel_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00567">ari_bridges_handle_play()</a>.</p>
<div class="fragment"><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;{</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a> *playback_wrapper;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   playback_wrapper = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a0c88572f7539795df78ee8ac43fcbb84">app_bridges_playback</a>, bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   <span class="keywordflow">if</span> (!playback_wrapper) {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   chan = <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(playback_wrapper-&gt;<a class="code" href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html#a88a46081e4a6b006f0119288a885a099">channel_id</a>);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(playback_wrapper, -1);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   <span class="keywordflow">return</span> chan;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structstasis__app__bridge__channel__wrapper_html"><div class="ttname"><a href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00421">res_stasis.c:421</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a0c88572f7539795df78ee8ac43fcbb84"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a0c88572f7539795df78ee8ac43fcbb84">app_bridges_playback</a></div><div class="ttdeci">struct ao2_container * app_bridges_playback</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00108">res_stasis.c:108</a></div></div>
<div class="ttc" id="structstasis__app__bridge__channel__wrapper_html_a88a46081e4a6b006f0119288a885a099"><div class="ttname"><a href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html#a88a46081e4a6b006f0119288a885a099">stasis_app_bridge_channel_wrapper::channel_id</a></div><div class="ttdeci">const ast_string_field channel_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00425">res_stasis.c:425</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="channel_8h_html_ac7e42045272530c8678418993e75fd56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name(const char *name)</div><div class="ttdoc">Find a channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01454">channel.c:1454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a015fc5f54ed4261703fb8e7e307f012e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015fc5f54ed4261703fb8e7e307f012e">&#9670;&nbsp;</a></span>stasis_app_bridge_playback_channel_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_bridge_playback_channel_remove </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>bridge_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove channel from list of ARI playback channels for bridges. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_id</td><td>The unique ID of the bridge the playback channel is in. </td></tr>
    <tr><td class="paramname">control</td><td>The app control structure for the playback channel </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00743">743</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01598">ao2_unlink</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00407">ari_bridges_play_new()</a>, and <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00288">bridge_channel_control_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;{</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a> *wrapper;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   wrapper = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a0c88572f7539795df78ee8ac43fcbb84">app_bridges_playback</a>, <a class="code" href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html#a2811c5db1aaf4a2d05d837f208019677">bridge_id</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   <span class="keywordflow">if</span> (wrapper) {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="comment">/* If wrapper is not found, then that means the after bridge callback has been</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">       * called or is in progress. No need to unlink the control here since that has</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">       * been done or is about to be done in the after bridge callback</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a45c33c16626c653874a91777849d600a">app_controls</a>, control);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(wrapper, -1);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structstasis__app__bridge__channel__wrapper_html"><div class="ttname"><a href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html">stasis_app_bridge_channel_wrapper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00421">res_stasis.c:421</a></div></div>
<div class="ttc" id="structstasis__app__bridge__channel__wrapper_html_a2811c5db1aaf4a2d05d837f208019677"><div class="ttname"><a href="../../da/d9e/structstasis__app__bridge__channel__wrapper.html#a2811c5db1aaf4a2d05d837f208019677">stasis_app_bridge_channel_wrapper::bridge_id</a></div><div class="ttdeci">const ast_string_field bridge_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00425">res_stasis.c:425</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a45c33c16626c653874a91777849d600a"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a45c33c16626c653874a91777849d600a">app_controls</a></div><div class="ttdeci">struct ao2_container * app_controls</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00102">res_stasis.c:102</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a0c88572f7539795df78ee8ac43fcbb84"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a0c88572f7539795df78ee8ac43fcbb84">app_bridges_playback</a></div><div class="ttdeci">struct ao2_container * app_bridges_playback</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00108">res_stasis.c:108</a></div></div>
<div class="ttc" id="astobj2_8h_html_a64f51be4bee35c38dbe59b0a788b5ce8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a></div><div class="ttdeci">#define ao2_unlink(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01598">astobj2.h:1598</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e58d0a38378de4b66b3e2e622d23fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e58d0a38378de4b66b3e2e622d23fca">&#9670;&nbsp;</a></span>stasis_app_channel_is_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_channel_is_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this channel internal to Stasis? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No </td></tr>
    <tr><td class="paramname">1</td><td>Yes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02322">2322</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00192">bridge_stasis_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;{</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d2/d80/res__stasis_8c.html#a77640d921933055e0e27069d0e6b8786">stasis_internal_channel_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;   <span class="keywordflow">if</span> (datastore) {</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      res = 1;</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;   }</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a77640d921933055e0e27069d0e6b8786"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a77640d921933055e0e27069d0e6b8786">stasis_internal_channel_info</a></div><div class="ttdeci">static const struct ast_datastore_info stasis_internal_channel_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02269">res_stasis.c:2269</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae429eca049aebfe3cb49325eef2cb7e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae429eca049aebfe3cb49325eef2cb7e8">&#9670;&nbsp;</a></span>stasis_app_channel_is_stasis_end_published()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_channel_is_stasis_end_published </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Has this channel had a StasisEnd published on it? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel upon which the query rests.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No </td></tr>
    <tr><td class="paramname">1</td><td>Yes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01299">1299</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01108">internal_bridge_after_cb()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;{</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d2/d80/res__stasis_8c.html#adb4fb92e4de0758b7e8cb1ff407478e7">set_end_published_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;   <span class="keywordflow">return</span> datastore ? 1 : 0;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="res__stasis_8c_html_adb4fb92e4de0758b7e8cb1ff407478e7"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#adb4fb92e4de0758b7e8cb1ff407478e7">set_end_published_info</a></div><div class="ttdeci">struct ast_datastore_info set_end_published_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01283">res_stasis.c:1283</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a615331896e359c60c2502a5ea644e0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a615331896e359c60c2502a5ea644e0c4">&#9670;&nbsp;</a></span>stasis_app_channel_set_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_channel_set_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark this channel as being internal to Stasis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to mark.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">zero</td><td>Success </td></tr>
    <tr><td class="paramname">non-zero</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02311">2311</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02273">set_internal_datastore()</a>.</p>
<div class="fragment"><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;{</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;   res = <a class="code" href="../../d2/d80/res__stasis_8c.html#a8b9fbb6e9e710a26dcb172bd856f28b1">set_internal_datastore</a>(chan);</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a8b9fbb6e9e710a26dcb172bd856f28b1"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a8b9fbb6e9e710a26dcb172bd856f28b1">set_internal_datastore</a></div><div class="ttdeci">static int set_internal_datastore(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02273">res_stasis.c:2273</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d647ca6bfea8ebd0800c6fcf62f0eee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d647ca6bfea8ebd0800c6fcf62f0eee">&#9670;&nbsp;</a></span>stasis_app_channel_set_stasis_end_published()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_channel_set_stasis_end_published </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that this channel has had a StasisEnd published for it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">The</td><td>channel that is exiting Stasis. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01287">1287</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00248">bridge_stasis_moving()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01128">channel_stolen_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;{</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;   datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d2/d80/res__stasis_8c.html#adb4fb92e4de0758b7e8cb1ff407478e7">set_end_published_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;   <span class="keywordflow">if</span> (datastore) {</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   }</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="res__stasis_8c_html_adb4fb92e4de0758b7e8cb1ff407478e7"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#adb4fb92e4de0758b7e8cb1ff407478e7">set_end_published_info</a></div><div class="ttdeci">struct ast_datastore_info set_end_published_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01283">res_stasis.c:1283</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84f0cfe6db3bfaf00ebdb84740ab7c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f0cfe6db3bfaf00ebdb84740ab7c00">&#9670;&nbsp;</a></span>stasis_app_channel_unreal_set_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_channel_unreal_set_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark this unreal channel and it's other half as being internal to Stasis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to mark.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">zero</td><td>Success </td></tr>
    <tr><td class="paramname">non-zero</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02288">2288</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00565">ast_channel_tech_pvt()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00047">ast_unreal_lock_all()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02273">set_internal_datastore()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00574">bridge_moh_create()</a>, and <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00314">prepare_bridge_media_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;{</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *outchan = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *outowner = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/df3/structast__unreal__pvt.html">ast_unreal_pvt</a> *unreal_pvt = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(chan);</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(unreal_pvt, +1);</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;   <a class="code" href="../../de/dea/core__unreal_8h.html#aee6431a3ba70b90b669de8bd0d3334ab">ast_unreal_lock_all</a>(unreal_pvt, &amp;outowner, &amp;outchan);</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;   <span class="keywordflow">if</span> (outowner) {</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;      res |= <a class="code" href="../../d2/d80/res__stasis_8c.html#a8b9fbb6e9e710a26dcb172bd856f28b1">set_internal_datastore</a>(outowner);</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(outowner);</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(outowner);</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;   }</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;   <span class="keywordflow">if</span> (outchan) {</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      res |= <a class="code" href="../../d2/d80/res__stasis_8c.html#a8b9fbb6e9e710a26dcb172bd856f28b1">set_internal_datastore</a>(outchan);</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(outchan);</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(outchan);</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;   }</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(unreal_pvt);</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(unreal_pvt, -1);</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__unreal__pvt_html"><div class="ttname"><a href="../../d6/df3/structast__unreal__pvt.html">ast_unreal_pvt</a></div><div class="ttdoc">The base pvt structure for local channel derivatives. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/core__unreal_8h_source.html#l00091">core_unreal.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a8b9fbb6e9e710a26dcb172bd856f28b1"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a8b9fbb6e9e710a26dcb172bd856f28b1">set_internal_datastore</a></div><div class="ttdeci">static int set_internal_datastore(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02273">res_stasis.c:2273</a></div></div>
<div class="ttc" id="core__unreal_8h_html_aee6431a3ba70b90b669de8bd0d3334ab"><div class="ttname"><a href="../../de/dea/core__unreal_8h.html#aee6431a3ba70b90b669de8bd0d3334ab">ast_unreal_lock_all</a></div><div class="ttdeci">void ast_unreal_lock_all(struct ast_unreal_pvt *p, struct ast_channel **outchan, struct ast_channel **outowner)</div><div class="ttdoc">Send an unreal pvt in with no locks held and get all locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2e/core__unreal_8c_source.html#l00047">core_unreal.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a694987deedc23dec0abba4f7401d858e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694987deedc23dec0abba4f7401d858e">&#9670;&nbsp;</a></span>stasis_app_control_absorb_dtmf_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_absorb_dtmf_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>absorb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether DTMF from the channel is absorbed instead of passing through to the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should have its DTMF absorbed when bridged </td></tr>
    <tr><td class="paramname">absorb</td><td>Whether DTMF should be absorbed (1) instead of passed through (0). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01464">1464</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00279">ast_bridge_features::dtmf_passthrough</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;{</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a>-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a9ed40fc6a252b84f86044f975cc94283">dtmf_passthrough</a> = !absorb;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a9ed40fc6a252b84f86044f975cc94283"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a9ed40fc6a252b84f86044f975cc94283">ast_bridge_features::dtmf_passthrough</a></div><div class="ttdeci">unsigned int dtmf_passthrough</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00279">bridge_features.h:279</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e208e3badecf666903679cff10cd2d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e208e3badecf666903679cff10cd2d2">&#9670;&nbsp;</a></span>stasis_app_control_add_channel_to_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_add_channel_to_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a channel to the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should be added to the bridge </td></tr>
    <tr><td class="paramname">bridge</td><td>Pointer to the bridge</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>non-zero on failure </dd>
<dd>
zero on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01383">1383</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00245">app_control_can_add_channel_to_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00866">app_send_command_on_condition()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01378">control_add_channel_to_bridge()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;{</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Sending channel add_to_bridge command\n&quot;</span>,</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a>(</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      control, <a class="code" href="../../de/de3/control_8c.html#a40fff3666badb7af1a010c523ccf14df">control_add_channel_to_bridge</a>, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#ad6d06be0fa6426cfa71b89eabd6dd75f">app_control_can_add_channel_to_bridge</a>);</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a40fff3666badb7af1a010c523ccf14df"><div class="ttname"><a href="../../de/de3/control_8c.html#a40fff3666badb7af1a010c523ccf14df">control_add_channel_to_bridge</a></div><div class="ttdeci">int control_add_channel_to_bridge(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdoc">Command callback for adding a channel to a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01378">control.c:1378</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="control_8c_html_ad6d06be0fa6426cfa71b89eabd6dd75f"><div class="ttname"><a href="../../de/de3/control_8c.html#ad6d06be0fa6426cfa71b89eabd6dd75f">app_control_can_add_channel_to_bridge</a></div><div class="ttdeci">static int app_control_can_add_channel_to_bridge(struct stasis_app_control *control)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00245">control.c:245</a></div></div>
<div class="ttc" id="control_8c_html_a85b0a5b1bb2e49db6d60d35adc39f708"><div class="ttname"><a href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a></div><div class="ttdeci">static int app_send_command_on_condition(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor, app_command_can_exec_cb can_exec_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00866">control.c:866</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84a68f427b9d772cea5e222039314509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84a68f427b9d772cea5e222039314509">&#9670;&nbsp;</a></span>stasis_app_control_add_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_add_role </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply a bridge role to a channel controlled by a stasis app control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
    <tr><td class="paramname">role</td><td>Role to apply</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00316">316</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00308">app_control_add_role()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;{</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   <span class="keywordtype">char</span> *role_dup;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   role_dup = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(role);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keywordflow">if</span> (!role_dup) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a84c9217860c27d5658215b002d314b5d">app_control_add_role</a>, role_dup, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div><div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="control_8c_html_a84c9217860c27d5658215b002d314b5d"><div class="ttname"><a href="../../de/de3/control_8c.html#a84c9217860c27d5658215b002d314b5d">app_control_add_role</a></div><div class="ttdeci">static int app_control_add_role(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00308">control.c:308</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="affbf321a8a4ee3e7f55aacbc7aa6a152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affbf321a8a4ee3e7f55aacbc7aa6a152">&#9670;&nbsp;</a></span>stasis_app_control_answer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_answer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Answer the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
Non-zero for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d26/res__stasis__answer_8c_source.html#l00044">44</a> of file <a class="el" href="../../d4/d26/res__stasis__answer_8c_source.html">res_stasis_answer.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d26/res__stasis__answer_8c_source.html#l00036">app_control_answer()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/d37/hsearch_8c_source.html#l00050">retval</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00898">stasis_app_send_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00338">ast_ari_channels_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Sending answer command\n&quot;</span>,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   retval = <a class="code" href="../../de/d0b/stasis__app__impl_8h.html#a36343c21d88758d9df3ff6aa217caf5d">stasis_app_send_command</a>(control, <a class="code" href="../../d4/d26/res__stasis__answer_8c.html#a6d06695451a0fb128d4c5de0c983eba0">app_control_answer</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <span class="keywordflow">if</span> (retval != 0) {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s: Failed to answer channel\n&quot;</span>,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;         <a class="code" href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="stasis__app__impl_8h_html_a36343c21d88758d9df3ff6aa217caf5d"><div class="ttname"><a href="../../de/d0b/stasis__app__impl_8h.html#a36343c21d88758d9df3ff6aa217caf5d">stasis_app_send_command</a></div><div class="ttdeci">int stasis_app_send_command(struct stasis_app_control *control, stasis_app_command_cb command, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Invokes a command on a control&amp;#39;s channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00898">control.c:898</a></div></div>
<div class="ttc" id="res__stasis__answer_8c_html_a6d06695451a0fb128d4c5de0c983eba0"><div class="ttname"><a href="../../d4/d26/res__stasis__answer_8c.html#a6d06695451a0fb128d4c5de0c983eba0">app_control_answer</a></div><div class="ttdeci">static int app_control_answer(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d26/res__stasis__answer_8c_source.html#l00036">res_stasis_answer.c:36</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="hsearch_8c_html_ad0f0f85b3cab490a81baa02c4b9edf45"><div class="ttname"><a href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a></div><div class="ttdeci">static ENTRY retval</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d37/hsearch_8c_source.html#l00050">hsearch.c:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d7c78b5fc5947de58844090ee2518f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d7c78b5fc5947de58844090ee2518f9">&#9670;&nbsp;</a></span>stasis_app_control_bridge_features_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_bridge_features_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize bridge features into a channel control. </p>
<dl class="section note"><dt>Note</dt><dd>Bridge features on a control are destroyed after each bridge session, so new features need to be initialized before each bridge add.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control in which to store the features</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>non-zero on failure </dd>
<dd>
zero on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01451">1451</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l03750">ast_bridge_features_new()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;{</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   features = <a class="code" href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a>();</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;   <span class="keywordflow">if</span> (!features) {</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;   }</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a> = features;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;}</div><div class="ttc" id="structast__bridge__features_html"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></div><div class="ttdoc">Structure that contains features information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00263">bridge_features.h:263</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
<div class="ttc" id="bridge__features_8h_html_abf9e5d393615c63d27e0bd530301a1ed"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed">ast_bridge_features_new</a></div><div class="ttdeci">struct ast_bridge_features * ast_bridge_features_new(void)</div><div class="ttdoc">Allocate a new bridge features struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03750">bridge.c:3750</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42879b4f8dabd12fc8dd0677b3524808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42879b4f8dabd12fc8dd0677b3524808">&#9670;&nbsp;</a></span>stasis_app_control_clear_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_clear_roles </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear bridge roles currently applied to a channel controlled by a stasis app control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00338">338</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00330">app_control_clear_roles()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a1afc69223c6420557bb008a7736cc3af">app_control_clear_roles</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a1afc69223c6420557bb008a7736cc3af"><div class="ttname"><a href="../../de/de3/control_8c.html#a1afc69223c6420557bb008a7736cc3af">app_control_clear_roles</a></div><div class="ttdeci">static int app_control_clear_roles(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00330">control.c:330</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a44c0b1bbbf0189d3c6b076eccd0a6d8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44c0b1bbbf0189d3c6b076eccd0a6d8f">&#9670;&nbsp;</a></span>stasis_app_control_continue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_continue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exit <code>res_stasis</code> and continue execution in the dialplan. </p>
<p>If the channel is no longer in <code>res_stasis</code>, this function does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
    <tr><td class="paramname">context</td><td>An optional context to continue to </td></tr>
    <tr><td class="paramname">extension</td><td>An optional extension to continue to </td></tr>
    <tr><td class="paramname">priority</td><td>An optional priority to continue to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00389">389</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00368">app_control_continue()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00363">stasis_app_control_continue_data::context</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00364">stasis_app_control_continue_data::extension</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">priority</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00365">stasis_app_control_continue_data::priority</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00180">ast_ari_channels_continue_in_dialplan()</a>.</p>
<div class="fragment"><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d54/structstasis__app__control__continue__data.html">stasis_app_control_continue_data</a> *continue_data;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">if</span> (!(continue_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*continue_data)))) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <span class="stringliteral">&quot;&quot;</span>), <span class="keyword">sizeof</span>(continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>));</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#a17fc2bb0bac08eee9b9792a4e34757ea">extension</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d0/d5a/structextension.html">extension</a>, <span class="stringliteral">&quot;&quot;</span>), <span class="keyword">sizeof</span>(continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#a17fc2bb0bac08eee9b9792a4e34757ea">extension</a>));</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> &gt; 0) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> = <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      continue_data-&gt;<a class="code" href="../../db/d54/structstasis__app__control__continue__data.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> = -1;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a1217c5dac7dbadf1815aae3963c2dec6">app_control_continue</a>, continue_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div><div class="ttc" id="structstasis__app__control__continue__data_html"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html">stasis_app_control_continue_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00362">control.c:362</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html#ac25ea00ee3f082df06e0cf468cbde240">stasis_app_control_continue_data::context</a></div><div class="ttdeci">char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00363">control.c:363</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html_a17fc2bb0bac08eee9b9792a4e34757ea"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html#a17fc2bb0bac08eee9b9792a4e34757ea">stasis_app_control_continue_data::extension</a></div><div class="ttdeci">char extension[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00364">control.c:364</a></div></div>
<div class="ttc" id="control_8c_html_a1217c5dac7dbadf1815aae3963c2dec6"><div class="ttname"><a href="../../de/de3/control_8c.html#a1217c5dac7dbadf1815aae3963c2dec6">app_control_continue</a></div><div class="ttdeci">static int app_control_continue(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00368">control.c:368</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="structstasis__app__control__continue__data_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../db/d54/structstasis__app__control__continue__data.html#acec9ce2df15222151ad66fcb1d74eb9f">stasis_app_control_continue_data::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00365">control.c:365</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9f63d3e139d209a4aca4405e8031c6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f63d3e139d209a4aca4405e8031c6a">&#9670;&nbsp;</a></span>stasis_app_control_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a>* stasis_app_control_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a control handler for a channel that isn't in a stasis app. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to create controller handle for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL on failure to create the handle </dd>
<dd>
Pointer to <code>res_stasis</code> handler. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00333">333</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00123">control_create()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00407">ari_bridges_play_new()</a>, and <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00634">ast_ari_bridges_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a76527348c55f4a4a8a3cfb7ccd798793">control_create</a>(chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a76527348c55f4a4a8a3cfb7ccd798793"><div class="ttname"><a href="../../de/de3/control_8c.html#a76527348c55f4a4a8a3cfb7ccd798793">control_create</a></div><div class="ttdeci">struct stasis_app_control * control_create(struct ast_channel *channel, struct stasis_app *app)</div><div class="ttdoc">Create a control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00123">control.c:123</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab947f73656a6630c01b18dc648e58f5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab947f73656a6630c01b18dc648e58f5d">&#9670;&nbsp;</a></span>stasis_app_control_dial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_dial </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dial a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">dialstring</td><td>The dialstring to pass to the channel driver </td></tr>
    <tr><td class="paramname">timeout</td><td>Optional timeout in milliseconds </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01666">1666</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l01628">app_control_dial()</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01573">control_dial_args_alloc()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01590">control_dial_args_destroy()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01939">ast_ari_channels_dial()</a>.</p>
<div class="fragment"><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;{</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   args = <a class="code" href="../../de/de3/control_8c.html#a55de25029816375aa9e957be777ae548">control_dial_args_alloc</a>(<a class="code" href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">dialstring</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   <span class="keywordflow">if</span> (!args) {</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   }</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#ad87af38fcd8182bee19a09e7186a8c02">app_control_dial</a>,</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;      args, <a class="code" href="../../de/de3/control_8c.html#ac8dba9849151fd53faa671cb89972b46">control_dial_args_destroy</a>);</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;}</div><div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="control_8c_html_a55de25029816375aa9e957be777ae548"><div class="ttname"><a href="../../de/de3/control_8c.html#a55de25029816375aa9e957be777ae548">control_dial_args_alloc</a></div><div class="ttdeci">static struct control_dial_args * control_dial_args_alloc(const char *dialstring, unsigned int timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01573">control.c:1573</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html_a1c91d65869b4232d57383e1dda103441"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html#a1c91d65869b4232d57383e1dda103441">control_dial_args::dialstring</a></div><div class="ttdeci">char dialstring[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01570">control.c:1570</a></div></div>
<div class="ttc" id="structcontrol__dial__args_html"><div class="ttname"><a href="../../d8/dc2/structcontrol__dial__args.html">control_dial_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01568">control.c:1568</a></div></div>
<div class="ttc" id="control_8c_html_ac8dba9849151fd53faa671cb89972b46"><div class="ttname"><a href="../../de/de3/control_8c.html#ac8dba9849151fd53faa671cb89972b46">control_dial_args_destroy</a></div><div class="ttdeci">static void control_dial_args_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01590">control.c:1590</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="control_8c_html_ad87af38fcd8182bee19a09e7186a8c02"><div class="ttname"><a href="../../de/de3/control_8c.html#ad87af38fcd8182bee19a09e7186a8c02">app_control_dial</a></div><div class="ttdeci">static int app_control_dial(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01628">control.c:1628</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c019f054eb3780d13f1e691864cca44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c019f054eb3780d13f1e691864cca44">&#9670;&nbsp;</a></span>stasis_app_control_dtmf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_dtmf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dtmf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>before</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>between</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>after</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send DTMF to the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">dtmf</td><td>DTMF string. </td></tr>
    <tr><td class="paramname">before</td><td>Amount of time to wait before sending DTMF digits. </td></tr>
    <tr><td class="paramname">between</td><td>Amount of time between each DTMF digit. </td></tr>
    <tr><td class="paramname">duration</td><td>Amount of time each DTMF digit lasts for. </td></tr>
    <tr><td class="paramname">after</td><td>Amount of time to wait after sending DTMF digits.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00565">565</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00517">stasis_app_control_dtmf_data::after</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00547">app_control_dtmf()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00514">stasis_app_control_dtmf_data::before</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00515">stasis_app_control_dtmf_data::between</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00518">stasis_app_control_dtmf_data::dtmf</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00516">stasis_app_control_dtmf_data::duration</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00487">ast_ari_channels_send_dtmf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;{</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a> *dtmf_data;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <span class="keywordflow">if</span> (!(dtmf_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*dtmf_data) + strlen(<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">dtmf</a>) + 1))) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">before</a> = <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">before</a>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">between</a> = <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">between</a>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">duration</a> = <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">duration</a>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">after</a> = <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">after</a>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   strcpy(dtmf_data-&gt;<a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">dtmf</a>, <a class="code" href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">dtmf</a>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#ae9f74a3aaacbfa554231a9a90d1db9f5">app_control_dtmf</a>, dtmf_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="ttc" id="structstasis__app__control__dtmf__data_html_a095ceb846c8c874cd3fcc5cdaf6ade81"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a095ceb846c8c874cd3fcc5cdaf6ade81">stasis_app_control_dtmf_data::duration</a></div><div class="ttdeci">unsigned int duration</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00516">control.c:516</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a166d33fd5261da92d3135d77a32ab8bf"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a166d33fd5261da92d3135d77a32ab8bf">stasis_app_control_dtmf_data::between</a></div><div class="ttdeci">int between</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00515">control.c:515</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a98f0e62710c1bdbf9a7b509ba35ca006"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a98f0e62710c1bdbf9a7b509ba35ca006">stasis_app_control_dtmf_data::before</a></div><div class="ttdeci">int before</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00514">control.c:514</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a80fd48191139488d3a94a881884bcd03"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a80fd48191139488d3a94a881884bcd03">stasis_app_control_dtmf_data::dtmf</a></div><div class="ttdeci">char dtmf[]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00518">control.c:518</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html_a8553ad04554ace7efc8813bb2ffe5862"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html#a8553ad04554ace7efc8813bb2ffe5862">stasis_app_control_dtmf_data::after</a></div><div class="ttdeci">int after</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00517">control.c:517</a></div></div>
<div class="ttc" id="control_8c_html_ae9f74a3aaacbfa554231a9a90d1db9f5"><div class="ttname"><a href="../../de/de3/control_8c.html#ae9f74a3aaacbfa554231a9a90d1db9f5">app_control_dtmf</a></div><div class="ttdeci">static int app_control_dtmf(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00547">control.c:547</a></div></div>
<div class="ttc" id="structstasis__app__control__dtmf__data_html"><div class="ttname"><a href="../../db/d25/structstasis__app__control__dtmf__data.html">stasis_app_control_dtmf_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00513">control.c:513</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a749c2ea261eace2b153f5f3a8b89e9f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749c2ea261eace2b153f5f3a8b89e9f0">&#9670;&nbsp;</a></span>stasis_app_control_execute_until_exhausted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_execute_until_exhausted </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Act on a stasis app control queue until it is empty. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to handle </td></tr>
    <tr><td class="paramname">control</td><td>Control object to execute </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01250">1250</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00419">ast_channel_fdno()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00343">control_command_count()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01495">control_dispatch_all()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00348">control_is_done()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00354">control_mark_done()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00288">bridge_channel_control_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;{</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   <span class="keywordflow">while</span> (!<a class="code" href="../../de/de3/control_8c.html#a54676258e38bccbf5366bf1ba5a18f9c">control_is_done</a>(control)) {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="keywordtype">int</span> command_count;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      command_count = <a class="code" href="../../de/de3/control_8c.html#a9f61f3aaffc1704240675904f5dea104">control_dispatch_all</a>(control, chan);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/de3/control_8c.html#ac2df7584f357c4e4ed8410b204b9f736">control_command_count</a>(control)) {</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;         <span class="comment">/* If the command queue isn&#39;t empty, something added to the queue before it was locked. */</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">if</span> (command_count == 0 || <a class="code" href="../../d5/d7b/channel_8h.html#a3e3e7e66e65ad9cdba2299e36b13e173">ast_channel_fdno</a>(chan) == -1) {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#afe81650a0b8e4926475d3b47fa00da06">control_mark_done</a>(control);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   }</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;}</div><div class="ttc" id="control_8c_html_afe81650a0b8e4926475d3b47fa00da06"><div class="ttname"><a href="../../de/de3/control_8c.html#afe81650a0b8e4926475d3b47fa00da06">control_mark_done</a></div><div class="ttdeci">void control_mark_done(struct stasis_app_control *control)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00354">control.c:354</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="control_8c_html_ac2df7584f357c4e4ed8410b204b9f736"><div class="ttname"><a href="../../de/de3/control_8c.html#ac2df7584f357c4e4ed8410b204b9f736">control_command_count</a></div><div class="ttdeci">int control_command_count(struct stasis_app_control *control)</div><div class="ttdoc">Returns the count of items in a control&amp;#39;s command queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00343">control.c:343</a></div></div>
<div class="ttc" id="control_8c_html_a9f61f3aaffc1704240675904f5dea104"><div class="ttname"><a href="../../de/de3/control_8c.html#a9f61f3aaffc1704240675904f5dea104">control_dispatch_all</a></div><div class="ttdeci">int control_dispatch_all(struct stasis_app_control *control, struct ast_channel *chan)</div><div class="ttdoc">Dispatch all commands enqueued to this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01495">control.c:1495</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="channel_8h_html_a3e3e7e66e65ad9cdba2299e36b13e173"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3e3e7e66e65ad9cdba2299e36b13e173">ast_channel_fdno</a></div><div class="ttdeci">int ast_channel_fdno(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00419">channel_internal_api.c:419</a></div></div>
<div class="ttc" id="control_8c_html_a54676258e38bccbf5366bf1ba5a18f9c"><div class="ttname"><a href="../../de/de3/control_8c.html#a54676258e38bccbf5366bf1ba5a18f9c">control_is_done</a></div><div class="ttdeci">int control_is_done(struct stasis_app_control *control)</div><div class="ttdoc">Returns true if control_continue() has been called on this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00348">control.c:348</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8623f7f06a4475af1def681db3c0949e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8623f7f06a4475af1def681db3c0949e">&#9670;&nbsp;</a></span>stasis_app_control_find_by_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a>* stasis_app_control_find_by_channel </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the handler for the given channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL channel not in Stasis application. </dd>
<dd>
Pointer to <code>res_stasis</code> handler. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00338">338</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00349">stasis_app_control_find_by_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00528">ari_bridges_play_found()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00248">bridge_stasis_moving()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00192">bridge_stasis_push()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00142">bridge_stasis_push_peek()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01215">bridge_timeout()</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">if</span> (chan == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d80/res__stasis_8c.html#abd4e1e822068e3e8dffa74bcbd8235f9">stasis_app_control_find_by_channel_id</a>(</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="res__stasis_8c_html_abd4e1e822068e3e8dffa74bcbd8235f9"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#abd4e1e822068e3e8dffa74bcbd8235f9">stasis_app_control_find_by_channel_id</a></div><div class="ttdeci">struct stasis_app_control * stasis_app_control_find_by_channel_id(const char *channel_id)</div><div class="ttdoc">Returns the handler for the channel with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00349">res_stasis.c:349</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd4e1e822068e3e8dffa74bcbd8235f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4e1e822068e3e8dffa74bcbd8235f9">&#9670;&nbsp;</a></span>stasis_app_control_find_by_channel_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a>* stasis_app_control_find_by_channel_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the handler for the channel with the given id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel_id</td><td>Uniqueid of the channel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL channel not in Stasis application, or channel does not exist. </dd>
<dd>
Pointer to <code>res_stasis</code> handler. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00349">349</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00092">find_channel_control()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00152">find_control()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00673">remove_bridge_playback()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00338">stasis_app_control_find_by_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#a45c33c16626c653874a91777849d600a">app_controls</a>, channel_id, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a45c33c16626c653874a91777849d600a"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a45c33c16626c653874a91777849d600a">app_controls</a></div><div class="ttdeci">struct ao2_container * app_controls</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00102">res_stasis.c:102</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8188f94c15b15db5f01a9d14e191658d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8188f94c15b15db5f01a9d14e191658d">&#9670;&nbsp;</a></span>stasis_app_control_flush_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_flush_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush the control command queue. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object to flush command queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01278">1278</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l01482">control_flush_queue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00288">bridge_channel_control_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;{</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a80664020fe48449d024096157937b40c">control_flush_queue</a>(control);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;}</div><div class="ttc" id="control_8c_html_a80664020fe48449d024096157937b40c"><div class="ttname"><a href="../../de/de3/control_8c.html#a80664020fe48449d024096157937b40c">control_flush_queue</a></div><div class="ttdeci">void control_flush_queue(struct stasis_app_control *control)</div><div class="ttdoc">Flush the control command queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01482">control.c:1482</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a765833b409f1e57016e7fff07d9e0a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765833b409f1e57016e7fff07d9e0a01">&#9670;&nbsp;</a></span>stasis_app_control_get_channel_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stasis_app_control_get_channel_id </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the uniqueid of the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Uniqueid of the associate channel. </dd>
<dd>
<code>NULL</code> if <em>control</em> is <code>NULL</code>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01430">1430</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d26/res__stasis__answer_8c_source.html#l00036">app_control_answer()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01394">app_control_remove_channel_from_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00803">app_control_silence_start()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00175">check_add_remove_channel()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00270">control_compare()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00248">control_hash()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00837">control_silence_stop_now()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01115">masq_match_cb()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00217">recording_publish()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01383">stasis_app_control_add_channel_to_bridge()</a>, <a class="el" href="../../d4/d26/res__stasis__answer_8c_source.html#l00044">stasis_app_control_answer()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00860">stasis_app_control_get_snapshot()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">stasis_app_control_record()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01420">stasis_app_control_remove_channel_from_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;{</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>);</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e17c5418a4753bb1229f031041a645c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e17c5418a4753bb1229f031041a645c">&#9670;&nbsp;</a></span>stasis_app_control_get_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>* stasis_app_control_get_snapshot </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the most recent snapshot for the associated channel. </p>
<p>The returned pointer is AO2 managed, so <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> when you're done.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Most recent snapshot. <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> when done. </dd>
<dd>
<code>NULL</code> if channel isn't in cache. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00860">860</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00903">ast_channel_snapshot_get_latest()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00357">ari_bridges_play_helper()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00636">ari_channels_handle_play()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00180">ast_ari_channels_continue_in_dialplan()</a>, and <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00108">channel_state_invalid()</a>.</p>
<div class="fragment"><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;{</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a>(<a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;}</div><div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga68c55b443ba97dc157b493aafd05c876"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_channel_snapshot_get_latest(const char *uniqueid)</div><div class="ttdoc">Obtain the latest ast_channel_snapshot from the Stasis Message Bus API cache. This is an ao2 object...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00903">stasis_channels.c:903</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9bb10fa5db167b16a211526e13673edf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bb10fa5db167b16a211526e13673edf">&#9670;&nbsp;</a></span>stasis_app_control_hold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_hold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Place the channel associated with the control on hold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00748">748</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00740">app_control_hold()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00514">ast_ari_channels_hold()</a>.</p>
<div class="fragment"><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a4653e29c103d9079a7f6a4c3a9c33493">app_control_hold</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a4653e29c103d9079a7f6a4c3a9c33493"><div class="ttname"><a href="../../de/de3/control_8c.html#a4653e29c103d9079a7f6a4c3a9c33493">app_control_hold</a></div><div class="ttdeci">static int app_control_hold(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00740">control.c:740</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a852b7f8db110cea010cf8b430948c70f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852b7f8db110cea010cf8b430948c70f">&#9670;&nbsp;</a></span>stasis_app_control_inhibit_colp_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_inhibit_colp_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inhibit_colp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether COLP frames should be generated when joining the bridge. </p>
<dl class="section since"><dt>Since</dt><dd>18 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should have its COLP frames inhibited when bridged </td></tr>
    <tr><td class="paramname">mute</td><td>Whether COLP frames should be generated (0) or not (1). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01476">1476</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00281">ast_bridge_features::inhibit_colp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;{</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a>-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#aa30fb781e59e7c7b6449914dd9ad08d2">inhibit_colp</a> = inhibit_colp;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;}</div><div class="ttc" id="structast__bridge__features_html_aa30fb781e59e7c7b6449914dd9ad08d2"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#aa30fb781e59e7c7b6449914dd9ad08d2">ast_bridge_features::inhibit_colp</a></div><div class="ttdeci">unsigned int inhibit_colp</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00281">bridge_features.h:281</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3b9b43f053ce8e30751424af42c4e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3b9b43f053ce8e30751424af42c4e8f">&#9670;&nbsp;</a></span>stasis_app_control_is_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_is_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a control is marked as done. </p>
<dl class="section since"><dt>Since</dt><dd>12.2.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Which control object is being evaluated </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01273">1273</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00348">control_is_done()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00528">ari_bridges_play_found()</a>.</p>
<div class="fragment"><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;{</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a54676258e38bccbf5366bf1ba5a18f9c">control_is_done</a>(control);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;}</div><div class="ttc" id="control_8c_html_a54676258e38bccbf5366bf1ba5a18f9c"><div class="ttname"><a href="../../de/de3/control_8c.html#a54676258e38bccbf5366bf1ba5a18f9c">control_is_done</a></div><div class="ttdeci">int control_is_done(struct stasis_app_control *control)</div><div class="ttdoc">Returns true if control_continue() has been called on this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00348">control.c:348</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a11f12c113afa7b94a2ddf80d6d543b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11f12c113afa7b94a2ddf80d6d543b23">&#9670;&nbsp;</a></span>stasis_app_control_moh_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_moh_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>moh_class</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Play music on hold to a channel (does not affect hold status) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">moh_class</td><td>class of music on hold to play (NULL allowed) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00780">780</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00766">app_control_moh_start()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00556">ast_ari_channels_start_moh()</a>.</p>
<div class="fragment"><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;{</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <span class="keywordtype">char</span> *data = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(moh_class)) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      data = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(moh_class);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#adab9f9bea678c832fbcd8a2eb709a318">app_control_moh_start</a>, data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;}</div><div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="control_8c_html_adab9f9bea678c832fbcd8a2eb709a318"><div class="ttname"><a href="../../de/de3/control_8c.html#adab9f9bea678c832fbcd8a2eb709a318">app_control_moh_start</a></div><div class="ttdeci">static int app_control_moh_start(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00766">control.c:766</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d561aa1d3d4550d16717af2e9ff6c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d561aa1d3d4550d16717af2e9ff6c19">&#9670;&nbsp;</a></span>stasis_app_control_moh_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_moh_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop playing music on hold to a channel (does not affect hold status) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00798">798</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00791">app_control_moh_stop()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00576">ast_ari_channels_stop_moh()</a>.</p>
<div class="fragment"><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a70288e9dea5dc8bfe9905c7dfe027c21">app_control_moh_stop</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="control_8c_html_a70288e9dea5dc8bfe9905c7dfe027c21"><div class="ttname"><a href="../../de/de3/control_8c.html#a70288e9dea5dc8bfe9905c7dfe027c21">app_control_moh_stop</a></div><div class="ttdeci">static int app_control_moh_stop(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00791">control.c:791</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5df0352d477bb7ff14767cf9d4cd301f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df0352d477bb7ff14767cf9d4cd301f">&#9670;&nbsp;</a></span>stasis_app_control_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exit <code>res_stasis</code> and move to another Stasis application. </p>
<p>If the channel is no longer in <code>res_stasis</code>, this function does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
    <tr><td class="paramname">app_name</td><td>The name of the application to switch to </td></tr>
    <tr><td class="paramname">app_args</td><td>The list of arguments to pass to the application</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00451">451</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00411">stasis_app_control_move_data::app_args</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00414">app_control_move()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00410">stasis_app_control_move_data::app_name</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00256">ast_ari_channels_move()</a>.</p>
<div class="fragment"><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;{</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html">stasis_app_control_move_data</a> *move_data;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <span class="keywordtype">size_t</span> size;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   size = <span class="keyword">sizeof</span>(*move_data) + strlen(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>) + 1;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="comment">/* Application arguments are optional */</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      size += strlen(<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>) + 1;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   <span class="keywordflow">if</span> (!(move_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, size))) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">app_name</a> = (<span class="keywordtype">char</span> *)move_data + <span class="keyword">sizeof</span>(*move_data);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   strcpy(move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">app_name</a>, <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>); <span class="comment">/* Safe */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a> = move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">app_name</a> + strlen(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>) + 1;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      strcpy(move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>, <a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a>); <span class="comment">/* Safe */</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      move_data-&gt;<a class="code" href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">app_args</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a90bff4e871bdae91a522ec80daf733c7">app_control_move</a>, move_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="ttc" id="structstasis__app__control__move__data_html"><div class="ttname"><a href="../../d1/d3b/structstasis__app__control__move__data.html">stasis_app_control_move_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00409">control.c:409</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="control_8c_html_a90bff4e871bdae91a522ec80daf733c7"><div class="ttname"><a href="../../de/de3/control_8c.html#a90bff4e871bdae91a522ec80daf733c7">app_control_move</a></div><div class="ttdeci">static int app_control_move(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00414">control.c:414</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="structstasis__app__control__move__data_html_a85798e1e66e2f62ca8ff39c621d90472"><div class="ttname"><a href="../../d1/d3b/structstasis__app__control__move__data.html#a85798e1e66e2f62ca8ff39c621d90472">stasis_app_control_move_data::app_args</a></div><div class="ttdeci">char * app_args</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00411">control.c:411</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="structstasis__app__control__move__data_html_a12914590e31661b0e85237aad859c6d6"><div class="ttname"><a href="../../d1/d3b/structstasis__app__control__move__data.html#a12914590e31661b0e85237aad859c6d6">stasis_app_control_move_data::app_name</a></div><div class="ttdeci">char * app_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00410">control.c:410</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66191b73a286eb254c6d8ce1ad0f6483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66191b73a286eb254c6d8ce1ad0f6483">&#9670;&nbsp;</a></span>stasis_app_control_mute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_mute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a>&#160;</td>
          <td class="paramname"><em>frametype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mute the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction in which the audio should be muted. </td></tr>
    <tr><td class="paramname">frametype</td><td>The type of stream that should be muted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00631">631</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00619">app_control_mute()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00616">stasis_app_control_mute_data::direction</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00615">stasis_app_control_mute_data::frametype</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00403">ast_ari_channels_mute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a> *mute_data;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <span class="keywordflow">if</span> (!(mute_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*mute_data)))) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">direction</a> = <a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#af206b3b835ca7b2b8008fe063020ce30">app_control_mute</a>, mute_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div><div class="ttc" id="structstasis__app__control__mute__data_html_ac7e977c3f00d50b1cd332813fa428b4d"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">stasis_app_control_mute_data::direction</a></div><div class="ttdeci">unsigned int direction</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00616">control.c:616</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">stasis_app_control_mute_data::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00615">control.c:615</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00614">control.c:614</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="control_8c_html_af206b3b835ca7b2b8008fe063020ce30"><div class="ttname"><a href="../../de/de3/control_8c.html#af206b3b835ca7b2b8008fe063020ce30">app_control_mute</a></div><div class="ttdeci">static int app_control_mute(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00619">control.c:619</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="func__frame__drop_8c_html_a99f26e6ee9fcd62f75203b5402df8098"><div class="ttname"><a href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8b/func__frame__drop_8c_source.html#l00137">func_frame_drop.c:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00a8e7b7b8dad6e8559c7ee699a2b163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a8e7b7b8dad6e8559c7ee699a2b163">&#9670;&nbsp;</a></span>stasis_app_control_mute_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_mute_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether audio from the channel is muted instead of passing through to the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should have its audio muted when bridged </td></tr>
    <tr><td class="paramname">mute</td><td>Whether audio should be muted (1) instead of passed through (0). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01470">1470</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00068">stasis_app_control::bridge_features</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00144">mute</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00277">ast_bridge_features::mute</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00191">ast_ari_bridges_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;   control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">bridge_features</a>-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#aa09e22acd94cd548a204c100e11fd612">mute</a> = <a class="code" href="../../da/d45/chan__alsa_8c.html#a29128ae5c15a12dea5fe4f263ba6cec1">mute</a>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;}</div><div class="ttc" id="structast__bridge__features_html_aa09e22acd94cd548a204c100e11fd612"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#aa09e22acd94cd548a204c100e11fd612">ast_bridge_features::mute</a></div><div class="ttdeci">unsigned int mute</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00277">bridge_features.h:277</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a29128ae5c15a12dea5fe4f263ba6cec1"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a29128ae5c15a12dea5fe4f263ba6cec1">mute</a></div><div class="ttdeci">static int mute</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00144">chan_alsa.c:144</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a2529c045cb0c75c4a541a1df122560bf"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a2529c045cb0c75c4a541a1df122560bf">stasis_app_control::bridge_features</a></div><div class="ttdeci">struct ast_bridge_features * bridge_features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00068">control.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59eacac6d5939ac31361047ec04b34a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59eacac6d5939ac31361047ec04b34a3">&#9670;&nbsp;</a></span>stasis_app_control_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_publish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a message to the <em>control's</em> channel's topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to publish to </td></tr>
    <tr><td class="paramname">message</td><td>Message to publish </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01436">1436</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01502">ast_channel_topic()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00217">recording_publish()</a>.</p>
<div class="fragment"><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;{</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   <span class="keywordflow">if</span> (!control || !control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a> || !message) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;   }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>), message);</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="channel_8h_html_afdeaf9abb1aecc715313a4f62c1cf9c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic(struct ast_channel *chan)</div><div class="ttdoc">A topic which publishes the events for a particular channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01502">channel_internal_api.c:1502</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1925743427fa1e058f5059e3b2de4d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1925743427fa1e058f5059e3b2de4d28">&#9670;&nbsp;</a></span>stasis_app_control_queue_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_queue_control </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390">ast_control_frame_type</a>&#160;</td>
          <td class="paramname"><em>frame_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue a control frame without payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control to publish to. </td></tr>
    <tr><td class="paramname">frame_type</td><td>type of control frame.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero on success </dd>
<dd>
non-zero on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01445">1445</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l01231">ast_queue_control()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00060">stasis_app_control::channel</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00665">playback_forward()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00623">playback_pause()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00611">playback_restart()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00653">playback_reverse()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00598">playback_stop()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00638">playback_unpause()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00519">recording_cancel()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00550">recording_mute()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00536">recording_pause()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00529">recording_stop()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00562">recording_unmute()</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00543">recording_unpause()</a>.</p>
<div class="fragment"><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;{</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">channel</a>, <a class="code" href="../../d1/d46/codec__builtin_8c.html#a3ca2c0bc7578bf3d337e34b2c08a6c5f">frame_type</a>);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;}</div><div class="ttc" id="channel_8h_html_a60f9d2b0ab8b7a839902313321163b28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a></div><div class="ttdeci">int ast_queue_control(struct ast_channel *chan, enum ast_control_frame_type control)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01231">channel.c:1231</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a48371aaa1ad1144e564ebcd179a2db2e"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a48371aaa1ad1144e564ebcd179a2db2e">stasis_app_control::channel</a></div><div class="ttdeci">struct ast_channel * channel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00060">control.c:60</a></div></div>
<div class="ttc" id="codec__builtin_8c_html_a3ca2c0bc7578bf3d337e34b2c08a6c5f"><div class="ttname"><a href="../../d1/d46/codec__builtin_8c.html#a3ca2c0bc7578bf3d337e34b2c08a6c5f">frame_type</a></div><div class="ttdeci">frame_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d46/codec__builtin_8c_source.html#l00044">codec_builtin.c:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a22aa0f953281ff836d394667b9bd24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a22aa0f953281ff836d394667b9bd24">&#9670;&nbsp;</a></span>stasis_app_control_redirect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_redirect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redirect a channel in <code>res_stasis</code> to a particular endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code> </td></tr>
    <tr><td class="paramname">endpoint</td><td>The endpoint transfer string where the channel should be sent to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00500">500</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00481">app_control_redirect()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00276">ast_ari_channels_redirect()</a>.</p>
<div class="fragment"><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="keywordtype">char</span> *endpoint_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(endpoint);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   <span class="keywordflow">if</span> (!endpoint_data) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#ab82e6365fb64203b387d8a5bf6a52ac5">app_control_redirect</a>, endpoint_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div><div class="ttc" id="control_8c_html_ab82e6365fb64203b387d8a5bf6a52ac5"><div class="ttname"><a href="../../de/de3/control_8c.html#ab82e6365fb64203b387d8a5bf6a52ac5">app_control_redirect</a></div><div class="ttdeci">static int app_control_redirect(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00481">control.c:481</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acf20b6f2b70956f1d88829c37708f080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf20b6f2b70956f1d88829c37708f080">&#9670;&nbsp;</a></span>stasis_app_control_register_add_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_register_add_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers an add channel to bridge rule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object </td></tr>
    <tr><td class="paramname">rule</td><td>The rule to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00217">217</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00076">stasis_app_control::add_rules</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00162">app_control_register_rule()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">stasis_app_control_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#aabc48b9e01f22f6dae4bb2d461187411">app_control_register_rule</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">add_rules</a>, rule);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div><div class="ttc" id="control_8c_html_aabc48b9e01f22f6dae4bb2d461187411"><div class="ttname"><a href="../../de/de3/control_8c.html#aabc48b9e01f22f6dae4bb2d461187411">app_control_register_rule</a></div><div class="ttdeci">static void app_control_register_rule(struct stasis_app_control *control, struct app_control_rules *list, struct stasis_app_control_rule *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00162">control.c:162</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abf7d53da04a131747a4ce76b04db91a1"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">stasis_app_control::add_rules</a></div><div class="ttdeci">struct app_control_rules add_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00076">control.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02ffd34c4da0bc15d8334aa2983157f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02ffd34c4da0bc15d8334aa2983157f3">&#9670;&nbsp;</a></span>stasis_app_control_register_remove_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_register_remove_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a remove channel from bridge rule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object </td></tr>
    <tr><td class="paramname">rule</td><td>The rule to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00231">231</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00162">app_control_register_rule()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00080">stasis_app_control::remove_rules</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#aabc48b9e01f22f6dae4bb2d461187411">app_control_register_rule</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">remove_rules</a>, rule);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_aa7fd7031cc99ac223f890dc031cb2c61"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">stasis_app_control::remove_rules</a></div><div class="ttdeci">struct app_control_rules remove_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00080">control.c:80</a></div></div>
<div class="ttc" id="control_8c_html_aabc48b9e01f22f6dae4bb2d461187411"><div class="ttname"><a href="../../de/de3/control_8c.html#aabc48b9e01f22f6dae4bb2d461187411">app_control_register_rule</a></div><div class="ttdeci">static void app_control_register_rule(struct stasis_app_control *control, struct app_control_rules *list, struct stasis_app_control_rule *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00162">control.c:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a874dcd52a4209a376cfdd082ec21725b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874dcd52a4209a376cfdd082ec21725b">&#9670;&nbsp;</a></span>stasis_app_control_remove_channel_from_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_remove_channel_from_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a channel from the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control whose channel should be removed from the bridge </td></tr>
    <tr><td class="paramname">bridge</td><td>Pointer to the bridge</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>non-zero on failure </dd>
<dd>
zero on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01420">1420</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00251">app_control_can_remove_channel_from_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01394">app_control_remove_channel_from_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00866">app_send_command_on_condition()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00241">ast_ari_bridges_remove_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;{</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Sending channel remove_from_bridge command\n&quot;</span>,</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a>(</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      control, <a class="code" href="../../de/de3/control_8c.html#a5a96e2cba9e2ab9d6c8d79df3e6dba74">app_control_remove_channel_from_bridge</a>, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#ac4db81e0854e76fd148dfaa29d129172">app_control_can_remove_channel_from_bridge</a>);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;}</div><div class="ttc" id="control_8c_html_ac4db81e0854e76fd148dfaa29d129172"><div class="ttname"><a href="../../de/de3/control_8c.html#ac4db81e0854e76fd148dfaa29d129172">app_control_can_remove_channel_from_bridge</a></div><div class="ttdeci">static int app_control_can_remove_channel_from_bridge(struct stasis_app_control *control)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00251">control.c:251</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a5a96e2cba9e2ab9d6c8d79df3e6dba74"><div class="ttname"><a href="../../de/de3/control_8c.html#a5a96e2cba9e2ab9d6c8d79df3e6dba74">app_control_remove_channel_from_bridge</a></div><div class="ttdeci">static int app_control_remove_channel_from_bridge(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01394">control.c:1394</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="control_8c_html_a85b0a5b1bb2e49db6d60d35adc39f708"><div class="ttname"><a href="../../de/de3/control_8c.html#a85b0a5b1bb2e49db6d60d35adc39f708">app_send_command_on_condition</a></div><div class="ttdeci">static int app_send_command_on_condition(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor, app_command_can_exec_cb can_exec_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00866">control.c:866</a></div></div>
<div class="ttc" id="control_8c_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../de/de3/control_8c.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9717bc28b2e5847e2d227c27bfe9116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9717bc28b2e5847e2d227c27bfe9116">&#9670;&nbsp;</a></span>stasis_app_control_ring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_ring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate ringing to the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00592">592</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00584">app_control_ring()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00363">ast_ari_channels_ring()</a>.</p>
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;{</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a074df8a441fbbb2f7d17b77066ef69ec">app_control_ring</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="control_8c_html_a074df8a441fbbb2f7d17b77066ef69ec"><div class="ttname"><a href="../../de/de3/control_8c.html#a074df8a441fbbb2f7d17b77066ef69ec">app_control_ring</a></div><div class="ttdeci">static int app_control_ring(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00584">control.c:584</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab53d6f93bf8ba651ab404eaf855d4027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53d6f93bf8ba651ab404eaf855d4027">&#9670;&nbsp;</a></span>stasis_app_control_ring_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_ring_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop locally generated ringing on the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00607">607</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00599">app_control_ring_stop()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00383">ast_ari_channels_ring_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a45dc158dc10eb87494e48b5ed680dd3b">app_control_ring_stop</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a45dc158dc10eb87494e48b5ed680dd3b"><div class="ttname"><a href="../../de/de3/control_8c.html#a45dc158dc10eb87494e48b5ed680dd3b">app_control_ring_stop</a></div><div class="ttdeci">static int app_control_ring_stop(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00599">control.c:599</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb085c198d616b3317f7327fd7e5fc7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb085c198d616b3317f7327fd7e5fc7b">&#9670;&nbsp;</a></span>stasis_app_control_set_channel_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_set_channel_var </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>variable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a variable on the channel associated with this control to value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">variable</td><td>The name of the variable </td></tr>
    <tr><td class="paramname">value</td><td>The value to set the variable to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00711">711</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00701">app_control_set_channel_var()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00692">free_chanvar()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00687">chanvar::name</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00689">chanvar::value</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01541">ast_ari_channels_set_channel_var()</a>.</p>
<div class="fragment"><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d5b/structchanvar.html">chanvar</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   var = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*var));</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="keywordflow">if</span> (!var) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(variable);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   <span class="keywordflow">if</span> (!var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">name</a>) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a5790d48a3f75e992801bfb908007808d">free_chanvar</a>(var);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   <span class="comment">/* It&#39;s kosher for value to be NULL. It means the variable is being unset */</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">value</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">if</span> (!var-&gt;<a class="code" href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">value</a>) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <a class="code" href="../../de/de3/control_8c.html#a5790d48a3f75e992801bfb908007808d">free_chanvar</a>(var);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   }</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a19fc689d2b73f93a4f97b72580bece24">app_control_set_channel_var</a>, var, <a class="code" href="../../de/de3/control_8c.html#a5790d48a3f75e992801bfb908007808d">free_chanvar</a>);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div><div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structchanvar_html_a4e9aec275e566b978a3ccb4e043d8c61"><div class="ttname"><a href="../../d8/d5b/structchanvar.html#a4e9aec275e566b978a3ccb4e043d8c61">chanvar::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00689">control.c:689</a></div></div>
<div class="ttc" id="control_8c_html_a19fc689d2b73f93a4f97b72580bece24"><div class="ttname"><a href="../../de/de3/control_8c.html#a19fc689d2b73f93a4f97b72580bece24">app_control_set_channel_var</a></div><div class="ttdeci">static int app_control_set_channel_var(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00701">control.c:701</a></div></div>
<div class="ttc" id="control_8c_html_a5790d48a3f75e992801bfb908007808d"><div class="ttname"><a href="../../de/de3/control_8c.html#a5790d48a3f75e992801bfb908007808d">free_chanvar</a></div><div class="ttdeci">static void free_chanvar(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00692">control.c:692</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structchanvar_html"><div class="ttname"><a href="../../d8/d5b/structchanvar.html">chanvar</a></div><div class="ttdoc">structure for queuing ARI channel variable setting </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00685">control.c:685</a></div></div>
<div class="ttc" id="structchanvar_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d8/d5b/structchanvar.html#a5ac083a645d964373f022d03df4849c8">chanvar::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00687">control.c:687</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb45df1051fd2fa2cbf88b1c00ed13ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb45df1051fd2fa2cbf88b1c00ed13ea">&#9670;&nbsp;</a></span>stasis_app_control_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Let Stasis app internals shut down. </p>
<p>This is called when res_stasis is unloaded. It ensures that the Stasis app internals can free any resources they may have allocated during the time that res_stasis was loaded. </p>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l01680">1680</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00959">dial_bridge_lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00049">shutting_down</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02195">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;{</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a>);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a7f68568851b9c7f9291f7bb63f932c18">shutting_down</a> = 1;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a>) {</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(<a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a>, 0);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <a class="code" href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;   }</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a>);</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div><div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_adcfa0faf18325b705ddf432c7471eb9f"><div class="ttname"><a href="../../de/de3/control_8c.html#adcfa0faf18325b705ddf432c7471eb9f">dial_bridge_lock</a></div><div class="ttdeci">static ast_mutex_t dial_bridge_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00959">control.c:959</a></div></div>
<div class="ttc" id="control_8c_html_a7f68568851b9c7f9291f7bb63f932c18"><div class="ttname"><a href="../../de/de3/control_8c.html#a7f68568851b9c7f9291f7bb63f932c18">shutting_down</a></div><div class="ttdeci">static int shutting_down</div><div class="ttdoc">Indicates if the Stasis app internals are being shut down. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00049">control.c:49</a></div></div>
<div class="ttc" id="control_8c_html_a69021b7db180f22656f9cb2dbd1b164d"><div class="ttname"><a href="../../de/de3/control_8c.html#a69021b7db180f22656f9cb2dbd1b164d">dial_bridge</a></div><div class="ttdeci">static struct ast_bridge * dial_bridge</div><div class="ttdoc">Singleton dial bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00958">control.c:958</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b8ee9ca3a0ed85ce482681b0e6d9b45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b8ee9ca3a0ed85ce482681b0e6d9b45">&#9670;&nbsp;</a></span>stasis_app_control_silence_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_silence_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start playing silence to a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00832">832</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00803">app_control_silence_start()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00596">ast_ari_channels_start_silence()</a>.</p>
<div class="fragment"><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;{</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#ad2e70048883c70922830aaa9600bcd0e">app_control_silence_start</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_ad2e70048883c70922830aaa9600bcd0e"><div class="ttname"><a href="../../de/de3/control_8c.html#ad2e70048883c70922830aaa9600bcd0e">app_control_silence_start</a></div><div class="ttdeci">static int app_control_silence_start(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00803">control.c:803</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c7239c782e4db64d0e0ddcbcd4283cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7239c782e4db64d0e0ddcbcd4283cd">&#9670;&nbsp;</a></span>stasis_app_control_silence_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_silence_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop playing silence to a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00855">855</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00848">app_control_silence_stop()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00616">ast_ari_channels_stop_silence()</a>.</p>
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;{</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#aeee6fea0a89d292b9bc9734d89911887">app_control_silence_stop</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_aeee6fea0a89d292b9bc9734d89911887"><div class="ttname"><a href="../../de/de3/control_8c.html#aeee6fea0a89d292b9bc9734d89911887">app_control_silence_stop</a></div><div class="ttdeci">static int app_control_silence_stop(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00848">control.c:848</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2719b9cb8ef3ef44ad550fc3818d7264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2719b9cb8ef3ef44ad550fc3818d7264">&#9670;&nbsp;</a></span>stasis_app_control_unhold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_unhold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the channel associated with the control from hold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00761">761</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00753">app_control_unhold()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00535">ast_ari_channels_unhold()</a>.</p>
<div class="fragment"><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;{</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#a501edf1bcdec7b645a2cdafe5f81cc9c">app_control_unhold</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div><div class="ttc" id="control_8c_html_a501edf1bcdec7b645a2cdafe5f81cc9c"><div class="ttname"><a href="../../de/de3/control_8c.html#a501edf1bcdec7b645a2cdafe5f81cc9c">app_control_unhold</a></div><div class="ttdeci">static int app_control_unhold(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00753">control.c:753</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a221cfaccbc5c213fa0e56aacdc611669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221cfaccbc5c213fa0e56aacdc611669">&#9670;&nbsp;</a></span>stasis_app_control_unmute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_control_unmute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a>&#160;</td>
          <td class="paramname"><em>frametype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmute the channel associated with this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction in which the audio should be unmuted. </td></tr>
    <tr><td class="paramname">frametype</td><td>The type of stream that should be unmuted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00659">659</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00647">app_control_unmute()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00616">stasis_app_control_mute_data::direction</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00615">stasis_app_control_mute_data::frametype</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00445">ast_ari_channels_unmute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a> *mute_data;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   <span class="keywordflow">if</span> (!(mute_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*mute_data)))) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">direction</a> = <a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   mute_data-&gt;<a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a>(control, <a class="code" href="../../de/de3/control_8c.html#aab09c03411cd3d45fab0810d88203202">app_control_unmute</a>, mute_data, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;}</div><div class="ttc" id="structstasis__app__control__mute__data_html_ac7e977c3f00d50b1cd332813fa428b4d"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#ac7e977c3f00d50b1cd332813fa428b4d">stasis_app_control_mute_data::direction</a></div><div class="ttdeci">unsigned int direction</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00616">control.c:616</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="control_8c_html_aab09c03411cd3d45fab0810d88203202"><div class="ttname"><a href="../../de/de3/control_8c.html#aab09c03411cd3d45fab0810d88203202">app_control_unmute</a></div><div class="ttdeci">static int app_control_unmute(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00647">control.c:647</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html#a6937b93c56cb473b547eda454dca7b4c">stasis_app_control_mute_data::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00615">control.c:615</a></div></div>
<div class="ttc" id="structstasis__app__control__mute__data_html"><div class="ttname"><a href="../../d2/d41/structstasis__app__control__mute__data.html">stasis_app_control_mute_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00614">control.c:614</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="control_8c_html_a8c301f329a1303e3138af437527edda9"><div class="ttname"><a href="../../de/de3/control_8c.html#a8c301f329a1303e3138af437527edda9">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command_fn, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="func__frame__drop_8c_html_a99f26e6ee9fcd62f75203b5402df8098"><div class="ttname"><a href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8b/func__frame__drop_8c_source.html#l00137">func_frame_drop.c:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa038e171bcc2b5e09a09100063141ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa038e171bcc2b5e09a09100063141ea1">&#9670;&nbsp;</a></span>stasis_app_control_unregister_add_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_unregister_add_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UnRegister an add channel to bridge rule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object </td></tr>
    <tr><td class="paramname">rule</td><td>The rule to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00224">224</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00076">stasis_app_control::add_rules</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00171">app_control_unregister_rule()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00296">record_file()</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00277">recording_fail()</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a00d4eea6bbae3414fe25afb3a47baf83">app_control_unregister_rule</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">add_rules</a>, rule);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="ttc" id="control_8c_html_a00d4eea6bbae3414fe25afb3a47baf83"><div class="ttname"><a href="../../de/de3/control_8c.html#a00d4eea6bbae3414fe25afb3a47baf83">app_control_unregister_rule</a></div><div class="ttdeci">static void app_control_unregister_rule(struct stasis_app_control *control, struct app_control_rules *list, struct stasis_app_control_rule *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00171">control.c:171</a></div></div>
<div class="ttc" id="structstasis__app__control_html_abf7d53da04a131747a4ce76b04db91a1"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#abf7d53da04a131747a4ce76b04db91a1">stasis_app_control::add_rules</a></div><div class="ttdeci">struct app_control_rules add_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00076">control.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f688a3d2e7d4bf0119dba4b6557ebc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f688a3d2e7d4bf0119dba4b6557ebc8">&#9670;&nbsp;</a></span>stasis_app_control_unregister_remove_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_control_unregister_remove_rule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregisters a remove channel from bridge rule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object </td></tr>
    <tr><td class="paramname">rule</td><td>The rule to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00238">238</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/de3/control_8c_source.html#l00171">app_control_unregister_rule()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00080">stasis_app_control::remove_rules</a>.</p>
<div class="fragment"><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <a class="code" href="../../de/de3/control_8c.html#a00d4eea6bbae3414fe25afb3a47baf83">app_control_unregister_rule</a>(control, &amp;control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">remove_rules</a>, rule);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div><div class="ttc" id="structstasis__app__control_html_aa7fd7031cc99ac223f890dc031cb2c61"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#aa7fd7031cc99ac223f890dc031cb2c61">stasis_app_control::remove_rules</a></div><div class="ttdeci">struct app_control_rules remove_rules</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00080">control.c:80</a></div></div>
<div class="ttc" id="control_8c_html_a00d4eea6bbae3414fe25afb3a47baf83"><div class="ttname"><a href="../../de/de3/control_8c.html#a00d4eea6bbae3414fe25afb3a47baf83">app_control_unregister_rule</a></div><div class="ttdeci">static void app_control_unregister_rule(struct stasis_app_control *control, struct app_control_rules *list, struct stasis_app_control_rule *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00171">control.c:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21c9b284230bdd01438dbaf2be5c32a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c9b284230bdd01438dbaf2be5c32a5">&#9670;&nbsp;</a></span>stasis_app_event_allowed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_event_allowed </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the given event should be filtered. </p>
<p>Attempts first to find the event in the application's disallowed events list. If found then the event won't be sent to the remote. If not found in the disallowed list then a search is done to see if it can be found in the allowed list. If found the event message is sent, otherwise it is not sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>The application name </td></tr>
    <tr><td class="paramname">event</td><td>The event to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if allowed, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01739">1739</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01718">app_event_filter_matched()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">stasis_app::events_allowed</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">stasis_app::events_disallowed</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01694">stasis_app_get_by_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00079">stasis_app_message_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;{</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;   }</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;   res = !<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#af39fb31a4ed659c22c7459e471b2472b">app_event_filter_matched</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">events_disallowed</a>, event, 0) &amp;&amp;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#af39fb31a4ed659c22c7459e471b2472b">app_event_filter_matched</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">events_allowed</a>, event, 1);</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(app, -1);</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;}</div><div class="ttc" id="structstasis__app_html_abb42ac1924e7ac90f40242af2910e77a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">stasis_app::events_allowed</a></div><div class="ttdeci">struct ast_json * events_allowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">res/stasis/app.c:69</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a3c7c67f73571bdd74cd792c3633b34ff"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a></div><div class="ttdeci">struct stasis_app * stasis_app_get_by_name(const char *name)</div><div class="ttdoc">Retrieve a handle to a Stasis application by its name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01694">res_stasis.c:1694</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="structstasis__app_html_a4cccc48d4928137be22d5599caa0bf08"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">stasis_app::events_disallowed</a></div><div class="ttdeci">struct ast_json * events_disallowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">res/stasis/app.c:71</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_af39fb31a4ed659c22c7459e471b2472b"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#af39fb31a4ed659c22c7459e471b2472b">app_event_filter_matched</a></div><div class="ttdeci">static int app_event_filter_matched(struct ast_json *array, struct ast_json *event, int empty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01718">res/stasis/app.c:1718</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a715fba69467600dc1692afa5176c97af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a715fba69467600dc1692afa5176c97af">&#9670;&nbsp;</a></span>stasis_app_event_filter_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_event_filter_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the application's event type filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The application </td></tr>
    <tr><td class="paramname">filter</td><td>The allowed and/or disallowed event filter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successfully set </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01713">1713</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01703">app_events_allowed_set()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01708">app_events_disallowed_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbc/resource__applications_8c_source.html#l00172">ast_ari_applications_filter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;{</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#aedc439af8e22cade71ea9be7d982cb5a">app_events_disallowed_set</a>(app, filter) || <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#adc5437bcc40f73f818081b97c55a14ce">app_events_allowed_set</a>(app, filter);</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_adc5437bcc40f73f818081b97c55a14ce"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#adc5437bcc40f73f818081b97c55a14ce">app_events_allowed_set</a></div><div class="ttdeci">static int app_events_allowed_set(struct stasis_app *app, struct ast_json *filter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01703">res/stasis/app.c:1703</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_aedc439af8e22cade71ea9be7d982cb5a"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#aedc439af8e22cade71ea9be7d982cb5a">app_events_disallowed_set</a></div><div class="ttdeci">static int app_events_disallowed_set(struct stasis_app *app, struct ast_json *filter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01708">res/stasis/app.c:1708</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a831e5cbdbab284329b5850ec86ea1c46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831e5cbdbab284329b5850ec86ea1c46">&#9670;&nbsp;</a></span>stasis_app_event_filter_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* stasis_app_event_filter_to_json </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>json</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert and add the app's event type filter(s) to the given json object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The application </td></tr>
    <tr><td class="paramname">json</td><td>The json object to add the filter data to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The given json object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01641">1641</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d98/json_8c_source.html#l00352">ast_json_array_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">stasis_app::events_allowed</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">stasis_app::events_disallowed</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01866">stasis_app_object_to_json()</a>.</p>
<div class="fragment"><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;{</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;   <span class="keywordflow">if</span> (!app || !json) {</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      <span class="keywordflow">return</span> json;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;   }</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;events_allowed&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">events_allowed</a> ?</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">events_allowed</a>) : <a class="code" href="../../d4/d05/json_8h.html#a48d874eed79fb2bbeb0557440e33ae67">ast_json_array_create</a>());</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;events_disallowed&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">events_disallowed</a> ?</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">events_disallowed</a>) : <a class="code" href="../../d4/d05/json_8h.html#a48d874eed79fb2bbeb0557440e33ae67">ast_json_array_create</a>());</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;   <span class="keywordflow">return</span> json;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;}</div><div class="ttc" id="structstasis__app_html_abb42ac1924e7ac90f40242af2910e77a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">stasis_app::events_allowed</a></div><div class="ttdeci">struct ast_json * events_allowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">res/stasis/app.c:69</a></div></div>
<div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="json_8h_html_a48d874eed79fb2bbeb0557440e33ae67"><div class="ttname"><a href="../../d4/d05/json_8h.html#a48d874eed79fb2bbeb0557440e33ae67">ast_json_array_create</a></div><div class="ttdeci">struct ast_json * ast_json_array_create(void)</div><div class="ttdoc">Create a empty JSON array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00352">json.c:352</a></div></div>
<div class="ttc" id="structstasis__app_html_a4cccc48d4928137be22d5599caa0bf08"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">stasis_app::events_disallowed</a></div><div class="ttdeci">struct ast_json * events_disallowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">res/stasis/app.c:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9dd5d5852231994902e0c5c67ead2fd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dd5d5852231994902e0c5c67ead2fd6">&#9670;&nbsp;</a></span>stasis_app_get_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* stasis_app_get_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the names of all registered Stasis applications. </p>
<dl class="section return"><dt>Returns</dt><dd><code>ast_str_container</code> of container names. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01708">1708</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01699">append_name()</a>, <a class="el" href="../../dd/d16/pbx__app_8c.html#ad4fadc6ae627d9555397905e5b8425b7">apps</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01312">ast_str_container_alloc</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00253">ari_show_apps()</a>, <a class="el" href="../../d5/dbc/resource__applications_8c_source.html#l00042">ast_ari_applications_list()</a>, <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00314">complete_ari_app()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00887">stasis_app_set_global_debug()</a>.</p>
<div class="fragment"><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;{</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../dd/d16/pbx__app_8c.html#ad4fadc6ae627d9555397905e5b8425b7">apps</a>;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d80/res__stasis_8c.html#adb747ddc4dbb36c7544cbb3b695a777e">apps_registry</a>) {</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;   }</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;   apps = <a class="code" href="../../d6/d90/strings_8h.html#a77f7edf078454c39f51bae4bb400e764">ast_str_container_alloc</a>(1);</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;   <span class="keywordflow">if</span> (!apps) {</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;   }</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#adb747ddc4dbb36c7544cbb3b695a777e">apps_registry</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d2/d80/res__stasis_8c.html#a91e7fbfd66aeba4b03423ac2bc87e353">append_name</a>, apps);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d16/pbx__app_8c.html#ad4fadc6ae627d9555397905e5b8425b7">apps</a>;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="strings_8h_html_a77f7edf078454c39f51bae4bb400e764"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a77f7edf078454c39f51bae4bb400e764">ast_str_container_alloc</a></div><div class="ttdeci">#define ast_str_container_alloc(buckets)</div><div class="ttdoc">Allocates a hash container for bare strings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01312">strings.h:1312</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__app_8c_html_ad4fadc6ae627d9555397905e5b8425b7"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#ad4fadc6ae627d9555397905e5b8425b7">apps</a></div><div class="ttdeci">static struct apps apps</div></div>
<div class="ttc" id="res__stasis_8c_html_a91e7fbfd66aeba4b03423ac2bc87e353"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a91e7fbfd66aeba4b03423ac2bc87e353">append_name</a></div><div class="ttdeci">static int append_name(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01699">res_stasis.c:1699</a></div></div>
<div class="ttc" id="res__stasis_8c_html_adb747ddc4dbb36c7544cbb3b695a777e"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#adb747ddc4dbb36c7544cbb3b695a777e">apps_registry</a></div><div class="ttdeci">struct ao2_container * apps_registry</div><div class="ttdoc">Stasis application container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00100">res_stasis.c:100</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00eec5811d50eb68749bf440708e156b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00eec5811d50eb68749bf440708e156b">&#9670;&nbsp;</a></span>stasis_app_get_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* stasis_app_get_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the bridge currently associated with a control object. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the bridge returned by this function is to be held for any length of time, its refcount should be incremented until the caller is finished with it.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control object for the channel to query.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Associated <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>. </dd>
<dd>
<code>NULL</code> if not associated with a bridge. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de3/control_8c_source.html#l00931">931</a> of file <a class="el" href="../../de/de3/control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00064">stasis_app_control::bridge</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00368">app_control_continue()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00547">app_control_dtmf()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01394">app_control_remove_channel_from_bridge()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00241">ast_ari_bridges_remove_channel()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l01016">ast_ari_bridges_set_video_source()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">play_uri()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00296">record_file()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;{</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *ret;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   <span class="keywordflow">if</span> (!control) {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   }</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(control);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   ret = control-&gt;<a class="code" href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(control);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="structstasis__app__control_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../da/da4/structstasis__app__control.html#a4fe7571e3c1759f3689d4453c132bdb7">stasis_app_control::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00064">control.c:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c7c67f73571bdd74cd792c3633b34ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7c67f73571bdd74cd792c3633b34ff">&#9670;&nbsp;</a></span>stasis_app_get_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a>* stasis_app_get_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a handle to a Stasis application by its name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the registered Stasis application</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a></code> on success. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01694">1694</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01679">find_app_by_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00377">ari_set_debug()</a>, <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00343">ari_show_app()</a>, <a class="el" href="../../d5/dbc/resource__applications_8c_source.html#l00172">ast_ari_applications_filter()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01739">stasis_app_event_allowed()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00868">stasis_app_get_debug_by_name()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00851">stasis_app_set_debug_by_name()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00887">stasis_app_set_global_debug()</a>.</p>
<div class="fragment"><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;{</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d80/res__stasis_8c.html#a9f9b348f143855f19deddd276e61ff25">find_app_by_name</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;}</div><div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a9f9b348f143855f19deddd276e61ff25"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a9f9b348f143855f19deddd276e61ff25">find_app_by_name</a></div><div class="ttdeci">static struct stasis_app * find_app_by_name(const char *app_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01679">res_stasis.c:1679</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d9ee347f7e73966127369176bf1fd75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9ee347f7e73966127369176bf1fd75">&#9670;&nbsp;</a></span>stasis_app_get_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_get_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get debug status of an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The app to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The debug flag for the app || the global debug flag </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00863">863</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">global_debug</a>.</p>
<div class="fragment"><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;{</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordflow">return</span> (app ? app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> : 0) || <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div><div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a518ccaffd69d0c08d89a722a2f6b55c3"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a></div><div class="ttdeci">int global_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">res/stasis/app.c:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af858fde8ee399c0f266e908e780daf0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af858fde8ee399c0f266e908e780daf0a">&#9670;&nbsp;</a></span>stasis_app_get_debug_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_get_debug_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get debug status of an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>The app_name to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The debug flag for the app || the global debug flag </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00868">868</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">global_debug</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01694">stasis_app_get_by_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dbc/res__ari_8c_source.html#l00885">ast_ari_callback()</a>, and <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00079">stasis_app_message_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <span class="keywordtype">int</span> debug_enabled = 0;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a>) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      debug_enabled = 1;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">if</span> (app) {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;         <span class="keywordflow">if</span> (app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            debug_enabled = 1;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;         }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(app, -1);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <span class="keywordflow">return</span> debug_enabled;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a3c7c67f73571bdd74cd792c3633b34ff"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a></div><div class="ttdeci">struct stasis_app * stasis_app_get_by_name(const char *name)</div><div class="ttdoc">Retrieve a handle to a Stasis application by its name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01694">res_stasis.c:1694</a></div></div>
<div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a518ccaffd69d0c08d89a722a2f6b55c3"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a></div><div class="ttdeci">int global_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">res/stasis/app.c:45</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a75e0d54649ef61d0ac78c70bf9ff58ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75e0d54649ef61d0ac78c70bf9ff58ec">&#9670;&nbsp;</a></span>stasis_app_get_sanitizer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a>* stasis_app_get_sanitizer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Stasis message sanitizer for app_stasis applications. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>stasis message sanitizer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">2264</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02258">app_sanitizer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01083">app_send_end_msg()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00925">ast_ari_bridges_create()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00954">ast_ari_bridges_create_with_id()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00856">ast_ari_bridges_get()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00885">ast_ari_bridges_list()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00956">ast_ari_channels_list()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00153">ast_ari_endpoints_get()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00037">ast_ari_endpoints_list()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00085">ast_ari_endpoints_list_by_tech()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00479">channel_callerid()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00509">channel_connected_line()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00400">channel_destroyed_event()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00445">channel_dialplan()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00584">message_received_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00666">simple_bridge_event()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00376">simple_channel_event()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00567">simple_endpoint_event()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00347">sub_default_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;{</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;   <span class="keywordflow">return</span> &amp;<a class="code" href="../../d2/d80/res__stasis_8c.html#a9aec39b430607d511fcccc2627272afa">app_sanitizer</a>;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;}</div><div class="ttc" id="res__stasis_8c_html_a9aec39b430607d511fcccc2627272afa"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a9aec39b430607d511fcccc2627272afa">app_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer app_sanitizer</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02258">res_stasis.c:2258</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f04206486943b8208052323a7dfd101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f04206486943b8208052323a7dfd101">&#9670;&nbsp;</a></span>stasis_app_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stasis_app_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve an application's name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>An application</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of the application. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01156">1156</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00208">app_compare()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00186">app_hash()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01083">app_send_end_msg()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02019">app_subscribe()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02064">app_unsubscribe()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01699">append_name()</a>, <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00377">ari_set_debug()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00142">bridge_stasis_push_peek()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00309">cleanup_cb()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00112">device_state_subscription_create()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00439">devices_to_json()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00140">find_device_state_subscription()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00991">send_start_msg_snapshots()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>, and <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00360">subscribe_device_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;{</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   <span class="keywordflow">return</span> app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div><div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3240784e83df1a46da2c0586d337c7c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3240784e83df1a46da2c0586d337c7c3">&#9670;&nbsp;</a></span>stasis_app_object_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* stasis_app_object_to_json </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the JSON representation of a Stasis application. </p>
<dl class="section since"><dt>Since</dt><dd>16.3.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The application.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON representation of app with given name. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01866">1866</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01850">app_event_sources_to_json()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01228">app_to_json()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01641">stasis_app_event_filter_to_json()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01939">app_handle_subscriptions()</a>, <a class="el" href="../../d5/dbc/resource__applications_8c_source.html#l00172">ast_ari_applications_filter()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01876">stasis_app_to_json()</a>.</p>
<div class="fragment"><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;{</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;   }</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a831e5cbdbab284329b5850ec86ea1c46">stasis_app_event_filter_to_json</a>(</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      app, <a class="code" href="../../d2/d80/res__stasis_8c.html#a5deb853a1512eb4efe0825f6d8a4404d">app_event_sources_to_json</a>(app, <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2e6099632575d3b2fd83d64698b1114c">app_to_json</a>(app)));</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a831e5cbdbab284329b5850ec86ea1c46"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a831e5cbdbab284329b5850ec86ea1c46">stasis_app_event_filter_to_json</a></div><div class="ttdeci">struct ast_json * stasis_app_event_filter_to_json(struct stasis_app *app, struct ast_json *json)</div><div class="ttdoc">Convert and add the app&amp;#39;s event type filter(s) to the given json object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01641">res/stasis/app.c:1641</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2e6099632575d3b2fd83d64698b1114c"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2e6099632575d3b2fd83d64698b1114c">app_to_json</a></div><div class="ttdeci">struct ast_json * app_to_json(const struct stasis_app *app)</div><div class="ttdoc">Create a JSON representation of a stasis_app. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01228">res/stasis/app.c:1228</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a5deb853a1512eb4efe0825f6d8a4404d"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a5deb853a1512eb4efe0825f6d8a4404d">app_event_sources_to_json</a></div><div class="ttdeci">static struct ast_json * app_event_sources_to_json(const struct stasis_app *app, struct ast_json *json)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01850">res_stasis.c:1850</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d3b218f6acfe72a4d8c6a109abd3469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d3b218f6acfe72a4d8c6a109abd3469">&#9670;&nbsp;</a></span>stasis_app_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_register </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a new Stasis application. </p>
<p>If an application is already registered with the given name, the old application is sent a 'replaced' message and unregistered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>Name of this application. </td></tr>
    <tr><td class="paramname">handler</td><td>Callback for application messages. </td></tr>
    <tr><td class="paramname">data</td><td>Data blob to pass to the callback. Must be AO2 managed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01777">1777</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01726">__stasis_app_register()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d77/test__res__stasis_8c_source.html#l00096">AST_TEST_DEFINE()</a>, and <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00388">event_session_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;{</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d80/res__stasis_8c.html#a689eaaac22f347f4910a2778d71e98e1">__stasis_app_register</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, <a class="code" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>, <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>, 0);</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;}</div><div class="ttc" id="res__stasis_8c_html_a689eaaac22f347f4910a2778d71e98e1"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a689eaaac22f347f4910a2778d71e98e1">__stasis_app_register</a></div><div class="ttdeci">static int __stasis_app_register(const char *app_name, stasis_app_cb handler, void *data, int all_events)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01726">res_stasis.c:1726</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="test__ari_8c_html_a695cc202c7a2869aa8202bb20726ea3c"><div class="ttname"><a href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a></div><div class="ttdeci">static void handler(const char *name, int response_code, struct ast_variable *get_params, struct ast_variable *path_vars, struct ast_variable *headers, struct ast_json *body, struct ast_ari_response *response)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d03/test__ari_8c_source.html#l00059">test_ari.c:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af21c15986133e0241642e935477011d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af21c15986133e0241642e935477011d0">&#9670;&nbsp;</a></span>stasis_app_register_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_register_all </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a new Stasis application that receives all Asterisk events. </p>
<p>If an application is already registered with the given name, the old application is sent a 'replaced' message and unregistered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>Name of this application. </td></tr>
    <tr><td class="paramname">handler</td><td>Callback for application messages. </td></tr>
    <tr><td class="paramname">data</td><td>Data blob to pass to the callback. Must be AO2 managed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01782">1782</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01726">__stasis_app_register()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00388">event_session_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;{</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d80/res__stasis_8c.html#a689eaaac22f347f4910a2778d71e98e1">__stasis_app_register</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, <a class="code" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>, <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>, 1);</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;}</div><div class="ttc" id="res__stasis_8c_html_a689eaaac22f347f4910a2778d71e98e1"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a689eaaac22f347f4910a2778d71e98e1">__stasis_app_register</a></div><div class="ttdeci">static int __stasis_app_register(const char *app_name, stasis_app_cb handler, void *data, int all_events)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01726">res_stasis.c:1726</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="test__ari_8c_html_a695cc202c7a2869aa8202bb20726ea3c"><div class="ttname"><a href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a></div><div class="ttdeci">static void handler(const char *name, int response_code, struct ast_variable *get_params, struct ast_variable *path_vars, struct ast_variable *headers, struct ast_json *body, struct ast_ari_response *response)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d03/test__ari_8c_source.html#l00059">test_ari.c:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad7e2e88b43d2044074a802ebd34409d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad7e2e88b43d2044074a802ebd34409d">&#9670;&nbsp;</a></span>stasis_app_register_event_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_register_event_source </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an application event source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the event source to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01816">1816</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, and <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00456">load_module()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01627">stasis_app_register_event_sources()</a>.</p>
<div class="fragment"><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;{</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d7/d43/structevent__sources.html">event_sources</a>);</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d7/d43/structevent__sources.html">event_sources</a>, obj, next);</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d43/structevent__sources.html">event_sources</a>);</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structevent__sources_html"><div class="ttname"><a href="../../d7/d43/structevent__sources.html">event_sources</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00113">res_stasis.c:113</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6599f1f9ec81efa1150b8394c0903858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6599f1f9ec81efa1150b8394c0903858">&#9670;&nbsp;</a></span>stasis_app_register_event_sources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_register_event_sources </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register core event sources. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01627">1627</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01816">stasis_app_register_event_source()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02337">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;{</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#aad7e2e88b43d2044074a802ebd34409d">stasis_app_register_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">channel_event_source</a>);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#aad7e2e88b43d2044074a802ebd34409d">stasis_app_register_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a710d1b2a19daeb01bc02848bc9f17ba6">bridge_event_source</a>);</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#aad7e2e88b43d2044074a802ebd34409d">stasis_app_register_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae04f4f3a6ef25fe9dbb77fc560258ace">endpoint_event_source</a>);</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a710d1b2a19daeb01bc02848bc9f17ba6"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a710d1b2a19daeb01bc02848bc9f17ba6">bridge_event_source</a></div><div class="ttdeci">struct stasis_app_event_source bridge_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01523">res/stasis/app.c:1523</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ae04f4f3a6ef25fe9dbb77fc560258ace"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae04f4f3a6ef25fe9dbb77fc560258ace">endpoint_event_source</a></div><div class="ttdeci">struct stasis_app_event_source endpoint_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01619">res/stasis/app.c:1619</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_aa82f8cf6d2b72f1b1d0a6d8a5c623c94"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">channel_event_source</a></div><div class="ttdeci">struct stasis_app_event_source channel_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01420">res/stasis/app.c:1420</a></div></div>
<div class="ttc" id="stasis__app_8h_html_aad7e2e88b43d2044074a802ebd34409d"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#aad7e2e88b43d2044074a802ebd34409d">stasis_app_register_event_source</a></div><div class="ttdeci">void stasis_app_register_event_source(struct stasis_app_event_source *obj)</div><div class="ttdoc">Register an application event source. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01816">res_stasis.c:1816</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27e480436ce57455bc35ec42889104ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27e480436ce57455bc35ec42889104ab">&#9670;&nbsp;</a></span>stasis_app_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_send </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to the given Stasis application. </p>
<p>The message given to the handler is a borrowed copy. If you want to keep a reference to it, you should use <code><a class="el" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref()</a></code> to keep it around.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>Name of the application to invoke. </td></tr>
    <tr><td class="paramname">message</td><td>Message to send (borrowed reference)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success. </dd>
<dd>
-1 for error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01656">1656</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">app_send()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d77/test__res__stasis_8c_source.html#l00041">AST_TEST_DEFINE()</a>, and <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00191">send_device_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;{</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d80/res__stasis_8c.html#adb747ddc4dbb36c7544cbb3b695a777e">apps_registry</a>) {</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;   }</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   app = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#adb747ddc4dbb36c7544cbb3b695a777e">apps_registry</a>, <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      <span class="comment">/* XXX We can do a better job handling late binding, queueing up</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment">       * the call for a few seconds to wait for the app to register.</span></div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;         <span class="stringliteral">&quot;Stasis app &#39;%s&#39; not registered\n&quot;</span>, <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   }</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a>(app, message);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(app, -1);</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_afc2b5ef224bf880e5ef556a910f41a37"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a></div><div class="ttdeci">void app_send(struct stasis_app *app, struct ast_json *message)</div><div class="ttdoc">Send a message to the given application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">res/stasis/app.c:1038</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res__stasis_8c_html_adb747ddc4dbb36c7544cbb3b695a777e"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#adb747ddc4dbb36c7544cbb3b695a777e">apps_registry</a></div><div class="ttdeci">struct ao2_container * apps_registry</div><div class="ttdoc">Stasis application container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00100">res_stasis.c:100</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a021880a772de9d50853755f00f3e1715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021880a772de9d50853755f00f3e1715">&#9670;&nbsp;</a></span>stasis_app_set_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_set_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/disable request/response and event logging on an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The app to debug </td></tr>
    <tr><td class="paramname">debug</td><td>If non-zero, enable debugging. If zero, disable. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00842">842</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00377">ari_set_debug()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00887">stasis_app_set_global_debug()</a>.</p>
<div class="fragment"><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;   }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> = <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;}</div><div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a49a46dbc343b8338f76152e781349a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49a46dbc343b8338f76152e781349a33">&#9670;&nbsp;</a></span>stasis_app_set_debug_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_set_debug_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/disable request/response and event logging on an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>The app name to debug </td></tr>
    <tr><td class="paramname">debug</td><td>If non-zero, enable debugging. If zero, disable. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00851">851</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01694">stasis_app_get_by_name()</a>.</p>
<div class="fragment"><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> = <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a3c7c67f73571bdd74cd792c3633b34ff"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a></div><div class="ttdeci">struct stasis_app * stasis_app_get_by_name(const char *name)</div><div class="ttdoc">Retrieve a handle to a Stasis application by its name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01694">res_stasis.c:1694</a></div></div>
<div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a793181753c292309203d2bd578c2f489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a793181753c292309203d2bd578c2f489">&#9670;&nbsp;</a></span>stasis_app_set_global_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_set_global_debug </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/disable request/response and event logging on all applications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">debug</td><td>If non-zero, enable debugging. If zero, disable. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00887">887</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00549">ao2_iterator_cleanup()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00463">app_name()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">global_debug</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01708">stasis_app_get_all()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01694">stasis_app_get_by_name()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00842">stasis_app_set_debug()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00377">ari_set_debug()</a>.</p>
<div class="fragment"><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;{</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a> = <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a>) {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *app_names = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a9dd5d5852231994902e0c5c67ead2fd6">stasis_app_get_all</a>();</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> it_app_names;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">if</span> (!app_names || !<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(app_names)) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app_names);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      it_app_names = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(app_names, 0);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="keywordflow">while</span> ((app_name = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;it_app_names))) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;         <span class="keywordflow">if</span> ((app = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a>(app_name))) {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a021880a772de9d50853755f00f3e1715">stasis_app_set_debug</a>(app, 0);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;         }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app_name);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      }</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a318d97aac22f53655de7c4754aedefba">ao2_iterator_cleanup</a>(&amp;it_app_names);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app_names);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a3c7c67f73571bdd74cd792c3633b34ff"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a></div><div class="ttdeci">struct stasis_app * stasis_app_get_by_name(const char *name)</div><div class="ttdoc">Retrieve a handle to a Stasis application by its name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01694">res_stasis.c:1694</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="astobj2_8h_html_a318d97aac22f53655de7c4754aedefba"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a318d97aac22f53655de7c4754aedefba">ao2_iterator_cleanup</a></div><div class="ttdeci">void ao2_iterator_cleanup(struct ao2_iterator *iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00549">astobj2_container.c:549</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a021880a772de9d50853755f00f3e1715"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a021880a772de9d50853755f00f3e1715">stasis_app_set_debug</a></div><div class="ttdeci">void stasis_app_set_debug(struct stasis_app *app, int debug)</div><div class="ttdoc">Enable/disable request/response and event logging on an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00842">res/stasis/app.c:842</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a518ccaffd69d0c08d89a722a2f6b55c3"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a></div><div class="ttdeci">int global_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">res/stasis/app.c:45</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a9dd5d5852231994902e0c5c67ead2fd6"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a9dd5d5852231994902e0c5c67ead2fd6">stasis_app_get_all</a></div><div class="ttdeci">struct ao2_container * stasis_app_get_all(void)</div><div class="ttdoc">Gets the names of all registered Stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01708">res_stasis.c:1708</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3661b0ee32badfbbf5386042bf368dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3661b0ee32badfbbf5386042bf368dd1">&#9670;&nbsp;</a></span>stasis_app_subscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a> stasis_app_subscribe </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>event_source_uris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event_sources_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> **&#160;</td>
          <td class="paramname"><em>json</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribes an application to a list of event sources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>Name of the application to subscribe. </td></tr>
    <tr><td class="paramname">event_source_uris</td><td>URIs for the event sources to subscribe to. </td></tr>
    <tr><td class="paramname">event_sources_count</td><td>Array size of event_source_uris. </td></tr>
    <tr><td class="paramname">json</td><td>Optional output pointer for JSON representation of the app after adding the subscription.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a> return code.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Do not hold any channel locks if subscribing to a channel. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02045">2045</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01939">app_handle_subscriptions()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02019">app_subscribe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbc/resource__applications_8c_source.html#l00089">ast_ari_applications_subscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;{</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d80/res__stasis_8c.html#a9b34a5a81c21b20c5c7a681a4e1cec3b">app_handle_subscriptions</a>(</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, event_source_uris, event_sources_count,</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      json, <a class="code" href="../../d2/d80/res__stasis_8c.html#a70c32d9b906d12530d68baef9e8433d0">app_subscribe</a>);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;}</div><div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a70c32d9b906d12530d68baef9e8433d0"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a70c32d9b906d12530d68baef9e8433d0">app_subscribe</a></div><div class="ttdeci">static enum stasis_app_subscribe_res app_subscribe(struct stasis_app *app, const char *uri, struct stasis_app_event_source *event_source)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02019">res_stasis.c:2019</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a9b34a5a81c21b20c5c7a681a4e1cec3b"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a9b34a5a81c21b20c5c7a681a4e1cec3b">app_handle_subscriptions</a></div><div class="ttdeci">static enum stasis_app_subscribe_res app_handle_subscriptions(const char *app_name, const char **event_source_uris, int event_sources_count, struct ast_json **json, app_subscription_handler handler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01939">res_stasis.c:1939</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a74298c6a966c1248dfc03869cd8b1089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74298c6a966c1248dfc03869cd8b1089">&#9670;&nbsp;</a></span>stasis_app_subscribe_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a> stasis_app_subscribe_channel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Directly subscribe an application to a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>Name of the application to subscribe. </td></tr>
    <tr><td class="paramname">chan</td><td>The channel to subscribe to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a> return code.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This method can be used when you already hold a channel and its lock. This bypasses the channel lookup that would normally be performed by <a class="el" href="../../d2/d80/res__stasis_8c.html#a3661b0ee32badfbbf5386042bf368dd1">stasis_app_subscribe</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01984">1984</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01281">app_subscribe_channel()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01679">find_app_by_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00284">STASIS_ASR_APP_NOT_FOUND</a>, <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00287">STASIS_ASR_INTERNAL_ERROR</a>, and <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00283">STASIS_ASR_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01063">ari_channels_handle_originate_with_id()</a>, and <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01778">ast_ari_channels_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;{</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d2/d80/res__stasis_8c.html#a9f9b348f143855f19deddd276e61ff25">find_app_by_name</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2ac19b84db0ec7174bf76408373b5ebc32">STASIS_ASR_APP_NOT_FOUND</a>;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;   }</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Subscribing to %s\n&quot;</span>, <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;   res = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a5b0dbc86b18101e9d9d48b350aeec489">app_subscribe_channel</a>(app, chan);</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(app, -1);</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error subscribing app &#39;%s&#39; to channel &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;         <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a58a41e91d8c33fd78c949624b87a4620">STASIS_ASR_INTERNAL_ERROR</a>;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;   }</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a0079a4d74da9039b273214b71282c066">STASIS_ASR_OK</a>;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;}</div><div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="stasis__app_8h_html_ae21cc45a96ed6435254781e0c7299bc2a0079a4d74da9039b273214b71282c066"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a0079a4d74da9039b273214b71282c066">STASIS_ASR_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00283">stasis_app.h:283</a></div></div>
<div class="ttc" id="stasis__app_8h_html_ae21cc45a96ed6435254781e0c7299bc2a58a41e91d8c33fd78c949624b87a4620"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2a58a41e91d8c33fd78c949624b87a4620">STASIS_ASR_INTERNAL_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00287">stasis_app.h:287</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="stasis__app_8h_html_ae21cc45a96ed6435254781e0c7299bc2ac19b84db0ec7174bf76408373b5ebc32"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2ac19b84db0ec7174bf76408373b5ebc32">STASIS_ASR_APP_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00284">stasis_app.h:284</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a5b0dbc86b18101e9d9d48b350aeec489"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a5b0dbc86b18101e9d9d48b350aeec489">app_subscribe_channel</a></div><div class="ttdeci">int app_subscribe_channel(struct stasis_app *app, struct ast_channel *chan)</div><div class="ttdoc">Subscribes an application to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01281">res/stasis/app.c:1281</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a9f9b348f143855f19deddd276e61ff25"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a9f9b348f143855f19deddd276e61ff25">find_app_by_name</a></div><div class="ttdeci">static struct stasis_app * find_app_by_name(const char *app_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01679">res_stasis.c:1679</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a846417e8ae7b7f9d9fe66904d7ae2bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a846417e8ae7b7f9d9fe66904d7ae2bcc">&#9670;&nbsp;</a></span>stasis_app_to_cli()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_to_cli </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump properties of a <code><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a></code> to the CLI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The application </td></tr>
    <tr><td class="paramname">a</td><td>The CLI arguments </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01173">1173</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00123">bridges</a>, <a class="el" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00050">endpoints</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00078">FORWARD_BRIDGE</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00077">FORWARD_CHANNEL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00079">FORWARD_ENDPOINT</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01161">forwards_filter_by_type()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">app_forwards::id</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">app_forwards::interested</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../df/d5f/res_2stasis_2app_8h_source.html#l00049">STASIS_APP_SUBSCRIBE_ALL</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00065">stasis_app::subscription_model</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00343">ari_show_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;{</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *<a class="code" href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a>;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *<a class="code" href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forward;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a>;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Name: %s\n&quot;</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="stringliteral">&quot;  Debug: %s\n&quot;</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="stringliteral">&quot;  Subscription Model: %s\n&quot;</span>,</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>,</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>,</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ad23d07cf45d277b6b988fee318432fd7">subscription_model</a> == <a class="code" href="../../df/d5f/res_2stasis_2app_8h.html#aed792ab54d9817f46bfcc787e2754dc8abb410559dd7f7ee3fbd477cc39d73afe">STASIS_APP_SUBSCRIBE_ALL</a> ?</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;         <span class="stringliteral">&quot;Global Resource Subscription&quot;</span> :</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;         <span class="stringliteral">&quot;Application/Explicit Resource Subscription&quot;</span>);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Subscriptions: %d\n&quot;</span>, <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>));</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;    Channels:\n&quot;</span>);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   forward_type = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   channels = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>,</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a05b060bca49eec569b5923526fef1cb4">forwards_filter_by_type</a>, &amp;forward_type);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <span class="keywordflow">if</span> (channels) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="keywordflow">while</span> ((forward = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(channels))) {</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;      %s (%d)\n&quot;</span>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forward, -1);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      }</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(channels);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;    Bridges:\n&quot;</span>);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;   forward_type = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a>;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;   bridges = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>,</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a05b060bca49eec569b5923526fef1cb4">forwards_filter_by_type</a>, &amp;forward_type);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;   <span class="keywordflow">if</span> (bridges) {</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keywordflow">while</span> ((forward = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(bridges))) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;      %s (%d)\n&quot;</span>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forward, -1);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(bridges);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;    Endpoints:\n&quot;</span>);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;   forward_type = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a>;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;   endpoints = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>,</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a05b060bca49eec569b5923526fef1cb4">forwards_filter_by_type</a>, &amp;forward_type);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   <span class="keywordflow">if</span> (endpoints) {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">while</span> ((forward = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(endpoints))) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;      %s (%d)\n&quot;</span>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forward, -1);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      }</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(endpoints);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;   }</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div><div class="ttc" id="structapp__forwards_html_aa754553486730ec7ec2b2539aa4e1985"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">app_forwards::id</a></div><div class="ttdeci">char id[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">res/stasis/app.c:95</a></div></div>
<div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a05b060bca49eec569b5923526fef1cb4"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a05b060bca49eec569b5923526fef1cb4">forwards_filter_by_type</a></div><div class="ttdeci">static int forwards_filter_by_type(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01161">res/stasis/app.c:1161</a></div></div>
<div class="ttc" id="structapp__forwards_html_a0ebe65d4c1af116e2e32b97cfa46af8a"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">app_forwards::interested</a></div><div class="ttdeci">int interested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">res/stasis/app.c:85</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00077">res/stasis/app.c:77</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="res_2stasis_2app_8h_html_aed792ab54d9817f46bfcc787e2754dc8abb410559dd7f7ee3fbd477cc39d73afe"><div class="ttname"><a href="../../df/d5f/res_2stasis_2app_8h.html#aed792ab54d9817f46bfcc787e2754dc8abb410559dd7f7ee3fbd477cc39d73afe">STASIS_APP_SUBSCRIBE_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/res_2stasis_2app_8h_source.html#l00049">res/stasis/app.h:49</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="main_2endpoints_8c_html_a0b6312c44448ff7ed80ac99b3077e438"><div class="ttname"><a href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a></div><div class="ttdeci">static struct ao2_container * endpoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00050">main/endpoints.c:50</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="codec__dahdi_8c_html_aea0622703055b62259903cdab213319b"><div class="ttname"><a href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a></div><div class="ttdeci">static struct channel_usage channels</div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="bridge_8c_html_aaa64e0df7082a1a31b65d0c956bc2534"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a></div><div class="ttdeci">static struct ao2_container * bridges</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00123">bridge.c:123</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a></div><div class="ttdeci">forward_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00076">res/stasis/app.c:76</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00078">res/stasis/app.c:78</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00079">res/stasis/app.c:79</a></div></div>
<div class="ttc" id="structstasis__app_html_ad23d07cf45d277b6b988fee318432fd7"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ad23d07cf45d277b6b988fee318432fd7">stasis_app::subscription_model</a></div><div class="ttdeci">enum stasis_app_subscription_model subscription_model</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00065">res/stasis/app.c:65</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4cd8b912a6e31eb03699bd13bea9b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4cd8b912a6e31eb03699bd13bea9b29">&#9670;&nbsp;</a></span>stasis_app_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* stasis_app_to_json </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the JSON representation of a Stasis application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>Name of the application.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON representation of app with given name. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01876">1876</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01679">find_app_by_name()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01866">stasis_app_object_to_json()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbc/resource__applications_8c_source.html#l00032">append_json()</a>, and <a class="el" href="../../d5/dbc/resource__applications_8c_source.html#l00072">ast_ari_applications_get()</a>.</p>
<div class="fragment"><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;{</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d2/d80/res__stasis_8c.html#a9f9b348f143855f19deddd276e61ff25">find_app_by_name</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json = <a class="code" href="../../d2/d80/res__stasis_8c.html#a3240784e83df1a46da2c0586d337c7c3">stasis_app_object_to_json</a>(app);</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app);</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;   <span class="keywordflow">return</span> json;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;}</div><div class="ttc" id="res__stasis_8c_html_a3240784e83df1a46da2c0586d337c7c3"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a3240784e83df1a46da2c0586d337c7c3">stasis_app_object_to_json</a></div><div class="ttdeci">struct ast_json * stasis_app_object_to_json(struct stasis_app *app)</div><div class="ttdoc">Return the JSON representation of a Stasis application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01866">res_stasis.c:1866</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="res__stasis_8c_html_a9f9b348f143855f19deddd276e61ff25"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a9f9b348f143855f19deddd276e61ff25">find_app_by_name</a></div><div class="ttdeci">static struct stasis_app * find_app_by_name(const char *app_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01679">res_stasis.c:1679</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99253bb2d8ecd4b3dc223961316d9239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99253bb2d8ecd4b3dc223961316d9239">&#9670;&nbsp;</a></span>stasis_app_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_unregister </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a Stasis application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>Name of the application to unregister. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01787">1787</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01066">app_deactivate()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00327">cleanup()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d77/test__res__stasis_8c_source.html#l00096">AST_TEST_DEFINE()</a>, and <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00223">event_session_shutdown()</a>.</p>
<div class="fragment"><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;{</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>) {</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;   }</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d80/res__stasis_8c.html#adb747ddc4dbb36c7544cbb3b695a777e">apps_registry</a>) {</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;   }</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;   app = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d2/d80/res__stasis_8c.html#adb747ddc4dbb36c7544cbb3b695a777e">apps_registry</a>, <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;         <span class="stringliteral">&quot;Stasis app &#39;%s&#39; not registered\n&quot;</span>, <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;   }</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ac70355ddeb33a79cdaf71549b82c22e8">app_deactivate</a>(app);</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;   <span class="comment">/* There&#39;s a decent chance that app is ready for cleanup. Go ahead</span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="comment">    * and clean up, just in case</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;   <a class="code" href="../../d2/d80/res__stasis_8c.html#a5c6551bf9ea9cf51ae7f2076c4cbe8ef">cleanup</a>();</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(app, -1);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ac70355ddeb33a79cdaf71549b82c22e8"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ac70355ddeb33a79cdaf71549b82c22e8">app_deactivate</a></div><div class="ttdeci">void app_deactivate(struct stasis_app *app)</div><div class="ttdoc">Deactivates an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01066">res/stasis/app.c:1066</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a5c6551bf9ea9cf51ae7f2076c4cbe8ef"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a5c6551bf9ea9cf51ae7f2076c4cbe8ef">cleanup</a></div><div class="ttdeci">static void cleanup(void)</div><div class="ttdoc">Clean up any old apps that we don&amp;#39;t need any more. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00327">res_stasis.c:327</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res__stasis_8c_html_adb747ddc4dbb36c7544cbb3b695a777e"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#adb747ddc4dbb36c7544cbb3b695a777e">apps_registry</a></div><div class="ttdeci">struct ao2_container * apps_registry</div><div class="ttdoc">Stasis application container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00100">res_stasis.c:100</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6899b9113d6f268865efa52e88a425f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6899b9113d6f268865efa52e88a425f3">&#9670;&nbsp;</a></span>stasis_app_unregister_event_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_unregister_event_source </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister an application event source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the event source to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01823">1823</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, and <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00227">stasis_app_event_source::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01634">stasis_app_unregister_event_sources()</a>, and <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00476">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;{</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a> *source;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d7/d43/structevent__sources.html">event_sources</a>);</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d7/d43/structevent__sources.html">event_sources</a>, source, <a class="code" href="../../d7/d3a/structstasis__app__event__source.html#a9c3ff6b66aa37e92c8866e149c1fb154">next</a>) {</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      <span class="keywordflow">if</span> (source == obj) {</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(<a class="code" href="../../d7/d3a/structstasis__app__event__source.html#a9c3ff6b66aa37e92c8866e149c1fb154">next</a>);</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      }</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;   }</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d43/structevent__sources.html">event_sources</a>);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structevent__sources_html"><div class="ttname"><a href="../../d7/d43/structevent__sources.html">event_sources</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00113">res_stasis.c:113</a></div></div>
<div class="ttc" id="structstasis__app__event__source_html"><div class="ttname"><a href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a></div><div class="ttdoc">Event source information and callbacks. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00174">stasis_app.h:174</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="structstasis__app__event__source_html_a9c3ff6b66aa37e92c8866e149c1fb154"><div class="ttname"><a href="../../d7/d3a/structstasis__app__event__source.html#a9c3ff6b66aa37e92c8866e149c1fb154">stasis_app_event_source::next</a></div><div class="ttdeci">struct stasis_app_event_source * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00227">stasis_app.h:227</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31b48d94fdb79f3d0fc2bc10b229458e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31b48d94fdb79f3d0fc2bc10b229458e">&#9670;&nbsp;</a></span>stasis_app_unregister_event_sources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_unregister_event_sources </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister core event sources. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01634">1634</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01823">stasis_app_unregister_event_source()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02195">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;{</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a6899b9113d6f268865efa52e88a425f3">stasis_app_unregister_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae04f4f3a6ef25fe9dbb77fc560258ace">endpoint_event_source</a>);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a6899b9113d6f268865efa52e88a425f3">stasis_app_unregister_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a710d1b2a19daeb01bc02848bc9f17ba6">bridge_event_source</a>);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a6899b9113d6f268865efa52e88a425f3">stasis_app_unregister_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">channel_event_source</a>);</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a710d1b2a19daeb01bc02848bc9f17ba6"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a710d1b2a19daeb01bc02848bc9f17ba6">bridge_event_source</a></div><div class="ttdeci">struct stasis_app_event_source bridge_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01523">res/stasis/app.c:1523</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ae04f4f3a6ef25fe9dbb77fc560258ace"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae04f4f3a6ef25fe9dbb77fc560258ace">endpoint_event_source</a></div><div class="ttdeci">struct stasis_app_event_source endpoint_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01619">res/stasis/app.c:1619</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a6899b9113d6f268865efa52e88a425f3"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a6899b9113d6f268865efa52e88a425f3">stasis_app_unregister_event_source</a></div><div class="ttdeci">void stasis_app_unregister_event_source(struct stasis_app_event_source *obj)</div><div class="ttdoc">Unregister an application event source. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01823">res_stasis.c:1823</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_aa82f8cf6d2b72f1b1d0a6d8a5c623c94"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">channel_event_source</a></div><div class="ttdeci">struct stasis_app_event_source channel_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01420">res/stasis/app.c:1420</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a179259570589ab0bfa873900608c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a179259570589ab0bfa873900608c7f">&#9670;&nbsp;</a></span>stasis_app_unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a> stasis_app_unsubscribe </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>event_source_uris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event_sources_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> **&#160;</td>
          <td class="paramname"><em>json</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribes an application from a list of event sources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>Name of the application to subscribe. </td></tr>
    <tr><td class="paramname">event_source_uris</td><td>URIs for the event sources to subscribe to. </td></tr>
    <tr><td class="paramname">event_sources_count</td><td>Array size of event_source_uris. </td></tr>
    <tr><td class="paramname">json</td><td>Optional output pointer for JSON representation of the app after adding the subscription.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d8/d9c/stasis__app_8h.html#ae21cc45a96ed6435254781e0c7299bc2">stasis_app_subscribe_res</a> return code. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02086">2086</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01939">app_handle_subscriptions()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02064">app_unsubscribe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbc/resource__applications_8c_source.html#l00134">ast_ari_applications_unsubscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;{</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d80/res__stasis_8c.html#a9b34a5a81c21b20c5c7a681a4e1cec3b">app_handle_subscriptions</a>(</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;      <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, event_source_uris, event_sources_count,</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      json, <a class="code" href="../../d2/d80/res__stasis_8c.html#a4d59985d2ef1c45443f45ba200d34f84">app_unsubscribe</a>);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;}</div><div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a9b34a5a81c21b20c5c7a681a4e1cec3b"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a9b34a5a81c21b20c5c7a681a4e1cec3b">app_handle_subscriptions</a></div><div class="ttdeci">static enum stasis_app_subscribe_res app_handle_subscriptions(const char *app_name, const char **event_source_uris, int event_sources_count, struct ast_json **json, app_subscription_handler handler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01939">res_stasis.c:1939</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a4d59985d2ef1c45443f45ba200d34f84"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a4d59985d2ef1c45443f45ba200d34f84">app_unsubscribe</a></div><div class="ttdeci">static enum stasis_app_subscribe_res app_unsubscribe(struct stasis_app *app, const char *uri, struct stasis_app_event_source *event_source)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02064">res_stasis.c:2064</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a78ffc610970f392253ff3de33a6481d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78ffc610970f392253ff3de33a6481d3">&#9670;&nbsp;</a></span>stasis_app_user_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251e">stasis_app_user_event_res</a> stasis_app_user_event </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>event_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>source_uris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sources_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>json_variables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a Userevent for stasis app (echo to AMI) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>Name of the application to generate event for/to. </td></tr>
    <tr><td class="paramname">event_name</td><td>Name of the Userevent. </td></tr>
    <tr><td class="paramname">source_uris</td><td>URIs for the source objects to attach to event. </td></tr>
    <tr><td class="paramname">sources_count</td><td>Array size of source_uris. </td></tr>
    <tr><td class="paramname">json_variables</td><td>event blob variables.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251e">stasis_app_user_event_res</a> return code. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02095">2095</a> of file <a class="el" href="../../d2/d80/res__stasis_8c_source.html">res_stasis.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01028">ast_app_get_topic()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00094">ast_begins_with()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01359">ast_bridge_get_snapshot_by_uniqueid()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00903">ast_channel_snapshot_get_latest()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">ast_endpoint_latest_snapshot()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00268">ast_json_string_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01720">ast_manager_get_topic()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02001">ast_multi_object_blob_add()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01975">ast_multi_object_blob_create()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga903c0022d53e0cac08b7eab6539ab206">ast_multi_user_event_type()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00144">start_message_blob::blob</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01679">find_app_by_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00257">STASIS_APP_USER_APP_NOT_FOUND</a>, <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00259">STASIS_APP_USER_EVENT_SOURCE_BAD_SCHEME</a>, <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00258">STASIS_APP_USER_EVENT_SOURCE_NOT_FOUND</a>, <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00261">STASIS_APP_USER_INTERNAL_ERROR</a>, <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00256">STASIS_APP_USER_OK</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l01359">STASIS_UMOS_BRIDGE</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l01358">STASIS_UMOS_CHANNEL</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l01360">STASIS_UMOS_ENDPOINT</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00532">ast_ari_events_user_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;{</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, <a class="code" href="../../d2/d80/res__stasis_8c.html#a9f9b348f143855f19deddd276e61ff25">find_app_by_name</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *blob = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a> *multi;</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251e">stasis_app_user_event_res</a> res = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eab0c1aa02f313e675e647e88c66ef98bf">STASIS_APP_USER_INTERNAL_ERROR</a>;</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;   <span class="keywordtype">int</span> have_channel = 0;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>) {</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;App %s not found\n&quot;</span>, <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea2934c5232a8150f7a16f68b4d1e2fadd">STASIS_APP_USER_APP_NOT_FOUND</a>;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;   }</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga903c0022d53e0cac08b7eab6539ab206">ast_multi_user_event_type</a>()) {</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;   }</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;   <span class="keywordflow">if</span> (json_variables) {</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json_value = <a class="code" href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a>(event_name);</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="keywordflow">if</span> (json_value &amp;&amp; !<a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json_variables, <span class="stringliteral">&quot;eventname&quot;</span>, json_value)) {</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;         blob = <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(json_variables);</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;      }</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;      blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>, <span class="stringliteral">&quot;eventname&quot;</span>, event_name);</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;   }</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;   <span class="keywordflow">if</span> (!blob) {</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to initialize blob\n&quot;</span>);</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;   }</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;   multi = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga0679202aea3da62adf0dff0e09a4e07a">ast_multi_object_blob_create</a>(blob);</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(blob);</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;   <span class="keywordflow">if</span> (!multi) {</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to initialize multi\n&quot;</span>);</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;   }</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; sources_count; ++i) {</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *uri = source_uris[i];</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;      <span class="keywordtype">void</span> *snapshot=<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <span class="keyword">enum</span> <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4cf6fe670f1f46e8db561d407b694d4d">stasis_user_multi_object_snapshot_type</a> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(uri, <span class="stringliteral">&quot;channel:&quot;</span>)) {</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;         type = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a">STASIS_UMOS_CHANNEL</a>;</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;         snapshot = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a>(uri + 8);</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;         have_channel = 1;</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(uri, <span class="stringliteral">&quot;bridge:&quot;</span>)) {</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;         type = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da30a07e65360c3484148ca1750067fe87">STASIS_UMOS_BRIDGE</a>;</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;         snapshot = <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#aee9af6c35b13edd9dcbd3dbabc5522ee">ast_bridge_get_snapshot_by_uniqueid</a>(uri + 7);</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(uri, <span class="stringliteral">&quot;endpoint:&quot;</span>)) {</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;         type = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce">STASIS_UMOS_ENDPOINT</a>;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;         snapshot = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga83c4127a98da15ab67e85d7aeabdbfdf">ast_endpoint_latest_snapshot</a>(uri + 9, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid scheme: %s\n&quot;</span>, uri);</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(multi, -1);</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea5508946419d468c65f7468dab9c2872d">STASIS_APP_USER_EVENT_SOURCE_BAD_SCHEME</a>;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      }</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      <span class="keywordflow">if</span> (!snapshot) {</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to get snapshot for %s\n&quot;</span>, uri);</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(multi, -1);</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea4d638b2ec2ab4f04577a1bf730452de7">STASIS_APP_USER_EVENT_SOURCE_NOT_FOUND</a>;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      }</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga3f5721e90c221f9808fcedaf013ae56e">ast_multi_object_blob_add</a>(multi, type, snapshot);</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;   }</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;   message = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga903c0022d53e0cac08b7eab6539ab206">ast_multi_user_event_type</a>(), multi);</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(multi, -1);</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;   <span class="keywordflow">if</span> (!message) {</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to create stasis user event message\n&quot;</span>);</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;   }</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;<span class="comment">    * Publishing to two different topics is normally to be avoided -- except</span></div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;<span class="comment">    * in this case both are final destinations with no forwards (only listeners).</span></div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;<span class="comment">    * The message has to be delivered to the application topic for ARI, but a</span></div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;<span class="comment">    * copy is also delivered directly to the manager for AMI if there is a channel.</span></div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d8/d9c/stasis__app_8h.html#a1c95eccf2647ee7aba08fd47933940d7">ast_app_get_topic</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>), message);</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;   <span class="keywordflow">if</span> (have_channel) {</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a>(), message);</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;   }</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(message, -1);</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eaadba62dc1d1fe986b584cc557361245a">STASIS_APP_USER_OK</a>;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1c95eccf2647ee7aba08fd47933940d7"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1c95eccf2647ee7aba08fd47933940d7">ast_app_get_topic</a></div><div class="ttdeci">struct stasis_topic * ast_app_get_topic(struct stasis_app *app)</div><div class="ttdoc">Returns the stasis topic for an app. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01028">res/stasis/app.c:1028</a></div></div>
<div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga0679202aea3da62adf0dff0e09a4e07a"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga0679202aea3da62adf0dff0e09a4e07a">ast_multi_object_blob_create</a></div><div class="ttdeci">struct ast_multi_object_blob * ast_multi_object_blob_create(struct ast_json *blob)</div><div class="ttdoc">Create a stasis multi object blob. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01975">stasis.c:1975</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251eab0c1aa02f313e675e647e88c66ef98bf"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eab0c1aa02f313e675e647e88c66ef98bf">STASIS_APP_USER_INTERNAL_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00261">stasis_app.h:261</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga83c4127a98da15ab67e85d7aeabdbfdf"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga83c4127a98da15ab67e85d7aeabdbfdf">ast_endpoint_latest_snapshot</a></div><div class="ttdeci">struct ast_endpoint_snapshot * ast_endpoint_latest_snapshot(const char *tech, const char *resource)</div><div class="ttdoc">Retrieve the most recent snapshot for the endpoint with the given name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">stasis_endpoints.c:341</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251ea2934c5232a8150f7a16f68b4d1e2fadd"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea2934c5232a8150f7a16f68b4d1e2fadd">STASIS_APP_USER_APP_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00257">stasis_app.h:257</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251eaadba62dc1d1fe986b584cc557361245a"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251eaadba62dc1d1fe986b584cc557361245a">STASIS_APP_USER_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00256">stasis_app.h:256</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gga4cf6fe670f1f46e8db561d407b694d4da30a07e65360c3484148ca1750067fe87"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da30a07e65360c3484148ca1750067fe87">STASIS_UMOS_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01359">stasis.h:1359</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251ea5508946419d468c65f7468dab9c2872d"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea5508946419d468c65f7468dab9c2872d">STASIS_APP_USER_EVENT_SOURCE_BAD_SCHEME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00259">stasis_app.h:259</a></div></div>
<div class="ttc" id="structast__multi__object__blob_html"><div class="ttname"><a href="../../d4/d38/structast__multi__object__blob.html">ast_multi_object_blob</a></div><div class="ttdoc">A multi object blob data structure to carry user event stasis messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01950">stasis.c:1950</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="json_8h_html_adc52f8d76b7fdd0c8d12987981fd5bf5"><div class="ttname"><a href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a></div><div class="ttdeci">struct ast_json * ast_json_string_create(const char *value)</div><div class="ttdoc">Construct a JSON string from value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00268">json.c:268</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251ea4d638b2ec2ab4f04577a1bf730452de7"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251ea4d638b2ec2ab4f04577a1bf730452de7">STASIS_APP_USER_EVENT_SOURCE_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00258">stasis_app.h:258</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga4cf6fe670f1f46e8db561d407b694d4d"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga4cf6fe670f1f46e8db561d407b694d4d">stasis_user_multi_object_snapshot_type</a></div><div class="ttdeci">stasis_user_multi_object_snapshot_type</div><div class="ttdoc">Object type code for multi user object snapshots. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01357">stasis.h:1357</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga568aa1aff837fc0001279490a6d9b22f"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a></div><div class="ttdeci">struct stasis_topic * ast_manager_get_topic(void)</div><div class="ttdoc">Get the Stasis Message Bus API topic for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01720">manager.c:1720</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga3f5721e90c221f9808fcedaf013ae56e"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga3f5721e90c221f9808fcedaf013ae56e">ast_multi_object_blob_add</a></div><div class="ttdeci">void ast_multi_object_blob_add(struct ast_multi_object_blob *multi, enum stasis_user_multi_object_snapshot_type type, void *object)</div><div class="ttdoc">Add an object to a multi object blob previously created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l02001">stasis.c:2001</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga903c0022d53e0cac08b7eab6539ab206"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga903c0022d53e0cac08b7eab6539ab206">ast_multi_user_event_type</a></div><div class="ttdeci">struct stasis_message_type * ast_multi_user_event_type(void)</div><div class="ttdoc">Message type for custom user defined events with multi object blobs. </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga68c55b443ba97dc157b493aafd05c876"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_channel_snapshot_get_latest(const char *uniqueid)</div><div class="ttdoc">Obtain the latest ast_channel_snapshot from the Stasis Message Bus API cache. This is an ao2 object...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00903">stasis_channels.c:903</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a453a6c0b68581d87f9d38e659e8d251e"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a453a6c0b68581d87f9d38e659e8d251e">stasis_app_user_event_res</a></div><div class="ttdeci">stasis_app_user_event_res</div><div class="ttdoc">Return code for stasis_app_user_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00255">stasis_app.h:255</a></div></div>
<div class="ttc" id="strings_8h_html_ac51fa66c90ce950b248c9ff3e8c4e453"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a></div><div class="ttdeci">static int force_inline attribute_pure ast_begins_with(const char *str, const char *prefix)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00094">strings.h:94</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da679186d0a76e3ed91a98c2289921485a">STASIS_UMOS_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01358">stasis.h:1358</a></div></div>
<div class="ttc" id="res__stasis_8c_html_a9f9b348f143855f19deddd276e61ff25"><div class="ttname"><a href="../../d2/d80/res__stasis_8c.html#a9f9b348f143855f19deddd276e61ff25">find_app_by_name</a></div><div class="ttdeci">static struct stasis_app * find_app_by_name(const char *app_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01679">res_stasis.c:1679</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gga4cf6fe670f1f46e8db561d407b694d4da1f02519f8ea66bad627d5797b0c6b0ce">STASIS_UMOS_ENDPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01360">stasis.h:1360</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_aee9af6c35b13edd9dcbd3dbabc5522ee"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#aee9af6c35b13edd9dcbd3dbabc5522ee">ast_bridge_get_snapshot_by_uniqueid</a></div><div class="ttdeci">struct ast_bridge_snapshot * ast_bridge_get_snapshot_by_uniqueid(const char *bridge_id)</div><div class="ttdoc">Returns the current snapshot for the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01359">stasis_bridges.c:1359</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:49 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
