<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_stasis_recording.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_stasis_recording.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>res_stasis recording support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d08/dsp_8h_source.html">asterisk/dsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d0b/stasis__app__impl_8h_source.html">asterisk/stasis_app_impl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html">asterisk/stasis_app_recording.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_stasis_recording.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d3c/res__stasis__recording_8c__incl.png" border="0" usemap="#res__stasis__recording_8c" alt=""/></div>
<map name="res__stasis__recording_8c" id="res__stasis__recording_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="635,393,719,420"/>
<area shape="rect" id="node22" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="2252,87,2363,114"/>
<area shape="rect" id="node23" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="2291,319,2398,345"/>
<area shape="rect" id="node26" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1482,169,1618,196"/>
<area shape="rect" id="node36" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="2387,87,2511,114"/>
<area shape="rect" id="node37" href="../../de/d0b/stasis__app__impl_8h.html" title="Backend API for implementing components of res_stasis. " alt="" coords="1711,80,1855,121"/>
<area shape="rect" id="node42" href="../../d2/dda/stasis__app__recording_8h.html" title="Stasis Application Recording API. See StasisApplication API&quot; for detailed documentation. " alt="" coords="1967,80,2111,121"/>
<area shape="rect" id="node44" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="1835,169,2025,196"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="558,617,713,644"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="688,468,825,495"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="529,468,664,495"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="562,692,709,719"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1037,543,1180,569"/>
<area shape="rect" id="node27" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1649,393,1763,420"/>
<area shape="rect" id="node28" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="1470,468,1609,495"/>
<area shape="rect" id="node29" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1391,543,1453,569"/>
<area shape="rect" id="node30" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1180,468,1293,495"/>
<area shape="rect" id="node31" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1477,543,1604,569"/>
<area shape="rect" id="node32" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="1633,468,1779,495"/>
<area shape="rect" id="node33" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2059,468,2217,495"/>
<area shape="rect" id="node34" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1854,468,1985,495"/>
<area shape="rect" id="node35" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="1947,543,2126,569"/>
<area shape="rect" id="node38" href="../../d8/d9c/stasis__app_8h.html" title="Stasis Application API. See Stasis Application API for detailed documentation. " alt="" coords="1655,169,1811,196"/>
<area shape="rect" id="node39" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1663,244,1802,271"/>
<area shape="rect" id="node40" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1623,319,1773,345"/>
<area shape="rect" id="node41" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1849,319,1974,345"/>
<area shape="rect" id="node43" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="2006,244,2118,271"/>
</map>
</div>
</div>
<p><a href="../../d8/d4c/res__stasis__recording_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7d5782b3274c620f64155dace626b4eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a7d5782b3274c620f64155dace626b4eb">RECORDING_BUCKETS</a>&#160;&#160;&#160;127</td></tr>
<tr class="separator:a7d5782b3274c620f64155dace626b4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77cbded803d4d5b7892bb5c8c5c9370e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a77cbded803d4d5b7892bb5c8c5c9370e">RECORDING_CHECK</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a77cbded803d4d5b7892bb5c8c5c9370e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af39621384830125d485314748f22b81d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#af39621384830125d485314748f22b81d">RECORDING_COMMENT</a>&#160;&#160;&#160;<a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:af39621384830125d485314748f22b81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7af3f2eea566d6fc987c202d437e6466"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a7af3f2eea566d6fc987c202d437e6466">recording_operation_cb</a>) (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="separator:a7af3f2eea566d6fc987c202d437e6466"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a93c5a4372f601c8051b41dbda0cb7"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211">stasis_app_control_channel_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a89a93c5a4372f601c8051b41dbda0cb7">check_rule_recording</a> (const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control)</td></tr>
<tr class="separator:a89a93c5a4372f601c8051b41dbda0cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60405912a407d657ad7c35ebd0cdf33a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a60405912a407d657ad7c35ebd0cdf33a">record_file</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a60405912a407d657ad7c35ebd0cdf33a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3776e44b93fce0237c8d5ba540ab00e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ae3776e44b93fce0237c8d5ba540ab00e">recording_cancel</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="separator:ae3776e44b93fce0237c8d5ba540ab00e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c5672b8b645b3a4473cc1e8458c95f1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a1c5672b8b645b3a4473cc1e8458c95f1">recording_cleanup</a> (void *data)</td></tr>
<tr class="separator:a1c5672b8b645b3a4473cc1e8458c95f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aaf3e6582300cabcd97b6f9e5af1582"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a9aaf3e6582300cabcd97b6f9e5af1582">recording_cmp</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a9aaf3e6582300cabcd97b6f9e5af1582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459211cc8e2cb02e630dc97589eaf1c2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a459211cc8e2cb02e630dc97589eaf1c2">recording_disregard</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="separator:a459211cc8e2cb02e630dc97589eaf1c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444bbc8930bd1707f6d1af3be3be9f40"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a444bbc8930bd1707f6d1af3be3be9f40">recording_dtor</a> (void *obj)</td></tr>
<tr class="separator:a444bbc8930bd1707f6d1af3be3be9f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43fe51a6f19b6b3a354853e40218251"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ac43fe51a6f19b6b3a354853e40218251">recording_fail</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording, const char *cause)</td></tr>
<tr class="separator:ac43fe51a6f19b6b3a354853e40218251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e61f10b619d4491816f5aa09209c29f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a4e61f10b619d4491816f5aa09209c29f">recording_hash</a> (const void *obj, int flags)</td></tr>
<tr class="separator:a4e61f10b619d4491816f5aa09209c29f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59db55c075887765889407c80f3411f0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a59db55c075887765889407c80f3411f0">recording_mute</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="separator:a59db55c075887765889407c80f3411f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282794a407d35ada2c04ebeb8a608bdb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a282794a407d35ada2c04ebeb8a608bdb">recording_noop</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="separator:a282794a407d35ada2c04ebeb8a608bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3968ad73df0cc7e36a4e4dad337da034"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a3968ad73df0cc7e36a4e4dad337da034">recording_options_dtor</a> (void *obj)</td></tr>
<tr class="separator:a3968ad73df0cc7e36a4e4dad337da034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f502a55120269cda5fbafb6f32e34c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a23f502a55120269cda5fbafb6f32e34c">recording_pause</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="separator:a23f502a55120269cda5fbafb6f32e34c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb81c11d1996cbca91c6d8996b591901"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#aeb81c11d1996cbca91c6d8996b591901">recording_publish</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording, const char *cause)</td></tr>
<tr class="separator:aeb81c11d1996cbca91c6d8996b591901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce6f67f3aff5fb084d35b815e84ffd3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#acce6f67f3aff5fb084d35b815e84ffd3">recording_set_state</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording, enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0">stasis_app_recording_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>, const char *cause)</td></tr>
<tr class="separator:acce6f67f3aff5fb084d35b815e84ffd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ab1b19fb2cf8de88e69aaa75259ca1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ac4ab1b19fb2cf8de88e69aaa75259ca1">recording_stop</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="separator:ac4ab1b19fb2cf8de88e69aaa75259ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7f20c3900f5ab84b19e79f56ac3506"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a7c7f20c3900f5ab84b19e79f56ac3506">recording_to_json</a> (struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>, const struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a> *sanitize)</td></tr>
<tr class="separator:a7c7f20c3900f5ab84b19e79f56ac3506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ff08104fd8cbdf64999d74387c5ab29"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a5ff08104fd8cbdf64999d74387c5ab29">recording_unmute</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="separator:a5ff08104fd8cbdf64999d74387c5ab29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7f38fc84097f3ae2352cfeec8a3ae9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a1c7f38fc84097f3ae2352cfeec8a3ae9">recording_unpause</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="separator:a1c7f38fc84097f3ae2352cfeec8a3ae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9542f9fc14449db54ebd8e8f8abc61a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ab9542f9fc14449db54ebd8e8f8abc61a">stasis_app_control_record</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../d0/dba/structstasis__app__recording__options.html">stasis_app_recording_options</a> *<a class="el" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>)</td></tr>
<tr class="memdesc:ab9542f9fc14449db54ebd8e8f8abc61a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record media from a channel.  <a href="#ab9542f9fc14449db54ebd8e8f8abc61a">More...</a><br /></td></tr>
<tr class="separator:ab9542f9fc14449db54ebd8e8f8abc61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f354ab89c650b0d126eb50ccdc022f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#aa6f354ab89c650b0d126eb50ccdc022f">stasis_app_recording_find_by_name</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:aa6f354ab89c650b0d126eb50ccdc022f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the recording object with the given name.  <a href="#aa6f354ab89c650b0d126eb50ccdc022f">More...</a><br /></td></tr>
<tr class="separator:aa6f354ab89c650b0d126eb50ccdc022f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab82126702655e31390714f0a0b9b6063"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ab82126702655e31390714f0a0b9b6063">stasis_app_recording_get_name</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="memdesc:ab82126702655e31390714f0a0b9b6063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the unique name of a recording object.  <a href="#ab82126702655e31390714f0a0b9b6063">More...</a><br /></td></tr>
<tr class="separator:ab82126702655e31390714f0a0b9b6063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8c7f39c5cc77a4f81c4d8823d2923c"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0">stasis_app_recording_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a4d8c7f39c5cc77a4f81c4d8823d2923c">stasis_app_recording_get_state</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="memdesc:a4d8c7f39c5cc77a4f81c4d8823d2923c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current state of a recording operation.  <a href="#a4d8c7f39c5cc77a4f81c4d8823d2923c">More...</a><br /></td></tr>
<tr class="separator:a4d8c7f39c5cc77a4f81c4d8823d2923c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9afe9d42ab4828144104dc7d062f6e9a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236d">ast_record_if_exists</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a9afe9d42ab4828144104dc7d062f6e9a">stasis_app_recording_if_exists_parse</a> (const char *<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)</td></tr>
<tr class="memdesc:a9afe9d42ab4828144104dc7d062f6e9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a string into the if_exists enum.  <a href="#a9afe9d42ab4828144104dc7d062f6e9a">More...</a><br /></td></tr>
<tr class="separator:a9afe9d42ab4828144104dc7d062f6e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751cc04508e58096d4bbb9ffe8c0083d"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2">stasis_app_recording_oper_results</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a751cc04508e58096d4bbb9ffe8c0083d">stasis_app_recording_operation</a> (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording, enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#ad2369d72f278b141223a3bd6835651dc">stasis_app_recording_media_operation</a> operation)</td></tr>
<tr class="memdesc:a751cc04508e58096d4bbb9ffe8c0083d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls the media for a given recording operation.  <a href="#a751cc04508e58096d4bbb9ffe8c0083d">More...</a><br /></td></tr>
<tr class="separator:a751cc04508e58096d4bbb9ffe8c0083d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e584de6354b58e0ab9f75796715aca2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/dba/structstasis__app__recording__options.html">stasis_app_recording_options</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a7e584de6354b58e0ab9f75796715aca2">stasis_app_recording_options_create</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>)</td></tr>
<tr class="memdesc:a7e584de6354b58e0ab9f75796715aca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a recording options object.  <a href="#a7e584de6354b58e0ab9f75796715aca2">More...</a><br /></td></tr>
<tr class="separator:a7e584de6354b58e0ab9f75796715aca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65b6686f17aa43e154b56bc8be1ff38"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ab65b6686f17aa43e154b56bc8be1ff38">stasis_app_recording_termination_parse</a> (const char *<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)</td></tr>
<tr class="memdesc:ab65b6686f17aa43e154b56bc8be1ff38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a string into the recording termination enum.  <a href="#ab65b6686f17aa43e154b56bc8be1ff38">More...</a><br /></td></tr>
<tr class="separator:ab65b6686f17aa43e154b56bc8be1ff38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab282a883c01fbaf2a215c998428aecec"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ab282a883c01fbaf2a215c998428aecec">stasis_app_recording_to_json</a> (const struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td></tr>
<tr class="memdesc:ab282a883c01fbaf2a215c998428aecec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a JSON model of a recording.  <a href="#ab282a883c01fbaf2a215c998428aecec">More...</a><br /></td></tr>
<tr class="separator:ab282a883c01fbaf2a215c998428aecec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671b9f7bedc47451dccb43b7002b954f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a671b9f7bedc47451dccb43b7002b954f">STASIS_MESSAGE_TYPE_DEFN</a> (<a class="el" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type</a>,.to_json=<a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a7c7f20c3900f5ab84b19e79f56ac3506">recording_to_json</a>,)</td></tr>
<tr class="separator:a671b9f7bedc47451dccb43b7002b954f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab867af0a8ebff462354fc8dbb5b12085"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ab867af0a8ebff462354fc8dbb5b12085">state_to_string</a> (enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0">stasis_app_recording_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="separator:ab867af0a8ebff462354fc8dbb5b12085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Stasis application recording support&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .requires = &quot;res_stasis&quot;, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06">AST_MODPRI_APP_DEPEND</a> }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed2c2e835de81e0c909ee86f841ddf8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a7af3f2eea566d6fc987c202d437e6466">recording_operation_cb</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a7ed2c2e835de81e0c909ee86f841ddf8">operations</a> [<a class="el" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0afb29cbae12d591e13ef88a8484ad96e5">STASIS_APP_RECORDING_STATE_MAX</a>][<a class="el" href="../../d2/dda/stasis__app__recording_8h.html#ad2369d72f278b141223a3bd6835651dca8b16fb4e01022ad0813b6d0b1dc2f7e3">STASIS_APP_RECORDING_OPER_MAX</a>]</td></tr>
<tr class="separator:a7ed2c2e835de81e0c909ee86f841ddf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9625ee54c8e4815ad03061070ef56a74"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a></td></tr>
<tr class="separator:a9625ee54c8e4815ad03061070ef56a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b390830d641fdd30cf0f135dcfd380"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a84b390830d641fdd30cf0f135dcfd380">rule_recording</a></td></tr>
<tr class="separator:a84b390830d641fdd30cf0f135dcfd380"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>res_stasis recording support. </p>
<dl class="section author"><dt>Author</dt><dd>David M. Lee, II <a href="#" onclick="location.href='mai'+'lto:'+'dle'+'e@'+'dig'+'iu'+'m.c'+'om'; return false;">dlee@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7d5782b3274c620f64155dace626b4eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5782b3274c620f64155dace626b4eb">&#9670;&nbsp;</a></span>RECORDING_BUCKETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RECORDING_BUCKETS&#160;&#160;&#160;127</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of hash buckets for recording container. Keep it prime! </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00042">42</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00629">load_module()</a>.</p>

</div>
</div>
<a id="a77cbded803d4d5b7892bb5c8c5c9370e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77cbded803d4d5b7892bb5c8c5c9370e">&#9670;&nbsp;</a></span>RECORDING_CHECK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RECORDING_CHECK&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recording check is unimplemented. le sigh </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00048">48</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
<a id="af39621384830125d485314748f22b81d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af39621384830125d485314748f22b81d">&#9670;&nbsp;</a></span>RECORDING_COMMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RECORDING_COMMENT&#160;&#160;&#160;<a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Comment is ignored by most formats, so we will ignore it, too. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00045">45</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a7af3f2eea566d6fc987c202d437e6466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7af3f2eea566d6fc987c202d437e6466">&#9670;&nbsp;</a></span>recording_operation_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* recording_operation_cb) (struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00506">506</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00661">661</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00661">661</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00661">661</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
<a id="a89a93c5a4372f601c8051b41dbda0cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89a93c5a4372f601c8051b41dbda0cb7">&#9670;&nbsp;</a></span>check_rule_recording()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211">stasis_app_control_channel_result</a> check_rule_recording </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00261">261</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d9c/stasis__app_8h_source.html#l00781">STASIS_APP_CHANNEL_RECORDING</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211a6604de6e80d963507e730680226140b2">STASIS_APP_CHANNEL_RECORDING</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_ad8806ce156147c9a6daff8a6c9294211a6604de6e80d963507e730680226140b2"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#ad8806ce156147c9a6daff8a6c9294211a6604de6e80d963507e730680226140b2">STASIS_APP_CHANNEL_RECORDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00781">stasis_app.h:781</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00629">629</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00042">RECORDING_BUCKETS</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00109">recording_cmp()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00102">recording_hash()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l01523">STASIS_MESSAGE_TYPE_CLEANUP</a>, and <a class="el" href="../../dd/d79/stasis_8h_source.html#l01501">STASIS_MESSAGE_TYPE_INIT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00647">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   <span class="keywordtype">int</span> r;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   r = <a class="code" href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a>(<a class="code" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type</a>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <span class="keywordflow">if</span> (r != 0) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a7d5782b3274c620f64155dace626b4eb">RECORDING_BUCKETS</a>,</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a4e61f10b619d4491816f5aa09209c29f">recording_hash</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9aaf3e6582300cabcd97b6f9e5af1582">recording_cmp</a>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a>) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#a31197e193b1dfd6c122ff6d7c7f6b3fa">STASIS_MESSAGE_TYPE_CLEANUP</a>(<a class="code" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type</a>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="stasis_8h_html_a70cd046d8e3fd50de5c51aecb2830d2a"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a></div><div class="ttdeci">#define STASIS_MESSAGE_TYPE_INIT(name)</div><div class="ttdoc">Boiler-plate messaging macro for initializing message types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01501">stasis.h:1501</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a7d5782b3274c620f64155dace626b4eb"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a7d5782b3274c620f64155dace626b4eb">RECORDING_BUCKETS</a></div><div class="ttdeci">#define RECORDING_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00042">res_stasis_recording.c:42</a></div></div>
<div class="ttc" id="stasis_8h_html_a31197e193b1dfd6c122ff6d7c7f6b3fa"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a31197e193b1dfd6c122ff6d7c7f6b3fa">STASIS_MESSAGE_TYPE_CLEANUP</a></div><div class="ttdeci">#define STASIS_MESSAGE_TYPE_CLEANUP(name)</div><div class="ttdoc">Boiler-plate messaging macro for cleaning up message types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01523">stasis.h:1523</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a9aaf3e6582300cabcd97b6f9e5af1582"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a9aaf3e6582300cabcd97b6f9e5af1582">recording_cmp</a></div><div class="ttdeci">static int recording_cmp(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00109">res_stasis_recording.c:109</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a4e61f10b619d4491816f5aa09209c29f"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a4e61f10b619d4491816f5aa09209c29f">recording_hash</a></div><div class="ttdeci">static int recording_hash(const void *obj, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00102">res_stasis_recording.c:102</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_afbef610704a3fbe66726d616679331d7"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_app_recording_snapshot_type(void)</div><div class="ttdoc">Message type for recording updates. The data is an ast_channel_blob. </div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a9625ee54c8e4815ad03061070ef56a74"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a></div><div class="ttdeci">static struct ao2_container * recordings</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00051">res_stasis_recording.c:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a60405912a407d657ad7c35ebd0cdf33a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60405912a407d657ad7c35ebd0cdf33a">&#9670;&nbsp;</a></span>record_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int record_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00296">296</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00057">stasis_app_recording::absolute_name</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00290">ast_alloca</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02820">ast_auto_answer()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l01992">ast_play_and_record_full()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00194">stasis_app_recording_options::beep</a>, <a class="el" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">stasis_app_recording::duration</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00067">stasis_app_recording::energy_only</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording_options::format</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00192">stasis_app_recording_options::if_exists</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00185">stasis_app_recording_options::max_duration_seconds</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00183">stasis_app_recording_options::max_silence_seconds</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">stasis_app_recording::options</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00277">recording_fail()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00252">recording_set_state()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00224">stasis_app_control_unregister_add_rule()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00931">stasis_app_get_bridge()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00145">STASIS_APP_RECORDING_STATE_COMPLETE</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00141">STASIS_APP_RECORDING_STATE_RECORDING</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00174">STASIS_APP_RECORDING_TERMINATE_ANY</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00172">STASIS_APP_RECORDING_TERMINATE_INVALID</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00173">STASIS_APP_RECORDING_TERMINATE_NONE</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00190">stasis_app_recording_options::terminate_on</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00065">stasis_app_recording::total</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">stasis_app_control_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;{</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording = data;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <span class="keywordtype">char</span> *acceptdtmf;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(recording != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9c/stasis__app_8h.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a>(control)) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Cannot record channel while in bridge\n&quot;</span>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#ac43fe51a6f19b6b3a354853e40218251">recording_fail</a>(control, recording, <span class="stringliteral">&quot;Cannot record channel while in bridge&quot;</span>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="keywordflow">switch</span> (recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#afad2f717a9742ffbdb02bdb8d884a0fa">terminate_on</a>) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a452908cdd1924830b6c01e1d0bcf8e86">STASIS_APP_RECORDING_TERMINATE_NONE</a>:</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aaf132da3309ffcfb82c55db0b5e3a92f">STASIS_APP_RECORDING_TERMINATE_INVALID</a>:</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      acceptdtmf = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a59df1913014942c1eed45e5cbaff949d">STASIS_APP_RECORDING_TERMINATE_ANY</a>:</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      acceptdtmf = <span class="stringliteral">&quot;#*0123456789abcd&quot;</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      acceptdtmf = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(2);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      acceptdtmf[0] = recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#afad2f717a9742ffbdb02bdb8d884a0fa">terminate_on</a>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      acceptdtmf[1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   res = <a class="code" href="../../d5/d7b/channel_8h.html#a18bf8971a91555e64544ba63880c0bbb">ast_auto_answer</a>(chan);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Failed to answer\n&quot;</span>,</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#ac43fe51a6f19b6b3a354853e40218251">recording_fail</a>(control, recording, <span class="stringliteral">&quot;Failed to answer channel&quot;</span>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#acce6f67f3aff5fb084d35b815e84ffd3">recording_set_state</a>(</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      recording, <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631">STASIS_APP_RECORDING_STATE_RECORDING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a13a3ff0da2d7d40198b3eafbde0464a0">ast_play_and_record_full</a>(chan,</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* playfile */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">absolute_name</a>,</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#a2905291106ca33c80e595233525899e0">max_duration_seconds</a>,</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ade9ff13c4e32588783cb9cdeb92b8d93">format</a>,</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      &amp;recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#ac7af894858cf396a219d632f40afdc8d">total</a>,</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#aa0c1e600b53dd4f48dd371964f8a7361">max_silence_seconds</a> ? &amp;recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a71546d35ec7c045f5b10f6bb6c13fff9">energy_only</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#a82d4653c798868779eda7d5ac6b77112">beep</a>,</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      -1, <span class="comment">/* silencethreshold */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#aa0c1e600b53dd4f48dd371964f8a7361">max_silence_seconds</a> * 1000,</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* path */</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      acceptdtmf,</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/* canceldtmf */</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      1, <span class="comment">/* skip_confirmation_sound */</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#a4cf517dcc4f4dd564afb97221caba289">if_exists</a>);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Recording complete\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#acce6f67f3aff5fb084d35b815e84ffd3">recording_set_state</a>(</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      recording, <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ab6c1ffe7b2c00055d4b7749ef2a463be">STASIS_APP_RECORDING_STATE_COMPLETE</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#aa038e171bcc2b5e09a09100063141ea1">stasis_app_control_unregister_add_rule</a>(control, &amp;<a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a84b390830d641fdd30cf0f135dcfd380">rule_recording</a>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="ttc" id="structstasis__app__recording__options_html_afad2f717a9742ffbdb02bdb8d884a0fa"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#afad2f717a9742ffbdb02bdb8d884a0fa">stasis_app_recording_options::terminate_on</a></div><div class="ttdeci">char terminate_on</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00190">stasis_app_recording.h:190</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a00eec5811d50eb68749bf440708e156b"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a></div><div class="ttdeci">struct ast_bridge * stasis_app_get_bridge(struct stasis_app_control *control)</div><div class="ttdoc">Gets the bridge currently associated with a control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00931">control.c:931</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_a2905291106ca33c80e595233525899e0"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#a2905291106ca33c80e595233525899e0">stasis_app_recording_options::max_duration_seconds</a></div><div class="ttdeci">int max_duration_seconds</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00185">stasis_app_recording.h:185</a></div></div>
<div class="ttc" id="channel_8h_html_a18bf8971a91555e64544ba63880c0bbb"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a18bf8971a91555e64544ba63880c0bbb">ast_auto_answer</a></div><div class="ttdeci">int ast_auto_answer(struct ast_channel *chan)</div><div class="ttdoc">Answer a channel, if it&amp;#39;s not already answered. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02820">channel.c:2820</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631">STASIS_APP_RECORDING_STATE_RECORDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00141">stasis_app_recording.h:141</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_a82d4653c798868779eda7d5ac6b77112"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#a82d4653c798868779eda7d5ac6b77112">stasis_app_recording_options::beep</a></div><div class="ttdeci">int beep</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00194">stasis_app_recording.h:194</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_aa0c1e600b53dd4f48dd371964f8a7361"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#aa0c1e600b53dd4f48dd371964f8a7361">stasis_app_recording_options::max_silence_seconds</a></div><div class="ttdeci">int max_silence_seconds</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00183">stasis_app_recording.h:183</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a84b390830d641fdd30cf0f135dcfd380"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a84b390830d641fdd30cf0f135dcfd380">rule_recording</a></div><div class="ttdeci">static struct stasis_app_control_rule rule_recording</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00273">res_stasis_recording.c:273</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_a59df1913014942c1eed45e5cbaff949d"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#a59df1913014942c1eed45e5cbaff949d">STASIS_APP_RECORDING_TERMINATE_ANY</a></div><div class="ttdeci">#define STASIS_APP_RECORDING_TERMINATE_ANY</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00174">stasis_app_recording.h:174</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aaf132da3309ffcfb82c55db0b5e3a92f"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aaf132da3309ffcfb82c55db0b5e3a92f">STASIS_APP_RECORDING_TERMINATE_INVALID</a></div><div class="ttdeci">#define STASIS_APP_RECORDING_TERMINATE_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00172">stasis_app_recording.h:172</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a71546d35ec7c045f5b10f6bb6c13fff9"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a71546d35ec7c045f5b10f6bb6c13fff9">stasis_app_recording::energy_only</a></div><div class="ttdeci">int energy_only</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00067">res_stasis_recording.c:67</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a13a3ff0da2d7d40198b3eafbde0464a0"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a13a3ff0da2d7d40198b3eafbde0464a0">ast_play_and_record_full</a></div><div class="ttdeci">int ast_play_and_record_full(struct ast_channel *chan, const char *playfile, const char *recordfile, int maxtime_sec, const char *fmt, int *duration, int *sound_duration, int beep, int silencethreshold, int maxsilence_ms, const char *path, const char *acceptdtmf, const char *canceldtmf, int skip_confirmation_sound, enum ast_record_if_exists if_exists)</div><div class="ttdoc">Record a file based on input from a channel This function will play &quot;auth-thankyou&quot; upon successful r...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l01992">main/app.c:1992</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9101b5ea85a0694172004a934c16cd92"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">stasis_app_recording::options</a></div><div class="ttdeci">struct stasis_app_recording_options * options</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">res_stasis_recording.c:55</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structstasis__app__recording_html"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00053">res_stasis_recording.c:53</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9abea4d2e6a0ce33587e5a1211b5b0dc"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">stasis_app_recording::duration</a></div><div class="ttdeci">struct stasis_app_recording::@498 duration</div></div>
<div class="ttc" id="stasis__app_8h_html_aa038e171bcc2b5e09a09100063141ea1"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#aa038e171bcc2b5e09a09100063141ea1">stasis_app_control_unregister_add_rule</a></div><div class="ttdeci">void stasis_app_control_unregister_add_rule(struct stasis_app_control *control, struct stasis_app_control_rule *rule)</div><div class="ttdoc">UnRegister an add channel to bridge rule. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00224">control.c:224</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a15db4f54bfc2685aea551ba1228cc8dd"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">stasis_app_recording::absolute_name</a></div><div class="ttdeci">char * absolute_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00057">res_stasis_recording.c:57</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#ac7af894858cf396a219d632f40afdc8d">stasis_app_recording::total</a></div><div class="ttdeci">int total</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00065">res_stasis_recording.c:65</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_acce6f67f3aff5fb084d35b815e84ffd3"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#acce6f67f3aff5fb084d35b815e84ffd3">recording_set_state</a></div><div class="ttdeci">static void recording_set_state(struct stasis_app_recording *recording, enum stasis_app_recording_state state, const char *cause)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00252">res_stasis_recording.c:252</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_ac43fe51a6f19b6b3a354853e40218251"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#ac43fe51a6f19b6b3a354853e40218251">recording_fail</a></div><div class="ttdeci">static void recording_fail(struct stasis_app_control *control, struct stasis_app_recording *recording, const char *cause)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00277">res_stasis_recording.c:277</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_a4cf517dcc4f4dd564afb97221caba289"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#a4cf517dcc4f4dd564afb97221caba289">stasis_app_recording_options::if_exists</a></div><div class="ttdeci">enum ast_record_if_exists if_exists</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00192">stasis_app_recording.h:192</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_ade9ff13c4e32588783cb9cdeb92b8d93"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#ade9ff13c4e32588783cb9cdeb92b8d93">stasis_app_recording_options::format</a></div><div class="ttdeci">const ast_string_field format</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording.h:181</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0ab6c1ffe7b2c00055d4b7749ef2a463be"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ab6c1ffe7b2c00055d4b7749ef2a463be">STASIS_APP_RECORDING_STATE_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00145">stasis_app_recording.h:145</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_a452908cdd1924830b6c01e1d0bcf8e86"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#a452908cdd1924830b6c01e1d0bcf8e86">STASIS_APP_RECORDING_TERMINATE_NONE</a></div><div class="ttdeci">#define STASIS_APP_RECORDING_TERMINATE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00173">stasis_app_recording.h:173</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3776e44b93fce0237c8d5ba540ab00e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3776e44b93fce0237c8d5ba540ab00e">&#9670;&nbsp;</a></span>recording_cancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_cancel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00519">519</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00057">stasis_app_recording::absolute_name</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00339">AST_CONTROL_RECORD_CANCEL</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01098">ast_filedelete()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">stasis_app_recording::control</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00149">STASIS_APP_RECORDING_STATE_CANCELED</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;{</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a> = <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a02fe452e9acb3e8c68cd7c76fe709d71">STASIS_APP_RECORDING_STATE_CANCELED</a>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   res |= <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>,</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a192282f4ac45366cf94839e59e4659c2">AST_CONTROL_RECORD_CANCEL</a>);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   res |= <a class="code" href="../../d2/d4d/file_8h.html#adb15d6efecc1a13b8835bee6d3562ddb">ast_filedelete</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">absolute_name</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0a02fe452e9acb3e8c68cd7c76fe709d71"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a02fe452e9acb3e8c68cd7c76fe709d71">STASIS_APP_RECORDING_STATE_CANCELED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00149">stasis_app_recording.h:149</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_afaaaf017d50970ec382b98a35e24c095"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">stasis_app_recording::control</a></div><div class="ttdeci">struct stasis_app_control * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">res_stasis_recording.c:59</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a192282f4ac45366cf94839e59e4659c2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a192282f4ac45366cf94839e59e4659c2">AST_CONTROL_RECORD_CANCEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00339">include/asterisk/frame.h:339</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="file_8h_html_adb15d6efecc1a13b8835bee6d3562ddb"><div class="ttname"><a href="../../d2/d4d/file_8h.html#adb15d6efecc1a13b8835bee6d3562ddb">ast_filedelete</a></div><div class="ttdeci">int ast_filedelete(const char *filename, const char *fmt)</div><div class="ttdoc">Deletes a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01098">file.c:1098</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a15db4f54bfc2685aea551ba1228cc8dd"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">stasis_app_recording::absolute_name</a></div><div class="ttdeci">char * absolute_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00057">res_stasis_recording.c:57</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c5672b8b645b3a4473cc1e8458c95f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c5672b8b645b3a4473cc1e8458c95f1">&#9670;&nbsp;</a></span>recording_cleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recording_cleanup </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00287">287</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01622">ao2_unlink_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">stasis_app_control_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording = data;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a77df7775a2a8b6cbef307e211dbf045c">ao2_unlink_flags</a>(<a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a>, recording,</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(recording, -1);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structstasis__app__recording_html"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00053">res_stasis_recording.c:53</a></div></div>
<div class="ttc" id="astobj2_8h_html_a77df7775a2a8b6cbef307e211dbf045c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a77df7775a2a8b6cbef307e211dbf045c">ao2_unlink_flags</a></div><div class="ttdeci">#define ao2_unlink_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01622">astobj2.h:1622</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a9625ee54c8e4815ad03061070ef56a74"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a></div><div class="ttdeci">static struct ao2_container * recordings</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00051">res_stasis_recording.c:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9aaf3e6582300cabcd97b6f9e5af1582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aaf3e6582300cabcd97b6f9e5af1582">&#9670;&nbsp;</a></span>recording_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_cmp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00109">109</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01032">CMP_STOP</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording_options::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">stasis_app_recording::options</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00629">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *lhs = obj;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *rhs = arg;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *rhs_id = flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> ? arg : rhs-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   <span class="keywordflow">if</span> (strcmp(lhs-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, rhs_id) == 0) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01032">astobj2.h:1032</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">stasis_app_recording_options::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording.h:181</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9101b5ea85a0694172004a934c16cd92"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">stasis_app_recording::options</a></div><div class="ttdeci">struct stasis_app_recording_options * options</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">res_stasis_recording.c:55</a></div></div>
<div class="ttc" id="structstasis__app__recording_html"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00053">res_stasis_recording.c:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a459211cc8e2cb02e630dc97589eaf1c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a459211cc8e2cb02e630dc97589eaf1c2">&#9670;&nbsp;</a></span>recording_disregard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_disregard </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00513">513</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00149">STASIS_APP_RECORDING_STATE_CANCELED</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a> = <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a02fe452e9acb3e8c68cd7c76fe709d71">STASIS_APP_RECORDING_STATE_CANCELED</a>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0a02fe452e9acb3e8c68cd7c76fe709d71"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a02fe452e9acb3e8c68cd7c76fe709d71">STASIS_APP_RECORDING_STATE_CANCELED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00149">stasis_app_recording.h:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a444bbc8930bd1707f6d1af3be3be9f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a444bbc8930bd1707f6d1af3be3be9f40">&#9670;&nbsp;</a></span>recording_dtor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recording_dtor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00361">361</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00057">stasis_app_recording::absolute_name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">stasis_app_recording::control</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">stasis_app_recording::options</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">stasis_app_control_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording = obj;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">absolute_name</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_afaaaf017d50970ec382b98a35e24c095"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">stasis_app_recording::control</a></div><div class="ttdeci">struct stasis_app_control * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">res_stasis_recording.c:59</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9101b5ea85a0694172004a934c16cd92"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">stasis_app_recording::options</a></div><div class="ttdeci">struct stasis_app_recording_options * options</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">res_stasis_recording.c:55</a></div></div>
<div class="ttc" id="structstasis__app__recording_html"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00053">res_stasis_recording.c:53</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a15db4f54bfc2685aea551ba1228cc8dd"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">stasis_app_recording::absolute_name</a></div><div class="ttdeci">char * absolute_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00057">res_stasis_recording.c:57</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac43fe51a6f19b6b3a354853e40218251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac43fe51a6f19b6b3a354853e40218251">&#9670;&nbsp;</a></span>recording_fail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recording_fail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cause</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00277">277</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00252">recording_set_state()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00224">stasis_app_control_unregister_add_rule()</a>, and <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00147">STASIS_APP_RECORDING_STATE_FAILED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00296">record_file()</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#aa038e171bcc2b5e09a09100063141ea1">stasis_app_control_unregister_add_rule</a>(control, &amp;<a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a84b390830d641fdd30cf0f135dcfd380">rule_recording</a>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#acce6f67f3aff5fb084d35b815e84ffd3">recording_set_state</a>(</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      recording, <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a7825ba5da313e180f582cdb7ff765a82">STASIS_APP_RECORDING_STATE_FAILED</a>, cause);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0a7825ba5da313e180f582cdb7ff765a82"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a7825ba5da313e180f582cdb7ff765a82">STASIS_APP_RECORDING_STATE_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00147">stasis_app_recording.h:147</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a84b390830d641fdd30cf0f135dcfd380"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a84b390830d641fdd30cf0f135dcfd380">rule_recording</a></div><div class="ttdeci">static struct stasis_app_control_rule rule_recording</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00273">res_stasis_recording.c:273</a></div></div>
<div class="ttc" id="stasis__app_8h_html_aa038e171bcc2b5e09a09100063141ea1"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#aa038e171bcc2b5e09a09100063141ea1">stasis_app_control_unregister_add_rule</a></div><div class="ttdeci">void stasis_app_control_unregister_add_rule(struct stasis_app_control *control, struct stasis_app_control_rule *rule)</div><div class="ttdoc">UnRegister an add channel to bridge rule. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00224">control.c:224</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_acce6f67f3aff5fb084d35b815e84ffd3"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#acce6f67f3aff5fb084d35b815e84ffd3">recording_set_state</a></div><div class="ttdeci">static void recording_set_state(struct stasis_app_recording *recording, enum stasis_app_recording_state state, const char *cause)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00252">res_stasis_recording.c:252</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e61f10b619d4491816f5aa09209c29f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e61f10b619d4491816f5aa09209c29f">&#9670;&nbsp;</a></span>recording_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_hash </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00102">102</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l01206">ast_str_hash()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording_options::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">stasis_app_recording::options</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00629">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording = obj;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> ? obj : recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">stasis_app_recording_options::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording.h:181</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9101b5ea85a0694172004a934c16cd92"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">stasis_app_recording::options</a></div><div class="ttdeci">struct stasis_app_recording_options * options</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">res_stasis_recording.c:55</a></div></div>
<div class="ttc" id="structstasis__app__recording_html"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00053">res_stasis_recording.c:53</a></div></div>
<div class="ttc" id="strings_8h_html_a33ab7fa091d5513d8507d3bd33ef5b55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01206">strings.h:1206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59db55c075887765889407c80f3411f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59db55c075887765889407c80f3411f0">&#9670;&nbsp;</a></span>recording_mute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_mute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00550">550</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00342">AST_CONTROL_RECORD_MUTE</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">stasis_app_recording::control</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00070">stasis_app_recording::muted</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>.</p>
<div class="fragment"><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;{</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   <span class="keywordflow">if</span> (recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a89e6edfc95e7880a0713bd96189f7ec3">muted</a>) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="comment">/* already muted */</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a89e6edfc95e7880a0713bd96189f7ec3">muted</a> = 1;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>,</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9ed4c9cba00cfa3b18500f56d6210523">AST_CONTROL_RECORD_MUTE</a>);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_afaaaf017d50970ec382b98a35e24c095"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">stasis_app_recording::control</a></div><div class="ttdeci">struct stasis_app_control * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">res_stasis_recording.c:59</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9ed4c9cba00cfa3b18500f56d6210523"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9ed4c9cba00cfa3b18500f56d6210523">AST_CONTROL_RECORD_MUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00342">include/asterisk/frame.h:342</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a89e6edfc95e7880a0713bd96189f7ec3"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a89e6edfc95e7880a0713bd96189f7ec3">stasis_app_recording::muted</a></div><div class="ttdeci">int muted</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00070">res_stasis_recording.c:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a282794a407d35ada2c04ebeb8a608bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a282794a407d35ada2c04ebeb8a608bdb">&#9670;&nbsp;</a></span>recording_noop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_noop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00508">508</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;{</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a3968ad73df0cc7e36a4e4dad337da034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3968ad73df0cc7e36a4e4dad337da034">&#9670;&nbsp;</a></span>recording_options_dtor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recording_options_dtor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00144">144</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">stasis_app_recording::options</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00151">stasis_app_recording_options_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dba/structstasis__app__recording__options.html">stasis_app_recording_options</a> *<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a> = obj;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(options);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div><div class="ttc" id="structstasis__app__recording__options_html"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html">stasis_app_recording_options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00176">stasis_app_recording.h:176</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23f502a55120269cda5fbafb6f32e34c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23f502a55120269cda5fbafb6f32e34c">&#9670;&nbsp;</a></span>recording_pause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_pause </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00536">536</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00341">AST_CONTROL_RECORD_SUSPEND</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">stasis_app_recording::control</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00143">STASIS_APP_RECORDING_STATE_PAUSED</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>.</p>
<div class="fragment"><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;{</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a> = <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ad07a370df71cd174d584f1b6c9041ed6">STASIS_APP_RECORDING_STATE_PAUSED</a>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>,</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aef1bbb9ea8c75f2833076b583f99cdec">AST_CONTROL_RECORD_SUSPEND</a>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_afaaaf017d50970ec382b98a35e24c095"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">stasis_app_recording::control</a></div><div class="ttdeci">struct stasis_app_control * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">res_stasis_recording.c:59</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aef1bbb9ea8c75f2833076b583f99cdec"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aef1bbb9ea8c75f2833076b583f99cdec">AST_CONTROL_RECORD_SUSPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00341">include/asterisk/frame.h:341</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0ad07a370df71cd174d584f1b6c9041ed6"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ad07a370df71cd174d584f1b6c9041ed6">STASIS_APP_RECORDING_STATE_PAUSED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00143">stasis_app_recording.h:143</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb81c11d1996cbca91c6d8996b591901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb81c11d1996cbca91c6d8996b591901">&#9670;&nbsp;</a></span>recording_publish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recording_publish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cause</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00217">217</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00771">ast_channel_blob_create_from_cache()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00268">ast_json_string_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">stasis_app_recording::control</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01436">stasis_app_control_publish()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type()</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00478">stasis_app_recording_to_json()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00252">recording_set_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, json, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *, <a class="code" href="../../d8/d9e/structmessage.html">message</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(recording != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   json = <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#ab282a883c01fbaf2a215c998428aecec">stasis_app_recording_to_json</a>(recording);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keywordflow">if</span> (json == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cause)) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *failure_cause = <a class="code" href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a>(cause);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordflow">if</span> (!failure_cause) {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;cause&quot;</span>, failure_cause)) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <a class="code" href="../../d8/d9e/structmessage.html">message</a> = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a>(</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>),</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type</a>(), json);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9e/structmessage.html">message</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a59eacac6d5939ac31361047ec04b34a3">stasis_app_control_publish</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>, <a class="code" href="../../d8/d9e/structmessage.html">message</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a59eacac6d5939ac31361047ec04b34a3"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a59eacac6d5939ac31361047ec04b34a3">stasis_app_control_publish</a></div><div class="ttdeci">void stasis_app_control_publish(struct stasis_app_control *control, struct stasis_message *message)</div><div class="ttdoc">Publish a message to the control&amp;#39;s channel&amp;#39;s topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01436">control.c:1436</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_afaaaf017d50970ec382b98a35e24c095"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">stasis_app_recording::control</a></div><div class="ttdeci">struct stasis_app_control * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">res_stasis_recording.c:59</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="json_8h_html_adc52f8d76b7fdd0c8d12987981fd5bf5"><div class="ttname"><a href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a></div><div class="ttdeci">struct ast_json * ast_json_string_create(const char *value)</div><div class="ttdoc">Construct a JSON string from value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00268">json.c:268</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_afbef610704a3fbe66726d616679331d7"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_app_recording_snapshot_type(void)</div><div class="ttdoc">Message type for recording updates. The data is an ast_channel_blob. </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gafe8b123e0c124e44c3bff016591d3f9c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a></div><div class="ttdeci">struct stasis_message * ast_channel_blob_create_from_cache(const char *uniqueid, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Create a ast_channel_blob message, pulling channel state from the cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00771">stasis_channels.c:771</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_ab282a883c01fbaf2a215c998428aecec"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#ab282a883c01fbaf2a215c998428aecec">stasis_app_recording_to_json</a></div><div class="ttdeci">struct ast_json * stasis_app_recording_to_json(const struct stasis_app_recording *recording)</div><div class="ttdoc">Construct a JSON model of a recording. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00478">res_stasis_recording.c:478</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acce6f67f3aff5fb084d35b815e84ffd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce6f67f3aff5fb084d35b815e84ffd3">&#9670;&nbsp;</a></span>recording_set_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recording_set_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0">stasis_app_recording_state</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cause</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00252">252</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00217">recording_publish()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00296">record_file()</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00277">recording_fail()</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, recording);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a> = <a class="code" href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#aeb81c11d1996cbca91c6d8996b591901">recording_publish</a>(recording, cause);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="ttc" id="chan__sip_8c_html_a14a9662e09deed264497073732fb014a"><div class="ttname"><a href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a></div><div class="ttdeci">enum sip_cc_notify_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfe/chan__sip_8c_source.html#l00959">chan_sip.c:959</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_aeb81c11d1996cbca91c6d8996b591901"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#aeb81c11d1996cbca91c6d8996b591901">recording_publish</a></div><div class="ttdeci">static void recording_publish(struct stasis_app_recording *recording, const char *cause)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00217">res_stasis_recording.c:217</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4ab1b19fb2cf8de88e69aaa75259ca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ab1b19fb2cf8de88e69aaa75259ca1">&#9670;&nbsp;</a></span>recording_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00529">529</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00340">AST_CONTROL_RECORD_STOP</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">stasis_app_recording::control</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00145">STASIS_APP_RECORDING_STATE_COMPLETE</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>.</p>
<div class="fragment"><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a> = <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ab6c1ffe7b2c00055d4b7749ef2a463be">STASIS_APP_RECORDING_STATE_COMPLETE</a>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>,</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a84c4783c63eaa92e3ae2230e7f506401">AST_CONTROL_RECORD_STOP</a>);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_afaaaf017d50970ec382b98a35e24c095"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">stasis_app_recording::control</a></div><div class="ttdeci">struct stasis_app_control * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">res_stasis_recording.c:59</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a84c4783c63eaa92e3ae2230e7f506401"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a84c4783c63eaa92e3ae2230e7f506401">AST_CONTROL_RECORD_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00340">include/asterisk/frame.h:340</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0ab6c1ffe7b2c00055d4b7749ef2a463be"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ab6c1ffe7b2c00055d4b7749ef2a463be">STASIS_APP_RECORDING_STATE_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00145">stasis_app_recording.h:145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c7f20c3900f5ab84b19e79f56ac3506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c7f20c3900f5ab84b19e79f56ac3506">&#9670;&nbsp;</a></span>recording_to_json()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* recording_to_json </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a> *&#160;</td>
          <td class="paramname"><em>sanitize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00073">73</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d98/json_8c_source.html#l00397">ast_json_object_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00273">ast_json_string_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00188">ast_channel_blob::blob</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message_timestamp()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a671b9f7bedc47451dccb43b7002b954f">STASIS_MESSAGE_TYPE_DEFN()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a> *channel_blob = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(message);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *blob = channel_blob-&gt;<a class="code" href="../../db/df0/structast__channel__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">blob</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d88/structstate.html">state</a> =</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a6772fcee88746a9d4f6ec6f240b76dd0">ast_json_string_get</a>(<a class="code" href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a>(blob, <span class="stringliteral">&quot;state&quot;</span>));</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   <span class="keywordflow">if</span> (!strcmp(state, <span class="stringliteral">&quot;recording&quot;</span>)) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      type = <span class="stringliteral">&quot;RecordingStarted&quot;</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(state, <span class="stringliteral">&quot;done&quot;</span>) || !strcasecmp(state, <span class="stringliteral">&quot;canceled&quot;</span>)) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      type = <span class="stringliteral">&quot;RecordingFinished&quot;</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(state, <span class="stringliteral">&quot;failed&quot;</span>)) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      type = <span class="stringliteral">&quot;RecordingFailed&quot;</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o?, s: O}&quot;</span>,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, type,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(*<a class="code" href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a>(message), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="stringliteral">&quot;recording&quot;</span>, blob);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="structast__channel__blob_html_ad2b8e22df32b99651f727cd9a8dcb9f3"><div class="ttname"><a href="../../db/df0/structast__channel__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">ast_channel_blob::blob</a></div><div class="ttdeci">struct ast_json * blob</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00188">stasis_channels.h:188</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__channel__blob_html"><div class="ttname"><a href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a></div><div class="ttdoc">Blob of data associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00184">stasis_channels.h:184</a></div></div>
<div class="ttc" id="stasis_8h_html_a0a9c10eadd9db34f8c0b19619752ea93"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a></div><div class="ttdeci">const struct timeval * stasis_message_timestamp(const struct stasis_message *msg)</div><div class="ttdoc">Get the time when a message was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message.c:203</a></div></div>
<div class="ttc" id="json_8h_html_a6772fcee88746a9d4f6ec6f240b76dd0"><div class="ttname"><a href="../../d4/d05/json_8h.html#a6772fcee88746a9d4f6ec6f240b76dd0">ast_json_string_get</a></div><div class="ttdeci">const char * ast_json_string_get(const struct ast_json *string)</div><div class="ttdoc">Get the value of a JSON string. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00273">json.c:273</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="json_8h_html_a53707225c3bf831e263245c6e3800676"><div class="ttname"><a href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a></div><div class="ttdeci">struct ast_json * ast_json_object_get(struct ast_json *object, const char *key)</div><div class="ttdoc">Get a field from a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00397">json.c:397</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ff08104fd8cbdf64999d74387c5ab29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ff08104fd8cbdf64999d74387c5ab29">&#9670;&nbsp;</a></span>recording_unmute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_unmute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00562">562</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00342">AST_CONTROL_RECORD_MUTE</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">stasis_app_recording::control</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00070">stasis_app_recording::muted</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>.</p>
<div class="fragment"><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;{</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   <span class="keywordflow">if</span> (!recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a89e6edfc95e7880a0713bd96189f7ec3">muted</a>) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="comment">/* already unmuted */</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>,</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9ed4c9cba00cfa3b18500f56d6210523">AST_CONTROL_RECORD_MUTE</a>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_afaaaf017d50970ec382b98a35e24c095"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">stasis_app_recording::control</a></div><div class="ttdeci">struct stasis_app_control * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">res_stasis_recording.c:59</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9ed4c9cba00cfa3b18500f56d6210523"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9ed4c9cba00cfa3b18500f56d6210523">AST_CONTROL_RECORD_MUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00342">include/asterisk/frame.h:342</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a89e6edfc95e7880a0713bd96189f7ec3"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a89e6edfc95e7880a0713bd96189f7ec3">stasis_app_recording::muted</a></div><div class="ttdeci">int muted</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00070">res_stasis_recording.c:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c7f38fc84097f3ae2352cfeec8a3ae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c7f38fc84097f3ae2352cfeec8a3ae9">&#9670;&nbsp;</a></span>recording_unpause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recording_unpause </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00543">543</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00341">AST_CONTROL_RECORD_SUSPEND</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">stasis_app_recording::control</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00141">STASIS_APP_RECORDING_STATE_RECORDING</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a> = <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631">STASIS_APP_RECORDING_STATE_RECORDING</a>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>,</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aef1bbb9ea8c75f2833076b583f99cdec">AST_CONTROL_RECORD_SUSPEND</a>);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631">STASIS_APP_RECORDING_STATE_RECORDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00141">stasis_app_recording.h:141</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_afaaaf017d50970ec382b98a35e24c095"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">stasis_app_recording::control</a></div><div class="ttdeci">struct stasis_app_control * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">res_stasis_recording.c:59</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aef1bbb9ea8c75f2833076b583f99cdec"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aef1bbb9ea8c75f2833076b583f99cdec">AST_CONTROL_RECORD_SUSPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00341">include/asterisk/frame.h:341</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9542f9fc14449db54ebd8e8f8abc61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9542f9fc14449db54ebd8e8f8abc61a">&#9670;&nbsp;</a></span>stasis_app_control_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a>* stasis_app_control_record </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/dba/structstasis__app__recording__options.html">stasis_app_recording_options</a> *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record media from a channel. </p>
<p>A reference to the <em>options</em> object may be kept, so it MUST NOT be modified after calling this function.</p>
<p>On error, <code>errno</code> is set to indicate the failure reason.</p><ul>
<li><code>EINVAL:</code> Invalid input.</li>
<li><code>EEXIST:</code> A recording with that name is in session.</li>
<li><code>ENOMEM:</code> Out of memory.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">options</td><td>Recording options. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Recording control object. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">370</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00057">stasis_app_recording::absolute_name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00269">ast_asprintf</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00156">ast_config_AST_RECORDING_DIR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01086">ast_fileexists()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01076">AST_RECORD_IF_EXISTS_FAIL</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02336">ast_safe_mkdir()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">stasis_app_recording::control</a>, <a class="el" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">stasis_app_recording::duration</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00067">stasis_app_recording::energy_only</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording_options::format</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00192">stasis_app_recording_options::if_exists</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00185">stasis_app_recording_options::max_duration_seconds</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00183">stasis_app_recording_options::max_silence_seconds</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording_options::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">stasis_app_recording::options</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00296">record_file()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00287">recording_cleanup()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00361">recording_dtor()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00217">stasis_app_control_register_add_rule()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00139">STASIS_APP_RECORDING_STATE_QUEUED</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00065">stasis_app_recording::total</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00634">ast_ari_bridges_record()</a>, and <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00748">ast_ari_channels_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *recording;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordtype">char</span> *last_slash;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = 0;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <span class="keywordflow">if</span> (options == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(options-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>) ||</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(options-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ade9ff13c4e32588783cb9cdeb92b8d93">format</a>) ||</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      options-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#aa0c1e600b53dd4f48dd371964f8a7361">max_silence_seconds</a> &lt; 0 ||</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      options-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#a2905291106ca33c80e595233525899e0">max_duration_seconds</a> &lt; 0) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = EINVAL;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Sending record(%s.%s) command\n&quot;</span>,</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <a class="code" href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control), options-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>,</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      options-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ade9ff13c4e32588783cb9cdeb92b8d93">format</a>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   recording = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*recording), <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a444bbc8930bd1707f6d1af3be3be9f40">recording_dtor</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">if</span> (!recording) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = ENOMEM;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#ac7af894858cf396a219d632f40afdc8d">total</a> = -1;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a71546d35ec7c045f5b10f6bb6c13fff9">energy_only</a> = -1;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a>(&amp;recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">absolute_name</a>, <span class="stringliteral">&quot;%s/%s&quot;</span>,</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <a class="code" href="../../dd/df2/paths_8h.html#afeac3af8eea09c21a15695e4b581c4b7">ast_config_AST_RECORDING_DIR</a>, options-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keywordflow">if</span> (recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">absolute_name</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = ENOMEM;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(recording, -1);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="keywordflow">if</span> ((last_slash = strrchr(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">absolute_name</a>, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      *last_slash = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a1f26830793845a2db821147d7e9f33d0">ast_safe_mkdir</a>(<a class="code" href="../../dd/df2/paths_8h.html#afeac3af8eea09c21a15695e4b581c4b7">ast_config_AST_RECORDING_DIR</a>,</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">absolute_name</a>, 0777) != 0) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;         <span class="comment">/* errno set by ast_mkdir */</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(recording, -1);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      *last_slash = <span class="charliteral">&#39;/&#39;</span>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(options, +1);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a> = <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(control, +1);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a> = <a class="code" href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">control</a>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a> = <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0adbcc3eadcd857380e46fd74efd6da86b">STASIS_APP_RECORDING_STATE_QUEUED</a>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keywordflow">if</span> ((recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#a4cf517dcc4f4dd564afb97221caba289">if_exists</a> == <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236da1bede8c45deb750da65ee623e4f40d40">AST_RECORD_IF_EXISTS_FAIL</a>) &amp;&amp;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;         (<a class="code" href="../../d2/d4d/file_8h.html#ab9b8ab8e5ee34c9b4da25779255cafde">ast_fileexists</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">absolute_name</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Recording file &#39;%s&#39; already exists and ifExists option is failure.\n&quot;</span>,</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;         recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">absolute_name</a>);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = EEXIST;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(recording, -1);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *, old_recording, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      old_recording = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a>, options-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>,</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">if</span> (old_recording) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="stringliteral">&quot;Recording %s already in progress\n&quot;</span>,</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;         <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = EEXIST;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(recording, -1);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(<a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a>, recording);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#acf20b6f2b70956f1d88829c37708f080">stasis_app_control_register_add_rule</a>(control, &amp;<a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a84b390830d641fdd30cf0f135dcfd380">rule_recording</a>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   <a class="code" href="../../de/d0b/stasis__app__impl_8h.html#a838fef3012703b621ce65fb0e55b4af5">stasis_app_send_command_async</a>(control, <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a60405912a407d657ad7c35ebd0cdf33a">record_file</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(recording), <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a1c5672b8b645b3a4473cc1e8458c95f1">recording_cleanup</a>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordflow">return</span> recording;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac665722c9bfe6d9b506df95184aa236da1bede8c45deb750da65ee623e4f40d40"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236da1bede8c45deb750da65ee623e4f40d40">AST_RECORD_IF_EXISTS_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01076">include/asterisk/app.h:1076</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_a2905291106ca33c80e595233525899e0"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#a2905291106ca33c80e595233525899e0">stasis_app_recording_options::max_duration_seconds</a></div><div class="ttdeci">int max_duration_seconds</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00185">stasis_app_recording.h:185</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_afaaaf017d50970ec382b98a35e24c095"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#afaaaf017d50970ec382b98a35e24c095">stasis_app_recording::control</a></div><div class="ttdeci">struct stasis_app_control * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00059">res_stasis_recording.c:59</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ada667b6f84a08e6848cb37c5ffb94a5f"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a></div><div class="ttdeci">#define ast_asprintf(ret, fmt,...)</div><div class="ttdoc">A wrapper for asprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00269">astmm.h:269</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_aa0c1e600b53dd4f48dd371964f8a7361"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#aa0c1e600b53dd4f48dd371964f8a7361">stasis_app_recording_options::max_silence_seconds</a></div><div class="ttdeci">int max_silence_seconds</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00183">stasis_app_recording.h:183</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="stasis__app_8h_html_acf20b6f2b70956f1d88829c37708f080"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#acf20b6f2b70956f1d88829c37708f080">stasis_app_control_register_add_rule</a></div><div class="ttdeci">void stasis_app_control_register_add_rule(struct stasis_app_control *control, struct stasis_app_control_rule *rule)</div><div class="ttdoc">Registers an add channel to bridge rule. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00217">control.c:217</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a84b390830d641fdd30cf0f135dcfd380"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a84b390830d641fdd30cf0f135dcfd380">rule_recording</a></div><div class="ttdeci">static struct stasis_app_control_rule rule_recording</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00273">res_stasis_recording.c:273</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a71546d35ec7c045f5b10f6bb6c13fff9"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a71546d35ec7c045f5b10f6bb6c13fff9">stasis_app_recording::energy_only</a></div><div class="ttdeci">int energy_only</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00067">res_stasis_recording.c:67</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a444bbc8930bd1707f6d1af3be3be9f40"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a444bbc8930bd1707f6d1af3be3be9f40">recording_dtor</a></div><div class="ttdeci">static void recording_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00361">res_stasis_recording.c:361</a></div></div>
<div class="ttc" id="stasis__app__impl_8h_html_a838fef3012703b621ce65fb0e55b4af5"><div class="ttname"><a href="../../de/d0b/stasis__app__impl_8h.html#a838fef3012703b621ce65fb0e55b4af5">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">stasis_app_recording_options::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording.h:181</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9101b5ea85a0694172004a934c16cd92"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">stasis_app_recording::options</a></div><div class="ttdeci">struct stasis_app_recording_options * options</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">res_stasis_recording.c:55</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structstasis__app__recording_html"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00053">res_stasis_recording.c:53</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9abea4d2e6a0ce33587e5a1211b5b0dc"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">stasis_app_recording::duration</a></div><div class="ttdeci">struct stasis_app_recording::@498 duration</div></div>
<div class="ttc" id="utils_8h_html_a1f26830793845a2db821147d7e9f33d0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1f26830793845a2db821147d7e9f33d0">ast_safe_mkdir</a></div><div class="ttdeci">int ast_safe_mkdir(const char *base_path, const char *path, int mode)</div><div class="ttdoc">Recursively create directory path, but only if it resolves within the given base_path. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02336">main/utils.c:2336</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a15db4f54bfc2685aea551ba1228cc8dd"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a15db4f54bfc2685aea551ba1228cc8dd">stasis_app_recording::absolute_name</a></div><div class="ttdeci">char * absolute_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00057">res_stasis_recording.c:57</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#ac7af894858cf396a219d632f40afdc8d">stasis_app_recording::total</a></div><div class="ttdeci">int total</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00065">res_stasis_recording.c:65</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a60405912a407d657ad7c35ebd0cdf33a"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a60405912a407d657ad7c35ebd0cdf33a">record_file</a></div><div class="ttdeci">static int record_file(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00296">res_stasis_recording.c:296</a></div></div>
<div class="ttc" id="paths_8h_html_afeac3af8eea09c21a15695e4b581c4b7"><div class="ttname"><a href="../../dd/df2/paths_8h.html#afeac3af8eea09c21a15695e4b581c4b7">ast_config_AST_RECORDING_DIR</a></div><div class="ttdeci">const char * ast_config_AST_RECORDING_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00156">options.c:156</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_a4cf517dcc4f4dd564afb97221caba289"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#a4cf517dcc4f4dd564afb97221caba289">stasis_app_recording_options::if_exists</a></div><div class="ttdeci">enum ast_record_if_exists if_exists</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00192">stasis_app_recording.h:192</a></div></div>
<div class="ttc" id="file_8h_html_ab9b8ab8e5ee34c9b4da25779255cafde"><div class="ttname"><a href="../../d2/d4d/file_8h.html#ab9b8ab8e5ee34c9b4da25779255cafde">ast_fileexists</a></div><div class="ttdeci">int ast_fileexists(const char *filename, const char *fmt, const char *preflang)</div><div class="ttdoc">Checks for the existence of a given file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01086">file.c:1086</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a1c5672b8b645b3a4473cc1e8458c95f1"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a1c5672b8b645b3a4473cc1e8458c95f1">recording_cleanup</a></div><div class="ttdeci">static void recording_cleanup(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00287">res_stasis_recording.c:287</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0adbcc3eadcd857380e46fd74efd6da86b"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0adbcc3eadcd857380e46fd74efd6da86b">STASIS_APP_RECORDING_STATE_QUEUED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00139">stasis_app_recording.h:139</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_ade9ff13c4e32588783cb9cdeb92b8d93"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#ade9ff13c4e32588783cb9cdeb92b8d93">stasis_app_recording_options::format</a></div><div class="ttdeci">const ast_string_field format</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording.h:181</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a9625ee54c8e4815ad03061070ef56a74"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a></div><div class="ttdeci">static struct ao2_container * recordings</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00051">res_stasis_recording.c:51</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6f354ab89c650b0d126eb50ccdc022f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6f354ab89c650b0d126eb50ccdc022f">&#9670;&nbsp;</a></span>stasis_app_recording_find_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a>* stasis_app_recording_find_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the recording object with the given name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the recording object to find. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Associated <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> object. </dd>
<dd>
<code>NULL</code> if <em>name</em> not found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00473">473</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d1b/resource__recordings_8c_source.html#l00259">ast_ari_recordings_get_live()</a>, and <a class="el" href="../../d6/d1b/resource__recordings_8c_source.html#l00283">control_recording()</a>.</p>
<div class="fragment"><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;{</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a9625ee54c8e4815ad03061070ef56a74"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a></div><div class="ttdeci">static struct ao2_container * recordings</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00051">res_stasis_recording.c:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab82126702655e31390714f0a0b9b6063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab82126702655e31390714f0a0b9b6063">&#9670;&nbsp;</a></span>stasis_app_recording_get_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stasis_app_recording_get_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the unique name of a recording object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">recording</td><td>Recording control object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><em>recording's</em> name. </dd>
<dd>
<code>NULL</code> if <em>recording</em> ic <code>NULL</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00467">467</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording_options::name</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">stasis_app_recording::options</a>.</p>
<div class="fragment"><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;{</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <span class="keywordflow">return</span> recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div><div class="ttc" id="structstasis__app__recording__options_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">stasis_app_recording_options::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording.h:181</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9101b5ea85a0694172004a934c16cd92"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">stasis_app_recording::options</a></div><div class="ttdeci">struct stasis_app_recording_options * options</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">res_stasis_recording.c:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d8c7f39c5cc77a4f81c4d8823d2923c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d8c7f39c5cc77a4f81c4d8823d2923c">&#9670;&nbsp;</a></span>stasis_app_recording_get_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0">stasis_app_recording_state</a> stasis_app_recording_get_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current state of a recording operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">recording</td><td>Recording control object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The state of the <em>recording</em> object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00461">461</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>.</p>
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <span class="keywordflow">return</span> recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9afe9d42ab4828144104dc7d062f6e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9afe9d42ab4828144104dc7d062f6e9a">&#9670;&nbsp;</a></span>stasis_app_recording_if_exists_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236d">ast_record_if_exists</a> stasis_app_recording_if_exists_parse </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a string into the if_exists enum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>String to parse. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>How to handle an existing file. </dd>
<dd>
-1 on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00194">194</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01080">AST_RECORD_IF_EXISTS_APPEND</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01074">AST_RECORD_IF_EXISTS_ERROR</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01076">AST_RECORD_IF_EXISTS_FAIL</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01078">AST_RECORD_IF_EXISTS_OVERWRITE</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00634">ast_ari_bridges_record()</a>, and <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00748">ast_ari_channels_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="comment">/* Default value */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236da1bede8c45deb750da65ee623e4f40d40">AST_RECORD_IF_EXISTS_FAIL</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keywordflow">if</span> (strcasecmp(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="stringliteral">&quot;fail&quot;</span>) == 0) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236da1bede8c45deb750da65ee623e4f40d40">AST_RECORD_IF_EXISTS_FAIL</a>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <span class="keywordflow">if</span> (strcasecmp(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="stringliteral">&quot;overwrite&quot;</span>) == 0) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236da8022c0ca0ab8535428aed27423a40e2c">AST_RECORD_IF_EXISTS_OVERWRITE</a>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keywordflow">if</span> (strcasecmp(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="stringliteral">&quot;append&quot;</span>) == 0) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236da2e88c94599603bf2929a8c9d1f58b13f">AST_RECORD_IF_EXISTS_APPEND</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236dadba683b279266f012721bd3839da240d">AST_RECORD_IF_EXISTS_ERROR</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div><div class="ttc" id="include_2asterisk_2app_8h_html_ac665722c9bfe6d9b506df95184aa236da1bede8c45deb750da65ee623e4f40d40"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236da1bede8c45deb750da65ee623e4f40d40">AST_RECORD_IF_EXISTS_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01076">include/asterisk/app.h:1076</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac665722c9bfe6d9b506df95184aa236da8022c0ca0ab8535428aed27423a40e2c"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236da8022c0ca0ab8535428aed27423a40e2c">AST_RECORD_IF_EXISTS_OVERWRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01078">include/asterisk/app.h:1078</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac665722c9bfe6d9b506df95184aa236da2e88c94599603bf2929a8c9d1f58b13f"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236da2e88c94599603bf2929a8c9d1f58b13f">AST_RECORD_IF_EXISTS_APPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01080">include/asterisk/app.h:1080</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac665722c9bfe6d9b506df95184aa236dadba683b279266f012721bd3839da240d"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac665722c9bfe6d9b506df95184aa236dadba683b279266f012721bd3839da240d">AST_RECORD_IF_EXISTS_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01074">include/asterisk/app.h:1074</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a751cc04508e58096d4bbb9ffe8c0083d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a751cc04508e58096d4bbb9ffe8c0083d">&#9670;&nbsp;</a></span>stasis_app_recording_operation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2">stasis_app_recording_oper_results</a> stasis_app_recording_operation </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#ad2369d72f278b141223a3bd6835651dc">stasis_app_recording_media_operation</a>&#160;</td>
          <td class="paramname"><em>operation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls the media for a given recording operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">recording</td><td>Recording control object. </td></tr>
    <tr><td class="paramname">control</td><td>Media control operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>STASIS_APP_RECORDING_OPER_OK</code> on success. </dd>
<dd>
<a class="el" href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2">stasis_app_recording_oper_results</a> indicating failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00590">590</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00573">operations</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00296">STASIS_APP_RECORDING_OPER_FAILED</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00169">STASIS_APP_RECORDING_OPER_MAX</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00298">STASIS_APP_RECORDING_OPER_NOT_RECORDING</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00294">STASIS_APP_RECORDING_OPER_OK</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00151">STASIS_APP_RECORDING_STATE_MAX</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00141">STASIS_APP_RECORDING_STATE_RECORDING</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d1b/resource__recordings_8c_source.html#l00283">control_recording()</a>.</p>
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;{</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a7af3f2eea566d6fc987c202d437e6466">recording_operation_cb</a> cb;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, recording);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a> &gt;= <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0afb29cbae12d591e13ef88a8484ad96e5">STASIS_APP_RECORDING_STATE_MAX</a>) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid recording state %u\n&quot;</span>,</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;         recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)operation &gt;= <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#ad2369d72f278b141223a3bd6835651dca8b16fb4e01022ad0813b6d0b1dc2f7e3">STASIS_APP_RECORDING_OPER_MAX</a>) {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid recording operation %u\n&quot;</span>,</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;         operation);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   cb = <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a7ed2c2e835de81e0c909ee86f841ddf8">operations</a>[recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a>][operation];</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keywordflow">if</span> (!cb) {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">if</span> (recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a> != <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631">STASIS_APP_RECORDING_STATE_RECORDING</a>) {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;         <span class="comment">/* So we can be specific in our error message. */</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2a0ebf70ce2e1e3751847fb331c3e9d5ca">STASIS_APP_RECORDING_OPER_NOT_RECORDING</a>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;         <span class="comment">/* And, really, all operations should be valid during</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">          * recording */</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="stringliteral">&quot;Unhandled operation during recording: %u\n&quot;</span>,</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            operation);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2a4dabc07a36adeb24704f3c349911e7a0">STASIS_APP_RECORDING_OPER_FAILED</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <span class="keywordflow">return</span> cb(recording) ?</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2a4dabc07a36adeb24704f3c349911e7a0">STASIS_APP_RECORDING_OPER_FAILED</a> : <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2aa2d3a6d67d957fdd0911c53ef408b3a1">STASIS_APP_RECORDING_OPER_OK</a>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_a7b1fdceb089df9f40d9919e7aa85dce2aa2d3a6d67d957fdd0911c53ef408b3a1"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2aa2d3a6d67d957fdd0911c53ef408b3a1">STASIS_APP_RECORDING_OPER_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00294">stasis_app_recording.h:294</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631">STASIS_APP_RECORDING_STATE_RECORDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00141">stasis_app_recording.h:141</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a7ed2c2e835de81e0c909ee86f841ddf8"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a7ed2c2e835de81e0c909ee86f841ddf8">operations</a></div><div class="ttdeci">recording_operation_cb operations[STASIS_APP_RECORDING_STATE_MAX][STASIS_APP_RECORDING_OPER_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00573">res_stasis_recording.c:573</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a7af3f2eea566d6fc987c202d437e6466"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a7af3f2eea566d6fc987c202d437e6466">recording_operation_cb</a></div><div class="ttdeci">int(* recording_operation_cb)(struct stasis_app_recording *recording)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00506">res_stasis_recording.c:506</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0afb29cbae12d591e13ef88a8484ad96e5"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0afb29cbae12d591e13ef88a8484ad96e5">STASIS_APP_RECORDING_STATE_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00151">stasis_app_recording.h:151</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_a7b1fdceb089df9f40d9919e7aa85dce2a0ebf70ce2e1e3751847fb331c3e9d5ca"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2a0ebf70ce2e1e3751847fb331c3e9d5ca">STASIS_APP_RECORDING_OPER_NOT_RECORDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00298">stasis_app_recording.h:298</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_a7b1fdceb089df9f40d9919e7aa85dce2a4dabc07a36adeb24704f3c349911e7a0"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#a7b1fdceb089df9f40d9919e7aa85dce2a4dabc07a36adeb24704f3c349911e7a0">STASIS_APP_RECORDING_OPER_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00296">stasis_app_recording.h:296</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_ad2369d72f278b141223a3bd6835651dca8b16fb4e01022ad0813b6d0b1dc2f7e3"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#ad2369d72f278b141223a3bd6835651dca8b16fb4e01022ad0813b6d0b1dc2f7e3">STASIS_APP_RECORDING_OPER_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00169">stasis_app_recording.h:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e584de6354b58e0ab9f75796715aca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e584de6354b58e0ab9f75796715aca2">&#9670;&nbsp;</a></span>stasis_app_recording_options_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/dba/structstasis__app__recording__options.html">stasis_app_recording_options</a>* stasis_app_recording_options_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a recording options object. </p>
<p>Clean up with <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the recording. </td></tr>
    <tr><td class="paramname">format</td><td>Format to record in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Newly allocated options object. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00151">151</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">stasis_app_recording::options</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00144">recording_options_dtor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00634">ast_ari_bridges_record()</a>, and <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00748">ast_ari_channels_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/dba/structstasis__app__recording__options.html">stasis_app_recording_options</a> *, <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>), <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a3968ad73df0cc7e36a4e4dad337da034">recording_options_dtor</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a> || <a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>, 128)) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>, +1);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a3968ad73df0cc7e36a4e4dad337da034"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a3968ad73df0cc7e36a4e4dad337da034">recording_options_dtor</a></div><div class="ttdeci">static void recording_options_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00144">res_stasis_recording.c:144</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html">stasis_app_recording_options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00176">stasis_app_recording.h:176</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab65b6686f17aa43e154b56bc8be1ff38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab65b6686f17aa43e154b56bc8be1ff38">&#9670;&nbsp;</a></span>stasis_app_recording_termination_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char stasis_app_recording_termination_parse </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a string into the recording termination enum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>String to parse. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DTMF value to terminate on. </dd>
<dd>
<code>STASIS_APP_RECORDING_TERMINATE_NONE</code> to not terminate on DTMF. </dd>
<dd>
<code>STASIS_APP_RECORDING_TERMINATE_ANY</code> to terminate on any DTMF. </dd>
<dd>
<code>STASIS_APP_RECORDING_TERMINATE_INVALID</code> if input was invalid. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00169">169</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00174">STASIS_APP_RECORDING_TERMINATE_ANY</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00172">STASIS_APP_RECORDING_TERMINATE_INVALID</a>, and <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00173">STASIS_APP_RECORDING_TERMINATE_NONE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00634">ast_ari_bridges_record()</a>, and <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00748">ast_ari_channels_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a452908cdd1924830b6c01e1d0bcf8e86">STASIS_APP_RECORDING_TERMINATE_NONE</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="keywordflow">if</span> (strcasecmp(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="stringliteral">&quot;none&quot;</span>) == 0) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a452908cdd1924830b6c01e1d0bcf8e86">STASIS_APP_RECORDING_TERMINATE_NONE</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keywordflow">if</span> (strcasecmp(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="stringliteral">&quot;any&quot;</span>) == 0) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a59df1913014942c1eed45e5cbaff949d">STASIS_APP_RECORDING_TERMINATE_ANY</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keywordflow">if</span> (strcasecmp(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="stringliteral">&quot;#&quot;</span>) == 0) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">return</span> <span class="charliteral">&#39;#&#39;</span>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <span class="keywordflow">if</span> (strcasecmp(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, <span class="stringliteral">&quot;*&quot;</span>) == 0) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordflow">return</span> <span class="charliteral">&#39;*&#39;</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aaf132da3309ffcfb82c55db0b5e3a92f">STASIS_APP_RECORDING_TERMINATE_INVALID</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_a59df1913014942c1eed45e5cbaff949d"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#a59df1913014942c1eed45e5cbaff949d">STASIS_APP_RECORDING_TERMINATE_ANY</a></div><div class="ttdeci">#define STASIS_APP_RECORDING_TERMINATE_ANY</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00174">stasis_app_recording.h:174</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aaf132da3309ffcfb82c55db0b5e3a92f"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aaf132da3309ffcfb82c55db0b5e3a92f">STASIS_APP_RECORDING_TERMINATE_INVALID</a></div><div class="ttdeci">#define STASIS_APP_RECORDING_TERMINATE_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00172">stasis_app_recording.h:172</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_a452908cdd1924830b6c01e1d0bcf8e86"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#a452908cdd1924830b6c01e1d0bcf8e86">STASIS_APP_RECORDING_TERMINATE_NONE</a></div><div class="ttdeci">#define STASIS_APP_RECORDING_TERMINATE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00173">stasis_app_recording.h:173</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab282a883c01fbaf2a215c998428aecec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab282a883c01fbaf2a215c998428aecec">&#9670;&nbsp;</a></span>stasis_app_recording_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* stasis_app_recording_to_json </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dc/d5e/structstasis__app__recording.html">stasis_app_recording</a> *&#160;</td>
          <td class="paramname"><em>recording</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a JSON model of a recording. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">recording</td><td>Recording to conver. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON model. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00478">478</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d98/json_8c_source.html#l00317">ast_json_integer_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">stasis_app_recording::duration</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00067">stasis_app_recording::energy_only</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording_options::format</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording_options::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">stasis_app_recording::options</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">stasis_app_recording::state</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00122">state_to_string()</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording_options::target</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00065">stasis_app_recording::total</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00634">ast_ari_bridges_record()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00748">ast_ari_channels_record()</a>, <a class="el" href="../../d6/d1b/resource__recordings_8c_source.html#l00259">ast_ari_recordings_get_live()</a>, and <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00217">recording_publish()</a>.</p>
<div class="fragment"><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;{</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, json, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <span class="keywordflow">if</span> (recording == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   json = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s, s: s, s: s}&quot;</span>,</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="stringliteral">&quot;name&quot;</span>, recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>,</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="stringliteral">&quot;format&quot;</span>, recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#ade9ff13c4e32588783cb9cdeb92b8d93">format</a>,</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="stringliteral">&quot;state&quot;</span>, <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#ab867af0a8ebff462354fc8dbb5b12085">state_to_string</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">state</a>),</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="stringliteral">&quot;target_uri&quot;</span>, recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">options</a>-&gt;<a class="code" href="../../d0/dba/structstasis__app__recording__options.html#a93a94186c0e3acad20bfc8bb134f5b6c">target</a>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="keywordflow">if</span> (json &amp;&amp; recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#ac7af894858cf396a219d632f40afdc8d">total</a> &gt; -1) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;duration&quot;</span>,</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#ac7af894858cf396a219d632f40afdc8d">total</a>));</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <span class="keywordflow">if</span> (json &amp;&amp; recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a71546d35ec7c045f5b10f6bb6c13fff9">energy_only</a> &gt; -1) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;talking_duration&quot;</span>,</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a71546d35ec7c045f5b10f6bb6c13fff9">energy_only</a>));</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;silence_duration&quot;</span>,</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#ac7af894858cf396a219d632f40afdc8d">total</a> - recording-&gt;<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">duration</a>.<a class="code" href="../../dc/d5e/structstasis__app__recording.html#a71546d35ec7c045f5b10f6bb6c13fff9">energy_only</a>));</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(json);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div><div class="ttc" id="structstasis__app__recording_html_af92c34200b5f87ba2b2713a3317f4cc8"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#af92c34200b5f87ba2b2713a3317f4cc8">stasis_app_recording::state</a></div><div class="ttdeci">enum stasis_app_recording_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00061">res_stasis_recording.c:61</a></div></div>
<div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_a93a94186c0e3acad20bfc8bb134f5b6c"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#a93a94186c0e3acad20bfc8bb134f5b6c">stasis_app_recording_options::target</a></div><div class="ttdeci">const ast_string_field target</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording.h:181</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a71546d35ec7c045f5b10f6bb6c13fff9"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a71546d35ec7c045f5b10f6bb6c13fff9">stasis_app_recording::energy_only</a></div><div class="ttdeci">int energy_only</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00067">res_stasis_recording.c:67</a></div></div>
<div class="ttc" id="structstasis__app__recording__options_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#ace9168767fc3707cf5f0a7d049682ba3">stasis_app_recording_options::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording.h:181</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9101b5ea85a0694172004a934c16cd92"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9101b5ea85a0694172004a934c16cd92">stasis_app_recording::options</a></div><div class="ttdeci">struct stasis_app_recording_options * options</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00055">res_stasis_recording.c:55</a></div></div>
<div class="ttc" id="structstasis__app__recording_html_a9abea4d2e6a0ce33587e5a1211b5b0dc"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#a9abea4d2e6a0ce33587e5a1211b5b0dc">stasis_app_recording::duration</a></div><div class="ttdeci">struct stasis_app_recording::@498 duration</div></div>
<div class="ttc" id="structstasis__app__recording_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dc/d5e/structstasis__app__recording.html#ac7af894858cf396a219d632f40afdc8d">stasis_app_recording::total</a></div><div class="ttdeci">int total</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00065">res_stasis_recording.c:65</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="structstasis__app__recording__options_html_ade9ff13c4e32588783cb9cdeb92b8d93"><div class="ttname"><a href="../../d0/dba/structstasis__app__recording__options.html#ade9ff13c4e32588783cb9cdeb92b8d93">stasis_app_recording_options::format</a></div><div class="ttdeci">const ast_string_field format</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00181">stasis_app_recording.h:181</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_ab867af0a8ebff462354fc8dbb5b12085"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#ab867af0a8ebff462354fc8dbb5b12085">state_to_string</a></div><div class="ttdeci">static const char * state_to_string(enum stasis_app_recording_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00122">res_stasis_recording.c:122</a></div></div>
<div class="ttc" id="json_8h_html_ac13f0f415f198c5a341017195933356f"><div class="ttname"><a href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a></div><div class="ttdeci">struct ast_json * ast_json_integer_create(intmax_t value)</div><div class="ttdoc">Create a JSON integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00317">json.c:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a671b9f7bedc47451dccb43b7002b954f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a671b9f7bedc47451dccb43b7002b954f">&#9670;&nbsp;</a></span>STASIS_MESSAGE_TYPE_DEFN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STASIS_MESSAGE_TYPE_DEFN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">.&#160;</td>
          <td class="paramname"><em>to_json</em> = <code><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a7c7f20c3900f5ab84b19e79f56ac3506">recording_to_json</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00073">recording_to_json()</a>.</p>

</div>
</div>
<a id="ab867af0a8ebff462354fc8dbb5b12085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab867af0a8ebff462354fc8dbb5b12085">&#9670;&nbsp;</a></span>state_to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* state_to_string </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0">stasis_app_recording_state</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00122">122</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00149">STASIS_APP_RECORDING_STATE_CANCELED</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00145">STASIS_APP_RECORDING_STATE_COMPLETE</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00147">STASIS_APP_RECORDING_STATE_FAILED</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00151">STASIS_APP_RECORDING_STATE_MAX</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00143">STASIS_APP_RECORDING_STATE_PAUSED</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00139">STASIS_APP_RECORDING_STATE_QUEUED</a>, and <a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html#l00141">STASIS_APP_RECORDING_STATE_RECORDING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00478">stasis_app_recording_to_json()</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d4/d88/structstate.html">state</a>) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0adbcc3eadcd857380e46fd74efd6da86b">STASIS_APP_RECORDING_STATE_QUEUED</a>:</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;queued&quot;</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631">STASIS_APP_RECORDING_STATE_RECORDING</a>:</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;recording&quot;</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ad07a370df71cd174d584f1b6c9041ed6">STASIS_APP_RECORDING_STATE_PAUSED</a>:</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;paused&quot;</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ab6c1ffe7b2c00055d4b7749ef2a463be">STASIS_APP_RECORDING_STATE_COMPLETE</a>:</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;done&quot;</span>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a7825ba5da313e180f582cdb7ff765a82">STASIS_APP_RECORDING_STATE_FAILED</a>:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;failed&quot;</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a02fe452e9acb3e8c68cd7c76fe709d71">STASIS_APP_RECORDING_STATE_CANCELED</a>:</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;canceled&quot;</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0afb29cbae12d591e13ef88a8484ad96e5">STASIS_APP_RECORDING_STATE_MAX</a>:</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;?&quot;</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordflow">return</span> <span class="stringliteral">&quot;?&quot;</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0a02fe452e9acb3e8c68cd7c76fe709d71"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a02fe452e9acb3e8c68cd7c76fe709d71">STASIS_APP_RECORDING_STATE_CANCELED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00149">stasis_app_recording.h:149</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0acf0fe5c01be3d86abbbec6f9802c2631">STASIS_APP_RECORDING_STATE_RECORDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00141">stasis_app_recording.h:141</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0a7825ba5da313e180f582cdb7ff765a82"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0a7825ba5da313e180f582cdb7ff765a82">STASIS_APP_RECORDING_STATE_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00147">stasis_app_recording.h:147</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0afb29cbae12d591e13ef88a8484ad96e5"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0afb29cbae12d591e13ef88a8484ad96e5">STASIS_APP_RECORDING_STATE_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00151">stasis_app_recording.h:151</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0ad07a370df71cd174d584f1b6c9041ed6"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ad07a370df71cd174d584f1b6c9041ed6">STASIS_APP_RECORDING_STATE_PAUSED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00143">stasis_app_recording.h:143</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0adbcc3eadcd857380e46fd74efd6da86b"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0adbcc3eadcd857380e46fd74efd6da86b">STASIS_APP_RECORDING_STATE_QUEUED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00139">stasis_app_recording.h:139</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aa0a923ff458ba9dbf2a9d0988cde84d0ab6c1ffe7b2c00055d4b7749ef2a463be"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0ab6c1ffe7b2c00055d4b7749ef2a463be">STASIS_APP_RECORDING_STATE_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/stasis__app__recording_8h_source.html#l00145">stasis_app_recording.h:145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00647">647</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00328">AST_MODPRI_APP_DEPEND</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00629">load_module()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type()</a>, and <a class="el" href="../../dd/d79/stasis_8h_source.html#l01523">STASIS_MESSAGE_TYPE_CLEANUP</a>.</p>
<div class="fragment"><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;{</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(<a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a31197e193b1dfd6c122ff6d7c7f6b3fa">STASIS_MESSAGE_TYPE_CLEANUP</a>(<a class="code" href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type</a>);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div><div class="ttc" id="stasis_8h_html_a31197e193b1dfd6c122ff6d7c7f6b3fa"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a31197e193b1dfd6c122ff6d7c7f6b3fa">STASIS_MESSAGE_TYPE_CLEANUP</a></div><div class="ttdeci">#define STASIS_MESSAGE_TYPE_CLEANUP(name)</div><div class="ttdoc">Boiler-plate messaging macro for cleaning up message types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01523">stasis.h:1523</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_afbef610704a3fbe66726d616679331d7"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#afbef610704a3fbe66726d616679331d7">stasis_app_recording_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_app_recording_snapshot_type(void)</div><div class="ttdoc">Message type for recording updates. The data is an ast_channel_blob. </div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="res__stasis__recording_8c_html_a9625ee54c8e4815ad03061070ef56a74"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a9625ee54c8e4815ad03061070ef56a74">recordings</a></div><div class="ttdeci">static struct ao2_container * recordings</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00051">res_stasis_recording.c:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Stasis application recording support&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .requires = &quot;res_stasis&quot;, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a08d902290b0d6cbffd8e607d5e399a06">AST_MODPRI_APP_DEPEND</a> }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00661">661</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00661">661</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
<a id="a7ed2c2e835de81e0c909ee86f841ddf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed2c2e835de81e0c909ee86f841ddf8">&#9670;&nbsp;</a></span>operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d4c/res__stasis__recording_8c.html#a7af3f2eea566d6fc987c202d437e6466">recording_operation_cb</a> operations[<a class="el" href="../../d2/dda/stasis__app__recording_8h.html#aa0a923ff458ba9dbf2a9d0988cde84d0afb29cbae12d591e13ef88a8484ad96e5">STASIS_APP_RECORDING_STATE_MAX</a>][<a class="el" href="../../d2/dda/stasis__app__recording_8h.html#ad2369d72f278b141223a3bd6835651dca8b16fb4e01022ad0813b6d0b1dc2f7e3">STASIS_APP_RECORDING_OPER_MAX</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00573">573</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00590">stasis_app_recording_operation()</a>.</p>

</div>
</div>
<a id="a9625ee54c8e4815ad03061070ef56a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9625ee54c8e4815ad03061070ef56a74">&#9670;&nbsp;</a></span>recordings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* recordings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Container of all current recordings </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00051">51</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
<a id="a84b390830d641fdd30cf0f135dcfd380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84b390830d641fdd30cf0f135dcfd380">&#9670;&nbsp;</a></span>rule_recording</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/dc3/structstasis__app__control__rule.html">stasis_app_control_rule</a> rule_recording</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .check_rule = <a class="code" href="../../d8/d4c/res__stasis__recording_8c.html#a89a93c5a4372f601c8051b41dbda0cb7">check_rule_recording</a></div><div class="line">}</div><div class="ttc" id="res__stasis__recording_8c_html_a89a93c5a4372f601c8051b41dbda0cb7"><div class="ttname"><a href="../../d8/d4c/res__stasis__recording_8c.html#a89a93c5a4372f601c8051b41dbda0cb7">check_rule_recording</a></div><div class="ttdeci">static enum stasis_app_control_channel_result check_rule_recording(const struct stasis_app_control *control)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/res__stasis__recording_8c_source.html#l00261">res_stasis_recording.c:261</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00273">273</a> of file <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html">res_stasis_recording.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:39 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
