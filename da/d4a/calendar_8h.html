<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: calendar.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">calendar.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A general API for managing calendar events with Asterisk.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d0f/stringfields_8h_source.html">asterisk/stringfields.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/dcf/dial_8h_source.html">asterisk/dial.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for calendar.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d79/calendar_8h__incl.png" border="0" usemap="#calendar_8h" alt=""/></div>
<map name="calendar_8h" id="calendar_8h">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="624,304,708,331"/>
<area shape="rect" id="node22" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1363,229,1520,256"/>
<area shape="rect" id="node25" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1370,379,1484,405"/>
<area shape="rect" id="node28" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1453,80,1580,107"/>
<area shape="rect" id="node33" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="881,155,1032,181"/>
<area shape="rect" id="node34" href="../../df/dcf/dial_8h.html" title="Dialing API. " alt="" coords="1318,80,1429,107"/>
<area shape="rect" id="node35" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1158,80,1294,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="600,528,755,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="698,379,836,405"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="540,379,674,405"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="604,603,751,629"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1228,453,1370,480"/>
<area shape="rect" id="node23" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1564,528,1711,555"/>
<area shape="rect" id="node24" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="1364,304,1490,331"/>
<area shape="rect" id="node26" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1486,453,1549,480"/>
<area shape="rect" id="node27" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1752,453,1878,480"/>
<area shape="rect" id="node29" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1422,155,1536,181"/>
<area shape="rect" id="node30" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="1595,229,1734,256"/>
<area shape="rect" id="node31" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="1758,229,1904,256"/>
<area shape="rect" id="node32" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1158,229,1288,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d83/calendar_8h__dep__incl.png" border="0" usemap="#calendar_8hdep" alt=""/></div>
<map name="calendar_8hdep" id="calendar_8hdep">
<area shape="rect" id="node2" href="../../d7/dc3/res__calendar_8c.html" title="Calendaring API. " alt="" coords="5,80,120,107"/>
<area shape="rect" id="node3" href="../../dc/d18/res__calendar__caldav_8c.html" title="Resource for handling CalDAV calendars. " alt="" coords="144,80,307,107"/>
<area shape="rect" id="node4" href="../../d2/d4f/res__calendar__ews_8c.html" title="Resource for handling MS Exchange Web Service calendars. " alt="" coords="331,80,477,107"/>
<area shape="rect" id="node5" href="../../d2/d23/res__calendar__exchange_8c.html" title="Resource for handling MS Exchange calendars. " alt="" coords="501,80,685,107"/>
<area shape="rect" id="node6" href="../../df/d58/res__calendar__icalendar_8c.html" title="Resource for handling iCalendar calendars. " alt="" coords="709,80,888,107"/>
</map>
</div>
</div>
<p><a href="../../da/d4a/calendar_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asterisk calendar structure.  <a href="../../d4/d1d/structast__calendar.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd4/structast__calendar__attendee.html">ast_calendar_attendee</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Individual calendaring technology data.  <a href="../../dd/dca/structast__calendar__tech.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d78/structast__calendar__event_1_1attendees.html">ast_calendar_event::attendees</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4bfbd173aa201cfc7997230ab6727ac4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4">ast_calendar_busy_state</a> { <a class="el" href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4a0bd18f7b2274a2d1e677c630cbad0a48">AST_CALENDAR_BS_FREE</a> = 0, 
<a class="el" href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4a31367ce8716c317b6aed7b78c2840461">AST_CALENDAR_BS_BUSY_TENTATIVE</a>, 
<a class="el" href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4aaaa40bfd398d9a34fdbee901ed157624">AST_CALENDAR_BS_BUSY</a>
 }</td></tr>
<tr class="separator:a4bfbd173aa201cfc7997230ab6727ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7155b9d04f427720ab933725f52c27d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#a7155b9d04f427720ab933725f52c27d1">ast_calendar_clear_events</a> (struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal)</td></tr>
<tr class="memdesc:a7155b9d04f427720ab933725f52c27d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all events from calendar.  <a href="#a7155b9d04f427720ab933725f52c27d1">More...</a><br /></td></tr>
<tr class="separator:a7155b9d04f427720ab933725f52c27d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a89289597a07eb7feeeb1db7b6bfc56"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#a2a89289597a07eb7feeeb1db7b6bfc56">ast_calendar_config_acquire</a> (void)</td></tr>
<tr class="memdesc:a2a89289597a07eb7feeeb1db7b6bfc56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grab and lock pointer to the calendar config (read only)  <a href="#a2a89289597a07eb7feeeb1db7b6bfc56">More...</a><br /></td></tr>
<tr class="separator:a2a89289597a07eb7feeeb1db7b6bfc56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425593754b0ca04672b702aca63e9ac0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#a425593754b0ca04672b702aca63e9ac0">ast_calendar_config_release</a> (void)</td></tr>
<tr class="memdesc:a425593754b0ca04672b702aca63e9ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the calendar config.  <a href="#a425593754b0ca04672b702aca63e9ac0">More...</a><br /></td></tr>
<tr class="separator:a425593754b0ca04672b702aca63e9ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5baeffb2016cfba709d05ab148e65ff9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#a5baeffb2016cfba709d05ab148e65ff9">ast_calendar_event_alloc</a> (struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal)</td></tr>
<tr class="memdesc:a5baeffb2016cfba709d05ab148e65ff9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> object.  <a href="#a5baeffb2016cfba709d05ab148e65ff9">More...</a><br /></td></tr>
<tr class="separator:a5baeffb2016cfba709d05ab148e65ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac581d7a0b3970f47bb2a4aed924bea58"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#ac581d7a0b3970f47bb2a4aed924bea58">ast_calendar_event_container_alloc</a> (void)</td></tr>
<tr class="memdesc:ac581d7a0b3970f47bb2a4aed924bea58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> container for <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> objects.  <a href="#ac581d7a0b3970f47bb2a4aed924bea58">More...</a><br /></td></tr>
<tr class="separator:ac581d7a0b3970f47bb2a4aed924bea58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2373048a0ece99022fa7e8b86c4158aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#a2373048a0ece99022fa7e8b86c4158aa">ast_calendar_merge_events</a> (struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *new_events)</td></tr>
<tr class="memdesc:a2373048a0ece99022fa7e8b86c4158aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an event to the list of events for a calendar.  <a href="#a2373048a0ece99022fa7e8b86c4158aa">More...</a><br /></td></tr>
<tr class="separator:a2373048a0ece99022fa7e8b86c4158aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e82d1677dc6bae868354f1e93b3fb4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#a84e82d1677dc6bae868354f1e93b3fb4">ast_calendar_register</a> (struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *tech)</td></tr>
<tr class="memdesc:a84e82d1677dc6bae868354f1e93b3fb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new calendar technology.  <a href="#a84e82d1677dc6bae868354f1e93b3fb4">More...</a><br /></td></tr>
<tr class="separator:a84e82d1677dc6bae868354f1e93b3fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b71ae1b1392b6095a17737375eb7671"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a> (struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>)</td></tr>
<tr class="memdesc:a0b71ae1b1392b6095a17737375eb7671"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unreference an <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>.  <a href="#a0b71ae1b1392b6095a17737375eb7671">More...</a><br /></td></tr>
<tr class="separator:a0b71ae1b1392b6095a17737375eb7671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f50e300c14ee9c469b31f334686110"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4a/calendar_8h.html#a15f50e300c14ee9c469b31f334686110">ast_calendar_unregister</a> (struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *tech)</td></tr>
<tr class="memdesc:a15f50e300c14ee9c469b31f334686110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a new calendar technology.  <a href="#a15f50e300c14ee9c469b31f334686110">More...</a><br /></td></tr>
<tr class="separator:a15f50e300c14ee9c469b31f334686110"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A general API for managing calendar events with Asterisk. </p>
<dl class="section author"><dt>Author</dt><dd>Terry Wilson <a href="#" onclick="location.href='mai'+'lto:'+'twi'+'ls'+'on@'+'di'+'giu'+'m.'+'com'; return false;">twils<span style="display: none;">.nosp@m.</span>on@d<span style="display: none;">.nosp@m.</span>igium<span style="display: none;">.nosp@m.</span>.com</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>This API implements an abstraction for handling different calendaring technologies in Asterisk. The services provided by the API are a dialplan function to query whether or not a calendar is busy at the present time, a adialplan function to query specific information about events in a time range, a devicestate provider, and notification of calendar events through execution of dialplan apps or dialplan logic at a specific context and extension. The information available through the CALENDAR_EVENT() dialplan function are:</dd></dl>
<p>SUMMARY, DESCRIPTION, ORGANIZER, LOCATION CALENDAR, UID, START, END, and BUSYSTATE</p>
<p>BUSYSTATE can have the values 0 (free), 1 (tentatively busy), or 2 (busy)</p>
<p>Usage All calendaring configuration data is located in calendar.conf and is only read directly by the Calendaring API. Each calendar technology resource must register a load_calendar callback which will be passed an ast_calendar_load_data structure. The load_calendar callback function should then set the values it needs from this cfg, load the calendar data, and then loop updating the calendar data and events baesd on the refresh interval in the <a class="el" href="../../d4/d1d/structast__calendar.html" title="Asterisk calendar structure. ">ast_calendar</a> object. Each call to the load_calendar callback will be will run in its own thread.</p>
<p>Updating events involves creating an <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> container of new events and passing it to the API through ast_calendar_merge_events.</p>
<p>Calendar technology resource modules must also register an unref_calendar callback which will only be called when the resource module calls <a class="el" href="../../da/d4a/calendar_8h.html#a15f50e300c14ee9c469b31f334686110" title="Unregister a new calendar technology. ">ast_calendar_unregister()</a> to unregister that module's calendar type (usually done in module_unload()) </p>

<p class="definition">Definition in file <a class="el" href="../../da/d4a/calendar_8h_source.html">calendar.h</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a4bfbd173aa201cfc7997230ab6727ac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bfbd173aa201cfc7997230ab6727ac4">&#9670;&nbsp;</a></span>ast_calendar_busy_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4">ast_calendar_busy_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4bfbd173aa201cfc7997230ab6727ac4a0bd18f7b2274a2d1e677c630cbad0a48"></a>AST_CALENDAR_BS_FREE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4bfbd173aa201cfc7997230ab6727ac4a31367ce8716c317b6aed7b78c2840461"></a>AST_CALENDAR_BS_BUSY_TENTATIVE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4bfbd173aa201cfc7997230ab6727ac4aaaa40bfd398d9a34fdbee901ed157624"></a>AST_CALENDAR_BS_BUSY&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../da/d4a/calendar_8h_source.html#l00081">81</a> of file <a class="el" href="../../da/d4a/calendar_8h_source.html">calendar.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                             {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   <a class="code" href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4a0bd18f7b2274a2d1e677c630cbad0a48">AST_CALENDAR_BS_FREE</a> = 0,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   <a class="code" href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4a31367ce8716c317b6aed7b78c2840461">AST_CALENDAR_BS_BUSY_TENTATIVE</a>,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <a class="code" href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4aaaa40bfd398d9a34fdbee901ed157624">AST_CALENDAR_BS_BUSY</a>,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;};</div><div class="ttc" id="calendar_8h_html_a4bfbd173aa201cfc7997230ab6727ac4aaaa40bfd398d9a34fdbee901ed157624"><div class="ttname"><a href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4aaaa40bfd398d9a34fdbee901ed157624">AST_CALENDAR_BS_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00084">calendar.h:84</a></div></div>
<div class="ttc" id="calendar_8h_html_a4bfbd173aa201cfc7997230ab6727ac4a31367ce8716c317b6aed7b78c2840461"><div class="ttname"><a href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4a31367ce8716c317b6aed7b78c2840461">AST_CALENDAR_BS_BUSY_TENTATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00083">calendar.h:83</a></div></div>
<div class="ttc" id="calendar_8h_html_a4bfbd173aa201cfc7997230ab6727ac4a0bd18f7b2274a2d1e677c630cbad0a48"><div class="ttname"><a href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4a0bd18f7b2274a2d1e677c630cbad0a48">AST_CALENDAR_BS_FREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00082">calendar.h:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7155b9d04f427720ab933725f52c27d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7155b9d04f427720ab933725f52c27d1">&#9670;&nbsp;</a></span>ast_calendar_clear_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_calendar_clear_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td>
          <td class="paramname"><em>cal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all events from calendar. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cal</td><td>calendar whose events need to be cleared </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00660">660</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00651">clear_events_cb()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00138">ast_calendar::events</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00327">calendar_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;{</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Clearing all events for calendar %s\n&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a37a62975769c3c1fefb5707e3f7df8c4">clear_events_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a37a62975769c3c1fefb5707e3f7df8c4"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a37a62975769c3c1fefb5707e3f7df8c4">clear_events_cb</a></div><div class="ttdeci">static int clear_events_cb(void *user_data, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00651">res_calendar.c:651</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar_html_a68cfdbd3a90ed1f8b0486a13b65bd244"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">ast_calendar::events</a></div><div class="ttdeci">struct ao2_container * events</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00138">calendar.h:138</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a89289597a07eb7feeeb1db7b6bfc56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a89289597a07eb7feeeb1db7b6bfc56">&#9670;&nbsp;</a></span>ast_calendar_config_acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a>* ast_calendar_config_acquire </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Grab and lock pointer to the calendar config (read only) </p>
<dl class="section note"><dt>Note</dt><dd>ast_calendar_config_release must be called when finished with the pointer</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the parsed calendar config </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00258">258</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00255">calendar_config</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00256">config_lock</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, and <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4e17933edc73c89b20ecdd26c6fd0552"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a></div><div class="ttdeci">static struct ast_config * calendar_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00255">res_calendar.c:255</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a6438556ba98655267def94eee104f6e2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a></div><div class="ttdeci">static ast_rwlock_t config_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00256">res_calendar.c:256</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a425593754b0ca04672b702aca63e9ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425593754b0ca04672b702aca63e9ac0">&#9670;&nbsp;</a></span>ast_calendar_config_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_calendar_config_release </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release the calendar config. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00270">270</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00256">config_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, and <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a6438556ba98655267def94eee104f6e2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a></div><div class="ttdeci">static ast_rwlock_t config_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00256">res_calendar.c:256</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5baeffb2016cfba709d05ab148e65ff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5baeffb2016cfba709d05ab148e65ff9">&#9670;&nbsp;</a></span>ast_calendar_event_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>* ast_calendar_event_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td>
          <td class="paramname"><em>cal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate an <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cal</td><td>calendar to allocate an event for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new, initialized calendar event </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00667">667</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">ast_calendar_unref_event()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">ast_calendar_event::attendees</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00609">calendar_event_destructor()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00349">caldav_add_event()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01415">calendar_write_exec()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00190">icalendar_add_event()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00083">parse_tag()</a>, and <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00175">startelm()</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;{</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <span class="keywordflow">if</span> (!(event = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*event), <a class="code" href="../../d7/dc3/res__calendar_8c.html#af595272845899ca84e5191c4eb09471c">calendar_event_destructor</a>))) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(event, 32)) {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(event);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <span class="keyword">event</span>-&gt;owner = cal;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <span class="keyword">event</span>-&gt;notify_sched = -1;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   <span class="keyword">event</span>-&gt;bs_start_sched = -1;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   <span class="keyword">event</span>-&gt;bs_end_sched = -1;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">attendees</a>);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keywordflow">return</span> event;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div><div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="res__calendar_8c_html_af595272845899ca84e5191c4eb09471c"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#af595272845899ca84e5191c4eb09471c">calendar_event_destructor</a></div><div class="ttdeci">static void calendar_event_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00609">res_calendar.c:609</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__calendar__event_html_aecf2cf646e157e918cc64d69cbe6e6f3"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">ast_calendar_event::attendees</a></div><div class="ttdeci">struct ast_calendar_event::attendees attendees</div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0b71ae1b1392b6095a17737375eb7671"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_unref_event(struct ast_calendar_event *event)</div><div class="ttdoc">Unreference an ast_calendar_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00321">res_calendar.c:321</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac581d7a0b3970f47bb2a4aed924bea58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac581d7a0b3970f47bb2a4aed924bea58">&#9670;&nbsp;</a></span>ast_calendar_event_container_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_calendar_event_container_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate an <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> container for <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> objects. </p>
<dl class="section return"><dt>Returns</dt><dd>a new event container </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00689">689</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00220">CALENDAR_BUCKETS</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00307">event_cmp_fn()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00301">event_hash_fn()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, and <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;{</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a806d9b20f62bae39bd345388e8685040">CALENDAR_BUCKETS</a>,</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <a class="code" href="../../d7/dc3/res__calendar_8c.html#a6f60d907cd8f8e2129346d66c78026e6">event_hash_fn</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ad43766b2604b55f7591d5e8fc4a2da46">event_cmp_fn</a>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a6f60d907cd8f8e2129346d66c78026e6"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6f60d907cd8f8e2129346d66c78026e6">event_hash_fn</a></div><div class="ttdeci">static int event_hash_fn(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00301">res_calendar.c:301</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a806d9b20f62bae39bd345388e8685040"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a806d9b20f62bae39bd345388e8685040">CALENDAR_BUCKETS</a></div><div class="ttdeci">#define CALENDAR_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00220">res_calendar.c:220</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ad43766b2604b55f7591d5e8fc4a2da46"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ad43766b2604b55f7591d5e8fc4a2da46">event_cmp_fn</a></div><div class="ttdeci">static int event_cmp_fn(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00307">res_calendar.c:307</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2373048a0ece99022fa7e8b86c4158aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2373048a0ece99022fa7e8b86c4158aa">&#9670;&nbsp;</a></span>ast_calendar_merge_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_calendar_merge_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td>
          <td class="paramname"><em>cal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>new_events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an event to the list of events for a calendar. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cal</td><td>calendar containing the events to be merged </td></tr>
    <tr><td class="paramname">new_events</td><td>an oa2 container of events to be merged into cal-&gt;events </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01053">1053</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01043">add_new_event_cb()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00138">ast_calendar::events</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01016">merge_events_cb()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00386">endelm()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00350">icalendar_update_events()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00175">startelm()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00547">update_caldav()</a>, and <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00577">update_exchangecal()</a>.</p>
<div class="fragment"><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;{</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;   <span class="comment">/* Loop through all events attached to the calendar.  If there is a matching new event</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">    * merge its data over and handle any schedule changes that need to be made.  Then remove</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">    * the new_event from new_events so that we are left with only new_events that we can add later. */</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#abc29785de7c3d7677360c241f9e97b4a">merge_events_cb</a>, new_events);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   <span class="comment">/* Now, we should only have completely new events in new_events.  Loop through and add them */</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(new_events, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a2ca75ae1270b05aaea6ffe5b72650b34">add_new_event_cb</a>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="structast__calendar_html_a68cfdbd3a90ed1f8b0486a13b65bd244"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">ast_calendar::events</a></div><div class="ttdeci">struct ao2_container * events</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00138">calendar.h:138</a></div></div>
<div class="ttc" id="res__calendar_8c_html_abc29785de7c3d7677360c241f9e97b4a"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#abc29785de7c3d7677360c241f9e97b4a">merge_events_cb</a></div><div class="ttdeci">static int merge_events_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01016">res_calendar.c:1016</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a2ca75ae1270b05aaea6ffe5b72650b34"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a2ca75ae1270b05aaea6ffe5b72650b34">add_new_event_cb</a></div><div class="ttdeci">static int add_new_event_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01043">res_calendar.c:1043</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84e82d1677dc6bae868354f1e93b3fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e82d1677dc6bae868354f1e93b3fb4">&#9670;&nbsp;</a></span>ast_calendar_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_calendar_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *&#160;</td>
          <td class="paramname"><em>tech</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a new calendar technology. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tech</td><td>calendar technology to register</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00549">549</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00426">ast_module_user_add</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00071">ast_calendar_tech::description</a>, <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00070">ast_calendar_tech::type</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00073">ast_calendar_tech::user</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00733">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;{</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *iter;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Calendar support disabled, not loading %s calendar module\n&quot;</span>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>, iter, <a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">if</span>(!strcasecmp(tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, iter-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>)) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Already have a handler for calendar type &#39;%s&#39;\n&quot;</span>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>, tech, <a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a8ea7a75242844be0a260d0ebcf9d2b12">user</a> = <a class="code" href="../../d5/d16/module_8h.html#ab941a600dc47b469ab225f140bc0973f">ast_module_user_add</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Registered calendar type &#39;%s&#39; (%s)\n&quot;</span>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dc3/res__calendar_8c.html#a68b74b05f0bbf0449d77b045b167384c">load_tech_calendars</a>(tech);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a68b74b05f0bbf0449d77b045b167384c"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a68b74b05f0bbf0449d77b045b167384c">load_tech_calendars</a></div><div class="ttdeci">static int load_tech_calendars(struct ast_calendar_tech *tech)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00513">res_calendar.c:513</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a0199260d3b90f5bec211e98749d2f748"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">ast_calendar_tech::list</a></div><div class="ttdeci">struct ast_calendar_tech::@239 list</div></div>
<div class="ttc" id="structast__calendar__tech_html_a8ea7a75242844be0a260d0ebcf9d2b12"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a8ea7a75242844be0a260d0ebcf9d2b12">ast_calendar_tech::user</a></div><div class="ttdeci">struct ast_module_user * user</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00073">calendar.h:73</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_calendar_tech::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00071">calendar.h:71</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_calendar_tech::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00070">calendar.h:70</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="module_8h_html_ab941a600dc47b469ab225f140bc0973f"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab941a600dc47b469ab225f140bc0973f">ast_module_user_add</a></div><div class="ttdeci">#define ast_module_user_add(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00426">module.h:426</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4e17933edc73c89b20ecdd26c6fd0552"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a></div><div class="ttdeci">static struct ast_config * calendar_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00255">res_calendar.c:255</a></div></div>
<div class="ttc" id="structast__calendar__tech_html"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a></div><div class="ttdoc">Individual calendaring technology data. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00069">calendar.h:69</a></div></div>
<div class="ttc" id="structtechs_html"><div class="ttname"><a href="../../d2/db3/structtechs.html">techs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00252">res_calendar.c:252</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b71ae1b1392b6095a17737375eb7671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b71ae1b1392b6095a17737375eb7671">&#9670;&nbsp;</a></span>ast_calendar_unref_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>* ast_calendar_unref_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unreference an <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>event to unref</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">321</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00667">ast_calendar_event_alloc()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00349">caldav_add_event()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00892">calendar_devstate_change()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01213">calendar_query_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01415">calendar_write_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00741">do_notify()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00386">endelm()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00695">event_notification_destroy()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01604">handle_show_calendar()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00190">icalendar_add_event()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01016">merge_events_cb()</a>, and <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00083">parse_tag()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(event, -1);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15f50e300c14ee9c469b31f334686110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f50e300c14ee9c469b31f334686110">&#9670;&nbsp;</a></span>ast_calendar_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_calendar_unregister </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *&#160;</td>
          <td class="paramname"><em>tech</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a new calendar technology. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tech</td><td>calendar technology to unregister</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00587">587</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00427">ast_module_user_remove</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00575">match_caltech_cb()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00070">ast_calendar_tech::type</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00073">ast_calendar_tech::user</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>, and <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00744">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *iter;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>, iter, <a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="keywordflow">if</span> (iter != tech) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a5478c54cf75389656cd4e41af161f8c6">match_caltech_cb</a>, tech);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <a class="code" href="../../d5/d16/module_8h.html#aac87725d61b6daf4ce7d7b505f1b68c9">ast_module_user_remove</a>(iter-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a8ea7a75242844be0a260d0ebcf9d2b12">user</a>);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Unregistered calendar type &#39;%s&#39;\n&quot;</span>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ab0a23206c25ccbd53fae39c15dfe647b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></div><div class="ttdeci">static struct ao2_container * calendars</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00222">res_calendar.c:222</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a0199260d3b90f5bec211e98749d2f748"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">ast_calendar_tech::list</a></div><div class="ttdeci">struct ast_calendar_tech::@239 list</div></div>
<div class="ttc" id="structast__calendar__tech_html_a8ea7a75242844be0a260d0ebcf9d2b12"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a8ea7a75242844be0a260d0ebcf9d2b12">ast_calendar_tech::user</a></div><div class="ttdeci">struct ast_module_user * user</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00073">calendar.h:73</a></div></div>
<div class="ttc" id="module_8h_html_aac87725d61b6daf4ce7d7b505f1b68c9"><div class="ttname"><a href="../../d5/d16/module_8h.html#aac87725d61b6daf4ce7d7b505f1b68c9">ast_module_user_remove</a></div><div class="ttdeci">#define ast_module_user_remove(user)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00427">module.h:427</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_calendar_tech::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00070">calendar.h:70</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a5478c54cf75389656cd4e41af161f8c6"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a5478c54cf75389656cd4e41af161f8c6">match_caltech_cb</a></div><div class="ttdeci">static int match_caltech_cb(void *user_data, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00575">res_calendar.c:575</a></div></div>
<div class="ttc" id="structast__calendar__tech_html"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a></div><div class="ttdoc">Individual calendaring technology data. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00069">calendar.h:69</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structtechs_html"><div class="ttname"><a href="../../d2/db3/structtechs.html">techs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00252">res_calendar.c:252</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:55 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
