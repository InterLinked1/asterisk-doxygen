<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: ast_cc_monitor_callbacks Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">ast_cc_monitor_callbacks Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Callbacks defined by CC monitors.  
 <a href="../../d0/d66/structast__cc__monitor__callbacks.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a4c8e36220d9443cf53fd01c5b690a2f3"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html#a4c8e36220d9443cf53fd01c5b690a2f3">cancel_available_timer</a> )(struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>, int *<a class="el" href="../../d1/dab/structsched__id.html">sched_id</a>)</td></tr>
<tr class="memdesc:a4c8e36220d9443cf53fd01c5b690a2f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the running available timer.  <a href="#a4c8e36220d9443cf53fd01c5b690a2f3">More...</a><br /></td></tr>
<tr class="separator:a4c8e36220d9443cf53fd01c5b690a2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51fe00e94e3c89a1cf6316730167fd00"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html#a51fe00e94e3c89a1cf6316730167fd00">destructor</a> )(void *private_data)</td></tr>
<tr class="memdesc:a51fe00e94e3c89a1cf6316730167fd00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy private data on the monitor.  <a href="#a51fe00e94e3c89a1cf6316730167fd00">More...</a><br /></td></tr>
<tr class="separator:a51fe00e94e3c89a1cf6316730167fd00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a0f12b8aef59f052ac26e2d9bf79241"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html#a1a0f12b8aef59f052ac26e2d9bf79241">request_cc</a> )(struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>, int *available_timer_id)</td></tr>
<tr class="memdesc:a1a0f12b8aef59f052ac26e2d9bf79241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request CCSS.  <a href="#a1a0f12b8aef59f052ac26e2d9bf79241">More...</a><br /></td></tr>
<tr class="separator:a1a0f12b8aef59f052ac26e2d9bf79241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07126276ac9efb044e7f05e4ed1dc6d2"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html#a07126276ac9efb044e7f05e4ed1dc6d2">status_response</a> )(struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>, enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> devstate)</td></tr>
<tr class="memdesc:a07126276ac9efb044e7f05e4ed1dc6d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status response to an <a class="el" href="../../de/dc8/ccss_8h.html#a98e261f13321084b4ed0c1bd0d4ec70e" title="Request the status of a caller or callers. ">ast_cc_monitor_status_request()</a>.  <a href="#a07126276ac9efb044e7f05e4ed1dc6d2">More...</a><br /></td></tr>
<tr class="separator:a07126276ac9efb044e7f05e4ed1dc6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4b858087910042e288c7475053de8c"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html#add4b858087910042e288c7475053de8c">suspend</a> )(struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>)</td></tr>
<tr class="memdesc:add4b858087910042e288c7475053de8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspend monitoring.  <a href="#add4b858087910042e288c7475053de8c">More...</a><br /></td></tr>
<tr class="separator:add4b858087910042e288c7475053de8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763fd8db6bba8fbbbc113ca0d61c47c2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a></td></tr>
<tr class="memdesc:a763fd8db6bba8fbbbc113ca0d61c47c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of monitor the callbacks belong to.  <a href="#a763fd8db6bba8fbbbc113ca0d61c47c2">More...</a><br /></td></tr>
<tr class="separator:a763fd8db6bba8fbbbc113ca0d61c47c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4b44ab4c4e597d4566b20f05021b30"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html#acf4b44ab4c4e597d4566b20f05021b30">unsuspend</a> )(struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>)</td></tr>
<tr class="memdesc:acf4b44ab4c4e597d4566b20f05021b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsuspend monitoring.  <a href="#acf4b44ab4c4e597d4566b20f05021b30">More...</a><br /></td></tr>
<tr class="separator:acf4b44ab4c4e597d4566b20f05021b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Callbacks defined by CC monitors. </p>
<dl class="section note"><dt>Note</dt><dd>Every callback is called with the list of monitors locked. There are several public API calls that also will try to lock this lock. These public functions have a note in their doxygen stating so. As such, pay attention to the lock order you establish in these callbacks to ensure that you do not violate the lock order when calling the functions in this file with lock order notices. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00576">576</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a4c8e36220d9443cf53fd01c5b690a2f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c8e36220d9443cf53fd01c5b690a2f3">&#9670;&nbsp;</a></span>cancel_available_timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* cancel_available_timer) (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>, int *<a class="el" href="../../d1/dab/structsched__id.html">sched_id</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the running available timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">monitor</td><td>CC core monitor control. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../d1/dab/structsched__id.html" title="Scheduler ID holder. ">sched_id</a></td><td>Available timer scheduler id to cancel. Will never be NULL for a device monitor.</td></tr>
  </table>
  </dd>
</dl>
<p>In most cases, this function will likely consist of just a call to AST_SCHED_DEL. It might have been possible to do this within the core, but unfortunately the mixture of <a class="el" href="../../d7/ddd/structsched__thread.html">sched_thread</a> and sched usage in Asterisk prevents such usage.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00657">657</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03226">cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01858">cc_interface_tree_destroy()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>.</p>

</div>
</div>
<a id="a51fe00e94e3c89a1cf6316730167fd00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51fe00e94e3c89a1cf6316730167fd00">&#9670;&nbsp;</a></span>destructor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* destructor) (void *private_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy private data on the monitor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">private_data</td><td>The private data pointer from the monitor.</td></tr>
  </table>
  </dd>
</dl>
<p>Implementers of this callback are responsible for destroying all heap-allocated data in the monitor's private_data pointer, including the private_data itself. </p>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00668">668</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02216">call_destructor_with_no_monitor()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01837">cc_monitor_destroy()</a>.</p>

</div>
</div>
<a id="a1a0f12b8aef59f052ac26e2d9bf79241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a0f12b8aef59f052ac26e2d9bf79241">&#9670;&nbsp;</a></span>request_cc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* request_cc) (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>, int *available_timer_id)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request CCSS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">monitor</td><td>CC core monitor control. </td></tr>
    <tr><td class="paramname">available_timer_id</td><td>The scheduler ID for the available timer. Will never be NULL for a device monitor.</td></tr>
  </table>
  </dd>
</dl>
<p>Perform whatever steps are necessary in order to request CC. In addition, the monitor implementation is responsible for starting the available timer in this callback.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00599">599</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03108">request_cc()</a>.</p>

</div>
</div>
<a id="a07126276ac9efb044e7f05e4ed1dc6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07126276ac9efb044e7f05e4ed1dc6d2">&#9670;&nbsp;</a></span>status_response</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* status_response) (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>, enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> devstate)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status response to an <a class="el" href="../../de/dc8/ccss_8h.html#a98e261f13321084b4ed0c1bd0d4ec70e" title="Request the status of a caller or callers. ">ast_cc_monitor_status_request()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">monitor</td><td>CC core monitor control. </td></tr>
    <tr><td class="paramname">devstate</td><td>Current status of a Party A device.</td></tr>
  </table>
  </dd>
</dl>
<p>Alert a monitor as to the status of the agent for which the monitor had previously requested a status request.</p>
<dl class="section note"><dt>Note</dt><dd>Zero or more responses may come as a result.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00628">628</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04072">cc_status_response()</a>.</p>

</div>
</div>
<a id="add4b858087910042e288c7475053de8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4b858087910042e288c7475053de8c">&#9670;&nbsp;</a></span>suspend</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* suspend) (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Suspend monitoring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">monitor</td><td>CC core monitor control.</td></tr>
  </table>
  </dd>
</dl>
<p>Implementers must perform the necessary steps to suspend monitoring.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00612">612</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03193">suspend()</a>.</p>

</div>
</div>
<a id="a763fd8db6bba8fbbbc113ca0d61c47c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763fd8db6bba8fbbbc113ca0d61c47c2">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of monitor the callbacks belong to. </p>
<dl class="section note"><dt>Note</dt><dd>Examples include "generic" and "SIP" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00583">583</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16404">action_dahdishowchannels()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01200">find_monitor_callbacks()</a>, and <a class="el" href="../../dc/ded/swagger__model_8py_source.html#l00477">Property::load()</a>.</p>

</div>
</div>
<a id="acf4b44ab4c4e597d4566b20f05021b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf4b44ab4c4e597d4566b20f05021b30">&#9670;&nbsp;</a></span>unsuspend</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* unsuspend) (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsuspend monitoring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">monitor</td><td>CC core monitor control.</td></tr>
  </table>
  </dd>
</dl>
<p>Perform the necessary steps to unsuspend monitoring.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00640">640</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03146">unsuspend()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:19 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
