<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_pjsip_logger.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_pjsip_logger.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;pjsip.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">asterisk/res_pjsip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/df1/netsock2_8h_source.html">asterisk/netsock2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d59/acl_8h_source.html">asterisk/acl.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_pjsip_logger.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d75/res__pjsip__logger_8c__incl.png" border="0" usemap="#res__pjsip__logger_8c" alt=""/></div>
<map name="res__pjsip__logger_8c" id="res__pjsip__logger_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="785,229,869,256"/>
<area shape="rect" id="node24" href="../../d8/d8c/res__pjsip_8h.html" title="asterisk/res_pjsip.h" alt="" coords="2009,80,2153,107"/>
<area shape="rect" id="node31" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="2953,304,3100,331"/>
<area shape="rect" id="node33" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="3065,379,3191,405"/>
<area shape="rect" id="node48" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1077,80,1213,107"/>
<area shape="rect" id="node49" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="1564,229,1665,256"/>
<area shape="rect" id="node50" href="../../d5/d59/acl_8h.html" title="Access Control of various sorts. " alt="" coords="3071,155,3177,181"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="256,304,411,331"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="847,304,985,331"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="689,304,823,331"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="5,379,152,405"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1233,379,1375,405"/>
<area shape="rect" id="node29" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2068,379,2225,405"/>
<area shape="rect" id="node30" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="1941,453,2067,480"/>
<area shape="rect" id="node34" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1951,304,2102,331"/>
<area shape="rect" id="node35" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="2220,229,2359,256"/>
<area shape="rect" id="node39" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="2126,304,2277,331"/>
<area shape="rect" id="node40" href="../../d8/d25/sorcery_8h.html" title="Sorcery Data Access Layer API. " alt="" coords="2408,155,2541,181"/>
<area shape="rect" id="node41" href="../../db/dc4/dnsmgr_8h.html" title="Background DNS update manager. " alt="" coords="2817,229,2953,256"/>
<area shape="rect" id="node42" href="../../d5/da1/udptl_8h.html" title="UDPTL support for T.38. " alt="" coords="2616,155,2736,181"/>
<area shape="rect" id="node44" href="../../d5/dde/rtp__engine_8h.html" title="Pluggable RTP Architecture. " alt="" coords="2586,229,2742,256"/>
<area shape="rect" id="node45" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="2195,155,2384,181"/>
<area shape="rect" id="node46" href="../../d7/d44/stasis__endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1951,229,2145,256"/>
<area shape="rect" id="node47" href="../../d8/d95/stream_8h.html" title="Media Stream API. " alt="" coords="1690,229,1825,256"/>
<area shape="rect" id="node36" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1652,304,1767,331"/>
<area shape="rect" id="node37" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="2851,379,2989,405"/>
<area shape="rect" id="node38" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1644,379,1775,405"/>
<area shape="rect" id="node43" href="../../dc/dac/io_8h.html" title="I/O Management (derived from Cheops&#45;NG) " alt="" coords="2977,229,3076,256"/>
</map>
</div>
</div>
<p><a href="../../d0/d73/res__pjsip__logger_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbb/structpcap__ethernet__header.html">pcap_ethernet_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCAP Ethernet Header.  <a href="../../da/dbb/structpcap__ethernet__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dba/structpcap__header.html">pcap_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCAP Header.  <a href="../../d0/dba/structpcap__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/structpcap__ipv4__header.html">pcap_ipv4_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCAP IPv4 Header.  <a href="../../da/da9/structpcap__ipv4__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db9/structpcap__ipv6__header.html">pcap_ipv6_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCAP IPv6 Header.  <a href="../../d4/db9/structpcap__ipv6__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dfa/structpcap__record__header.html">pcap_record_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCAP Packet Record Header.  <a href="../../dd/dfa/structpcap__record__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCAP UDP Header.  <a href="../../de/dd0/structpcap__udp__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP Logging Session.  <a href="../../d6/dcf/structpjsip__logger__session.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a20fe5e63bfe3479077ef8bb3871fc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#aa8a20fe5e63bfe3479077ef8bb3871fc">check_debug</a> (void)</td></tr>
<tr class="separator:aa8a20fe5e63bfe3479077ef8bb3871fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca2c7346a8910c736028f84553d21cfb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#aca2c7346a8910c736028f84553d21cfb">global_reloaded</a> (const char *object_type)</td></tr>
<tr class="separator:aca2c7346a8910c736028f84553d21cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeb101f92f3b370a9ca5e14d28dc4eba"><td class="memItemLeft" align="right" valign="top">static pj_bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#afeb101f92f3b370a9ca5e14d28dc4eba">logging_on_rx_msg</a> (pjsip_rx_data *rdata)</td></tr>
<tr class="separator:afeb101f92f3b370a9ca5e14d28dc4eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8804f152c3d5b69015c6458672dd97f9"><td class="memItemLeft" align="right" valign="top">static pj_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a8804f152c3d5b69015c6458672dd97f9">logging_on_tx_msg</a> (pjsip_tx_data *tdata)</td></tr>
<tr class="separator:a8804f152c3d5b69015c6458672dd97f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd358d849ae00bb66c70460bcbb9579b"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#afd358d849ae00bb66c70460bcbb9579b">pjsip_disable_logger</a> (int fd)</td></tr>
<tr class="separator:afd358d849ae00bb66c70460bcbb9579b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07916786ea352c6c572ceb0c0b5b109"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#ae07916786ea352c6c572ceb0c0b5b109">pjsip_enable_logger_all</a> (int fd)</td></tr>
<tr class="separator:ae07916786ea352c6c572ceb0c0b5b109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdfa4555cb787001dfad4336a8f0f96f"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#abdfa4555cb787001dfad4336a8f0f96f">pjsip_enable_logger_host</a> (int fd, const char *arg, unsigned int add_host)</td></tr>
<tr class="separator:abdfa4555cb787001dfad4336a8f0f96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2c5a6d46c65ac771f839c1f8e190c9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#aae2c5a6d46c65ac771f839c1f8e190c9">pjsip_log_test_addr</a> (const struct <a class="el" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a> *<a class="el" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>, const char *<a class="el" href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a>, int port)</td></tr>
<tr class="memdesc:aae2c5a6d46c65ac771f839c1f8e190c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">See if we pass debug IP filter.  <a href="#aae2c5a6d46c65ac771f839c1f8e190c9">More...</a><br /></td></tr>
<tr class="separator:aae2c5a6d46c65ac771f839c1f8e190c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e91c601ab77782e61af93e5bb1ff835"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a2e91c601ab77782e61af93e5bb1ff835">pjsip_logger_session_alloc</a> (void)</td></tr>
<tr class="memdesc:a2e91c601ab77782e61af93e5bb1ff835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocator for logger session.  <a href="#a2e91c601ab77782e61af93e5bb1ff835">More...</a><br /></td></tr>
<tr class="separator:a2e91c601ab77782e61af93e5bb1ff835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f67a219ddbf04a8fb38c01e0292146"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#ad5f67a219ddbf04a8fb38c01e0292146">pjsip_logger_session_destroy</a> (void *obj)</td></tr>
<tr class="memdesc:ad5f67a219ddbf04a8fb38c01e0292146"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for logger session.  <a href="#ad5f67a219ddbf04a8fb38c01e0292146">More...</a><br /></td></tr>
<tr class="separator:ad5f67a219ddbf04a8fb38c01e0292146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fafbd82d08601eb4bd430cb90156f9e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a1fafbd82d08601eb4bd430cb90156f9e">pjsip_logger_write_to_pcap</a> (struct <a class="el" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a> *<a class="el" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>, const char *msg, size_t msg_len, pj_sockaddr *source, pj_sockaddr *destination)</td></tr>
<tr class="separator:a1fafbd82d08601eb4bd430cb90156f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5744f09eb72d76a4f96de3cd00172db"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#ab5744f09eb72d76a4f96de3cd00172db">pjsip_set_logger</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:ab5744f09eb72d76a4f96de3cd00172db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ab4afb8ddde51dc18417eb773d82bf"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a79ab4afb8ddde51dc18417eb773d82bf">pjsip_set_logger_pcap</a> (int fd, const char *arg)</td></tr>
<tr class="separator:a79ab4afb8ddde51dc18417eb773d82bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e2ada7a49daafb2842780246ccaaf6"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a48e2ada7a49daafb2842780246ccaaf6">pjsip_set_logger_verbose</a> (int fd, const char *arg)</td></tr>
<tr class="separator:a48e2ada7a49daafb2842780246ccaaf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;PJSIP Packet Logger&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_APP_DEPEND, .requires = &quot;res_pjsip&quot;, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e5e2d7b4752aa623264708b611dde1"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a32e5e2d7b4752aa623264708b611dde1">cli_pjsip</a> []</td></tr>
<tr class="separator:a32e5e2d7b4752aa623264708b611dde1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e5b082f0685798cb2a8ac4fb1c1059d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></td></tr>
<tr class="memdesc:a4e5b082f0685798cb2a8ac4fb1c1059d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default logger session.  <a href="#a4e5b082f0685798cb2a8ac4fb1c1059d">More...</a><br /></td></tr>
<tr class="separator:a4e5b082f0685798cb2a8ac4fb1c1059d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e89719d00da1936706298180df6cc8"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#ad3e89719d00da1936706298180df6cc8">global_observer</a></td></tr>
<tr class="separator:ad3e89719d00da1936706298180df6cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507fdf94a407446fae3d6e24e40c2119"><td class="memItemLeft" align="right" valign="top">static pjsip_module&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d73/res__pjsip__logger_8c.html#a507fdf94a407446fae3d6e24e40c2119">logging_module</a></td></tr>
<tr class="separator:a507fdf94a407446fae3d6e24e40c2119"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00586">586</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00586">586</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00586">586</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

</div>
</div>
<a id="aa8a20fe5e63bfe3479077ef8bb3871fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8a20fe5e63bfe3479077ef8bb3871fc">&#9670;&nbsp;</a></span>check_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_debug </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00514">514</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01968">ast_false()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00232">ast_sip_get_debug()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l00435">debug</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00396">pjsip_disable_logger()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00337">pjsip_enable_logger_all()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00351">pjsip_enable_logger_host()</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00534">global_reloaded()</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00543">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keywordtype">char</span> *, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#ad2434368ebb2554e7686c97b95854e60">ast_sip_get_debug</a>(), <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a>(<a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#afd358d849ae00bb66c70460bcbb9579b">pjsip_disable_logger</a>(-1);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)) {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#ae07916786ea352c6c572ceb0c0b5b109">pjsip_enable_logger_all</a>(-1);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#abdfa4555cb787001dfad4336a8f0f96f">pjsip_enable_logger_host</a>(-1, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, 0) != <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not resolve host %s for debug &quot;</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;         <span class="stringliteral">&quot;logging\n&quot;</span>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_ad2434368ebb2554e7686c97b95854e60"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#ad2434368ebb2554e7686c97b95854e60">ast_sip_get_debug</a></div><div class="ttdeci">char * ast_sip_get_debug(void)</div><div class="ttdoc">Retrieve the system debug setting (yes|no|host). </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfd/config__global_8c_source.html#l00232">config_global.c:232</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_afd358d849ae00bb66c70460bcbb9579b"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#afd358d849ae00bb66c70460bcbb9579b">pjsip_disable_logger</a></div><div class="ttdeci">static char * pjsip_disable_logger(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00396">res_pjsip_logger.c:396</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_ae07916786ea352c6c572ceb0c0b5b109"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#ae07916786ea352c6c572ceb0c0b5b109">pjsip_enable_logger_all</a></div><div class="ttdeci">static char * pjsip_enable_logger_all(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00337">res_pjsip_logger.c:337</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_abdfa4555cb787001dfad4336a8f0f96f"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#abdfa4555cb787001dfad4336a8f0f96f">pjsip_enable_logger_host</a></div><div class="ttdeci">static char * pjsip_enable_logger_host(int fd, const char *arg, unsigned int add_host)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00351">res_pjsip_logger.c:351</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="strings_8h_html_a6c3dc0bad204e9dd9890325c1c861e38"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a></div><div class="ttdeci">int attribute_pure ast_false(const char *val)</div><div class="ttdoc">Make sure something is false. Determine if a string containing a boolean value is &quot;false&quot;...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01968">main/utils.c:1968</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aca2c7346a8910c736028f84553d21cfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca2c7346a8910c736028f84553d21cfb">&#9670;&nbsp;</a></span>global_reloaded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void global_reloaded </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>object_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00534">534</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00514">check_debug()</a>.</p>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;{</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#aa8a20fe5e63bfe3479077ef8bb3871fc">check_debug</a>();</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div><div class="ttc" id="res__pjsip__logger_8c_html_aa8a20fe5e63bfe3479077ef8bb3871fc"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#aa8a20fe5e63bfe3479077ef8bb3871fc">check_debug</a></div><div class="ttdeci">static void check_debug(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00514">res_pjsip_logger.c:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00543">543</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03315">ast_sip_register_service()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02386">ast_sorcery_observer_add()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02418">ast_sorcery_observer_remove()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00514">check_debug()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00136">pjsip_logger_session_alloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00566">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d25/sorcery_8h.html#a6c1928d47eae1172f236e8ee421c2db4">ast_sorcery_observer_add</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;global&quot;</span>, &amp;<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#ad3e89719d00da1936706298180df6cc8">global_observer</a>)) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to add global observer\n&quot;</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a> = <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a2e91c601ab77782e61af93e5bb1ff835">pjsip_logger_session_alloc</a>();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <a class="code" href="../../d8/d25/sorcery_8h.html#a18d64c360480b458754fc30f781d5011">ast_sorcery_observer_remove</a>(</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;         <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;global&quot;</span>, &amp;<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#ad3e89719d00da1936706298180df6cc8">global_observer</a>);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create default logger\n&quot;</span>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#aa8a20fe5e63bfe3479077ef8bb3871fc">check_debug</a>();</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a2d923ef44f62dffc05178f762b88f084">ast_sip_register_service</a>(&amp;<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a507fdf94a407446fae3d6e24e40c2119">logging_module</a>);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a32e5e2d7b4752aa623264708b611dde1">cli_pjsip</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a32e5e2d7b4752aa623264708b611dde1">cli_pjsip</a>));</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_aa8a20fe5e63bfe3479077ef8bb3871fc"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#aa8a20fe5e63bfe3479077ef8bb3871fc">check_debug</a></div><div class="ttdeci">static void check_debug(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00514">res_pjsip_logger.c:514</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_ad3e89719d00da1936706298180df6cc8"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#ad3e89719d00da1936706298180df6cc8">global_observer</a></div><div class="ttdeci">static const struct ast_sorcery_observer global_observer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00539">res_pjsip_logger.c:539</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a507fdf94a407446fae3d6e24e40c2119"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a507fdf94a407446fae3d6e24e40c2119">logging_module</a></div><div class="ttdeci">static pjsip_module logging_module</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00328">res_pjsip_logger.c:328</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a2d923ef44f62dffc05178f762b88f084"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a2d923ef44f62dffc05178f762b88f084">ast_sip_register_service</a></div><div class="ttdeci">int ast_sip_register_service(pjsip_module *module)</div><div class="ttdoc">Register a SIP service in Asterisk. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03315">res_pjsip.c:3315</a></div></div>
<div class="ttc" id="sorcery_8h_html_a6c1928d47eae1172f236e8ee421c2db4"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a6c1928d47eae1172f236e8ee421c2db4">ast_sorcery_observer_add</a></div><div class="ttdeci">int ast_sorcery_observer_add(const struct ast_sorcery *sorcery, const char *type, const struct ast_sorcery_observer *callbacks)</div><div class="ttdoc">Add an observer to a specific object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02386">sorcery.c:2386</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a2e91c601ab77782e61af93e5bb1ff835"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a2e91c601ab77782e61af93e5bb1ff835">pjsip_logger_session_alloc</a></div><div class="ttdeci">static struct pjsip_logger_session * pjsip_logger_session_alloc(void)</div><div class="ttdoc">Allocator for logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00136">res_pjsip_logger.c:136</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a32e5e2d7b4752aa623264708b611dde1"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a32e5e2d7b4752aa623264708b611dde1">cli_pjsip</a></div><div class="ttdeci">static struct ast_cli_entry cli_pjsip[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00510">res_pjsip_logger.c:510</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a4e5b082f0685798cb2a8ac4fb1c1059d"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></div><div class="ttdeci">static struct pjsip_logger_session * default_logger</div><div class="ttdoc">The default logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">res_pjsip_logger.c:121</a></div></div>
<div class="ttc" id="sorcery_8h_html_a18d64c360480b458754fc30f781d5011"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a18d64c360480b458754fc30f781d5011">ast_sorcery_observer_remove</a></div><div class="ttdeci">void ast_sorcery_observer_remove(const struct ast_sorcery *sorcery, const char *type, const struct ast_sorcery_observer *callbacks)</div><div class="ttdoc">Remove an observer from a specific object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02418">sorcery.c:2418</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afeb101f92f3b370a9ca5e14d28dc4eba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeb101f92f3b370a9ca5e14d28dc4eba">&#9670;&nbsp;</a></span>logging_on_rx_msg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pj_bool_t logging_on_rx_msg </td>
          <td>(</td>
          <td class="paramtype">pjsip_rx_data *&#160;</td>
          <td class="paramname"><em>rdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00296">296</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00719">ao2_rdlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00046">AST_SOCKADDR_BUFLEN</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02207">ast_verbose()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00117">pjsip_logger_session::log_to_pcap</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">pjsip_logger_session::log_to_verbose</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00152">pjsip_log_test_addr()</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00180">pjsip_logger_write_to_pcap()</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keywordtype">char</span> buffer[<a class="code" href="../../db/df1/netsock2_8h.html#aded4d9ff3f772448b4716fd90ed47c8d">AST_SOCKADDR_BUFLEN</a>];</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <span class="keywordflow">if</span> (!rdata-&gt;msg_info.msg) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">return</span> PJ_FALSE;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a24c1bf4b1202c996cf8a793fa6669bc2">ao2_rdlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#aae2c5a6d46c65ac771f839c1f8e190c9">pjsip_log_test_addr</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>, rdata-&gt;pkt_info.src_name, rdata-&gt;pkt_info.src_port)) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">return</span> PJ_FALSE;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">log_to_verbose</a>) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="../../d4/dc5/extconf_8c.html#a81d26348827b996085d4cb6be3e2c348">ast_verbose</a>(<span class="stringliteral">&quot;&lt;--- Received SIP %s (%d bytes) from %s:%s ---&gt;\n%s\n&quot;</span>,</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;         rdata-&gt;msg_info.msg-&gt;type == PJSIP_REQUEST_MSG ? <span class="stringliteral">&quot;request&quot;</span> : <span class="stringliteral">&quot;response&quot;</span>,</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;         rdata-&gt;msg_info.len,</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;         rdata-&gt;tp_info.transport-&gt;type_name,</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         pj_sockaddr_print(&amp;rdata-&gt;pkt_info.src_addr, buffer, <span class="keyword">sizeof</span>(buffer), 3),</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;         rdata-&gt;pkt_info.packet);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af48993091766eb4832c0c4139df63355">log_to_pcap</a>) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a1fafbd82d08601eb4bd430cb90156f9e">pjsip_logger_write_to_pcap</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>, rdata-&gt;pkt_info.packet, rdata-&gt;msg_info.len,</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;         &amp;rdata-&gt;pkt_info.src_addr, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <span class="keywordflow">return</span> PJ_FALSE;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_aded4d9ff3f772448b4716fd90ed47c8d"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aded4d9ff3f772448b4716fd90ed47c8d">AST_SOCKADDR_BUFLEN</a></div><div class="ttdeci">#define AST_SOCKADDR_BUFLEN</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00046">netsock2.h:46</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a273b281fa90e5828ad923a650043f026"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">pjsip_logger_session::log_to_verbose</a></div><div class="ttdeci">unsigned int log_to_verbose</div><div class="ttdoc">Whether to log to verbose or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">res_pjsip_logger.c:115</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="extconf_8c_html_a81d26348827b996085d4cb6be3e2c348"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#a81d26348827b996085d4cb6be3e2c348">ast_verbose</a></div><div class="ttdeci">void ast_verbose(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02207">extconf.c:2207</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_af48993091766eb4832c0c4139df63355"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#af48993091766eb4832c0c4139df63355">pjsip_logger_session::log_to_pcap</a></div><div class="ttdeci">unsigned int log_to_pcap</div><div class="ttdoc">Whether to log to pcap or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00117">res_pjsip_logger.c:117</a></div></div>
<div class="ttc" id="astobj2_8h_html_a24c1bf4b1202c996cf8a793fa6669bc2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a24c1bf4b1202c996cf8a793fa6669bc2">ao2_rdlock</a></div><div class="ttdeci">#define ao2_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00719">astobj2.h:719</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a4e5b082f0685798cb2a8ac4fb1c1059d"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></div><div class="ttdeci">static struct pjsip_logger_session * default_logger</div><div class="ttdoc">The default logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">res_pjsip_logger.c:121</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_aae2c5a6d46c65ac771f839c1f8e190c9"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#aae2c5a6d46c65ac771f839c1f8e190c9">pjsip_log_test_addr</a></div><div class="ttdeci">static int pjsip_log_test_addr(const struct pjsip_logger_session *session, const char *address, int port)</div><div class="ttdoc">See if we pass debug IP filter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00152">res_pjsip_logger.c:152</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a1fafbd82d08601eb4bd430cb90156f9e"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a1fafbd82d08601eb4bd430cb90156f9e">pjsip_logger_write_to_pcap</a></div><div class="ttdeci">static void pjsip_logger_write_to_pcap(struct pjsip_logger_session *session, const char *msg, size_t msg_len, pj_sockaddr *source, pj_sockaddr *destination)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00180">res_pjsip_logger.c:180</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8804f152c3d5b69015c6458672dd97f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8804f152c3d5b69015c6458672dd97f9">&#9670;&nbsp;</a></span>logging_on_tx_msg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pj_status_t logging_on_tx_msg </td>
          <td>(</td>
          <td class="paramtype">pjsip_tx_data *&#160;</td>
          <td class="paramname"><em>tdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00268">268</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00719">ao2_rdlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00046">AST_SOCKADDR_BUFLEN</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02207">ast_verbose()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00117">pjsip_logger_session::log_to_pcap</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">pjsip_logger_session::log_to_verbose</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00152">pjsip_log_test_addr()</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00180">pjsip_logger_write_to_pcap()</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordtype">char</span> buffer[<a class="code" href="../../db/df1/netsock2_8h.html#aded4d9ff3f772448b4716fd90ed47c8d">AST_SOCKADDR_BUFLEN</a>];</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a24c1bf4b1202c996cf8a793fa6669bc2">ao2_rdlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#aae2c5a6d46c65ac771f839c1f8e190c9">pjsip_log_test_addr</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>, tdata-&gt;tp_info.dst_name, tdata-&gt;tp_info.dst_port)) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">return</span> PJ_SUCCESS;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">log_to_verbose</a>) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <a class="code" href="../../d4/dc5/extconf_8c.html#a81d26348827b996085d4cb6be3e2c348">ast_verbose</a>(<span class="stringliteral">&quot;&lt;--- Transmitting SIP %s (%d bytes) to %s:%s ---&gt;\n%.*s\n&quot;</span>,</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;         tdata-&gt;msg-&gt;type == PJSIP_REQUEST_MSG ? <span class="stringliteral">&quot;request&quot;</span> : <span class="stringliteral">&quot;response&quot;</span>,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;         (<span class="keywordtype">int</span>) (tdata-&gt;buf.cur - tdata-&gt;buf.start),</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         tdata-&gt;tp_info.transport-&gt;type_name,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;         pj_sockaddr_print(&amp;tdata-&gt;tp_info.dst_addr, buffer, <span class="keyword">sizeof</span>(buffer), 3),</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;         (<span class="keywordtype">int</span>) (tdata-&gt;buf.end - tdata-&gt;buf.start), tdata-&gt;buf.start);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af48993091766eb4832c0c4139df63355">log_to_pcap</a>) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a1fafbd82d08601eb4bd430cb90156f9e">pjsip_logger_write_to_pcap</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>, tdata-&gt;buf.start, (<span class="keywordtype">int</span>) (tdata-&gt;buf.cur - tdata-&gt;buf.start),</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;tdata-&gt;tp_info.dst_addr);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordflow">return</span> PJ_SUCCESS;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_aded4d9ff3f772448b4716fd90ed47c8d"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aded4d9ff3f772448b4716fd90ed47c8d">AST_SOCKADDR_BUFLEN</a></div><div class="ttdeci">#define AST_SOCKADDR_BUFLEN</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00046">netsock2.h:46</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a273b281fa90e5828ad923a650043f026"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">pjsip_logger_session::log_to_verbose</a></div><div class="ttdeci">unsigned int log_to_verbose</div><div class="ttdoc">Whether to log to verbose or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">res_pjsip_logger.c:115</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="extconf_8c_html_a81d26348827b996085d4cb6be3e2c348"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#a81d26348827b996085d4cb6be3e2c348">ast_verbose</a></div><div class="ttdeci">void ast_verbose(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02207">extconf.c:2207</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_af48993091766eb4832c0c4139df63355"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#af48993091766eb4832c0c4139df63355">pjsip_logger_session::log_to_pcap</a></div><div class="ttdeci">unsigned int log_to_pcap</div><div class="ttdoc">Whether to log to pcap or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00117">res_pjsip_logger.c:117</a></div></div>
<div class="ttc" id="astobj2_8h_html_a24c1bf4b1202c996cf8a793fa6669bc2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a24c1bf4b1202c996cf8a793fa6669bc2">ao2_rdlock</a></div><div class="ttdeci">#define ao2_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00719">astobj2.h:719</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a4e5b082f0685798cb2a8ac4fb1c1059d"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></div><div class="ttdeci">static struct pjsip_logger_session * default_logger</div><div class="ttdoc">The default logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">res_pjsip_logger.c:121</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_aae2c5a6d46c65ac771f839c1f8e190c9"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#aae2c5a6d46c65ac771f839c1f8e190c9">pjsip_log_test_addr</a></div><div class="ttdeci">static int pjsip_log_test_addr(const struct pjsip_logger_session *session, const char *address, int port)</div><div class="ttdoc">See if we pass debug IP filter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00152">res_pjsip_logger.c:152</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a1fafbd82d08601eb4bd430cb90156f9e"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a1fafbd82d08601eb4bd430cb90156f9e">pjsip_logger_write_to_pcap</a></div><div class="ttdeci">static void pjsip_logger_write_to_pcap(struct pjsip_logger_session *session, const char *msg, size_t msg_len, pj_sockaddr *source, pj_sockaddr *destination)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00180">res_pjsip_logger.c:180</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd358d849ae00bb66c70460bcbb9579b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd358d849ae00bb66c70460bcbb9579b">&#9670;&nbsp;</a></span>pjsip_disable_logger()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pjsip_disable_logger </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00396">396</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00720">ao2_wrlock</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d9/db8/acl_8c_source.html#l00222">ast_free_ha()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00111">pjsip_logger_session::enabled</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00113">pjsip_logger_session::log_all_traffic</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00117">pjsip_logger_session::log_to_pcap</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">pjsip_logger_session::log_to_verbose</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00105">pjsip_logger_session::matches</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00109">pjsip_logger_session::pcap_file</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00107">pjsip_logger_session::pcap_filename</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00514">check_debug()</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00470">pjsip_set_logger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;{</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <span class="comment">/* Default the settings back to the way they were */</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a63be54a0beac1f5717217e1d9e629c71">enabled</a> = 0;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#aad3ff0368343cd3560ed1de48427f5ac">log_all_traffic</a> = 0;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#ad0301a5b28cccd6ebb6b3cd0e423903e">pcap_filename</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">log_to_verbose</a> = 1;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af48993091766eb4832c0c4139df63355">log_to_pcap</a> = 0;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="comment">/* Stop logging to the PCAP file if active */</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      fclose(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <a class="code" href="../../d5/d59/acl_8h.html#a45dc427430b544afc0ef8e898b2c57bf">ast_free_ha</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <span class="keywordflow">if</span> (fd &gt;= 0) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;PJSIP Logging disabled\n&quot;</span>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div><div class="ttc" id="structpjsip__logger__session_html_ad0301a5b28cccd6ebb6b3cd0e423903e"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#ad0301a5b28cccd6ebb6b3cd0e423903e">pjsip_logger_session::pcap_filename</a></div><div class="ttdeci">char pcap_filename[PATH_MAX]</div><div class="ttdoc">Filename used for the pcap file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00107">res_pjsip_logger.c:107</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a273b281fa90e5828ad923a650043f026"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">pjsip_logger_session::log_to_verbose</a></div><div class="ttdeci">unsigned int log_to_verbose</div><div class="ttdoc">Whether to log to verbose or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">res_pjsip_logger.c:115</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3498e30d6154a052e7b64b7a96da8b4b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a></div><div class="ttdeci">#define ao2_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00720">astobj2.h:720</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_af48993091766eb4832c0c4139df63355"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#af48993091766eb4832c0c4139df63355">pjsip_logger_session::log_to_pcap</a></div><div class="ttdeci">unsigned int log_to_pcap</div><div class="ttdoc">Whether to log to pcap or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00117">res_pjsip_logger.c:117</a></div></div>
<div class="ttc" id="acl_8h_html_a45dc427430b544afc0ef8e898b2c57bf"><div class="ttname"><a href="../../d5/d59/acl_8h.html#a45dc427430b544afc0ef8e898b2c57bf">ast_free_ha</a></div><div class="ttdeci">void ast_free_ha(struct ast_ha *ha)</div><div class="ttdoc">Free a list of HAs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l00222">acl.c:222</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a4e5b082f0685798cb2a8ac4fb1c1059d"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></div><div class="ttdeci">static struct pjsip_logger_session * default_logger</div><div class="ttdoc">The default logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">res_pjsip_logger.c:121</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_af36d207962f36106cf6387185c4fa458"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pjsip_logger_session::pcap_file</a></div><div class="ttdeci">FILE * pcap_file</div><div class="ttdoc">The pcap file itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00109">res_pjsip_logger.c:109</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a63be54a0beac1f5717217e1d9e629c71"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a63be54a0beac1f5717217e1d9e629c71">pjsip_logger_session::enabled</a></div><div class="ttdeci">unsigned int enabled</div><div class="ttdoc">Whether the session is enabled or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00111">res_pjsip_logger.c:111</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_aad3ff0368343cd3560ed1de48427f5ac"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#aad3ff0368343cd3560ed1de48427f5ac">pjsip_logger_session::log_all_traffic</a></div><div class="ttdeci">unsigned int log_all_traffic</div><div class="ttdoc">Whether the session is logging all traffic or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00113">res_pjsip_logger.c:113</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a1f681dd0836efdb4074ba69d579ec37d"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">pjsip_logger_session::matches</a></div><div class="ttdeci">struct ast_ha * matches</div><div class="ttdoc">Explicit addresses or ranges being logged. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00105">res_pjsip_logger.c:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae07916786ea352c6c572ceb0c0b5b109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07916786ea352c6c572ceb0c0b5b109">&#9670;&nbsp;</a></span>pjsip_enable_logger_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pjsip_enable_logger_all </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00337">337</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00720">ao2_wrlock</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00111">pjsip_logger_session::enabled</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00113">pjsip_logger_session::log_all_traffic</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00514">check_debug()</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00470">pjsip_set_logger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a63be54a0beac1f5717217e1d9e629c71">enabled</a> = 1;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#aad3ff0368343cd3560ed1de48427f5ac">log_all_traffic</a> = 1;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordflow">if</span> (fd &gt;= 0) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;PJSIP Logging enabled\n&quot;</span>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3498e30d6154a052e7b64b7a96da8b4b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a></div><div class="ttdeci">#define ao2_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00720">astobj2.h:720</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a4e5b082f0685798cb2a8ac4fb1c1059d"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></div><div class="ttdeci">static struct pjsip_logger_session * default_logger</div><div class="ttdoc">The default logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">res_pjsip_logger.c:121</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a63be54a0beac1f5717217e1d9e629c71"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a63be54a0beac1f5717217e1d9e629c71">pjsip_logger_session::enabled</a></div><div class="ttdeci">unsigned int enabled</div><div class="ttdoc">Whether the session is enabled or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00111">res_pjsip_logger.c:111</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_aad3ff0368343cd3560ed1de48427f5ac"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#aad3ff0368343cd3560ed1de48427f5ac">pjsip_logger_session::log_all_traffic</a></div><div class="ttdeci">unsigned int log_all_traffic</div><div class="ttdoc">Whether the session is logging all traffic or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00113">res_pjsip_logger.c:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abdfa4555cb787001dfad4336a8f0f96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdfa4555cb787001dfad4336a8f0f96f">&#9670;&nbsp;</a></span>pjsip_enable_logger_host()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pjsip_enable_logger_host </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>add_host</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00351">351</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00720">ao2_wrlock</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00054">AST_AF_UNSPEC</a>, <a class="el" href="../../d9/db8/acl_8c_source.html#l00718">ast_append_ha_with_port()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d9/db8/acl_8c_source.html#l00222">ast_free_ha()</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00230">ast_sockaddr_parse()</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00337">ast_sockaddr_resolve_first_af()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00260">ast_sockaddr_stringify()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00290">ast_sockaddr_stringify_addr()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00111">pjsip_logger_session::enabled</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d0/d8a/muted_8c_source.html#l00077">host</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00105">pjsip_logger_session::matches</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00514">check_debug()</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00470">pjsip_set_logger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;{</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a> = arg;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   <span class="keywordtype">char</span> *mask;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> <a class="code" href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> = 0;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a63be54a0beac1f5717217e1d9e629c71">enabled</a> = 1;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="keywordflow">if</span> (!add_host) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="comment">/* If this is not adding an additional host or subnet then we have to</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">       * remove what already exists.</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <a class="code" href="../../d5/d59/acl_8h.html#a45dc427430b544afc0ef8e898b2c57bf">ast_free_ha</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   mask = strrchr(host, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <span class="keywordflow">if</span> (!mask &amp;&amp; !<a class="code" href="../../db/df1/netsock2_8h.html#aad98818272870e12d48fe4347aaa46d0">ast_sockaddr_parse</a>(&amp;<a class="code" href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a>, arg, 0)) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/df1/netsock2_8h.html#a02d40ab39a395d3c81ab876ed67d55cd">ast_sockaddr_resolve_first_af</a>(&amp;<a class="code" href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a>, arg, 0, <a class="code" href="../../db/df1/netsock2_8h.html#a27c1625aa5fde74a6dec3d424733c579a97dcf13ca2f2ce3ce4c66de236e6f3f7">AST_AF_UNSPEC</a>)) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      host = <a class="code" href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a>(&amp;<a class="code" href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a>);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a> = <a class="code" href="../../d5/d59/acl_8h.html#a51035b96ac8c6d49c8b74f99bcafeb3a">ast_append_ha_with_port</a>(<span class="stringliteral">&quot;d&quot;</span>, host, <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a>, &amp;error);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a> || error) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordflow">if</span> (fd &gt;= 0) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Failed to add address &#39;%s&#39; for logging\n&quot;</span>, host);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="keywordflow">if</span> (fd &gt;= 0) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;PJSIP Logging Enabled for host: %s\n&quot;</span>, <a class="code" href="../../db/df1/netsock2_8h.html#a6bf0e68e74c0a9ca9d25251b22e4d64a">ast_sockaddr_stringify_addr</a>(&amp;<a class="code" href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a>));</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_a6bf0e68e74c0a9ca9d25251b22e4d64a"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a6bf0e68e74c0a9ca9d25251b22e4d64a">ast_sockaddr_stringify_addr</a></div><div class="ttdeci">static char * ast_sockaddr_stringify_addr(const struct ast_sockaddr *addr)</div><div class="ttdoc">Wrapper around ast_sockaddr_stringify_fmt() to return an address only. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00290">netsock2.h:290</a></div></div>
<div class="ttc" id="netsock2_8h_html_aad98818272870e12d48fe4347aaa46d0"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aad98818272870e12d48fe4347aaa46d0">ast_sockaddr_parse</a></div><div class="ttdeci">int ast_sockaddr_parse(struct ast_sockaddr *addr, const char *str, int flags)</div><div class="ttdoc">Parse an IPv4 or IPv6 address string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00230">netsock2.c:230</a></div></div>
<div class="ttc" id="f2c_8h_html_a27c1bdb0cba23a9db2a51eed7b3b2ac1"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a></div><div class="ttdeci">char * address</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00059">f2c.h:59</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3498e30d6154a052e7b64b7a96da8b4b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a></div><div class="ttdeci">#define ao2_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00720">astobj2.h:720</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="muted_8c_html_a41c3a180b50c6b2ddcc1b6843a48f205"><div class="ttname"><a href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a></div><div class="ttdeci">static char host[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00077">muted.c:77</a></div></div>
<div class="ttc" id="netsock2_8h_html_a02d40ab39a395d3c81ab876ed67d55cd"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a02d40ab39a395d3c81ab876ed67d55cd">ast_sockaddr_resolve_first_af</a></div><div class="ttdeci">int ast_sockaddr_resolve_first_af(struct ast_sockaddr *addr, const char *name, int flag, int family)</div><div class="ttdoc">Return the first entry from ast_sockaddr_resolve filtered by address family. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00337">netsock2.c:337</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="netsock2_8h_html_aae9156c7fe6dff51463f29ed1c3b96c9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a></div><div class="ttdeci">static char * ast_sockaddr_stringify(const struct ast_sockaddr *addr)</div><div class="ttdoc">Wrapper around ast_sockaddr_stringify_fmt() with default format. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00260">netsock2.h:260</a></div></div>
<div class="ttc" id="netsock2_8h_html_a27c1625aa5fde74a6dec3d424733c579a97dcf13ca2f2ce3ce4c66de236e6f3f7"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a27c1625aa5fde74a6dec3d424733c579a97dcf13ca2f2ce3ce4c66de236e6f3f7">AST_AF_UNSPEC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00054">netsock2.h:54</a></div></div>
<div class="ttc" id="acl_8h_html_a45dc427430b544afc0ef8e898b2c57bf"><div class="ttname"><a href="../../d5/d59/acl_8h.html#a45dc427430b544afc0ef8e898b2c57bf">ast_free_ha</a></div><div class="ttdeci">void ast_free_ha(struct ast_ha *ha)</div><div class="ttdoc">Free a list of HAs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l00222">acl.c:222</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a4e5b082f0685798cb2a8ac4fb1c1059d"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></div><div class="ttdeci">static struct pjsip_logger_session * default_logger</div><div class="ttdoc">The default logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">res_pjsip_logger.c:121</a></div></div>
<div class="ttc" id="acl_8h_html_a51035b96ac8c6d49c8b74f99bcafeb3a"><div class="ttname"><a href="../../d5/d59/acl_8h.html#a51035b96ac8c6d49c8b74f99bcafeb3a">ast_append_ha_with_port</a></div><div class="ttdeci">struct ast_ha * ast_append_ha_with_port(const char *sense, const char *stuff, struct ast_ha *path, int *error)</div><div class="ttdoc">Add a new rule with optional port to a list of HAs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l00718">acl.c:718</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a63be54a0beac1f5717217e1d9e629c71"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a63be54a0beac1f5717217e1d9e629c71">pjsip_logger_session::enabled</a></div><div class="ttdeci">unsigned int enabled</div><div class="ttdoc">Whether the session is enabled or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00111">res_pjsip_logger.c:111</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a1f681dd0836efdb4074ba69d579ec37d"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">pjsip_logger_session::matches</a></div><div class="ttdeci">struct ast_ha * matches</div><div class="ttdoc">Explicit addresses or ranges being logged. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00105">res_pjsip_logger.c:105</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aae2c5a6d46c65ac771f839c1f8e190c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2c5a6d46c65ac771f839c1f8e190c9">&#9670;&nbsp;</a></span>pjsip_log_test_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pjsip_log_test_addr </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See if we pass debug IP filter. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00152">152</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db8/acl_8c_source.html#l00808">ast_apply_ha()</a>, <a class="el" href="../../d5/d59/acl_8h_source.html#l00038">AST_SENSE_ALLOW</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00230">ast_sockaddr_parse()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00537">ast_sockaddr_set_port</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00111">pjsip_logger_session::enabled</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00113">pjsip_logger_session::log_all_traffic</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00105">pjsip_logger_session::matches</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01133">PARSE_PORT_IGNORE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00296">logging_on_rx_msg()</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00268">logging_on_tx_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> test_addr;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <span class="keywordflow">if</span> (!session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a63be54a0beac1f5717217e1d9e629c71">enabled</a>) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordflow">if</span> (session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#aad3ff0368343cd3560ed1de48427f5ac">log_all_traffic</a>) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="comment">/* A null address was passed in or no explicit matches. Just reject it. */</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a>) || !session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a>) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <a class="code" href="../../db/df1/netsock2_8h.html#aad98818272870e12d48fe4347aaa46d0">ast_sockaddr_parse</a>(&amp;test_addr, <a class="code" href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa16f16657d9166eef98393fb8bfa5da8d">PARSE_PORT_IGNORE</a>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   <a class="code" href="../../db/df1/netsock2_8h.html#ac83e6bdec376b74d02da8d2f8e1af888">ast_sockaddr_set_port</a>(&amp;test_addr, port);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="comment">/* Compare the address against the matches */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d59/acl_8h.html#aa5049380ffb26d76d2f236d886964aac">ast_apply_ha</a>(session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a>, &amp;test_addr) != <a class="code" href="../../d5/d59/acl_8h.html#a764d04fe9485be95771e652dc2c87445aa0513e1a62f9d6275b8f3667b7dff6d2">AST_SENSE_ALLOW</a>) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div><div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569fa16f16657d9166eef98393fb8bfa5da8d"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa16f16657d9166eef98393fb8bfa5da8d">PARSE_PORT_IGNORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01133">include/asterisk/config.h:1133</a></div></div>
<div class="ttc" id="netsock2_8h_html_aad98818272870e12d48fe4347aaa46d0"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aad98818272870e12d48fe4347aaa46d0">ast_sockaddr_parse</a></div><div class="ttdeci">int ast_sockaddr_parse(struct ast_sockaddr *addr, const char *str, int flags)</div><div class="ttdoc">Parse an IPv4 or IPv6 address string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00230">netsock2.c:230</a></div></div>
<div class="ttc" id="f2c_8h_html_a27c1bdb0cba23a9db2a51eed7b3b2ac1"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#a27c1bdb0cba23a9db2a51eed7b3b2ac1">address</a></div><div class="ttdeci">char * address</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00059">f2c.h:59</a></div></div>
<div class="ttc" id="acl_8h_html_aa5049380ffb26d76d2f236d886964aac"><div class="ttname"><a href="../../d5/d59/acl_8h.html#aa5049380ffb26d76d2f236d886964aac">ast_apply_ha</a></div><div class="ttdeci">enum ast_acl_sense ast_apply_ha(const struct ast_ha *ha, const struct ast_sockaddr *addr)</div><div class="ttdoc">Apply a set of rules to a given IP address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l00808">acl.c:808</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="netsock2_8h_html_ac83e6bdec376b74d02da8d2f8e1af888"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#ac83e6bdec376b74d02da8d2f8e1af888">ast_sockaddr_set_port</a></div><div class="ttdeci">#define ast_sockaddr_set_port(addr, port)</div><div class="ttdoc">Sets the port number of a socket address. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00537">netsock2.h:537</a></div></div>
<div class="ttc" id="acl_8h_html_a764d04fe9485be95771e652dc2c87445aa0513e1a62f9d6275b8f3667b7dff6d2"><div class="ttname"><a href="../../d5/d59/acl_8h.html#a764d04fe9485be95771e652dc2c87445aa0513e1a62f9d6275b8f3667b7dff6d2">AST_SENSE_ALLOW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d59/acl_8h_source.html#l00038">acl.h:38</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a63be54a0beac1f5717217e1d9e629c71"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a63be54a0beac1f5717217e1d9e629c71">pjsip_logger_session::enabled</a></div><div class="ttdeci">unsigned int enabled</div><div class="ttdoc">Whether the session is enabled or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00111">res_pjsip_logger.c:111</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_aad3ff0368343cd3560ed1de48427f5ac"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#aad3ff0368343cd3560ed1de48427f5ac">pjsip_logger_session::log_all_traffic</a></div><div class="ttdeci">unsigned int log_all_traffic</div><div class="ttdoc">Whether the session is logging all traffic or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00113">res_pjsip_logger.c:113</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a1f681dd0836efdb4074ba69d579ec37d"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">pjsip_logger_session::matches</a></div><div class="ttdeci">struct ast_ha * matches</div><div class="ttdoc">Explicit addresses or ranges being logged. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00105">res_pjsip_logger.c:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e91c601ab77782e61af93e5bb1ff835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e91c601ab77782e61af93e5bb1ff835">&#9670;&nbsp;</a></span>pjsip_logger_session_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a>* pjsip_logger_session_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocator for logger session. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00136">136</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00367">AO2_ALLOC_OPT_LOCK_RWLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">pjsip_logger_session::log_to_verbose</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00124">pjsip_logger_session_destroy()</a>, and <a class="el" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00543">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a> *<a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   session = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a>), <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#ad5f67a219ddbf04a8fb38c01e0292146">pjsip_logger_session_destroy</a>,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <span class="keywordflow">if</span> (!session) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">log_to_verbose</a> = 1;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div><div class="ttc" id="structpjsip__logger__session_html_a273b281fa90e5828ad923a650043f026"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">pjsip_logger_session::log_to_verbose</a></div><div class="ttdeci">unsigned int log_to_verbose</div><div class="ttdoc">Whether to log to verbose or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">res_pjsip_logger.c:115</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a></div><div class="ttdoc">PJSIP Logging Session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00103">res_pjsip_logger.c:103</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_ad5f67a219ddbf04a8fb38c01e0292146"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#ad5f67a219ddbf04a8fb38c01e0292146">pjsip_logger_session_destroy</a></div><div class="ttdeci">static void pjsip_logger_session_destroy(void *obj)</div><div class="ttdoc">Destructor for logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00124">res_pjsip_logger.c:124</a></div></div>
<div class="ttc" id="astman_8c_html_ac4a6ae0400e4457f0b35beddec80c93d"><div class="ttname"><a href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a></div><div class="ttdeci">static struct ast_mansession session</div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a7016a58d1b7524c186ccc72ec48ef488">AO2_ALLOC_OPT_LOCK_RWLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00367">astobj2.h:367</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5f67a219ddbf04a8fb38c01e0292146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5f67a219ddbf04a8fb38c01e0292146">&#9670;&nbsp;</a></span>pjsip_logger_session_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pjsip_logger_session_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor for logger session. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00124">124</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db8/acl_8c_source.html#l00222">ast_free_ha()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00105">pjsip_logger_session::matches</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00109">pjsip_logger_session::pcap_file</a>, and <a class="el" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00136">pjsip_logger_session_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a> *<a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a> = obj;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <span class="keywordflow">if</span> (session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      fclose(session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <a class="code" href="../../d5/d59/acl_8h.html#a45dc427430b544afc0ef8e898b2c57bf">ast_free_ha</a>(session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">matches</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="structpjsip__logger__session_html"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a></div><div class="ttdoc">PJSIP Logging Session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00103">res_pjsip_logger.c:103</a></div></div>
<div class="ttc" id="astman_8c_html_ac4a6ae0400e4457f0b35beddec80c93d"><div class="ttname"><a href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a></div><div class="ttdeci">static struct ast_mansession session</div></div>
<div class="ttc" id="acl_8h_html_a45dc427430b544afc0ef8e898b2c57bf"><div class="ttname"><a href="../../d5/d59/acl_8h.html#a45dc427430b544afc0ef8e898b2c57bf">ast_free_ha</a></div><div class="ttdeci">void ast_free_ha(struct ast_ha *ha)</div><div class="ttdoc">Free a list of HAs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l00222">acl.c:222</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_af36d207962f36106cf6387185c4fa458"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pjsip_logger_session::pcap_file</a></div><div class="ttdeci">FILE * pcap_file</div><div class="ttdoc">The pcap file itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00109">res_pjsip_logger.c:109</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_a1f681dd0836efdb4074ba69d579ec37d"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a1f681dd0836efdb4074ba69d579ec37d">pjsip_logger_session::matches</a></div><div class="ttdeci">struct ast_ha * matches</div><div class="ttdoc">Explicit addresses or ranges being logged. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00105">res_pjsip_logger.c:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1fafbd82d08601eb4bd430cb90156f9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fafbd82d08601eb4bd430cb90156f9e">&#9670;&nbsp;</a></span>pjsip_logger_write_to_pcap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pjsip_logger_write_to_pcap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pj_sockaddr *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pj_sockaddr *&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00180">180</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00720">ao2_wrlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00097">pcap_udp_header::dst</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00054">pcap_record_header::incl_len</a>, <a class="el" href="../../d4/db9/structpcap__ipv6__header.html#a0c8d84ec61cd7ec10067df125b5bdb4b">pcap_ipv6_header::ip6_ctlun</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00091">pcap_ipv6_header::ip6_dst</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00090">pcap_ipv6_header::ip6_src</a>, <a class="el" href="../../d4/db9/structpcap__ipv6__header.html#afedd7d7e26a53a2d7adc1aaf37c0e796">pcap_ipv6_header::ip6_un1</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00088">pcap_ipv6_header::ip6_un2_vfc</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00076">pcap_ipv4_header::ip_dst</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00069">pcap_ipv4_header::ip_len</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00073">pcap_ipv4_header::ip_protocol</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00075">pcap_ipv4_header::ip_src</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00098">pcap_udp_header::length</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00055">pcap_record_header::orig_len</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00109">pjsip_logger_session::pcap_file</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00096">pcap_udp_header::src</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00052">pcap_record_header::ts_sec</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00062">pcap_ethernet_header::type</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00067">pcap_ipv4_header::ver_ihl</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00296">logging_on_rx_msg()</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00268">logging_on_tx_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keyword">struct </span>timeval now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dfa/structpcap__record__header.html">pcap_record_header</a> <a class="code" href="../../dd/dfa/structpcap__record__header.html">pcap_record_header</a> = {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      .<a class="code" href="../../dd/dfa/structpcap__record__header.html#ae1a4b5cc6cf9132afe4b4d20650bf61b">ts_sec</a> = now.tv_sec,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      .ts_usec = now.tv_usec,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   };</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/dbb/structpcap__ethernet__header.html">pcap_ethernet_header</a> <a class="code" href="../../da/dbb/structpcap__ethernet__header.html">pcap_ethernet_header</a> = {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      .<a class="code" href="../../da/dbb/structpcap__ethernet__header.html#acb5cfd209ba75c853d03f701e7f91679">type</a> = 0,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   };</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/da9/structpcap__ipv4__header.html">pcap_ipv4_header</a> <a class="code" href="../../da/da9/structpcap__ipv4__header.html">pcap_ipv4_header</a> = {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      .<a class="code" href="../../da/da9/structpcap__ipv4__header.html#ac7f8fbdb4cc699d813b4b32c81c1d401">ver_ihl</a> = 0x45, <span class="comment">/* IPv4 + 20 bytes of header */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      .ip_ttl = 128, <span class="comment">/* We always put a TTL of 128 to keep Wireshark less blue */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   };</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/db9/structpcap__ipv6__header.html">pcap_ipv6_header</a> <a class="code" href="../../d4/db9/structpcap__ipv6__header.html">pcap_ipv6_header</a> = {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      .<a class="code" href="../../d4/db9/structpcap__ipv6__header.html#a0c8d84ec61cd7ec10067df125b5bdb4b">ip6_ctlun</a>.<a class="code" href="../../d4/db9/structpcap__ipv6__header.html#a4b30098b23684803949b123059e377ab">ip6_un2_vfc</a> = 0x60,</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   };</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="keywordtype">void</span> *pcap_ip_header;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordtype">size_t</span> pcap_ip_header_len;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a> <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="comment">/* Packets are always stored as UDP to simplify this logic */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   <span class="keywordflow">if</span> (source) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>.<a class="code" href="../../de/dd0/structpcap__udp__header.html#ac87170cf133e48fc4c61ea4b90bfb515">src</a> = ntohs(pj_sockaddr_get_port(source));</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>.<a class="code" href="../../de/dd0/structpcap__udp__header.html#ac87170cf133e48fc4c61ea4b90bfb515">src</a> = ntohs(0);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordflow">if</span> (destination) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>.<a class="code" href="../../de/dd0/structpcap__udp__header.html#a74794ae4e53b0a5e847a8f33fc5fbd6e">dst</a> = ntohs(pj_sockaddr_get_port(destination));</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>.<a class="code" href="../../de/dd0/structpcap__udp__header.html#a74794ae4e53b0a5e847a8f33fc5fbd6e">dst</a> = ntohs(0);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>.<a class="code" href="../../de/dd0/structpcap__udp__header.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> = ntohs(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>) + msg_len);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <span class="comment">/* Construct the appropriate IP header */</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <span class="keywordflow">if</span> ((source &amp;&amp; source-&gt;addr.sa_family == pj_AF_INET()) ||</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      (destination &amp;&amp; destination-&gt;addr.sa_family == pj_AF_INET())) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      pcap_ethernet_header.<a class="code" href="../../da/dbb/structpcap__ethernet__header.html#acb5cfd209ba75c853d03f701e7f91679">type</a> = htons(0x0800); <span class="comment">/* We are providing an IPv4 packet */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      pcap_ip_header = &amp;pcap_ipv4_header;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      pcap_ip_header_len = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>pcap_ipv4_header);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">if</span> (source) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;         memcpy(&amp;pcap_ipv4_header.<a class="code" href="../../da/da9/structpcap__ipv4__header.html#a6c9afdafd270016666101c1e66f35259">ip_src</a>, pj_sockaddr_get_addr(source), pj_sockaddr_get_addr_len(source));</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">if</span> (destination) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;         memcpy(&amp;pcap_ipv4_header.<a class="code" href="../../da/da9/structpcap__ipv4__header.html#a01120dbf9755376f2002c904d6fe2e8b">ip_dst</a>, pj_sockaddr_get_addr(destination), pj_sockaddr_get_addr_len(destination));</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      pcap_ipv4_header.<a class="code" href="../../da/da9/structpcap__ipv4__header.html#aa054eb39af43acb0fe827cee098ca3dd">ip_len</a> = htons(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>) + <span class="keyword">sizeof</span>(<span class="keyword">struct</span> pcap_ipv4_header) + msg_len);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      pcap_ipv4_header.<a class="code" href="../../da/da9/structpcap__ipv4__header.html#a5e4ab3bf2bf20f9fdcbb2f20e7d32f61">ip_protocol</a> = IPPROTO_UDP; <span class="comment">/* We always provide UDP */</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      pcap_ethernet_header.<a class="code" href="../../da/dbb/structpcap__ethernet__header.html#acb5cfd209ba75c853d03f701e7f91679">type</a> = htons(0x86DD); <span class="comment">/* We are providing an IPv6 packet */</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      pcap_ip_header = &amp;pcap_ipv6_header;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      pcap_ip_header_len = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>pcap_ipv6_header);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">if</span> (source) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;         memcpy(&amp;pcap_ipv6_header.<a class="code" href="../../d4/db9/structpcap__ipv6__header.html#adc3a0deb227265593a0797db0a2059b1">ip6_src</a>, pj_sockaddr_get_addr(source), pj_sockaddr_get_addr_len(source));</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">if</span> (destination) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;         memcpy(&amp;pcap_ipv6_header.<a class="code" href="../../d4/db9/structpcap__ipv6__header.html#ab4203e133a38004e7c96061b9b35a4f5">ip6_dst</a>, pj_sockaddr_get_addr(destination), pj_sockaddr_get_addr_len(destination));</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      pcap_ipv6_header.<a class="code" href="../../d4/db9/structpcap__ipv6__header.html#a0c8d84ec61cd7ec10067df125b5bdb4b">ip6_ctlun</a>.<a class="code" href="../../d4/db9/structpcap__ipv6__header.html#afedd7d7e26a53a2d7adc1aaf37c0e796">ip6_un1</a>.ip6_un1_plen = htons(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>) + msg_len);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      pcap_ipv6_header.<a class="code" href="../../d4/db9/structpcap__ipv6__header.html#a0c8d84ec61cd7ec10067df125b5bdb4b">ip6_ctlun</a>.<a class="code" href="../../d4/db9/structpcap__ipv6__header.html#afedd7d7e26a53a2d7adc1aaf37c0e796">ip6_un1</a>.ip6_un1_nxt = IPPROTO_UDP;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <span class="comment">/* Add up all the sizes for this record */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   pcap_record_header.<a class="code" href="../../dd/dfa/structpcap__record__header.html#af7ebd1acc88da8d5c4018a9b96e4a231">incl_len</a> = pcap_record_header.<a class="code" href="../../dd/dfa/structpcap__record__header.html#a6a2f0b2b8c5d6c756e4de119c5fe2fad">orig_len</a> = <span class="keyword">sizeof</span>(pcap_ethernet_header) + pcap_ip_header_len + <span class="keyword">sizeof</span>(<a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>) + msg_len;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="comment">/* We lock the logger session since we&#39;re writing these out in parts */</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(session);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keywordflow">if</span> (session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">if</span> (fwrite(&amp;pcap_record_header, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> pcap_record_header), 1, session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) != 1) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Writing PCAP header failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">if</span> (fwrite(&amp;pcap_ethernet_header, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> pcap_ethernet_header), 1, session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) != 1) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Writing ethernet header to pcap failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">if</span> (fwrite(pcap_ip_header, pcap_ip_header_len, 1, session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) != 1) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Writing IP header to pcap failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">if</span> (fwrite(&amp;<a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a>), 1, session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) != 1) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Writing UDP header to pcap failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">if</span> (fwrite(msg, msg_len, 1, session-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) != 1) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Writing UDP payload to pcap failed: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(session);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div><div class="ttc" id="structpcap__ipv4__header_html_a6c9afdafd270016666101c1e66f35259"><div class="ttname"><a href="../../da/da9/structpcap__ipv4__header.html#a6c9afdafd270016666101c1e66f35259">pcap_ipv4_header::ip_src</a></div><div class="ttdeci">uint32_t ip_src</div><div class="ttdoc">Checksum (not calculated for our purposes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00075">res_pjsip_logger.c:75</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structpcap__record__header_html_a6a2f0b2b8c5d6c756e4de119c5fe2fad"><div class="ttname"><a href="../../dd/dfa/structpcap__record__header.html#a6a2f0b2b8c5d6c756e4de119c5fe2fad">pcap_record_header::orig_len</a></div><div class="ttdeci">uint32_t orig_len</div><div class="ttdoc">Length of packet as saved in the file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00055">res_pjsip_logger.c:55</a></div></div>
<div class="ttc" id="structpcap__ipv6__header_html_ab4203e133a38004e7c96061b9b35a4f5"><div class="ttname"><a href="../../d4/db9/structpcap__ipv6__header.html#ab4203e133a38004e7c96061b9b35a4f5">pcap_ipv6_header::ip6_dst</a></div><div class="ttdeci">struct in6_addr ip6_dst</div><div class="ttdoc">Source IP address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00091">res_pjsip_logger.c:91</a></div></div>
<div class="ttc" id="structpcap__udp__header_html_a74794ae4e53b0a5e847a8f33fc5fbd6e"><div class="ttname"><a href="../../de/dd0/structpcap__udp__header.html#a74794ae4e53b0a5e847a8f33fc5fbd6e">pcap_udp_header::dst</a></div><div class="ttdeci">uint16_t dst</div><div class="ttdoc">Source IP port. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00097">res_pjsip_logger.c:97</a></div></div>
<div class="ttc" id="structpcap__ethernet__header_html_acb5cfd209ba75c853d03f701e7f91679"><div class="ttname"><a href="../../da/dbb/structpcap__ethernet__header.html#acb5cfd209ba75c853d03f701e7f91679">pcap_ethernet_header::type</a></div><div class="ttdeci">uint16_t type</div><div class="ttdoc">Source MAD address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00062">res_pjsip_logger.c:62</a></div></div>
<div class="ttc" id="structpcap__record__header_html"><div class="ttname"><a href="../../dd/dfa/structpcap__record__header.html">pcap_record_header</a></div><div class="ttdoc">PCAP Packet Record Header. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00051">res_pjsip_logger.c:51</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="structpcap__record__header_html_af7ebd1acc88da8d5c4018a9b96e4a231"><div class="ttname"><a href="../../dd/dfa/structpcap__record__header.html#af7ebd1acc88da8d5c4018a9b96e4a231">pcap_record_header::incl_len</a></div><div class="ttdeci">uint32_t incl_len</div><div class="ttdoc">When the record was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00054">res_pjsip_logger.c:54</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structpcap__ipv4__header_html_a5e4ab3bf2bf20f9fdcbb2f20e7d32f61"><div class="ttname"><a href="../../da/da9/structpcap__ipv4__header.html#a5e4ab3bf2bf20f9fdcbb2f20e7d32f61">pcap_ipv4_header::ip_protocol</a></div><div class="ttdeci">uint8_t ip_protocol</div><div class="ttdoc">Time to live for the packet. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00073">res_pjsip_logger.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3498e30d6154a052e7b64b7a96da8b4b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a></div><div class="ttdeci">#define ao2_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00720">astobj2.h:720</a></div></div>
<div class="ttc" id="structpcap__ipv6__header_html_a0c8d84ec61cd7ec10067df125b5bdb4b"><div class="ttname"><a href="../../d4/db9/structpcap__ipv6__header.html#a0c8d84ec61cd7ec10067df125b5bdb4b">pcap_ipv6_header::ip6_ctlun</a></div><div class="ttdeci">union pcap_ipv6_header::@483 ip6_ctlun</div></div>
<div class="ttc" id="structpcap__ipv4__header_html_aa054eb39af43acb0fe827cee098ca3dd"><div class="ttname"><a href="../../da/da9/structpcap__ipv4__header.html#aa054eb39af43acb0fe827cee098ca3dd">pcap_ipv4_header::ip_len</a></div><div class="ttdeci">uint16_t ip_len</div><div class="ttdoc">Type of service details. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00069">res_pjsip_logger.c:69</a></div></div>
<div class="ttc" id="structpcap__udp__header_html_a1892eba2086d12ac2b09005aeb09ea3b"><div class="ttname"><a href="../../de/dd0/structpcap__udp__header.html#a1892eba2086d12ac2b09005aeb09ea3b">pcap_udp_header::length</a></div><div class="ttdeci">uint16_t length</div><div class="ttdoc">Destination IP port. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00098">res_pjsip_logger.c:98</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structpcap__ipv4__header_html_a01120dbf9755376f2002c904d6fe2e8b"><div class="ttname"><a href="../../da/da9/structpcap__ipv4__header.html#a01120dbf9755376f2002c904d6fe2e8b">pcap_ipv4_header::ip_dst</a></div><div class="ttdeci">uint32_t ip_dst</div><div class="ttdoc">Source IP address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00076">res_pjsip_logger.c:76</a></div></div>
<div class="ttc" id="structpcap__record__header_html_ae1a4b5cc6cf9132afe4b4d20650bf61b"><div class="ttname"><a href="../../dd/dfa/structpcap__record__header.html#ae1a4b5cc6cf9132afe4b4d20650bf61b">pcap_record_header::ts_sec</a></div><div class="ttdeci">uint32_t ts_sec</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00052">res_pjsip_logger.c:52</a></div></div>
<div class="ttc" id="structpcap__ipv6__header_html"><div class="ttname"><a href="../../d4/db9/structpcap__ipv6__header.html">pcap_ipv6_header</a></div><div class="ttdoc">PCAP IPv6 Header. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00080">res_pjsip_logger.c:80</a></div></div>
<div class="ttc" id="structpcap__ipv4__header_html"><div class="ttname"><a href="../../da/da9/structpcap__ipv4__header.html">pcap_ipv4_header</a></div><div class="ttdoc">PCAP IPv4 Header. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00066">res_pjsip_logger.c:66</a></div></div>
<div class="ttc" id="structpcap__ipv6__header_html_afedd7d7e26a53a2d7adc1aaf37c0e796"><div class="ttname"><a href="../../d4/db9/structpcap__ipv6__header.html#afedd7d7e26a53a2d7adc1aaf37c0e796">pcap_ipv6_header::ip6_un1</a></div><div class="ttdeci">struct pcap_ipv6_header::@483::ip6_hdrctl ip6_un1</div></div>
<div class="ttc" id="structpcap__ipv6__header_html_a4b30098b23684803949b123059e377ab"><div class="ttname"><a href="../../d4/db9/structpcap__ipv6__header.html#a4b30098b23684803949b123059e377ab">pcap_ipv6_header::ip6_un2_vfc</a></div><div class="ttdeci">uint8_t ip6_un2_vfc</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00088">res_pjsip_logger.c:88</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="structpcap__ipv4__header_html_ac7f8fbdb4cc699d813b4b32c81c1d401"><div class="ttname"><a href="../../da/da9/structpcap__ipv4__header.html#ac7f8fbdb4cc699d813b4b32c81c1d401">pcap_ipv4_header::ver_ihl</a></div><div class="ttdeci">uint8_t ver_ihl</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00067">res_pjsip_logger.c:67</a></div></div>
<div class="ttc" id="structpcap__ipv6__header_html_adc3a0deb227265593a0797db0a2059b1"><div class="ttname"><a href="../../d4/db9/structpcap__ipv6__header.html#adc3a0deb227265593a0797db0a2059b1">pcap_ipv6_header::ip6_src</a></div><div class="ttdeci">struct in6_addr ip6_src</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00090">res_pjsip_logger.c:90</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_af36d207962f36106cf6387185c4fa458"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pjsip_logger_session::pcap_file</a></div><div class="ttdeci">FILE * pcap_file</div><div class="ttdoc">The pcap file itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00109">res_pjsip_logger.c:109</a></div></div>
<div class="ttc" id="structpcap__udp__header_html_ac87170cf133e48fc4c61ea4b90bfb515"><div class="ttname"><a href="../../de/dd0/structpcap__udp__header.html#ac87170cf133e48fc4c61ea4b90bfb515">pcap_udp_header::src</a></div><div class="ttdeci">uint16_t src</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00096">res_pjsip_logger.c:96</a></div></div>
<div class="ttc" id="structpcap__udp__header_html"><div class="ttname"><a href="../../de/dd0/structpcap__udp__header.html">pcap_udp_header</a></div><div class="ttdoc">PCAP UDP Header. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00095">res_pjsip_logger.c:95</a></div></div>
<div class="ttc" id="structpcap__ethernet__header_html"><div class="ttname"><a href="../../da/dbb/structpcap__ethernet__header.html">pcap_ethernet_header</a></div><div class="ttdoc">PCAP Ethernet Header. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00059">res_pjsip_logger.c:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5744f09eb72d76a4f96de3cd00172db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5744f09eb72d76a4f96de3cd00172db">&#9670;&nbsp;</a></span>pjsip_set_logger()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pjsip_set_logger </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00470">470</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00185">ast_cli_entry::args</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00396">pjsip_disable_logger()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00337">pjsip_enable_logger_all()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00351">pjsip_enable_logger_host()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00436">pjsip_set_logger_pcap()</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00425">pjsip_set_logger_verbose()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;{</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *what;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <span class="keywordflow">if</span> (cmd == <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;pjsip set logger {on|off|host|add|verbose|pcap}&quot;</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         <span class="stringliteral">&quot;Usage: pjsip set logger {on|off|host &lt;name/subnet&gt;|add &lt;name/subnet&gt;|verbose &lt;on/off&gt;|pcap &lt;filename&gt;}\n&quot;</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;         <span class="stringliteral">&quot;       Enables or disabling logging of SIP packets\n&quot;</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;         <span class="stringliteral">&quot;       read on ports bound to PJSIP transports either\n&quot;</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;         <span class="stringliteral">&quot;       globally or enables logging for an individual\n&quot;</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;         <span class="stringliteral">&quot;       host.\n&quot;</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd == <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   what = a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a> - 1];     <span class="comment">/* Guaranteed to exist */</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>) {        <span class="comment">/* on/off */</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(what, <span class="stringliteral">&quot;on&quot;</span>)) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#ae07916786ea352c6c572ceb0c0b5b109">pjsip_enable_logger_all</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(what, <span class="stringliteral">&quot;off&quot;</span>)) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#afd358d849ae00bb66c70460bcbb9579b">pjsip_disable_logger</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a> + 1) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(what, <span class="stringliteral">&quot;host&quot;</span>)) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#abdfa4555cb787001dfad4336a8f0f96f">pjsip_enable_logger_host</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>], 0);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(what, <span class="stringliteral">&quot;add&quot;</span>)) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#abdfa4555cb787001dfad4336a8f0f96f">pjsip_enable_logger_host</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>], 1);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(what, <span class="stringliteral">&quot;verbose&quot;</span>)) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a48e2ada7a49daafb2842780246ccaaf6">pjsip_set_logger_verbose</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>]);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(what, <span class="stringliteral">&quot;pcap&quot;</span>)) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a79ab4afb8ddde51dc18417eb773d82bf">pjsip_set_logger_pcap</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>]);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div><div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cli__entry_html_a1bd7a8575ca2650132d636d65dcda2f6"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">ast_cli_entry::args</a></div><div class="ttdeci">int args</div><div class="ttdoc">This gets set in ast_cli_register() </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00185">cli.h:185</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_afd358d849ae00bb66c70460bcbb9579b"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#afd358d849ae00bb66c70460bcbb9579b">pjsip_disable_logger</a></div><div class="ttdeci">static char * pjsip_disable_logger(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00396">res_pjsip_logger.c:396</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a79ab4afb8ddde51dc18417eb773d82bf"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a79ab4afb8ddde51dc18417eb773d82bf">pjsip_set_logger_pcap</a></div><div class="ttdeci">static char * pjsip_set_logger_pcap(int fd, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00436">res_pjsip_logger.c:436</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_ae07916786ea352c6c572ceb0c0b5b109"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#ae07916786ea352c6c572ceb0c0b5b109">pjsip_enable_logger_all</a></div><div class="ttdeci">static char * pjsip_enable_logger_all(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00337">res_pjsip_logger.c:337</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_abdfa4555cb787001dfad4336a8f0f96f"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#abdfa4555cb787001dfad4336a8f0f96f">pjsip_enable_logger_host</a></div><div class="ttdeci">static char * pjsip_enable_logger_host(int fd, const char *arg, unsigned int add_host)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00351">res_pjsip_logger.c:351</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a48e2ada7a49daafb2842780246ccaaf6"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a48e2ada7a49daafb2842780246ccaaf6">pjsip_set_logger_verbose</a></div><div class="ttdeci">static char * pjsip_set_logger_verbose(int fd, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00425">res_pjsip_logger.c:425</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a79ab4afb8ddde51dc18417eb773d82bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ab4afb8ddde51dc18417eb773d82bf">&#9670;&nbsp;</a></span>pjsip_set_logger_pcap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pjsip_set_logger_pcap </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00436">436</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00720">ao2_wrlock</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00117">pjsip_logger_session::log_to_pcap</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00041">pcap_header::magic_number</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00109">pjsip_logger_session::pcap_file</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00107">pjsip_logger_session::pcap_filename</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00470">pjsip_set_logger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dba/structpcap__header.html">pcap_header</a> <a class="code" href="../../d0/dba/structpcap__header.html">pcap_header</a> = {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      .<a class="code" href="../../d0/dba/structpcap__header.html#a45eaf7e07ea0226c1328ee7d4a5f7948">magic_number</a> = 0xa1b2c3d4,</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      .version_major = 2,</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      .version_minor = 4,</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      .snaplen = 65535,</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      .network = 1, <span class="comment">/* We always use ethernet so we can combine IPv4 and IPv6 in same pcap */</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   };</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#ad0301a5b28cccd6ebb6b3cd0e423903e">pcap_filename</a>, arg, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#ad0301a5b28cccd6ebb6b3cd0e423903e">pcap_filename</a>));</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      fclose(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a> = fopen(arg, <span class="stringliteral">&quot;wb&quot;</span>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Failed to open file &#39;%s&#39; for pcap writing\n&quot;</span>, arg);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   fwrite(&amp;pcap_header, 1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> pcap_header), <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pcap_file</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#af48993091766eb4832c0c4139df63355">log_to_pcap</a> = 1;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;PJSIP logging to pcap file &#39;%s&#39;\n&quot;</span>, arg);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div><div class="ttc" id="structpcap__header_html"><div class="ttname"><a href="../../d0/dba/structpcap__header.html">pcap_header</a></div><div class="ttdoc">PCAP Header. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00040">res_pjsip_logger.c:40</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_ad0301a5b28cccd6ebb6b3cd0e423903e"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#ad0301a5b28cccd6ebb6b3cd0e423903e">pjsip_logger_session::pcap_filename</a></div><div class="ttdeci">char pcap_filename[PATH_MAX]</div><div class="ttdoc">Filename used for the pcap file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00107">res_pjsip_logger.c:107</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3498e30d6154a052e7b64b7a96da8b4b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a></div><div class="ttdeci">#define ao2_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00720">astobj2.h:720</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_af48993091766eb4832c0c4139df63355"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#af48993091766eb4832c0c4139df63355">pjsip_logger_session::log_to_pcap</a></div><div class="ttdeci">unsigned int log_to_pcap</div><div class="ttdoc">Whether to log to pcap or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00117">res_pjsip_logger.c:117</a></div></div>
<div class="ttc" id="structpcap__header_html_a45eaf7e07ea0226c1328ee7d4a5f7948"><div class="ttname"><a href="../../d0/dba/structpcap__header.html#a45eaf7e07ea0226c1328ee7d4a5f7948">pcap_header::magic_number</a></div><div class="ttdeci">uint32_t magic_number</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00041">res_pjsip_logger.c:41</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a4e5b082f0685798cb2a8ac4fb1c1059d"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></div><div class="ttdeci">static struct pjsip_logger_session * default_logger</div><div class="ttdoc">The default logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">res_pjsip_logger.c:121</a></div></div>
<div class="ttc" id="structpjsip__logger__session_html_af36d207962f36106cf6387185c4fa458"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#af36d207962f36106cf6387185c4fa458">pjsip_logger_session::pcap_file</a></div><div class="ttdeci">FILE * pcap_file</div><div class="ttdoc">The pcap file itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00109">res_pjsip_logger.c:109</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a48e2ada7a49daafb2842780246ccaaf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e2ada7a49daafb2842780246ccaaf6">&#9670;&nbsp;</a></span>pjsip_set_logger_verbose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pjsip_set_logger_verbose </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00425">425</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00720">ao2_wrlock</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, and <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">pjsip_logger_session::log_to_verbose</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00470">pjsip_set_logger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>-&gt;<a class="code" href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">log_to_verbose</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(arg);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;PJSIP Logging to verbose has been %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(arg) ? <span class="stringliteral">&quot;enabled&quot;</span> : <span class="stringliteral">&quot;disabled&quot;</span>);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div><div class="ttc" id="structpjsip__logger__session_html_a273b281fa90e5828ad923a650043f026"><div class="ttname"><a href="../../d6/dcf/structpjsip__logger__session.html#a273b281fa90e5828ad923a650043f026">pjsip_logger_session::log_to_verbose</a></div><div class="ttdeci">unsigned int log_to_verbose</div><div class="ttdoc">Whether to log to verbose or not. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00115">res_pjsip_logger.c:115</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3498e30d6154a052e7b64b7a96da8b4b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a></div><div class="ttdeci">#define ao2_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00720">astobj2.h:720</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a4e5b082f0685798cb2a8ac4fb1c1059d"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></div><div class="ttdeci">static struct pjsip_logger_session * default_logger</div><div class="ttdoc">The default logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">res_pjsip_logger.c:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00566">566</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00328">AST_MODPRI_APP_DEPEND</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03331">ast_sip_unregister_service()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02418">ast_sorcery_observer_remove()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00543">load_module()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;{</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a32e5e2d7b4752aa623264708b611dde1">cli_pjsip</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a32e5e2d7b4752aa623264708b611dde1">cli_pjsip</a>));</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a15aa09d9084763cdd20b7467a4cd381a">ast_sip_unregister_service</a>(&amp;<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a507fdf94a407446fae3d6e24e40c2119">logging_module</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a18d64c360480b458754fc30f781d5011">ast_sorcery_observer_remove</a>(</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;global&quot;</span>, &amp;<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#ad3e89719d00da1936706298180df6cc8">global_observer</a>);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(<a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a>);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_ad3e89719d00da1936706298180df6cc8"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#ad3e89719d00da1936706298180df6cc8">global_observer</a></div><div class="ttdeci">static const struct ast_sorcery_observer global_observer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00539">res_pjsip_logger.c:539</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a507fdf94a407446fae3d6e24e40c2119"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a507fdf94a407446fae3d6e24e40c2119">logging_module</a></div><div class="ttdeci">static pjsip_module logging_module</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00328">res_pjsip_logger.c:328</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a32e5e2d7b4752aa623264708b611dde1"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a32e5e2d7b4752aa623264708b611dde1">cli_pjsip</a></div><div class="ttdeci">static struct ast_cli_entry cli_pjsip[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00510">res_pjsip_logger.c:510</a></div></div>
<div class="ttc" id="res__pjsip__logger_8c_html_a4e5b082f0685798cb2a8ac4fb1c1059d"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#a4e5b082f0685798cb2a8ac4fb1c1059d">default_logger</a></div><div class="ttdeci">static struct pjsip_logger_session * default_logger</div><div class="ttdoc">The default logger session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">res_pjsip_logger.c:121</a></div></div>
<div class="ttc" id="sorcery_8h_html_a18d64c360480b458754fc30f781d5011"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a18d64c360480b458754fc30f781d5011">ast_sorcery_observer_remove</a></div><div class="ttdeci">void ast_sorcery_observer_remove(const struct ast_sorcery *sorcery, const char *type, const struct ast_sorcery_observer *callbacks)</div><div class="ttdoc">Remove an observer from a specific object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02418">sorcery.c:2418</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a15aa09d9084763cdd20b7467a4cd381a"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a15aa09d9084763cdd20b7467a4cd381a">ast_sip_unregister_service</a></div><div class="ttdeci">void ast_sip_unregister_service(pjsip_module *module)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l03331">res_pjsip.c:3331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;PJSIP Packet Logger&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_APP_DEPEND, .requires = &quot;res_pjsip&quot;, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00586">586</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00586">586</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

</div>
</div>
<a id="a32e5e2d7b4752aa623264708b611dde1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e5e2d7b4752aa623264708b611dde1">&#9670;&nbsp;</a></span>cli_pjsip</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> cli_pjsip[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   { .handler =  <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#ab5744f09eb72d76a4f96de3cd00172db">pjsip_set_logger</a> , .summary =  <span class="stringliteral">&quot;Enable/Disable PJSIP Logger Output&quot;</span> ,}</div><div class="line">}</div><div class="ttc" id="res__pjsip__logger_8c_html_ab5744f09eb72d76a4f96de3cd00172db"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#ab5744f09eb72d76a4f96de3cd00172db">pjsip_set_logger</a></div><div class="ttdeci">static char * pjsip_set_logger(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00470">res_pjsip_logger.c:470</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00510">510</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

</div>
</div>
<a id="a4e5b082f0685798cb2a8ac4fb1c1059d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e5b082f0685798cb2a8ac4fb1c1059d">&#9670;&nbsp;</a></span>default_logger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/dcf/structpjsip__logger__session.html">pjsip_logger_session</a>* default_logger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The default logger session. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00121">121</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

</div>
</div>
<a id="ad3e89719d00da1936706298180df6cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3e89719d00da1936706298180df6cc8">&#9670;&nbsp;</a></span>global_observer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d2/ddb/structast__sorcery__observer.html">ast_sorcery_observer</a> global_observer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .loaded = <a class="code" href="../../d0/d73/res__pjsip__logger_8c.html#aca2c7346a8910c736028f84553d21cfb">global_reloaded</a></div><div class="line">}</div><div class="ttc" id="res__pjsip__logger_8c_html_aca2c7346a8910c736028f84553d21cfb"><div class="ttname"><a href="../../d0/d73/res__pjsip__logger_8c.html#aca2c7346a8910c736028f84553d21cfb">global_reloaded</a></div><div class="ttdeci">static void global_reloaded(const char *object_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d73/res__pjsip__logger_8c_source.html#l00534">res_pjsip_logger.c:534</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00539">539</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

</div>
</div>
<a id="a507fdf94a407446fae3d6e24e40c2119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507fdf94a407446fae3d6e24e40c2119">&#9670;&nbsp;</a></span>logging_module</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pjsip_module logging_module</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html#l00328">328</a> of file <a class="el" href="../../d0/d73/res__pjsip__logger_8c_source.html">res_pjsip_logger.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:31 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
