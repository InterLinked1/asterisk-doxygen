<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: chan_skinny.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_9662a6a166de1dda18179da17db0f05a.html">channels</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">chan_skinny.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d0/d80/chan__skinny_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Asterisk -- An open source telephony toolkit.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 1999 - 2005, Digium, Inc.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * chan_skinny was developed by Jeremy McNamara &amp; Florian Overkamp</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * chan_skinny was heavily modified/fixed by North Antara</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * See http://www.asterisk.org for more information about</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * the Asterisk project. Please do not directly contact</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * any of the maintainers of this project for assistance;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * the project provides a web site, mailing lists and IRC</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * channels for your use.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * This program is free software, distributed under the terms of</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * at the top of the source tree.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/*! \file</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * \brief Implementation of the Skinny protocol</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * \author Jeremy McNamara &amp; Florian Overkamp &amp; North Antara</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * \ingroup channel_drivers</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/*! \li \ref chan_skinny.c uses the configuration file \ref skinny.conf</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * \addtogroup configuration_file</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/*! \page skinny.conf skinny.conf</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * \verbinclude skinny.conf.sample</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*** MODULEINFO</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">   &lt;support_level&gt;extended&lt;/support_level&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> ***/</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/db2/asterisk_8h.html">asterisk.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;sys/socket.h&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;netinet/in.h&gt;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;netinet/tcp.h&gt;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;net/if.h&gt;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;fcntl.h&gt;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;netdb.h&gt;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;arpa/inet.h&gt;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;ctype.h&gt;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d42/lock_8h.html">asterisk/lock.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d7b/channel_8h.html">asterisk/channel.h</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html">asterisk/config.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d16/module_8h.html">asterisk/module.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/de0/pbx_8h.html">asterisk/pbx.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d00/sched_8h.html">asterisk/sched.h</a>&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/dac/io_8h.html">asterisk/io.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/dde/rtp__engine_8h.html">asterisk/rtp_engine.h</a>&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/df1/netsock2_8h.html">asterisk/netsock2.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d59/acl_8h.html">asterisk/acl.h</a>&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d47/callerid_8h.html">asterisk/callerid.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/db0/cli_8h.html">asterisk/cli.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d45/manager_8h.html">asterisk/manager.h</a>&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dce/say_8h.html">asterisk/say.h</a>&quot;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d4a/astdb_8h.html">asterisk/astdb.h</a>&quot;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/da3/causes_8h.html">asterisk/causes.h</a>&quot;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dbc/pickup_8h.html">asterisk/pickup.h</a>&quot;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html">asterisk/app.h</a>&quot;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d33/mwi_8h.html">asterisk/mwi.h</a>&quot;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d07/musiconhold_8h.html">asterisk/musiconhold.h</a>&quot;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d60/utils_8h.html">asterisk/utils.h</a>&quot;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d08/dsp_8h.html">asterisk/dsp.h</a>&quot;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d0f/stringfields_8h.html">asterisk/stringfields.h</a>&quot;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d14/abstract__jb_8h.html">asterisk/abstract_jb.h</a>&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d7d/threadstorage_8h.html">asterisk/threadstorage.h</a>&quot;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/da2/devicestate_8h.html">asterisk/devicestate.h</a>&quot;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d0f/indications_8h.html">asterisk/indications.h</a>&quot;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d90/linkedlists_8h.html">asterisk/linkedlists.h</a>&quot;</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d44/stasis__endpoints_8h.html">asterisk/stasis_endpoints.h</a>&quot;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d56/bridge_8h.html">asterisk/bridge.h</a>&quot;</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d33/parking_8h.html">asterisk/parking.h</a>&quot;</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d4a/stasis__channels_8h.html">asterisk/stasis_channels.h</a>&quot;</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d1c/format__cache_8h.html">asterisk/format_cache.h</a>&quot;</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/*** DOCUMENTATION</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">   &lt;manager name=&quot;SKINNYdevices&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">         List SKINNY devices (text format).</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">         &lt;xi:include xpointer=&quot;xpointer(/docs/manager[@name=&#39;Login&#39;]/syntax/parameter[@name=&#39;ActionID&#39;])&quot; /&gt;</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">         &lt;para&gt;Lists Skinny devices in text format with details on current status.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">         Devicelist will follow as separate events, followed by a final event called</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">         DevicelistComplete.&lt;/para&gt;</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">   &lt;/manager&gt;</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">   &lt;manager name=&quot;SKINNYshowdevice&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">         Show SKINNY device (text format).</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">         &lt;xi:include xpointer=&quot;xpointer(/docs/manager[@name=&#39;Login&#39;]/syntax/parameter[@name=&#39;ActionID&#39;])&quot; /&gt;</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">         &lt;parameter name=&quot;Device&quot; required=&quot;true&quot;&gt;</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">            &lt;para&gt;The device name you want to check.&lt;/para&gt;</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">         &lt;para&gt;Show one SKINNY device with details on current status.&lt;/para&gt;</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">   &lt;/manager&gt;</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">   &lt;manager name=&quot;SKINNYlines&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">         List SKINNY lines (text format).</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">         &lt;xi:include xpointer=&quot;xpointer(/docs/manager[@name=&#39;Login&#39;]/syntax/parameter[@name=&#39;ActionID&#39;])&quot; /&gt;</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">         &lt;para&gt;Lists Skinny lines in text format with details on current status.</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">         Linelist will follow as separate events, followed by a final event called</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">         LinelistComplete.&lt;/para&gt;</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">   &lt;/manager&gt;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">   &lt;manager name=&quot;SKINNYshowline&quot; language=&quot;en_US&quot;&gt;</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">      &lt;synopsis&gt;</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">         Show SKINNY line (text format).</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">      &lt;/synopsis&gt;</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">      &lt;syntax&gt;</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">         &lt;xi:include xpointer=&quot;xpointer(/docs/manager[@name=&#39;Login&#39;]/syntax/parameter[@name=&#39;ActionID&#39;])&quot; /&gt;</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">         &lt;parameter name=&quot;Line&quot; required=&quot;true&quot;&gt;</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">            &lt;para&gt;The line name you want to check.&lt;/para&gt;</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">         &lt;/parameter&gt;</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">      &lt;/syntax&gt;</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">      &lt;description&gt;</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">         &lt;para&gt;Show one SKINNY line with details on current status.&lt;/para&gt;</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">      &lt;/description&gt;</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">   &lt;/manager&gt;</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"> ***/</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">/* Skinny debugging only available if asterisk configured with --enable-dev-mode */</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">  146</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> = 0;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a99699195fcfae2b3bb37af6bab5baba2">  147</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a99699195fcfae2b3bb37af6bab5baba2">dbgcli_buf</a>[256];</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4c35b4c71a9fd428c47eb27bf72c2789">  148</a></span>&#160;<span class="preprocessor">#define DEBUG_GENERAL   (1 &lt;&lt; 1)</span></div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">  149</a></span>&#160;<span class="preprocessor">#define DEBUG_SUB (1 &lt;&lt; 2)</span></div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">  150</a></span>&#160;<span class="preprocessor">#define DEBUG_PACKET (1 &lt;&lt; 3)</span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">  151</a></span>&#160;<span class="preprocessor">#define DEBUG_AUDIO  (1 &lt;&lt; 4)</span></div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7480a62cb6d1de6cc68d75ffc1d901bf">  152</a></span>&#160;<span class="preprocessor">#define DEBUG_LOCK   (1 &lt;&lt; 5)</span></div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">  153</a></span>&#160;<span class="preprocessor">#define DEBUG_TEMPLATE  (1 &lt;&lt; 6)</span></div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab015edc90c82d15e00916f5ef094a24b">  154</a></span>&#160;<span class="preprocessor">#define DEBUG_THREAD (1 &lt;&lt; 7)</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aaf5d467e9337255d2fc60ee4df9bebcc">  155</a></span>&#160;<span class="preprocessor">#define DEBUG_HINT   (1 &lt;&lt; 8)</span></div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a01aa848ad39247c674889b31c19015e3">  156</a></span>&#160;<span class="preprocessor">#define DEBUG_KEEPALIVE (1 &lt;&lt; 9)</span></div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">  157</a></span>&#160;<span class="preprocessor">#define SKINNY_DEBUG(type, verb_level, text, ...)                 \</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">   do{                                 \</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">      if (skinnydebug &amp; (type)) {                     \</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">         ast_verb(verb_level, &quot;[%d] &quot; text, ast_get_tid(), ##__VA_ARGS__); \</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">      }                             \</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">   }while(0)</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#define SKINNY_DEBUG(type, verb_level, text, ...)</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">/*************************************</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"> * Skinny/Asterisk Protocol Settings *</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"> *************************************/</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a71535bf985a1a06d548fd73a0a0ec32c">  170</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a71535bf985a1a06d548fd73a0a0ec32c">tdesc</a>[] = <span class="stringliteral">&quot;Skinny Client Control Protocol (Skinny)&quot;</span>;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9ee8d742a1fbcff45f97842b92952610">  171</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>[] = <span class="stringliteral">&quot;skinny.conf&quot;</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abf00b99ac9997599a5c36fe86f83a0a4">  173</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#abf00b99ac9997599a5c36fe86f83a0a4">default_cap</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71">  175</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71">skinny_codecs</a> {</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac9f09a33a0a55d0ae8035371435217bd">  176</a></span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac9f09a33a0a55d0ae8035371435217bd">SKINNY_CODEC_ALAW</a> = 2,</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4e2f1fe7a095d3200609ba5b38443831">  177</a></span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4e2f1fe7a095d3200609ba5b38443831">SKINNY_CODEC_ULAW</a> = 4,</div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ab1047faa7764bb292482f30ed7d7df4a">  178</a></span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ab1047faa7764bb292482f30ed7d7df4a">SKINNY_CODEC_G722</a> = 6,</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a78f84a441f7ee1fd3dc5e4e5b806a07d">  179</a></span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a78f84a441f7ee1fd3dc5e4e5b806a07d">SKINNY_CODEC_G723_1</a> = 9,</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a6cb2cab00c618310f5cb9f3d52bda154">  180</a></span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a6cb2cab00c618310f5cb9f3d52bda154">SKINNY_CODEC_G729A</a> = 12,</div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac4fa98d11dc256eb65904786fbc28517">  181</a></span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac4fa98d11dc256eb65904786fbc28517">SKINNY_CODEC_G726_32</a> = 82, <span class="comment">/* XXX Which packing order does this translate to? */</span></div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a48e1eb3a3d96993b9754643d9ec3c950">  182</a></span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a48e1eb3a3d96993b9754643d9ec3c950">SKINNY_CODEC_H261</a> = 100,</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4d00a1ea7a1cdd28f6d452057c01f665">  183</a></span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4d00a1ea7a1cdd28f6d452057c01f665">SKINNY_CODEC_H263</a> = 101</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;};</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aeffadc396b98efd62e385678a8c1cf62">  186</a></span>&#160;<span class="preprocessor">#define DEFAULT_SKINNY_PORT 2000</span></div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac92b1ca5df61c89413c2588028c01ef8">  187</a></span>&#160;<span class="preprocessor">#define DEFAULT_SKINNY_BACKLOG 2</span></div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af113e81b9ed86ff1591580de9d8b1d52">  188</a></span>&#160;<span class="preprocessor">#define SKINNY_MAX_PACKET 2000</span></div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac03a7756e5b40fb80fede65fcb4d6bc4">  189</a></span>&#160;<span class="preprocessor">#define DEFAULT_AUTH_TIMEOUT 30</span></div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a223061feae4223b5e04874e2c5bc6c98">  190</a></span>&#160;<span class="preprocessor">#define DEFAULT_AUTH_LIMIT 50</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a25a9305efab3b493ca2519562fcec3d5">  193</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a25a9305efab3b493ca2519562fcec3d5">tos</a>;</div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1ecad4a80d0e6f5b8ec6ab4c44021d18">  194</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1ecad4a80d0e6f5b8ec6ab4c44021d18">tos_audio</a>;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0a41428ca9cf82e2f19c3768439e8d85">  195</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0a41428ca9cf82e2f19c3768439e8d85">tos_video</a>;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae91dad65f553f7afebe4af507803bc7f">  196</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae91dad65f553f7afebe4af507803bc7f">cos</a>;</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3e2114722f6cb731593296a831290a7d">  197</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e2114722f6cb731593296a831290a7d">cos_audio</a>;</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5518532a82b65b23fc59243e4f570e9d">  198</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5518532a82b65b23fc59243e4f570e9d">cos_video</a>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;} <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a> = { 0, 0, 0, 0, 0, 0 };</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">  201</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a> = 120;</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae67c6f6c57f424ea50cc93c0748378ba">  202</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae67c6f6c57f424ea50cc93c0748378ba">auth_timeout</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac03a7756e5b40fb80fede65fcb4d6bc4">DEFAULT_AUTH_TIMEOUT</a>;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a612b5ef8f2e99eb2e95f8002301173d4">  203</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a612b5ef8f2e99eb2e95f8002301173d4">auth_limit</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a223061feae4223b5e04874e2c5bc6c98">DEFAULT_AUTH_LIMIT</a>;</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab771766124f3d865c0f312bd0957bc5f">  204</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab771766124f3d865c0f312bd0957bc5f">unauth_sessions</a> = 0;</div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab9f6af2c0142f36638e3cd7d240497dd">  205</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab9f6af2c0142f36638e3cd7d240497dd">immed_dialchar</a>;</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">  206</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">vmexten</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];      <span class="comment">/* Voicemail pilot number */</span></div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a17ed4e86c02577dfabab4ab53195236d">  207</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a17ed4e86c02577dfabab4ab53195236d">used_context</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>]; <span class="comment">/* placeholder to check if context are already used in regcontext */</span></div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">  208</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>[<a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a>];     <span class="comment">/* Context for auto-extension */</span></div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4d44486240bfa969fd6cf04fab65c097">  209</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d44486240bfa969fd6cf04fab65c097">date_format</a>[6] = <span class="stringliteral">&quot;D-M-Y&quot;</span>;</div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a888b22690bce1fb41f95ec190d2417de">  210</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a888b22690bce1fb41f95ec190d2417de">version_id</a>[16] = <span class="stringliteral">&quot;P002F202&quot;</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">#if __BYTE_ORDER == __LITTLE_ENDIAN</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#define letohl(x) (x)</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">#define letohs(x) (x)</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">#define htolel(x) (x)</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="preprocessor">#define htoles(x) (x)</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">#if defined(HAVE_BYTESWAP_H)</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">#include &lt;byteswap.h&gt;</span></div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">  220</a></span>&#160;<span class="preprocessor">#define letohl(x) bswap_32(x)</span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac45ea15de0297911c0b0bd4da5ccb1c4">  221</a></span>&#160;<span class="preprocessor">#define letohs(x) bswap_16(x)</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">  222</a></span>&#160;<span class="preprocessor">#define htolel(x) bswap_32(x)</span></div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1987a601aa87be6fb2374127af70bb0c">  223</a></span>&#160;<span class="preprocessor">#define htoles(x) bswap_16(x)</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="preprocessor">#elif defined(HAVE_SYS_ENDIAN_SWAP16)</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="preprocessor">#include &lt;sys/endian.h&gt;</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#define letohl(x) __swap32(x)</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#define letohs(x) __swap16(x)</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor">#define htolel(x) __swap32(x)</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">#define htoles(x) __swap16(x)</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="preprocessor">#elif defined(HAVE_SYS_ENDIAN_BSWAP16)</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">#include &lt;sys/endian.h&gt;</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#define letohl(x) bswap32(x)</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#define letohs(x) bswap16(x)</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#define htolel(x) bswap32(x)</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">#define htoles(x) bswap16(x)</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor">#define __bswap_16(x) \</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">   ((((x) &amp; 0xff00) &gt;&gt; 8) | \</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor">    (((x) &amp; 0x00ff) &lt;&lt; 8))</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#define __bswap_32(x) \</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">   ((((x) &amp; 0xff000000) &gt;&gt; 24) | \</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">    (((x) &amp; 0x00ff0000) &gt;&gt;  8) | \</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">    (((x) &amp; 0x0000ff00) &lt;&lt;  8) | \</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">    (((x) &amp; 0x000000ff) &lt;&lt; 24))</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">#define letohl(x) __bswap_32(x)</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#define letohs(x) __bswap_16(x)</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">#define htolel(x) __bswap_32(x)</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#define htoles(x) __bswap_16(x)</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">/*! Global jitterbuffer configuration - by default, jb is disabled</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"> *  \note Values shown here match the defaults shown in skinny.conf.sample */</span></div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2d8d5920e90ccbad7832926becdadb29">  254</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d8d5920e90ccbad7832926becdadb29">default_jbconf</a> =</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   .<a class="code" href="../../d7/dba/structast__jb__conf.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = 0,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   .max_size = 200,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   .resync_threshold = 1000,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   .impl = <span class="stringliteral">&quot;fixed&quot;</span>,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   .target_extra = 40,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;};</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">  262</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3201477814d0797cbbab6d0c77dcfa39">  265</a></span>&#160;<a class="code" href="../../dc/d7d/threadstorage_8h.html#ac268c0a8272ec11e73269392507fb1a6">AST_THREADSTORAGE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3201477814d0797cbbab6d0c77dcfa39">message2str_threadbuf</a>);</div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1d36c1f19d96ffbda73c048ce50b3485">  266</a></span>&#160;<span class="preprocessor">#define MESSAGE2STR_BUFSIZE   35</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#adb686911ee241c6792cd9b069a366301">  269</a></span>&#160;<a class="code" href="../../dc/d7d/threadstorage_8h.html#ac268c0a8272ec11e73269392507fb1a6">AST_THREADSTORAGE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#adb686911ee241c6792cd9b069a366301">device2str_threadbuf</a>);</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af6d6ad028a582984d92f9ed46f91b78a">  270</a></span>&#160;<span class="preprocessor">#define DEVICE2STR_BUFSIZE   15</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a16282b510dcfa0aa7689071be2fbf900">  272</a></span>&#160;<a class="code" href="../../dc/d7d/threadstorage_8h.html#ac268c0a8272ec11e73269392507fb1a6">AST_THREADSTORAGE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a16282b510dcfa0aa7689071be2fbf900">control2str_threadbuf</a>);</div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2e749660fda8587e74d25b70e5b5504d">  273</a></span>&#160;<span class="preprocessor">#define CONTROL2STR_BUFSIZE   100</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac7c647097c3d56b2632df943946e7c53">  275</a></span>&#160;<a class="code" href="../../dc/d7d/threadstorage_8h.html#ac268c0a8272ec11e73269392507fb1a6">AST_THREADSTORAGE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac7c647097c3d56b2632df943946e7c53">substate2str_threadbuf</a>);</div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7e0e27e5cfd1c478aa77a0cdc0f2b73a">  276</a></span>&#160;<span class="preprocessor">#define SUBSTATE2STR_BUFSIZE   15</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afb27a398e598ed3454176b129c7df4ca">  278</a></span>&#160;<a class="code" href="../../dc/d7d/threadstorage_8h.html#ac268c0a8272ec11e73269392507fb1a6">AST_THREADSTORAGE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#afb27a398e598ed3454176b129c7df4ca">callstate2str_threadbuf</a>);</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad6f89a0cd879820f0fbc2c8c10bb591f">  279</a></span>&#160;<span class="preprocessor">#define CALLSTATE2STR_BUFSIZE   15</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">/*********************</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"> * Protocol Messages *</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> *********************/</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">/* message types */</span></div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9e35a268fd7c3a1b2cb28c295c816160">  285</a></span>&#160;<span class="preprocessor">#define KEEP_ALIVE_MESSAGE 0x0000</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">/* no additional struct */</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aec789812d6cc0ff846fb308745e91531">  288</a></span>&#160;<span class="preprocessor">#define REGISTER_MESSAGE 0x0001</span></div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html">  289</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../db/dc9/structregister__message.html">register_message</a> {</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html#acd328517a6cf718155c2e6e22b671ca9">  290</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>[16];</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html#afd551fffaf8f74bacc431cef46ae812b">  291</a></span>&#160;   uint32_t <a class="code" href="../../db/dc9/structregister__message.html#afd551fffaf8f74bacc431cef46ae812b">userId</a>;</div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">  292</a></span>&#160;   uint32_t <a class="code" href="../../db/dc9/structregister__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html#a69ddb9c845da426f636d9dd0dbed4e7e">  293</a></span>&#160;   uint32_t <a class="code" href="../../db/dc9/structregister__message.html#a69ddb9c845da426f636d9dd0dbed4e7e">ip</a>;</div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html#ad44b615021ed3ccb734fcaf583ef4a03">  294</a></span>&#160;   uint32_t <a class="code" href="../../db/dc9/structregister__message.html#ad44b615021ed3ccb734fcaf583ef4a03">type</a>;</div><div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html#a544f40ab65ea4cec6ca3409b70c189d6">  295</a></span>&#160;   uint32_t <a class="code" href="../../db/dc9/structregister__message.html#a544f40ab65ea4cec6ca3409b70c189d6">maxStreams</a>;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">  296</a></span>&#160;   uint32_t <a class="code" href="../../db/dc9/structregister__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">space</a>;</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html#a69ba4ce44c8b3df5af22db880cdb9c20">  297</a></span>&#160;   uint8_t <a class="code" href="../../db/dc9/structregister__message.html#a69ba4ce44c8b3df5af22db880cdb9c20">protocolVersion</a>;<span class="comment"></span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">   /*! \brief space2 is used for newer version of skinny */</span></div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="../../db/dc9/structregister__message.html#aff96d61a276e0b172fa6edaf0cf8f10d">  299</a></span>&#160;   <span class="keywordtype">char</span> space2[3];</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;};</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa1b2b6b1bab1095ef0753afc2582d29d">  302</a></span>&#160;<span class="preprocessor">#define IP_PORT_MESSAGE 0x0002</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1d5b89af9a01395da0daefcbcc8fd8bb">  304</a></span>&#160;<span class="preprocessor">#define KEYPAD_BUTTON_MESSAGE 0x0003</span></div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="../../de/d0c/structkeypad__button__message.html">  305</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../de/d0c/structkeypad__button__message.html">keypad_button_message</a> {</div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="../../de/d0c/structkeypad__button__message.html#a9ee7e63d91ac13e63dbad259aa1b52a6">  306</a></span>&#160;   uint32_t <a class="code" href="../../de/d0c/structkeypad__button__message.html#a9ee7e63d91ac13e63dbad259aa1b52a6">button</a>;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="../../de/d0c/structkeypad__button__message.html#a3c8ec1b11804b48f666007331e0c90ba">  307</a></span>&#160;   uint32_t <a class="code" href="../../de/d0c/structkeypad__button__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a>;</div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="../../de/d0c/structkeypad__button__message.html#a8c5b70179481930bfaef1fa8f6aaba74">  308</a></span>&#160;   uint32_t <a class="code" href="../../de/d0c/structkeypad__button__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;};</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a67e29aa17c48ffce8b07634ac656c172">  312</a></span>&#160;<span class="preprocessor">#define ENBLOC_CALL_MESSAGE 0x0004</span></div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="../../d3/df0/structenbloc__call__message.html">  313</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d3/df0/structenbloc__call__message.html">enbloc_call_message</a> {</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="../../d3/df0/structenbloc__call__message.html#aaa9b00db6f95d4932ee8d3b825c73bca">  314</a></span>&#160;   <span class="keywordtype">char</span> calledParty[24];</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;};</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8caf5d84aafa52ecdd3a86a08620850c">  317</a></span>&#160;<span class="preprocessor">#define STIMULUS_MESSAGE 0x0005</span></div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="../../df/d52/structstimulus__message.html">  318</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../df/d52/structstimulus__message.html">stimulus_message</a> {</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="../../df/d52/structstimulus__message.html#af793c4f4a8ade380472caa8035905848">  319</a></span>&#160;   uint32_t <a class="code" href="../../df/d52/structstimulus__message.html#af793c4f4a8ade380472caa8035905848">stimulus</a>;</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="../../df/d52/structstimulus__message.html#a9343bb7a21618047055c833ea497d1fe">  320</a></span>&#160;   uint32_t <a class="code" href="../../df/d52/structstimulus__message.html#a9343bb7a21618047055c833ea497d1fe">stimulusInstance</a>;</div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="../../df/d52/structstimulus__message.html#aa056c11f2f813407952d829437cec263">  321</a></span>&#160;   uint32_t <a class="code" href="../../df/d52/structstimulus__message.html#aa056c11f2f813407952d829437cec263">callreference</a>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;};</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a258aee0512dcbdce20a4ec7c9174efec">  324</a></span>&#160;<span class="preprocessor">#define OFFHOOK_MESSAGE 0x0006</span></div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="../../de/dd1/structoffhook__message.html">  325</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../de/dd1/structoffhook__message.html">offhook_message</a> {</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="../../de/dd1/structoffhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">  326</a></span>&#160;   uint32_t <a class="code" href="../../de/dd1/structoffhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="../../de/dd1/structoffhook__message.html#aa68938e371fea91ad4b64381877bd381">  327</a></span>&#160;   uint32_t <a class="code" href="../../de/dd1/structoffhook__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;};</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a195491206014b7ee4a2950b8af3c8a82">  330</a></span>&#160;<span class="preprocessor">#define ONHOOK_MESSAGE 0x0007</span></div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="../../d9/d36/structonhook__message.html">  331</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d9/d36/structonhook__message.html">onhook_message</a> {</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="../../d9/d36/structonhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">  332</a></span>&#160;   uint32_t <a class="code" href="../../d9/d36/structonhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="../../d9/d36/structonhook__message.html#aa68938e371fea91ad4b64381877bd381">  333</a></span>&#160;   uint32_t <a class="code" href="../../d9/d36/structonhook__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;};</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aff32b9bb805415bcfea5b23ebb62b661">  336</a></span>&#160;<span class="preprocessor">#define CAPABILITIES_RES_MESSAGE 0x0010</span></div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="../../d6/d32/structstation__capabilities.html">  337</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/d32/structstation__capabilities.html">station_capabilities</a> {</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="../../d6/d32/structstation__capabilities.html#a86c2d4142c7f419d8d327bc261fa851f">  338</a></span>&#160;   uint32_t <a class="code" href="../../d6/d32/structstation__capabilities.html#a86c2d4142c7f419d8d327bc261fa851f">codec</a>; <span class="comment">/* skinny codec, not ast codec */</span></div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="../../d6/d32/structstation__capabilities.html#a40463b645a8340db77d51cbbacf2a9ee">  339</a></span>&#160;   uint32_t <a class="code" href="../../d6/d32/structstation__capabilities.html#a40463b645a8340db77d51cbbacf2a9ee">frames</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="keyword">union </span>{</div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="../../d6/d32/structstation__capabilities.html#a5211a1ec9cf0ea440be3eb8539d34092">  341</a></span>&#160;      <span class="keywordtype">char</span> res[8];</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="../../d6/d32/structstation__capabilities.html#a82e0b1311e54c51fa587134c4f9bad50">  342</a></span>&#160;      uint32_t <a class="code" href="../../d6/d32/structstation__capabilities.html#a82e0b1311e54c51fa587134c4f9bad50">rate</a>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   } payloads;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;};</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa12950ed52268059264cbac73630a91a">  346</a></span>&#160;<span class="preprocessor">#define SKINNY_MAX_CAPABILITIES 18</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="../../d3/db0/structcapabilities__res__message.html">  348</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d3/db0/structcapabilities__res__message.html">capabilities_res_message</a> {</div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="../../d3/db0/structcapabilities__res__message.html#a86988a65e0d3ece7990c032c159786d6">  349</a></span>&#160;   uint32_t <a class="code" href="../../d3/db0/structcapabilities__res__message.html#a86988a65e0d3ece7990c032c159786d6">count</a>;</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="../../d3/db0/structcapabilities__res__message.html#ac665dc2214c0a6f27c0b17f5d88032ea">  350</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d32/structstation__capabilities.html">station_capabilities</a> caps[<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa12950ed52268059264cbac73630a91a">SKINNY_MAX_CAPABILITIES</a>];</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;};</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a79d95555682062db176dfd2a5e9c0752">  353</a></span>&#160;<span class="preprocessor">#define SPEED_DIAL_STAT_REQ_MESSAGE 0x000A</span></div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="../../d1/d39/structspeed__dial__stat__req__message.html">  354</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/d39/structspeed__dial__stat__req__message.html">speed_dial_stat_req_message</a> {</div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="../../d1/d39/structspeed__dial__stat__req__message.html#acd27bc25ce21f3ab7dfe7d0c53763f04">  355</a></span>&#160;   uint32_t <a class="code" href="../../d1/d39/structspeed__dial__stat__req__message.html#acd27bc25ce21f3ab7dfe7d0c53763f04">speedDialNumber</a>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;};</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a610dfde5df1301f6c347b10415678e0f">  358</a></span>&#160;<span class="preprocessor">#define LINE_STATE_REQ_MESSAGE 0x000B</span></div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="../../db/d64/structline__state__req__message.html">  359</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../db/d64/structline__state__req__message.html">line_state_req_message</a> {</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="../../db/d64/structline__state__req__message.html#a987293a1c8fcaf937487ecbe613f0c52">  360</a></span>&#160;   uint32_t <a class="code" href="../../db/d64/structline__state__req__message.html#a987293a1c8fcaf937487ecbe613f0c52">lineNumber</a>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;};</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad0232ebceef396ab30795eb9348d7cac">  363</a></span>&#160;<span class="preprocessor">#define TIME_DATE_REQ_MESSAGE 0x000D</span></div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2eafa2761d0f30c216c041a97cad9c30">  364</a></span>&#160;<span class="preprocessor">#define BUTTON_TEMPLATE_REQ_MESSAGE 0x000E</span></div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad4deebb4a9be4ed5eaf37f0ddb7ea361">  365</a></span>&#160;<span class="preprocessor">#define VERSION_REQ_MESSAGE 0x000F</span></div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a36c56f4d73172d09aaf26225c2446963">  366</a></span>&#160;<span class="preprocessor">#define SERVER_REQUEST_MESSAGE 0x0012</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae2a02a450e18eeb46029c20efadd4ab3">  368</a></span>&#160;<span class="preprocessor">#define ALARM_MESSAGE 0x0020</span></div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="../../d7/d39/structalarm__message.html">  369</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d7/d39/structalarm__message.html">alarm_message</a> {</div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="../../d7/d39/structalarm__message.html#a828489cf2ab29edf8bf8cc9cbd2ecff4">  370</a></span>&#160;   uint32_t <a class="code" href="../../d7/d39/structalarm__message.html#a828489cf2ab29edf8bf8cc9cbd2ecff4">alarmSeverity</a>;</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="../../d7/d39/structalarm__message.html#a6e7842182520ec6229e0903bf023290c">  371</a></span>&#160;   <span class="keywordtype">char</span> displayMessage[80];</div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="../../d7/d39/structalarm__message.html#a63a575f488eaea2eed5847b7a4640281">  372</a></span>&#160;   uint32_t <a class="code" href="../../d7/d39/structalarm__message.html#a63a575f488eaea2eed5847b7a4640281">alarmParam1</a>;</div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="../../d7/d39/structalarm__message.html#a5ab6b72d81c896f4c469856a79b86575">  373</a></span>&#160;   uint32_t <a class="code" href="../../d7/d39/structalarm__message.html#a5ab6b72d81c896f4c469856a79b86575">alarmParam2</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;};</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a95a2cd4add7896f4feabe8dc6b0744b6">  376</a></span>&#160;<span class="preprocessor">#define OPEN_RECEIVE_CHANNEL_ACK_MESSAGE 0x0022</span></div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html">  377</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html">open_receive_channel_ack_message_ip4</a> {</div><div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#ade20423e91627f07e610924cb0081623">  378</a></span>&#160;   uint32_t <a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#ade20423e91627f07e610924cb0081623">status</a>;</div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a597bb7df7851baf554b7310863015b2e">  379</a></span>&#160;   uint32_t <a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a597bb7df7851baf554b7310863015b2e">ipAddr</a>;</div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a83a04ad582de2b7d36b96f9db429c2c6">  380</a></span>&#160;   uint32_t <a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a83a04ad582de2b7d36b96f9db429c2c6">port</a>;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a8c5b70179481930bfaef1fa8f6aaba74">  381</a></span>&#160;   uint32_t <a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;};</div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html">  383</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html">open_receive_channel_ack_message_ip6</a> {</div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#ade20423e91627f07e610924cb0081623">  384</a></span>&#160;   uint32_t <a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#ade20423e91627f07e610924cb0081623">status</a>;</div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a255ac0cfa2a98311b2aa3976bdfacf98">  385</a></span>&#160;   uint32_t <a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a255ac0cfa2a98311b2aa3976bdfacf98">space</a>;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#ac5a38fc25a4e37970a393d8e794b37c4">  386</a></span>&#160;   <span class="keywordtype">char</span> ipAddr[16];</div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a83a04ad582de2b7d36b96f9db429c2c6">  387</a></span>&#160;   uint32_t <a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a83a04ad582de2b7d36b96f9db429c2c6">port</a>;</div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a8c5b70179481930bfaef1fa8f6aaba74">  388</a></span>&#160;   uint32_t <a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;};</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a95a0727067965ab3ce6652eefaee5afc">  391</a></span>&#160;<span class="preprocessor">#define SOFT_KEY_SET_REQ_MESSAGE 0x0025</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8fdb22d136247b1f7980bbaf1ed2b7ce">  393</a></span>&#160;<span class="preprocessor">#define SOFT_KEY_EVENT_MESSAGE 0x0026</span></div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="../../dd/d3e/structsoft__key__event__message.html">  394</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/d3e/structsoft__key__event__message.html">soft_key_event_message</a> {</div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="../../dd/d3e/structsoft__key__event__message.html#a4358d46dc0a917c9906274cf85132904">  395</a></span>&#160;   uint32_t <a class="code" href="../../dd/d3e/structsoft__key__event__message.html#a4358d46dc0a917c9906274cf85132904">softKeyEvent</a>;</div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="../../dd/d3e/structsoft__key__event__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">  396</a></span>&#160;   uint32_t <a class="code" href="../../dd/d3e/structsoft__key__event__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="../../dd/d3e/structsoft__key__event__message.html#aa056c11f2f813407952d829437cec263">  397</a></span>&#160;   uint32_t <a class="code" href="../../dd/d3e/structsoft__key__event__message.html#aa056c11f2f813407952d829437cec263">callreference</a>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;};</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a33d2f7a83eef8e9bd1b39f8e38c150f7">  400</a></span>&#160;<span class="preprocessor">#define UNREGISTER_MESSAGE 0x0027</span></div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aaa8ae193940da9236d260041a3a8a5c4">  401</a></span>&#160;<span class="preprocessor">#define SOFT_KEY_TEMPLATE_REQ_MESSAGE 0x0028</span></div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9f3bcf87db314d362bb2ca29ed73c71c">  402</a></span>&#160;<span class="preprocessor">#define HEADSET_STATUS_MESSAGE 0x002B</span></div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acffbaca19a4702b6ae9284d1902b67f9">  403</a></span>&#160;<span class="preprocessor">#define REGISTER_AVAILABLE_LINES_MESSAGE 0x002D</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a890704c8ebdf346f09945189e79d4a09">  405</a></span>&#160;<span class="preprocessor">#define SERVICEURL_STATREQ_MESSAGE 0x0033</span></div><div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="../../d0/dde/structserviceurl__statreq__message.html">  406</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/dde/structserviceurl__statreq__message.html">serviceurl_statreq_message</a> {</div><div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="../../d0/dde/structserviceurl__statreq__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">  407</a></span>&#160;   uint32_t <a class="code" href="../../d0/dde/structserviceurl__statreq__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;};</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3fb821358598b476576f3b098586498f">  410</a></span>&#160;<span class="preprocessor">#define REGISTER_ACK_MESSAGE 0x0081</span></div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="../../d5/dfd/structregister__ack__message.html">  411</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d5/dfd/structregister__ack__message.html">register_ack_message</a> {</div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="../../d5/dfd/structregister__ack__message.html#aa7c63ac4bd47bf61251998dd8c9b63ea">  412</a></span>&#160;   uint32_t <a class="code" href="../../d5/dfd/structregister__ack__message.html#aa7c63ac4bd47bf61251998dd8c9b63ea">keepAlive</a>;</div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="../../d5/dfd/structregister__ack__message.html#a05c27f79b3e6af4e4a8c19ce8bccefb7">  413</a></span>&#160;   <span class="keywordtype">char</span> dateTemplate[6];</div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="../../d5/dfd/structregister__ack__message.html#a7be363918d3701aef294dc8cd25f6d80">  414</a></span>&#160;   <span class="keywordtype">char</span> res[2];</div><div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="../../d5/dfd/structregister__ack__message.html#a80e8d2b07d4ba102a31aea2fe00730b1">  415</a></span>&#160;   uint32_t <a class="code" href="../../d5/dfd/structregister__ack__message.html#a80e8d2b07d4ba102a31aea2fe00730b1">secondaryKeepAlive</a>;</div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="../../d5/dfd/structregister__ack__message.html#a4b9c948b588ab48f4bd3866b36624669">  416</a></span>&#160;   <span class="keywordtype">char</span> res2[4];</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;};</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad2488ba493987c5230f95cb86958dc76">  419</a></span>&#160;<span class="preprocessor">#define START_TONE_MESSAGE 0x0082</span></div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="../../d0/d00/structstart__tone__message.html">  420</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d00/structstart__tone__message.html">start_tone_message</a> {</div><div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="../../d0/d00/structstart__tone__message.html#affe196e5ade32fb5073c2d5bae82fcc3">  421</a></span>&#160;   uint32_t <a class="code" href="../../d0/d00/structstart__tone__message.html#affe196e5ade32fb5073c2d5bae82fcc3">tone</a>;</div><div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="../../d0/d00/structstart__tone__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">  422</a></span>&#160;   uint32_t <a class="code" href="../../d0/d00/structstart__tone__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">space</a>;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="../../d0/d00/structstart__tone__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">  423</a></span>&#160;   uint32_t <a class="code" href="../../d0/d00/structstart__tone__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="../../d0/d00/structstart__tone__message.html#aa68938e371fea91ad4b64381877bd381">  424</a></span>&#160;   uint32_t <a class="code" href="../../d0/d00/structstart__tone__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;};</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6c341d198f3726cac8d9e26d4fdb8c58">  427</a></span>&#160;<span class="preprocessor">#define STOP_TONE_MESSAGE 0x0083</span></div><div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="../../df/d76/structstop__tone__message.html">  428</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../df/d76/structstop__tone__message.html">stop_tone_message</a> {</div><div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="../../df/d76/structstop__tone__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">  429</a></span>&#160;   uint32_t <a class="code" href="../../df/d76/structstop__tone__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="../../df/d76/structstop__tone__message.html#aa68938e371fea91ad4b64381877bd381">  430</a></span>&#160;   uint32_t <a class="code" href="../../df/d76/structstop__tone__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>;</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="../../df/d76/structstop__tone__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">  431</a></span>&#160;   uint32_t <a class="code" href="../../df/d76/structstop__tone__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">space</a>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;};</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae7bbfbe01b4deecb01153f047d12497b">  434</a></span>&#160;<span class="preprocessor">#define SET_RINGER_MESSAGE 0x0085</span></div><div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="../../d8/dfe/structset__ringer__message.html">  435</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d8/dfe/structset__ringer__message.html">set_ringer_message</a> {</div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="../../d8/dfe/structset__ringer__message.html#aa8164b9b4b32a6aa9770cb5bc9f6b544">  436</a></span>&#160;   uint32_t <a class="code" href="../../d8/dfe/structset__ringer__message.html#aa8164b9b4b32a6aa9770cb5bc9f6b544">ringerMode</a>;</div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="../../d8/dfe/structset__ringer__message.html#a1946df298d8390034825068792632dbb">  437</a></span>&#160;   uint32_t <a class="code" href="../../d8/dfe/structset__ringer__message.html#a1946df298d8390034825068792632dbb">unknown1</a>; <span class="comment">/* See notes in transmit_ringer_mode */</span></div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="../../d8/dfe/structset__ringer__message.html#a562d73948591ea69ac50c6db50f3a54e">  438</a></span>&#160;   uint32_t <a class="code" href="../../d8/dfe/structset__ringer__message.html#a562d73948591ea69ac50c6db50f3a54e">unknown2</a>;</div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="../../d8/dfe/structset__ringer__message.html#aa5cc11f805a6af19ee9ed50a53d1cef3">  439</a></span>&#160;   uint32_t space[2];</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;};</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1ea4574da323c63a872fffd8f134f1af">  442</a></span>&#160;<span class="preprocessor">#define SET_LAMP_MESSAGE 0x0086</span></div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="../../d5/d21/structset__lamp__message.html">  443</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d5/d21/structset__lamp__message.html">set_lamp_message</a> {</div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="../../d5/d21/structset__lamp__message.html#af793c4f4a8ade380472caa8035905848">  444</a></span>&#160;   uint32_t <a class="code" href="../../d5/d21/structset__lamp__message.html#af793c4f4a8ade380472caa8035905848">stimulus</a>;</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="../../d5/d21/structset__lamp__message.html#a9343bb7a21618047055c833ea497d1fe">  445</a></span>&#160;   uint32_t <a class="code" href="../../d5/d21/structset__lamp__message.html#a9343bb7a21618047055c833ea497d1fe">stimulusInstance</a>;</div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="../../d5/d21/structset__lamp__message.html#afecdde89163215e9c3f609f583ca43a7">  446</a></span>&#160;   uint32_t <a class="code" href="../../d5/d21/structset__lamp__message.html#afecdde89163215e9c3f609f583ca43a7">deviceStimulus</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;};</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ace96029ade576fdaa306b409a2639890">  449</a></span>&#160;<span class="preprocessor">#define SET_SPEAKER_MESSAGE 0x0088</span></div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="../../d7/dd7/structset__speaker__message.html">  450</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d7/dd7/structset__speaker__message.html">set_speaker_message</a> {</div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="../../d7/dd7/structset__speaker__message.html#a6b29e4f37f4482274af785ad5ffe96a7">  451</a></span>&#160;   uint32_t <a class="code" href="../../d7/dd7/structset__speaker__message.html#a6b29e4f37f4482274af785ad5ffe96a7">mode</a>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;};</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">/* XXX When do we need to use this? */</span></div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa1669b84b2c634fca96d1e74efe28f21">  455</a></span>&#160;<span class="preprocessor">#define SET_MICROPHONE_MESSAGE 0x0089</span></div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="../../db/df8/structset__microphone__message.html">  456</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../db/df8/structset__microphone__message.html">set_microphone_message</a> {</div><div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="../../db/df8/structset__microphone__message.html#a6b29e4f37f4482274af785ad5ffe96a7">  457</a></span>&#160;   uint32_t <a class="code" href="../../db/df8/structset__microphone__message.html#a6b29e4f37f4482274af785ad5ffe96a7">mode</a>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;};</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa8c4fd39788d87301b7b97543537a12c">  460</a></span>&#160;<span class="preprocessor">#define START_MEDIA_TRANSMISSION_MESSAGE 0x008A</span></div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="../../d6/df7/structmedia__qualifier.html">  461</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/df7/structmedia__qualifier.html">media_qualifier</a> {</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="../../d6/df7/structmedia__qualifier.html#a3f52bd316aba6dea4bc6374f5e4b0258">  462</a></span>&#160;   uint32_t <a class="code" href="../../d6/df7/structmedia__qualifier.html#a3f52bd316aba6dea4bc6374f5e4b0258">precedence</a>;</div><div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="../../d6/df7/structmedia__qualifier.html#af22582b468205e3b1c3681dc5c28aa6b">  463</a></span>&#160;   uint32_t <a class="code" href="../../d6/df7/structmedia__qualifier.html#af22582b468205e3b1c3681dc5c28aa6b">vad</a>;</div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="../../d6/df7/structmedia__qualifier.html#a9b36626dc275b826b3249e374a34e89b">  464</a></span>&#160;   uint32_t <a class="code" href="../../d6/df7/structmedia__qualifier.html#a9b36626dc275b826b3249e374a34e89b">packets</a>;</div><div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="../../d6/df7/structmedia__qualifier.html#a497243c8d5b9134495d3a68af76693c8">  465</a></span>&#160;   uint32_t <a class="code" href="../../d6/df7/structmedia__qualifier.html#a497243c8d5b9134495d3a68af76693c8">bitRate</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;};</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="../../d2/d39/structstart__media__transmission__message__ip4.html">  468</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html">start_media_transmission_message_ip4</a> {</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="../../d2/d39/structstart__media__transmission__message__ip4.html#aad8282aaef639f3310f833e9b44a541e">  469</a></span>&#160;   uint32_t <a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a>;</div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="../../d2/d39/structstart__media__transmission__message__ip4.html#ae7a8ce78da6117ddd5e98de15f85af23">  470</a></span>&#160;   uint32_t <a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#ae7a8ce78da6117ddd5e98de15f85af23">passThruPartyId</a>;</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="../../d2/d39/structstart__media__transmission__message__ip4.html#ac4946ecf0faa3d0281b86b9df56cbc6f">  471</a></span>&#160;   uint32_t <a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#ac4946ecf0faa3d0281b86b9df56cbc6f">remoteIp</a>;</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="../../d2/d39/structstart__media__transmission__message__ip4.html#a52c51c79d848efbf9fbf291a2f2645c6">  472</a></span>&#160;   uint32_t <a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#a52c51c79d848efbf9fbf291a2f2645c6">remotePort</a>;</div><div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="../../d2/d39/structstart__media__transmission__message__ip4.html#ada112a060915d95bc25fb2917272914f">  473</a></span>&#160;   uint32_t <a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#ada112a060915d95bc25fb2917272914f">packetSize</a>;</div><div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="../../d2/d39/structstart__media__transmission__message__ip4.html#aaf0b83c81dec67533a9edcf9f4c3c760">  474</a></span>&#160;   uint32_t <a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#aaf0b83c81dec67533a9edcf9f4c3c760">payloadType</a>;</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="../../d2/d39/structstart__media__transmission__message__ip4.html#a5304bc4afe911142322308d69ffe6466">  475</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/df7/structmedia__qualifier.html">media_qualifier</a> qualifier;</div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="../../d2/d39/structstart__media__transmission__message__ip4.html#abf36c4672232211666d80a2f64408a11">  476</a></span>&#160;   uint32_t space[19];</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;};</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html">  479</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html">start_media_transmission_message_ip6</a> {</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#aad8282aaef639f3310f833e9b44a541e">  480</a></span>&#160;   uint32_t <a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a>;</div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#ae7a8ce78da6117ddd5e98de15f85af23">  481</a></span>&#160;   uint32_t <a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#ae7a8ce78da6117ddd5e98de15f85af23">passThruPartyId</a>;</div><div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a255ac0cfa2a98311b2aa3976bdfacf98">  482</a></span>&#160;   uint32_t <a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a255ac0cfa2a98311b2aa3976bdfacf98">space</a>;</div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a018fa6b7228e7dd6e019b7d6521248fc">  483</a></span>&#160;   <span class="keywordtype">char</span> remoteIp[16];</div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a52c51c79d848efbf9fbf291a2f2645c6">  484</a></span>&#160;   uint32_t <a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a52c51c79d848efbf9fbf291a2f2645c6">remotePort</a>;</div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#ada112a060915d95bc25fb2917272914f">  485</a></span>&#160;   uint32_t <a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#ada112a060915d95bc25fb2917272914f">packetSize</a>;</div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#aaf0b83c81dec67533a9edcf9f4c3c760">  486</a></span>&#160;   uint32_t <a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#aaf0b83c81dec67533a9edcf9f4c3c760">payloadType</a>;</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a5304bc4afe911142322308d69ffe6466">  487</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/df7/structmedia__qualifier.html">media_qualifier</a> qualifier;<span class="comment"></span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">   /*! \brief space2 is used for newer version of skinny */</span></div><div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a380b2267b5559037444da9e729fff275">  489</a></span>&#160;   uint32_t space2[19];</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;};</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acb883512e3f609a62dde13c5d5cb4879">  492</a></span>&#160;<span class="preprocessor">#define STOP_MEDIA_TRANSMISSION_MESSAGE 0x008B</span></div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="../../d6/de5/structstop__media__transmission__message.html">  493</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/de5/structstop__media__transmission__message.html">stop_media_transmission_message</a> {</div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="../../d6/de5/structstop__media__transmission__message.html#aad8282aaef639f3310f833e9b44a541e">  494</a></span>&#160;   uint32_t <a class="code" href="../../d6/de5/structstop__media__transmission__message.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a>;</div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="../../d6/de5/structstop__media__transmission__message.html#ae7a8ce78da6117ddd5e98de15f85af23">  495</a></span>&#160;   uint32_t <a class="code" href="../../d6/de5/structstop__media__transmission__message.html#ae7a8ce78da6117ddd5e98de15f85af23">passThruPartyId</a>;</div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="../../d6/de5/structstop__media__transmission__message.html#a632529daf45d3e778a9a1991e28e17fc">  496</a></span>&#160;   uint32_t space[3];</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;};</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7fb2c263aa8febc00c4da70f073ca9b7">  499</a></span>&#160;<span class="preprocessor">#define CALL_INFO_MESSAGE 0x008F</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html">  500</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/d13/structcall__info__message.html">call_info_message</a> {</div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a34632365a3c39125e0bdafc01503c191">  501</a></span>&#160;   <span class="keywordtype">char</span> callingPartyName[40];</div><div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a8f62c05987b8a452f1208a72a43e643e">  502</a></span>&#160;   <span class="keywordtype">char</span> callingParty[24];</div><div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#ab896d88e09a770904adb218aaf9b635f">  503</a></span>&#160;   <span class="keywordtype">char</span> calledPartyName[40];</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#aaa9b00db6f95d4932ee8d3b825c73bca">  504</a></span>&#160;   <span class="keywordtype">char</span> calledParty[24];</div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">  505</a></span>&#160;   uint32_t <a class="code" href="../../d1/d13/structcall__info__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#aa68938e371fea91ad4b64381877bd381">  506</a></span>&#160;   uint32_t <a class="code" href="../../d1/d13/structcall__info__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>;</div><div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#ad44b615021ed3ccb734fcaf583ef4a03">  507</a></span>&#160;   uint32_t <a class="code" href="../../d1/d13/structcall__info__message.html#ad44b615021ed3ccb734fcaf583ef4a03">type</a>;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a7548702b6da21b433d5305849b21e181">  508</a></span>&#160;   <span class="keywordtype">char</span> originalCalledPartyName[40];</div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a9906d0bb5d40918d1886cfeadab8a2ba">  509</a></span>&#160;   <span class="keywordtype">char</span> originalCalledParty[24];</div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a48452593648c34bb39cd72ec3fb54c2a">  510</a></span>&#160;   <span class="keywordtype">char</span> lastRedirectingPartyName[40];</div><div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#aec5dbcd64d7cb5a830b08cb71622a138">  511</a></span>&#160;   <span class="keywordtype">char</span> lastRedirectingParty[24];</div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a211a0e22a5579bdb86254754a80dfdb7">  512</a></span>&#160;   uint32_t <a class="code" href="../../d1/d13/structcall__info__message.html#a211a0e22a5579bdb86254754a80dfdb7">originalCalledPartyRedirectReason</a>;</div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#ad0242c30736ce0106e4e87b36eec15cc">  513</a></span>&#160;   uint32_t <a class="code" href="../../d1/d13/structcall__info__message.html#ad0242c30736ce0106e4e87b36eec15cc">lastRedirectingReason</a>;</div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a3d54325c5872fbddf8fdd59d4b513f4b">  514</a></span>&#160;   <span class="keywordtype">char</span> callingPartyVoiceMailbox[24];</div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a7b2987bcc38dbbfb81d755b610f07909">  515</a></span>&#160;   <span class="keywordtype">char</span> calledPartyVoiceMailbox[24];</div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a774446e383ec5e069e7617f0855f61b7">  516</a></span>&#160;   <span class="keywordtype">char</span> originalCalledPartyVoiceMailbox[24];</div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a172390015fa2bad4bd0fe11d3cffe8d3">  517</a></span>&#160;   <span class="keywordtype">char</span> lastRedirectingVoiceMailbox[24];</div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="../../d1/d13/structcall__info__message.html#a632529daf45d3e778a9a1991e28e17fc">  518</a></span>&#160;   uint32_t space[3];</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;};</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3fde9ebcac20096752caa92845e4862a">  521</a></span>&#160;<span class="preprocessor">#define FORWARD_STAT_MESSAGE 0x0090</span></div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="../../d9/d05/structforward__stat__message.html">  522</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d9/d05/structforward__stat__message.html">forward_stat_message</a> {</div><div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="../../d9/d05/structforward__stat__message.html#a0efc2cd005b4b368e86dc6898dfc1663">  523</a></span>&#160;   uint32_t <a class="code" href="../../d9/d05/structforward__stat__message.html#a0efc2cd005b4b368e86dc6898dfc1663">activeforward</a>;</div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="../../d9/d05/structforward__stat__message.html#a987293a1c8fcaf937487ecbe613f0c52">  524</a></span>&#160;   uint32_t <a class="code" href="../../d9/d05/structforward__stat__message.html#a987293a1c8fcaf937487ecbe613f0c52">lineNumber</a>;</div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="../../d9/d05/structforward__stat__message.html#aeea300cffcc2fdbb4fbd2130b23f127c">  525</a></span>&#160;   uint32_t <a class="code" href="../../d9/d05/structforward__stat__message.html#aeea300cffcc2fdbb4fbd2130b23f127c">fwdall</a>;</div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="../../d9/d05/structforward__stat__message.html#a2a34e8a2d2777cf9b7ca0596732befd2">  526</a></span>&#160;   <span class="keywordtype">char</span> fwdallnum[24];</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="../../d9/d05/structforward__stat__message.html#a1c3cbe199ec696d90ca356b34a79d55a">  527</a></span>&#160;   uint32_t <a class="code" href="../../d9/d05/structforward__stat__message.html#a1c3cbe199ec696d90ca356b34a79d55a">fwdbusy</a>;</div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="../../d9/d05/structforward__stat__message.html#aa2fa55c22378257cdd94037cd2871d13">  528</a></span>&#160;   <span class="keywordtype">char</span> fwdbusynum[24];</div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="../../d9/d05/structforward__stat__message.html#a5cedc24a4c8a47b4b07509728c9991e8">  529</a></span>&#160;   uint32_t <a class="code" href="../../d9/d05/structforward__stat__message.html#a5cedc24a4c8a47b4b07509728c9991e8">fwdnoanswer</a>;</div><div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="../../d9/d05/structforward__stat__message.html#ad53edfe4cc9f758d9ed850e79e478209">  530</a></span>&#160;   <span class="keywordtype">char</span> fwdnoanswernum[24];</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;};</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a552f2cd0b0e5021c1a1d60d7e79e5488">  533</a></span>&#160;<span class="preprocessor">#define SPEED_DIAL_STAT_RES_MESSAGE 0x0091</span></div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="../../dd/d11/structspeed__dial__stat__res__message.html">  534</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/d11/structspeed__dial__stat__res__message.html">speed_dial_stat_res_message</a> {</div><div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="../../dd/d11/structspeed__dial__stat__res__message.html#acd27bc25ce21f3ab7dfe7d0c53763f04">  535</a></span>&#160;   uint32_t <a class="code" href="../../dd/d11/structspeed__dial__stat__res__message.html#acd27bc25ce21f3ab7dfe7d0c53763f04">speedDialNumber</a>;</div><div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="../../dd/d11/structspeed__dial__stat__res__message.html#a2e227f2e07370c68d9abeaca3dc883fb">  536</a></span>&#160;   <span class="keywordtype">char</span> speedDialDirNumber[24];</div><div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="../../dd/d11/structspeed__dial__stat__res__message.html#a33a668a02f35239d4d39ccaf1c30c273">  537</a></span>&#160;   <span class="keywordtype">char</span> speedDialDisplayName[40];</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;};</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2181f1d209288ce7edad5fc7bc07a9c1">  540</a></span>&#160;<span class="preprocessor">#define LINE_STAT_RES_MESSAGE 0x0092</span></div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="../../d6/d52/structline__stat__res__message.html">  541</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/d52/structline__stat__res__message.html">line_stat_res_message</a> {</div><div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="../../d6/d52/structline__stat__res__message.html#a987293a1c8fcaf937487ecbe613f0c52">  542</a></span>&#160;   uint32_t <a class="code" href="../../d6/d52/structline__stat__res__message.html#a987293a1c8fcaf937487ecbe613f0c52">lineNumber</a>;</div><div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="../../d6/d52/structline__stat__res__message.html#a7b3df44a29beab3b350e067cbfb7075b">  543</a></span>&#160;   <span class="keywordtype">char</span> lineDirNumber[24];</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="../../d6/d52/structline__stat__res__message.html#a54c4c4fcc87cdc8712a6b9808f7e4215">  544</a></span>&#160;   <span class="keywordtype">char</span> lineDisplayName[24];</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="../../d6/d52/structline__stat__res__message.html#af9c0df9d7d2e2b4eb9f486eda3672e92">  545</a></span>&#160;   uint32_t space[15];</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;};</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a05d20dbd5d289408e887b7c267ec3eea">  548</a></span>&#160;<span class="preprocessor">#define DEFINETIMEDATE_MESSAGE 0x0094</span></div><div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html">  549</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/d65/structdefinetimedate__message.html">definetimedate_message</a> {</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html#aac3a162d2f192fe2360aba534eac7198">  550</a></span>&#160;   uint32_t <a class="code" href="../../d2/d65/structdefinetimedate__message.html#aac3a162d2f192fe2360aba534eac7198">year</a>; <span class="comment">/* since 1900 */</span></div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html#a55a5fa57878363d803833666ddf3c16f">  551</a></span>&#160;   uint32_t <a class="code" href="../../d2/d65/structdefinetimedate__message.html#a55a5fa57878363d803833666ddf3c16f">month</a>;</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html#ab470c6489808456f63cfd7f94df28712">  552</a></span>&#160;   uint32_t <a class="code" href="../../d2/d65/structdefinetimedate__message.html#ab470c6489808456f63cfd7f94df28712">dayofweek</a>; <span class="comment">/* monday = 1 */</span></div><div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html#a897ed87b95b7a37afeeb935ca0b2366b">  553</a></span>&#160;   uint32_t <a class="code" href="../../d2/d65/structdefinetimedate__message.html#a897ed87b95b7a37afeeb935ca0b2366b">day</a>;</div><div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html#a26d5bae76d83086900174b266fd2cd82">  554</a></span>&#160;   uint32_t <a class="code" href="../../d2/d65/structdefinetimedate__message.html#a26d5bae76d83086900174b266fd2cd82">hour</a>;</div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html#aa4bd38811c26969cc4d8cd6723199530">  555</a></span>&#160;   uint32_t <a class="code" href="../../d2/d65/structdefinetimedate__message.html#aa4bd38811c26969cc4d8cd6723199530">minute</a>;</div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html#a6d5694839ec935781627e5c52de21fda">  556</a></span>&#160;   uint32_t <a class="code" href="../../d2/d65/structdefinetimedate__message.html#a6d5694839ec935781627e5c52de21fda">seconds</a>;</div><div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html#a62744aa03cd35aa3b6955f8ff972edb2">  557</a></span>&#160;   uint32_t <a class="code" href="../../d2/d65/structdefinetimedate__message.html#a62744aa03cd35aa3b6955f8ff972edb2">milliseconds</a>;</div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="../../d2/d65/structdefinetimedate__message.html#ab20b0c7772544cf5d318507f34231fbe">  558</a></span>&#160;   uint32_t <a class="code" href="../../d2/d65/structdefinetimedate__message.html#ab20b0c7772544cf5d318507f34231fbe">timestamp</a>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;};</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa0698f06ea990283d266b4fad44a49c1">  561</a></span>&#160;<span class="preprocessor">#define BUTTON_TEMPLATE_RES_MESSAGE 0x0097</span></div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="../../d5/d71/structbutton__definition.html">  562</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d5/d71/structbutton__definition.html">button_definition</a> {</div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">  563</a></span>&#160;   uint8_t <a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a>;</div><div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">  564</a></span>&#160;   uint8_t <a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;};</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="../../d9/d8c/structbutton__definition__template.html">  567</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d9/d8c/structbutton__definition__template.html">button_definition_template</a> {</div><div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="../../d9/d8c/structbutton__definition__template.html#aca4595173e9d8b5d9c6dfcc94d15f74a">  568</a></span>&#160;   uint8_t <a class="code" href="../../d9/d8c/structbutton__definition__template.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <span class="comment">/* for now, anything between 0xB0 and 0xCF is custom */</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   <span class="comment">/*int custom;*/</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;};</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a33435da098fa6baba656162b287d03ad">  573</a></span>&#160;<span class="preprocessor">#define STIMULUS_REDIAL 0x01</span></div><div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5e78a80b19eee87e834b2f2b699c85f2">  574</a></span>&#160;<span class="preprocessor">#define STIMULUS_SPEEDDIAL 0x02</span></div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a68441ee5fadb36ee720812ba7f0ee460">  575</a></span>&#160;<span class="preprocessor">#define STIMULUS_HOLD 0x03</span></div><div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab3db0778b0a139e240053a7996b4a9e4">  576</a></span>&#160;<span class="preprocessor">#define STIMULUS_TRANSFER 0x04</span></div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af3ac1b0d1c42719b924361fb782507e5">  577</a></span>&#160;<span class="preprocessor">#define STIMULUS_FORWARDALL 0x05</span></div><div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa9a56439f327c8e4795abdd03bfeca10">  578</a></span>&#160;<span class="preprocessor">#define STIMULUS_FORWARDBUSY 0x06</span></div><div class="line"><a name="l00579"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acbcce2f0a7ce5f5734548811ba160923">  579</a></span>&#160;<span class="preprocessor">#define STIMULUS_FORWARDNOANSWER 0x07</span></div><div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aac6715ad310106017794df7beecb0b7e">  580</a></span>&#160;<span class="preprocessor">#define STIMULUS_DISPLAY 0x08</span></div><div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">  581</a></span>&#160;<span class="preprocessor">#define STIMULUS_LINE 0x09</span></div><div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#add30eeef22fe342e5e7e92354ece088e">  582</a></span>&#160;<span class="preprocessor">#define STIMULUS_VOICEMAIL 0x0F</span></div><div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a656a13497d245442343eac5445948896">  583</a></span>&#160;<span class="preprocessor">#define STIMULUS_AUTOANSWER 0x11</span></div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a67ecb39e89d054dc76137a20fd11e548">  584</a></span>&#160;<span class="preprocessor">#define STIMULUS_SERVICEURL 0x14</span></div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a01245cf7008ec6fc7a898f2add35d1bd">  585</a></span>&#160;<span class="preprocessor">#define STIMULUS_DND 0x3F</span></div><div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aef34632dd58c9bb98615297efcc1c964">  586</a></span>&#160;<span class="preprocessor">#define STIMULUS_CONFERENCE 0x7D</span></div><div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a43375044fa9c80f030190f7f2f507d9b">  587</a></span>&#160;<span class="preprocessor">#define STIMULUS_CALLPARK 0x7E</span></div><div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a47cdf2923775497e961c2050a0590f3f">  588</a></span>&#160;<span class="preprocessor">#define STIMULUS_CALLPICKUP 0x7F</span></div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae07f16d153305fae849d6470af9940a3">  589</a></span>&#160;<span class="preprocessor">#define STIMULUS_NONE 0xFF</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">/* Button types */</span></div><div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad42c94940dcf4f9dfcbadb66768a232e">  592</a></span>&#160;<span class="preprocessor">#define BT_REDIAL STIMULUS_REDIAL</span></div><div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">  593</a></span>&#160;<span class="preprocessor">#define BT_SPEEDDIAL STIMULUS_SPEEDDIAL</span></div><div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a66496dc99061becc829b16fb6a77b932">  594</a></span>&#160;<span class="preprocessor">#define BT_HOLD STIMULUS_HOLD</span></div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad694b8a6767c0471620203a76c163c94">  595</a></span>&#160;<span class="preprocessor">#define BT_TRANSFER STIMULUS_TRANSFER</span></div><div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a717fbb6c33d3e97eda9e83439fcfc9f6">  596</a></span>&#160;<span class="preprocessor">#define BT_FORWARDALL STIMULUS_FORWARDALL</span></div><div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a618b15fa4033ccaeedc692f108a08e8d">  597</a></span>&#160;<span class="preprocessor">#define BT_FORWARDBUSY STIMULUS_FORWARDBUSY</span></div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1933284ff47ec7d35a2efe6d978b43dc">  598</a></span>&#160;<span class="preprocessor">#define BT_FORWARDNOANSWER STIMULUS_FORWARDNOANSWER</span></div><div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad78a3be084759b7516f88e3ac5bc3878">  599</a></span>&#160;<span class="preprocessor">#define BT_DISPLAY STIMULUS_DISPLAY</span></div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">  600</a></span>&#160;<span class="preprocessor">#define BT_LINE STIMULUS_LINE</span></div><div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae9c3820ed2b487507e8c713c7fb1db03">  601</a></span>&#160;<span class="preprocessor">#define BT_VOICEMAIL STIMULUS_VOICEMAIL</span></div><div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a49c707165dd28b53392431079678e0ae">  602</a></span>&#160;<span class="preprocessor">#define BT_AUTOANSWER STIMULUS_AUTOANSWER</span></div><div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2fed5ffe5ad02c8583af168b3e1bd2ba">  603</a></span>&#160;<span class="preprocessor">#define BT_SERVICEURL STIMULUS_SERVICEURL</span></div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2554115383df15624de008b9d302ae8b">  604</a></span>&#160;<span class="preprocessor">#define BT_DND STIMULUS_DND</span></div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aab811d3a4b1b82a685a59c95a451bc56">  605</a></span>&#160;<span class="preprocessor">#define BT_CONFERENCE STIMULUS_CONFERENCE</span></div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5fac0c713656df7ee579325a7755da46">  606</a></span>&#160;<span class="preprocessor">#define BT_CALLPARK STIMULUS_CALLPARK</span></div><div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9e3e6f834e1aed198207e1f91c7c4942">  607</a></span>&#160;<span class="preprocessor">#define BT_CALLPICKUP STIMULUS_CALLPICKUP</span></div><div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afaba3e566686d3d7a3f42c20aa5e882d">  608</a></span>&#160;<span class="preprocessor">#define BT_NONE 0x00</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">/* Custom button types - add our own between 0xB0 and 0xCF.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">   This may need to be revised in the future,</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">   if stimuluses are ever added in this range. */</span></div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad25614879b5f61a397dd7e6afc94e315">  613</a></span>&#160;<span class="preprocessor">#define BT_CUST_LINESPEEDDIAL 0xB0 </span><span class="comment">/* line or speeddial with/without hint */</span><span class="preprocessor"></span></div><div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a79703f70916908d1d8a2cbb2c319a287">  614</a></span>&#160;<span class="preprocessor">#define BT_CUST_LINE 0xB1          </span><span class="comment">/* line or speeddial with hint only */</span><span class="preprocessor"></span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="../../db/df8/structbutton__template__res__message.html">  616</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../db/df8/structbutton__template__res__message.html">button_template_res_message</a> {</div><div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="../../db/df8/structbutton__template__res__message.html#a8bfe0684eb73994b284e34cbab2ab7ec">  617</a></span>&#160;   uint32_t <a class="code" href="../../db/df8/structbutton__template__res__message.html#a8bfe0684eb73994b284e34cbab2ab7ec">buttonOffset</a>;</div><div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="../../db/df8/structbutton__template__res__message.html#aa100098f03a37452cf695a63ec6cc205">  618</a></span>&#160;   uint32_t <a class="code" href="../../db/df8/structbutton__template__res__message.html#aa100098f03a37452cf695a63ec6cc205">buttonCount</a>;</div><div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="../../db/df8/structbutton__template__res__message.html#a119c7a9d583c29cc7454bf18f9328527">  619</a></span>&#160;   uint32_t <a class="code" href="../../db/df8/structbutton__template__res__message.html#a119c7a9d583c29cc7454bf18f9328527">totalButtonCount</a>;</div><div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">  620</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d71/structbutton__definition.html">button_definition</a> definition[42];</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;};</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a12901431f5ab5e4cb9df9edc664e6d85">  623</a></span>&#160;<span class="preprocessor">#define VERSION_RES_MESSAGE 0x0098</span></div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="../../d0/d43/structversion__res__message.html">  624</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d43/structversion__res__message.html">version_res_message</a> {</div><div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="../../d0/d43/structversion__res__message.html#a2eaaed79d5d4970bf38f17ccbfdbb035">  625</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a>[16];</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;};</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aaf7fd74b57aa572a32636909926de80b">  628</a></span>&#160;<span class="preprocessor">#define DISPLAYTEXT_MESSAGE 0x0099</span></div><div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="../../da/db8/structdisplaytext__message.html">  629</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../da/db8/structdisplaytext__message.html">displaytext_message</a> {</div><div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="../../da/db8/structdisplaytext__message.html#a9c7ea79a50fa206ad34689d0ba2f00fc">  630</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>[40];</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;};</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a75bd8c2deb5ab3092e1c1a3bb59b1996">  633</a></span>&#160;<span class="preprocessor">#define CLEAR_NOTIFY_MESSAGE  0x0115</span></div><div class="line"><a name="l00634"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad3ef1afdcb3cc2dc465820495d6a3826">  634</a></span>&#160;<span class="preprocessor">#define CLEAR_DISPLAY_MESSAGE 0x009A</span></div><div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="../../db/d49/structclear__display__message.html">  635</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../db/d49/structclear__display__message.html">clear_display_message</a> {</div><div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="../../db/d49/structclear__display__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">  636</a></span>&#160;   uint32_t <a class="code" href="../../db/d49/structclear__display__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">space</a>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;};</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#adb5145c2019b8a1d29b20b7b482f8f17">  639</a></span>&#160;<span class="preprocessor">#define CAPABILITIES_REQ_MESSAGE 0x009B</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8a678ba2da3542aefebf876d6849ad6a">  641</a></span>&#160;<span class="preprocessor">#define REGISTER_REJ_MESSAGE 0x009D</span></div><div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="../../d3/da5/structregister__rej__message.html">  642</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d3/da5/structregister__rej__message.html">register_rej_message</a> {</div><div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="../../d3/da5/structregister__rej__message.html#ae277b64cf6cfc5934fc43b096023feed">  643</a></span>&#160;   <span class="keywordtype">char</span> errMsg[33];</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;};</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acfb45c382a52256b57620a7340c20a69">  646</a></span>&#160;<span class="preprocessor">#define SERVER_RES_MESSAGE 0x009E</span></div><div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="../../d9/df0/structserver__identifier.html">  647</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d9/df0/structserver__identifier.html">server_identifier</a> {</div><div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="../../d9/df0/structserver__identifier.html#a24f34926c446be4afb4b2fef4538e524">  648</a></span>&#160;   <span class="keywordtype">char</span> serverName[48];</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;};</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="../../dd/d7b/structserver__res__message.html">  651</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/d7b/structserver__res__message.html">server_res_message</a> {</div><div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="../../dd/d7b/structserver__res__message.html#a79e782cec3d53c0ec6b5922620d6a74f">  652</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df0/structserver__identifier.html">server_identifier</a> server[5];</div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="../../dd/d7b/structserver__res__message.html#a610e7308d2c7e6410d1728a991afd82e">  653</a></span>&#160;   uint32_t serverListenPort[5];</div><div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="../../dd/d7b/structserver__res__message.html#a696fd8eaa59bbf6a3b8c4d20c3a39ee0">  654</a></span>&#160;   uint32_t serverIpAddr[5];</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;};</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afb6f653351a09b4b3bbbb0fbd3ba4f1e">  657</a></span>&#160;<span class="preprocessor">#define RESET_MESSAGE 0x009F</span></div><div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="../../d0/dbe/structreset__message.html">  658</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/dbe/structreset__message.html">reset_message</a> {</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="../../d0/dbe/structreset__message.html#a7a8191f03b981d7fd9ea45a66270833b">  659</a></span>&#160;   uint32_t <a class="code" href="../../d0/dbe/structreset__message.html#a7a8191f03b981d7fd9ea45a66270833b">resetType</a>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;};</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abc0af116eb82cd2fef2601d565c64ecc">  662</a></span>&#160;<span class="preprocessor">#define KEEP_ALIVE_ACK_MESSAGE 0x0100</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a88a234a4bca9e3085c77555b00774758">  664</a></span>&#160;<span class="preprocessor">#define OPEN_RECEIVE_CHANNEL_MESSAGE 0x0105</span></div><div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="../../d1/df8/structopen__receive__channel__message.html">  665</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/df8/structopen__receive__channel__message.html">open_receive_channel_message</a> {</div><div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="../../d1/df8/structopen__receive__channel__message.html#aad8282aaef639f3310f833e9b44a541e">  666</a></span>&#160;   uint32_t <a class="code" href="../../d1/df8/structopen__receive__channel__message.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a>;</div><div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="../../d1/df8/structopen__receive__channel__message.html#a042688e766f041125ca9e83e7d6e1e5b">  667</a></span>&#160;   uint32_t <a class="code" href="../../d1/df8/structopen__receive__channel__message.html#a042688e766f041125ca9e83e7d6e1e5b">partyId</a>;</div><div class="line"><a name="l00668"></a><span class="lineno"><a class="line" href="../../d1/df8/structopen__receive__channel__message.html#a9b36626dc275b826b3249e374a34e89b">  668</a></span>&#160;   uint32_t <a class="code" href="../../d1/df8/structopen__receive__channel__message.html#a9b36626dc275b826b3249e374a34e89b">packets</a>;</div><div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="../../d1/df8/structopen__receive__channel__message.html#ae44a58b4520a788452773ea854fa0959">  669</a></span>&#160;   uint32_t <a class="code" href="../../d1/df8/structopen__receive__channel__message.html#ae44a58b4520a788452773ea854fa0959">capability</a>;</div><div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="../../d1/df8/structopen__receive__channel__message.html#a1f7eaad8cc185c3307255e95e7eb238e">  670</a></span>&#160;   uint32_t <a class="code" href="../../d1/df8/structopen__receive__channel__message.html#a1f7eaad8cc185c3307255e95e7eb238e">echo</a>;</div><div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="../../d1/df8/structopen__receive__channel__message.html#a32678c62007e0748dae550bd1007a07d">  671</a></span>&#160;   uint32_t <a class="code" href="../../d1/df8/structopen__receive__channel__message.html#a32678c62007e0748dae550bd1007a07d">bitrate</a>;</div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="../../d1/df8/structopen__receive__channel__message.html#a12b4ad2010c93b225b98cc6b6e8ab584">  672</a></span>&#160;   uint32_t space[36];</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;};</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a60c800146db7344c89b2941999f236d4">  675</a></span>&#160;<span class="preprocessor">#define CLOSE_RECEIVE_CHANNEL_MESSAGE 0x0106</span></div><div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="../../d8/d78/structclose__receive__channel__message.html">  676</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d8/d78/structclose__receive__channel__message.html">close_receive_channel_message</a> {</div><div class="line"><a name="l00677"></a><span class="lineno"><a class="line" href="../../d8/d78/structclose__receive__channel__message.html#aad8282aaef639f3310f833e9b44a541e">  677</a></span>&#160;   uint32_t <a class="code" href="../../d8/d78/structclose__receive__channel__message.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a>;</div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="../../d8/d78/structclose__receive__channel__message.html#a042688e766f041125ca9e83e7d6e1e5b">  678</a></span>&#160;   uint32_t <a class="code" href="../../d8/d78/structclose__receive__channel__message.html#a042688e766f041125ca9e83e7d6e1e5b">partyId</a>;</div><div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="../../d8/d78/structclose__receive__channel__message.html#aa5cc11f805a6af19ee9ed50a53d1cef3">  679</a></span>&#160;   uint32_t space[2];</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;};</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa48c2edb2669fe7c10ed6b6b5efa2e05">  682</a></span>&#160;<span class="preprocessor">#define SOFT_KEY_TEMPLATE_RES_MESSAGE 0x0108</span></div><div class="line"><a name="l00683"></a><span class="lineno"><a class="line" href="../../d9/dc0/structsoft__key__template__definition.html">  683</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d9/dc0/structsoft__key__template__definition.html">soft_key_template_definition</a> {</div><div class="line"><a name="l00684"></a><span class="lineno"><a class="line" href="../../d9/dc0/structsoft__key__template__definition.html#a1883ef31f5782570d4b98402fe19e47f">  684</a></span>&#160;   <span class="keywordtype">char</span> softKeyLabel[16];</div><div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="../../d9/dc0/structsoft__key__template__definition.html#a4358d46dc0a917c9906274cf85132904">  685</a></span>&#160;   uint32_t <a class="code" href="../../d9/dc0/structsoft__key__template__definition.html#a4358d46dc0a917c9906274cf85132904">softKeyEvent</a>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;};</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a93c97714575e54a3fd7a185415b82599">  688</a></span>&#160;<span class="preprocessor">#define BKSP_REQ_MESSAGE 0x0119</span></div><div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="../../dc/d04/structbksp__req__message.html">  689</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/d04/structbksp__req__message.html">bksp_req_message</a> {</div><div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="../../dc/d04/structbksp__req__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">  690</a></span>&#160;   uint32_t <a class="code" href="../../dc/d04/structbksp__req__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="../../dc/d04/structbksp__req__message.html#aa056c11f2f813407952d829437cec263">  691</a></span>&#160;   uint32_t <a class="code" href="../../dc/d04/structbksp__req__message.html#aa056c11f2f813407952d829437cec263">callreference</a>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;};</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aab983751d9fb47d03d07a9e9dd2b4776">  694</a></span>&#160;<span class="preprocessor">#define KEYDEF_ONHOOK 0</span></div><div class="line"><a name="l00695"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aad5f46f88fa82da05103795046e110b7">  695</a></span>&#160;<span class="preprocessor">#define KEYDEF_CONNECTED 1</span></div><div class="line"><a name="l00696"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1c1b2ec6acc543dbd96c917364d733e3">  696</a></span>&#160;<span class="preprocessor">#define KEYDEF_ONHOLD 2</span></div><div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a529cdb7507128859a179f79e1966eb53">  697</a></span>&#160;<span class="preprocessor">#define KEYDEF_RINGIN 3</span></div><div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a32b4dedb91edf80328d5cda72166bf6e">  698</a></span>&#160;<span class="preprocessor">#define KEYDEF_OFFHOOK 4</span></div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac14d8ee9813b5766c4161fac6c66432d">  699</a></span>&#160;<span class="preprocessor">#define KEYDEF_CONNWITHTRANS 5</span></div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a526c9d413d9b96dfea81eae19b0619b5">  700</a></span>&#160;<span class="preprocessor">#define KEYDEF_DADFD 6 </span><span class="comment">/* Digits After Dialing First Digit */</span><span class="preprocessor"></span></div><div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a73c8243c4af2fae81ddd15e650203a58">  701</a></span>&#160;<span class="preprocessor">#define KEYDEF_CONNWITHCONF 7</span></div><div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae18cb03403da5513c2c6ac0c32c4c939">  702</a></span>&#160;<span class="preprocessor">#define KEYDEF_RINGOUT 8</span></div><div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0d46746cfe50b67c811cd2fc042e0729">  703</a></span>&#160;<span class="preprocessor">#define KEYDEF_OFFHOOKWITHFEAT 9</span></div><div class="line"><a name="l00704"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#adca111bd3e13f311a71c0aff5f89b081">  704</a></span>&#160;<span class="preprocessor">#define KEYDEF_UNKNOWN 10</span></div><div class="line"><a name="l00705"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abb244de232e99bf79d4907d61387d798">  705</a></span>&#160;<span class="preprocessor">#define KEYDEF_SLAHOLD 11</span></div><div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a77b3490072c879be4e18cfd9bbc84d8a">  706</a></span>&#160;<span class="preprocessor">#define KEYDEF_SLACONNECTEDNOTACTIVE 12</span></div><div class="line"><a name="l00707"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4c97330811978f9be42f29dd8e7763a9">  707</a></span>&#160;<span class="preprocessor">#define KEYDEF_RINGOUTWITHTRANS 13</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae3ccec26212b7c55493ffa4865cbb88d">  709</a></span>&#160;<span class="preprocessor">#define SOFTKEY_NONE 0x00</span></div><div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a32dc8fa6b998e84ecd2dd709774e25e9">  710</a></span>&#160;<span class="preprocessor">#define SOFTKEY_REDIAL 0x01</span></div><div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aee0ce143cf0a49d49c86cabcf1c829cc">  711</a></span>&#160;<span class="preprocessor">#define SOFTKEY_NEWCALL 0x02</span></div><div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab185c974c2da13dfd3d0fba53d1c4966">  712</a></span>&#160;<span class="preprocessor">#define SOFTKEY_HOLD 0x03</span></div><div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">  713</a></span>&#160;<span class="preprocessor">#define SOFTKEY_TRNSFER 0x04</span></div><div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0045f3127762983aa2efee3a41e37c40">  714</a></span>&#160;<span class="preprocessor">#define SOFTKEY_CFWDALL 0x05</span></div><div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a744ad78b0f1ed0a0f678528bc64b1b86">  715</a></span>&#160;<span class="preprocessor">#define SOFTKEY_CFWDBUSY 0x06</span></div><div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3c6159fb829fb3916ace06ed837f7b04">  716</a></span>&#160;<span class="preprocessor">#define SOFTKEY_CFWDNOANSWER 0x07</span></div><div class="line"><a name="l00717"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8faf0f3196e7a21d01dbbb7719bf11e7">  717</a></span>&#160;<span class="preprocessor">#define SOFTKEY_BKSPC 0x08</span></div><div class="line"><a name="l00718"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">  718</a></span>&#160;<span class="preprocessor">#define SOFTKEY_ENDCALL 0x09</span></div><div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af1726f9c94deb2725bdd8fabf57f1a53">  719</a></span>&#160;<span class="preprocessor">#define SOFTKEY_RESUME 0x0A</span></div><div class="line"><a name="l00720"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3b3e11372b76c65944afdea7205fa209">  720</a></span>&#160;<span class="preprocessor">#define SOFTKEY_ANSWER 0x0B</span></div><div class="line"><a name="l00721"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a62c9ec7d264add3d067520147bcf73ef">  721</a></span>&#160;<span class="preprocessor">#define SOFTKEY_INFO 0x0C</span></div><div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a50a64a17998ee0c20b7ea929f06f7371">  722</a></span>&#160;<span class="preprocessor">#define SOFTKEY_CONFRN 0x0D</span></div><div class="line"><a name="l00723"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a572b1d3a412d0e3eec76ed6888d88885">  723</a></span>&#160;<span class="preprocessor">#define SOFTKEY_PARK 0x0E</span></div><div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aba3c2540666fbf54305aeaa2cfd85fef">  724</a></span>&#160;<span class="preprocessor">#define SOFTKEY_JOIN 0x0F</span></div><div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4b72ea00639536a0cc23d112890d4bc2">  725</a></span>&#160;<span class="preprocessor">#define SOFTKEY_MEETME 0x10</span></div><div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa4f7a1e0fe94c644277ca765f1d5862c">  726</a></span>&#160;<span class="preprocessor">#define SOFTKEY_PICKUP 0x11</span></div><div class="line"><a name="l00727"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#add8c1a6457db2951e7a1ca2395e3da62">  727</a></span>&#160;<span class="preprocessor">#define SOFTKEY_GPICKUP 0x12</span></div><div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5673732b39310cef6a6f21820d95be71">  728</a></span>&#160;<span class="preprocessor">#define SOFTKEY_DND 0x13</span></div><div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a62fbd966d85772d1fe647b14d017df3f">  729</a></span>&#160;<span class="preprocessor">#define SOFTKEY_IDIVERT 0x14</span></div><div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a792f88571e2f71a8bf48b6d5e36c1e7a">  730</a></span>&#160;<span class="preprocessor">#define SOFTKEY_FORCEDIAL 0x15</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">  732</a></span>&#160;<span class="preprocessor">#define KEYMASK_ALL            0xFFFFFFFF</span></div><div class="line"><a name="l00733"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7eb53c2b93c473ec94bf80574bfcdfa9">  733</a></span>&#160;<span class="preprocessor">#define KEYMASK_NONE           (1 &lt;&lt; 0)</span></div><div class="line"><a name="l00734"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9c17a936a082bc65cb23e77b9d90cfb3">  734</a></span>&#160;<span class="preprocessor">#define KEYMASK_REDIAL         (1 &lt;&lt; 1)</span></div><div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4d9fd785bfe2515a647de9414d9d1edb">  735</a></span>&#160;<span class="preprocessor">#define KEYMASK_NEWCALL        (1 &lt;&lt; 2)</span></div><div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac7e1661a5a04949cb93925e6889bc1f5">  736</a></span>&#160;<span class="preprocessor">#define KEYMASK_HOLD           (1 &lt;&lt; 3)</span></div><div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab0106dc95efa5aeddf4272125b5b58c9">  737</a></span>&#160;<span class="preprocessor">#define KEYMASK_TRNSFER        (1 &lt;&lt; 4)</span></div><div class="line"><a name="l00738"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a199a2c22509c7ed61b37374a3e4acc5b">  738</a></span>&#160;<span class="preprocessor">#define KEYMASK_CFWDALL        (1 &lt;&lt; 5)</span></div><div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9a9b207cffed3d530ff89d8a92194c21">  739</a></span>&#160;<span class="preprocessor">#define KEYMASK_CFWDBUSY       (1 &lt;&lt; 6)</span></div><div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6b7aa897b2c460a11900427d0c746ef1">  740</a></span>&#160;<span class="preprocessor">#define KEYMASK_CFWDNOANSWER   (1 &lt;&lt; 7)</span></div><div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3441c1e89398f89ebece189bdab17800">  741</a></span>&#160;<span class="preprocessor">#define KEYMASK_BKSPC          (1 &lt;&lt; 8)</span></div><div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8b214a381760b124e5c391f114fd1951">  742</a></span>&#160;<span class="preprocessor">#define KEYMASK_ENDCALL        (1 &lt;&lt; 9)</span></div><div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1a1da5545fea119599609da9c2154018">  743</a></span>&#160;<span class="preprocessor">#define KEYMASK_RESUME         (1 &lt;&lt; 10)</span></div><div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a347cfdd6ab755878e824dfc682cd2490">  744</a></span>&#160;<span class="preprocessor">#define KEYMASK_ANSWER         (1 &lt;&lt; 11)</span></div><div class="line"><a name="l00745"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2d96dad2a1315ac3268e1d41b337ae22">  745</a></span>&#160;<span class="preprocessor">#define KEYMASK_INFO           (1 &lt;&lt; 12)</span></div><div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a93e86337819f096b8a8dd2bdb11bd247">  746</a></span>&#160;<span class="preprocessor">#define KEYMASK_CONFRN         (1 &lt;&lt; 13)</span></div><div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a255fb474a4129a4ce4734b56e1691982">  747</a></span>&#160;<span class="preprocessor">#define KEYMASK_PARK           (1 &lt;&lt; 14)</span></div><div class="line"><a name="l00748"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a64d4e6b66e0266433e2fa418d7586e5c">  748</a></span>&#160;<span class="preprocessor">#define KEYMASK_JOIN           (1 &lt;&lt; 15)</span></div><div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac226716c8e732d9bb7e03ab969e00956">  749</a></span>&#160;<span class="preprocessor">#define KEYMASK_MEETME         (1 &lt;&lt; 16)</span></div><div class="line"><a name="l00750"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a244560d8a85f7b7c78c4333dcd1a21f6">  750</a></span>&#160;<span class="preprocessor">#define KEYMASK_PICKUP         (1 &lt;&lt; 17)</span></div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a52c829f9984cc81aff6a445ea0bc1020">  751</a></span>&#160;<span class="preprocessor">#define KEYMASK_GPICKUP        (1 &lt;&lt; 18)</span></div><div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a48c3c1688e6d1c0649c35c7dc2c21b95">  752</a></span>&#160;<span class="preprocessor">#define KEYMASK_DND            (1 &lt;&lt; 29)</span></div><div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a46b471992a6942e6fee76a5dce114e6d">  753</a></span>&#160;<span class="preprocessor">#define KEYMASK_IDIVERT        (1 &lt;&lt; 20)</span></div><div class="line"><a name="l00754"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a18ced9b5b209b2cbca7b9ee5c16ef9e1">  754</a></span>&#160;<span class="preprocessor">#define KEYMASK_FORCEDIAL      (1 &lt;&lt; 21)</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">/* Localized message &quot;codes&quot; (in octal)</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">   Below is en_US (taken from a 7970) */</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">/*                            &quot;\200\000&quot;        ??? */</span></div><div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a55836f07b6c6aaf9939ca8f64b16f2ac">  760</a></span>&#160;<span class="preprocessor">#define OCTAL_REDIAL          &quot;\200\001&quot;     </span><span class="comment">/* Redial */</span><span class="preprocessor"></span></div><div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8aed3f473c754acc75e699c6004d99f1">  761</a></span>&#160;<span class="preprocessor">#define OCTAL_NEWCALL         &quot;\200\002&quot;     </span><span class="comment">/* New Call */</span><span class="preprocessor"></span></div><div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a611fe6435b7000d0c0f9f308de202ba3">  762</a></span>&#160;<span class="preprocessor">#define OCTAL_HOLD            &quot;\200\003&quot;     </span><span class="comment">/* Hold */</span><span class="preprocessor"></span></div><div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3fbdb1592046e116139e880514947a37">  763</a></span>&#160;<span class="preprocessor">#define OCTAL_TRANSFER        &quot;\200\004&quot;     </span><span class="comment">/* Transfer */</span><span class="preprocessor"></span></div><div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad268131a568c152eb33100f6ce020586">  764</a></span>&#160;<span class="preprocessor">#define OCTAL_CFWDALL         &quot;\200\005&quot;     </span><span class="comment">/* CFwdALL */</span><span class="preprocessor"></span></div><div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ace98399ecb0878548205910c2e9eae54">  765</a></span>&#160;<span class="preprocessor">#define OCTAL_CFWDBUSY        &quot;\200\006&quot;     </span><span class="comment">/* CFwdBusy */</span><span class="preprocessor"></span></div><div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa32ba6029f71dee3d7b7972d9a5d6c3b">  766</a></span>&#160;<span class="preprocessor">#define OCTAL_CFWDNOAN        &quot;\200\007&quot;     </span><span class="comment">/* CFwdNoAnswer */</span><span class="preprocessor"></span></div><div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a38b13cf2bde57d08de63944aeae70a5a">  767</a></span>&#160;<span class="preprocessor">#define OCTAL_BKSPC           &quot;\200\010&quot;     </span><span class="comment">/* &lt;&lt; */</span><span class="preprocessor"></span></div><div class="line"><a name="l00768"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a40e0cb29fb150a1add99e1a31742bd68">  768</a></span>&#160;<span class="preprocessor">#define OCTAL_ENDCALL         &quot;\200\011&quot;     </span><span class="comment">/* EndCall */</span><span class="preprocessor"></span></div><div class="line"><a name="l00769"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9c4c1972f2abf119ed32017093861213">  769</a></span>&#160;<span class="preprocessor">#define OCTAL_RESUME          &quot;\200\012&quot;     </span><span class="comment">/* Resume */</span><span class="preprocessor"></span></div><div class="line"><a name="l00770"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a53ad496d6da260000dc29655a3c18ff6">  770</a></span>&#160;<span class="preprocessor">#define OCTAL_ANSWER          &quot;\200\013&quot;     </span><span class="comment">/* Answer */</span><span class="preprocessor"></span></div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a37e7b200bb9cab1a9929e05d4dad73e8">  771</a></span>&#160;<span class="preprocessor">#define OCTAL_INFO            &quot;\200\014&quot;     </span><span class="comment">/* Info */</span><span class="preprocessor"></span></div><div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af30802e0b186701ede732aa55d3e0efe">  772</a></span>&#160;<span class="preprocessor">#define OCTAL_CONFRN          &quot;\200\015&quot;     </span><span class="comment">/* Confrn */</span><span class="preprocessor"></span></div><div class="line"><a name="l00773"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a75db97a80198e9113eed7ef8828f20dd">  773</a></span>&#160;<span class="preprocessor">#define OCTAL_PARK            &quot;\200\016&quot;     </span><span class="comment">/* Park */</span><span class="preprocessor"></span></div><div class="line"><a name="l00774"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6b3f8063ca3d2282253b5e6e27be2fcf">  774</a></span>&#160;<span class="preprocessor">#define OCTAL_JOIN            &quot;\200\017&quot;     </span><span class="comment">/* Join */</span><span class="preprocessor"></span></div><div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad7eb02cd7bbbf8559c8af0322e7560ed">  775</a></span>&#160;<span class="preprocessor">#define OCTAL_MEETME          &quot;\200\020&quot;     </span><span class="comment">/* MeetMe */</span><span class="preprocessor"></span></div><div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afbbc518dc26fb40ffa988eac6396f8de">  776</a></span>&#160;<span class="preprocessor">#define OCTAL_PICKUP          &quot;\200\021&quot;     </span><span class="comment">/* PickUp */</span><span class="preprocessor"></span></div><div class="line"><a name="l00777"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acf20ac274bd69aa9979a390eafa9eaae">  777</a></span>&#160;<span class="preprocessor">#define OCTAL_GPICKUP         &quot;\200\022&quot;     </span><span class="comment">/* GPickUp */</span><span class="preprocessor"></span></div><div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afa08b5f6617aa89f51ecfe619db1d917">  778</a></span>&#160;<span class="preprocessor">#define OCTAL_CUROPTS         &quot;\200\023&quot;     </span><span class="comment">/* Your current options */</span><span class="preprocessor"></span></div><div class="line"><a name="l00779"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aeb96d859cd83c3da07b2e17814cd5a52">  779</a></span>&#160;<span class="preprocessor">#define OCTAL_OFFHOOK         &quot;\200\024&quot;     </span><span class="comment">/* Off Hook */</span><span class="preprocessor"></span></div><div class="line"><a name="l00780"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7730fbaec8900d03a724220dbd3609a5">  780</a></span>&#160;<span class="preprocessor">#define OCTAL_ONHOOK          &quot;\200\025&quot;     </span><span class="comment">/* On Hook */</span><span class="preprocessor"></span></div><div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad4ef7afe5bbb4ad0e6b51a7fd9addf93">  781</a></span>&#160;<span class="preprocessor">#define OCTAL_RINGOUT         &quot;\200\026&quot;     </span><span class="comment">/* Ring out */</span><span class="preprocessor"></span></div><div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7008eb349a9ae2aa69c5856612583cc6">  782</a></span>&#160;<span class="preprocessor">#define OCTAL_FROM            &quot;\200\027&quot;     </span><span class="comment">/* From */</span><span class="preprocessor"></span></div><div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a058736ac02815389a1545c2d5d0a9451">  783</a></span>&#160;<span class="preprocessor">#define OCTAL_CONNECTED       &quot;\200\030&quot;     </span><span class="comment">/* Connected */</span><span class="preprocessor"></span></div><div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac94ef39ce5fe260e5d56db5848960206">  784</a></span>&#160;<span class="preprocessor">#define OCTAL_BUSY            &quot;\200\031&quot;     </span><span class="comment">/* Busy */</span><span class="preprocessor"></span></div><div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7f7e2de0a66ce74168f84b2e31b611b8">  785</a></span>&#160;<span class="preprocessor">#define OCTAL_LINEINUSE       &quot;\200\032&quot;     </span><span class="comment">/* Line In Use */</span><span class="preprocessor"></span></div><div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a20647670601174b742f57764b0dd552e">  786</a></span>&#160;<span class="preprocessor">#define OCTAL_CALLWAITING     &quot;\200\033&quot;     </span><span class="comment">/* Call Waiting */</span><span class="preprocessor"></span></div><div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a73e26e7e60178d7e6239db3fbabe768a">  787</a></span>&#160;<span class="preprocessor">#define OCTAL_CALLXFER        &quot;\200\034&quot;     </span><span class="comment">/* Call Transfer */</span><span class="preprocessor"></span></div><div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3a2049424f7ebd799b03af8f461eac47">  788</a></span>&#160;<span class="preprocessor">#define OCTAL_CALLPARK        &quot;\200\035&quot;     </span><span class="comment">/* Call Park */</span><span class="preprocessor"></span></div><div class="line"><a name="l00789"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#add2a7210361d28f0475b3d591e1358b4">  789</a></span>&#160;<span class="preprocessor">#define OCTAL_CALLPROCEED     &quot;\200\036&quot;     </span><span class="comment">/* Call Proceed */</span><span class="preprocessor"></span></div><div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac554111f6b4f990e931cf2cb07812733">  790</a></span>&#160;<span class="preprocessor">#define OCTAL_INUSEREMOTE     &quot;\200\037&quot;     </span><span class="comment">/* In Use Remote */</span><span class="preprocessor"></span></div><div class="line"><a name="l00791"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5f79a841c8232e56197ca904bcb03e3a">  791</a></span>&#160;<span class="preprocessor">#define OCTAL_ENTRNUM         &quot;\200\040&quot;     </span><span class="comment">/* Enter number */</span><span class="preprocessor"></span></div><div class="line"><a name="l00792"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab5cc29c2a21c3715495a2eca6b751eff">  792</a></span>&#160;<span class="preprocessor">#define OCTAL_PARKAT          &quot;\200\041&quot;     </span><span class="comment">/* Call park At */</span><span class="preprocessor"></span></div><div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a42360387eb9dc50e9b8e27fdfa457d82">  793</a></span>&#160;<span class="preprocessor">#define OCTAL_PRIMONLY        &quot;\200\042&quot;     </span><span class="comment">/* Primary Only */</span><span class="preprocessor"></span></div><div class="line"><a name="l00794"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4cb0e9f4765902472918075651ec3bc6">  794</a></span>&#160;<span class="preprocessor">#define OCTAL_TMPFAIL         &quot;\200\043&quot;     </span><span class="comment">/* Temp Fail */</span><span class="preprocessor"></span></div><div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a301df3abbc15941460e3fce88f446c49">  795</a></span>&#160;<span class="preprocessor">#define OCTAL_HAVEVMAIL       &quot;\200\044&quot;     </span><span class="comment">/* You Have VoiceMail */</span><span class="preprocessor"></span></div><div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abe25ab7b938ba8fa5e32abcc71deee5b">  796</a></span>&#160;<span class="preprocessor">#define OCTAL_FWDEDTO         &quot;\200\045&quot;     </span><span class="comment">/* Forwarded to */</span><span class="preprocessor"></span></div><div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acadf6696f84919bbdeff2a73d8b4f640">  797</a></span>&#160;<span class="preprocessor">#define OCTAL_CANTCOMPCNF     &quot;\200\046&quot;     </span><span class="comment">/* Can Not Complete Conference */</span><span class="preprocessor"></span></div><div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aad0432c2272460ed9f8ddd37089d2ed6">  798</a></span>&#160;<span class="preprocessor">#define OCTAL_NOCONFBRDG      &quot;\200\047&quot;     </span><span class="comment">/* No Conference Bridge */</span><span class="preprocessor"></span></div><div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8b71f56fd2e6a761cfffab20be3b341a">  799</a></span>&#160;<span class="preprocessor">#define OCTAL_NOPRIMARYCTL    &quot;\200\050&quot;     </span><span class="comment">/* Can Not Hold Primary Control */</span><span class="preprocessor"></span></div><div class="line"><a name="l00800"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a69ba0ee1a3a810c9ce57284a4f57399f">  800</a></span>&#160;<span class="preprocessor">#define OCTAL_INVALCONFPART   &quot;\200\051&quot;     </span><span class="comment">/* Invalid Conference Participant */</span><span class="preprocessor"></span></div><div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a404b4b06e0db9e642b8350ac208f71c8">  801</a></span>&#160;<span class="preprocessor">#define OCTAL_INCONFALREADY   &quot;\200\052&quot;     </span><span class="comment">/* In Conference Already */</span><span class="preprocessor"></span></div><div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af1294721216ac7a56d759af16e9866e0">  802</a></span>&#160;<span class="preprocessor">#define OCTAL_NOPARTINFO      &quot;\200\053&quot;     </span><span class="comment">/* No Participant Info */</span><span class="preprocessor"></span></div><div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae121d741a8bf43571a2c8d7f3514926f">  803</a></span>&#160;<span class="preprocessor">#define OCTAL_MAXPARTEXCEED   &quot;\200\054&quot;     </span><span class="comment">/* Exceed Maximum Parties */</span><span class="preprocessor"></span></div><div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac0e5975637b2b813ca624e7eb1407b4c">  804</a></span>&#160;<span class="preprocessor">#define OCTAL_KEYNOTACTIVE    &quot;\200\055&quot;     </span><span class="comment">/* Key Is Not Active */</span><span class="preprocessor"></span></div><div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab0c4f40ab5178a5b0c6574a7604eb1a3">  805</a></span>&#160;<span class="preprocessor">#define OCTAL_ERRNOLIC        &quot;\200\056&quot;     </span><span class="comment">/* Error No License */</span><span class="preprocessor"></span></div><div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af9d74dfa9ab24d148e51bea117a87ade">  806</a></span>&#160;<span class="preprocessor">#define OCTAL_ERRDBCFG        &quot;\200\057&quot;     </span><span class="comment">/* Error DBConfig */</span><span class="preprocessor"></span></div><div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#add8e3f89c9fe25bf22373e3ffa25451e">  807</a></span>&#160;<span class="preprocessor">#define OCTAL_ERRDB           &quot;\200\060&quot;     </span><span class="comment">/* Error Database */</span><span class="preprocessor"></span></div><div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a01408102ed8b0e1868acc874c3ccae4f">  808</a></span>&#160;<span class="preprocessor">#define OCTAL_ERRPASSLMT      &quot;\200\061&quot;     </span><span class="comment">/* Error Pass Limit */</span><span class="preprocessor"></span></div><div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a98ec25c429009336431e6033cc15c46f">  809</a></span>&#160;<span class="preprocessor">#define OCTAL_ERRUNK          &quot;\200\062&quot;     </span><span class="comment">/* Error Unknown */</span><span class="preprocessor"></span></div><div class="line"><a name="l00810"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aad230c0a18dc0a17a263458b8fc0d39e">  810</a></span>&#160;<span class="preprocessor">#define OCTAL_ERRMISMATCH     &quot;\200\063&quot;     </span><span class="comment">/* Error Mismatch */</span><span class="preprocessor"></span></div><div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1d8d6b42f863b627223927f8a3329d57">  811</a></span>&#160;<span class="preprocessor">#define OCTAL_CONFERENCE      &quot;\200\064&quot;     </span><span class="comment">/* Conference */</span><span class="preprocessor"></span></div><div class="line"><a name="l00812"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5b98fca8436cdc5e00a7de9d34d9b8ee">  812</a></span>&#160;<span class="preprocessor">#define OCTAL_PARKNO          &quot;\200\065&quot;     </span><span class="comment">/* Park Number */</span><span class="preprocessor"></span></div><div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a63e536d184a0d54db5ee7fea20391122">  813</a></span>&#160;<span class="preprocessor">#define OCTAL_PRIVATE         &quot;\200\066&quot;     </span><span class="comment">/* Private */</span><span class="preprocessor"></span></div><div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a43e08a81c1c8d301bbe3563cb22ec9b2">  814</a></span>&#160;<span class="preprocessor">#define OCTAL_INSUFBANDW      &quot;\200\067&quot;     </span><span class="comment">/* Not Enough Bandwidth */</span><span class="preprocessor"></span></div><div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a100e928d0ee93bc1583a6fbffda136fa">  815</a></span>&#160;<span class="preprocessor">#define OCTAL_UNKNUM          &quot;\200\070&quot;     </span><span class="comment">/* Unknown Number */</span><span class="preprocessor"></span></div><div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afe2cc866583216ca65315ea3077a41d3">  816</a></span>&#160;<span class="preprocessor">#define OCTAL_RMLSTC          &quot;\200\071&quot;     </span><span class="comment">/* RmLstC */</span><span class="preprocessor"></span></div><div class="line"><a name="l00817"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5df032d0600a2ab1d0d01af6a64ee19d">  817</a></span>&#160;<span class="preprocessor">#define OCTAL_VOICEMAIL       &quot;\200\072&quot;     </span><span class="comment">/* Voicemail */</span><span class="preprocessor"></span></div><div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acd23fbd22433803cd9c15063032e5416">  818</a></span>&#160;<span class="preprocessor">#define OCTAL_IMMDIV          &quot;\200\073&quot;     </span><span class="comment">/* ImmDiv */</span><span class="preprocessor"></span></div><div class="line"><a name="l00819"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aac63383f56e185a41a02b0e7a4846f61">  819</a></span>&#160;<span class="preprocessor">#define OCTAL_INTRCPT         &quot;\200\074&quot;     </span><span class="comment">/* Intrcpt */</span><span class="preprocessor"></span></div><div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a19a4cc7ca1af8bd326ee41723b81b4a3">  820</a></span>&#160;<span class="preprocessor">#define OCTAL_SETWTCH         &quot;\200\075&quot;     </span><span class="comment">/* SetWtch */</span><span class="preprocessor"></span></div><div class="line"><a name="l00821"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a754d72379c69f16d2160a73fa6cd99f1">  821</a></span>&#160;<span class="preprocessor">#define OCTAL_TRNSFVM         &quot;\200\076&quot;     </span><span class="comment">/* TrnsfVM */</span><span class="preprocessor"></span></div><div class="line"><a name="l00822"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9d8917de8bd8db34d01551b0cca0b9ee">  822</a></span>&#160;<span class="preprocessor">#define OCTAL_DND             &quot;\200\077&quot;     </span><span class="comment">/* DND */</span><span class="preprocessor"></span></div><div class="line"><a name="l00823"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a85ba695eb87d2f9efad3e4dd28107042">  823</a></span>&#160;<span class="preprocessor">#define OCTAL_DIVALL          &quot;\200\100&quot;     </span><span class="comment">/* DivAll */</span><span class="preprocessor"></span></div><div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7b4cdf7526d36a6216473eb608e78de1">  824</a></span>&#160;<span class="preprocessor">#define OCTAL_CALLBACK        &quot;\200\101&quot;     </span><span class="comment">/* CallBack */</span><span class="preprocessor"></span></div><div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a44056a5e43948209e60b1cae9679624c">  825</a></span>&#160;<span class="preprocessor">#define OCTAL_NETCNGREROUT    &quot;\200\102&quot;     </span><span class="comment">/* Network congestion,rerouting */</span><span class="preprocessor"></span></div><div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8d5467880680aebc8a2a6a685ec89b78">  826</a></span>&#160;<span class="preprocessor">#define OCTAL_BARGE           &quot;\200\103&quot;     </span><span class="comment">/* Barge */</span><span class="preprocessor"></span></div><div class="line"><a name="l00827"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a38248160ef32416150c08fd4c5d443c4">  827</a></span>&#160;<span class="preprocessor">#define OCTAL_BARGEFAIL       &quot;\200\104&quot;     </span><span class="comment">/* Failed to setup Barge */</span><span class="preprocessor"></span></div><div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad5ee292a1b83e65ed0d4baa51568167e">  828</a></span>&#160;<span class="preprocessor">#define OCTAL_BARGEEXIST      &quot;\200\105&quot;     </span><span class="comment">/* Another Barge exists */</span><span class="preprocessor"></span></div><div class="line"><a name="l00829"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af3831c3aa0524d76d1b7d976202bd18d">  829</a></span>&#160;<span class="preprocessor">#define OCTAL_INCOMPATDEV     &quot;\200\106&quot;     </span><span class="comment">/* Incompatible device type */</span><span class="preprocessor"></span></div><div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a71a5d0c100f82c5c5d0858696fffd184">  830</a></span>&#160;<span class="preprocessor">#define OCTAL_PARKNONUM       &quot;\200\107&quot;     </span><span class="comment">/* No Park Number Available */</span><span class="preprocessor"></span></div><div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a52a05e955d6cf6f72ff061351a660166">  831</a></span>&#160;<span class="preprocessor">#define OCTAL_PARKREVERSION   &quot;\200\110&quot;     </span><span class="comment">/* CallPark Reversion */</span><span class="preprocessor"></span></div><div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5f7aa8aa3694720cf66901816719e6b5">  832</a></span>&#160;<span class="preprocessor">#define OCTAL_SRVNOTACTIVE    &quot;\200\111&quot;     </span><span class="comment">/* Service is not Active */</span><span class="preprocessor"></span></div><div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8b73fd13f603497e32042e6ae08f2528">  833</a></span>&#160;<span class="preprocessor">#define OCTAL_HITRAFFIC       &quot;\200\112&quot;     </span><span class="comment">/* High Traffic Try Again Later */</span><span class="preprocessor"></span></div><div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afa38991d3e892bc89d32649c28cbadd4">  834</a></span>&#160;<span class="preprocessor">#define OCTAL_QRT             &quot;\200\113&quot;     </span><span class="comment">/* QRT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae113d8951c4c5fc64ba63757e43c888d">  835</a></span>&#160;<span class="preprocessor">#define OCTAL_MCID            &quot;\200\114&quot;     </span><span class="comment">/* MCID */</span><span class="preprocessor"></span></div><div class="line"><a name="l00836"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a531edb7c76da82d065bbb181f4482025">  836</a></span>&#160;<span class="preprocessor">#define OCTAL_DIRTRFR         &quot;\200\115&quot;     </span><span class="comment">/* DirTrfr */</span><span class="preprocessor"></span></div><div class="line"><a name="l00837"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aeb76775fe3b2acd2299a32cd5efa2f71">  837</a></span>&#160;<span class="preprocessor">#define OCTAL_SELECT          &quot;\200\116&quot;     </span><span class="comment">/* Select */</span><span class="preprocessor"></span></div><div class="line"><a name="l00838"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa6474ced0ba2cb95f919565f794c7aa4">  838</a></span>&#160;<span class="preprocessor">#define OCTAL_CONFLIST        &quot;\200\117&quot;     </span><span class="comment">/* ConfList */</span><span class="preprocessor"></span></div><div class="line"><a name="l00839"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a51a39bc8c586ab38852ab19c08317094">  839</a></span>&#160;<span class="preprocessor">#define OCTAL_IDIVERT         &quot;\200\120&quot;     </span><span class="comment">/* iDivert */</span><span class="preprocessor"></span></div><div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aae6530faa8e897ddaa124337c7fcefdd">  840</a></span>&#160;<span class="preprocessor">#define OCTAL_CBARGE          &quot;\200\121&quot;     </span><span class="comment">/* cBarge */</span><span class="preprocessor"></span></div><div class="line"><a name="l00841"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa96423ffef233b4b4d16471aa5eec87d">  841</a></span>&#160;<span class="preprocessor">#define OCTAL_CANTCOMPLXFER   &quot;\200\122&quot;     </span><span class="comment">/* Can Not Complete Transfer */</span><span class="preprocessor"></span></div><div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2f29547b049e4b61ed82165a21fb7e02">  842</a></span>&#160;<span class="preprocessor">#define OCTAL_CANTJOINCALLS   &quot;\200\123&quot;     </span><span class="comment">/* Can Not Join Calls */</span><span class="preprocessor"></span></div><div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aec947bf57f8816c31de13211cf048ba1">  843</a></span>&#160;<span class="preprocessor">#define OCTAL_MCIDSUCCESS     &quot;\200\124&quot;     </span><span class="comment">/* Mcid Successful */</span><span class="preprocessor"></span></div><div class="line"><a name="l00844"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acddb0a256c5830cb1de506c0243e35b5">  844</a></span>&#160;<span class="preprocessor">#define OCTAL_NUMNOTCFG       &quot;\200\125&quot;     </span><span class="comment">/* Number Not Configured */</span><span class="preprocessor"></span></div><div class="line"><a name="l00845"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a50c33f48e697675414ef0bde1118bd65">  845</a></span>&#160;<span class="preprocessor">#define OCTAL_SECERROR        &quot;\200\126&quot;     </span><span class="comment">/* Security Error */</span><span class="preprocessor"></span></div><div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a26ee81af2be924fcdc698d0809656405">  846</a></span>&#160;<span class="preprocessor">#define OCTAL_VIDBANDWNA      &quot;\200\127&quot;     </span><span class="comment">/* Video Bandwidth Unavailable */</span><span class="preprocessor"></span></div><div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aece200d10d7ba47c362197a8398f56ec">  847</a></span>&#160;<span class="preprocessor">#define OCTAL_VIDMODE         &quot;\200\130&quot;     </span><span class="comment">/* VidMode */</span><span class="preprocessor"></span></div><div class="line"><a name="l00848"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a682813fd2ce551bc48bdd40c654eb2cd">  848</a></span>&#160;<span class="preprocessor">#define OCTAL_CALLDURTIMEOUT  &quot;\200\131&quot;     </span><span class="comment">/* Max Call Duration Timeout */</span><span class="preprocessor"></span></div><div class="line"><a name="l00849"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a90eeb7e883e76ad2c21887e164a609bd">  849</a></span>&#160;<span class="preprocessor">#define OCTAL_HOLDDURTIMEOUT  &quot;\200\132&quot;     </span><span class="comment">/* Max Hold Duration Timeout */</span><span class="preprocessor"></span></div><div class="line"><a name="l00850"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9984b464de504d70d45e922873ba06bb">  850</a></span>&#160;<span class="preprocessor">#define OCTAL_OPICKUP         &quot;\200\133&quot;     </span><span class="comment">/* OPickUp */</span><span class="preprocessor"></span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">/*                            &quot;\200\134&quot;        ??? */</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">/*                            &quot;\200\135&quot;        ??? */</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">/*                            &quot;\200\136&quot;        ??? */</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">/*                            &quot;\200\137&quot;        ??? */</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">/*                            &quot;\200\140&quot;        ??? */</span></div><div class="line"><a name="l00856"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a24a7e2d9694c4126ce7de7451484ed2a">  856</a></span>&#160;<span class="preprocessor">#define OCTAL_EXTXFERRESTRICT &quot;\200\141&quot;     </span><span class="comment">/* External Transfer Restricted */</span><span class="preprocessor"></span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">/*                            &quot;\200\142&quot;        ??? */</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">/*                            &quot;\200\143&quot;        ??? */</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">/*                            &quot;\200\144&quot;        ??? */</span></div><div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a943b6931cc6522597a840cc6b7c48f24">  860</a></span>&#160;<span class="preprocessor">#define OCTAL_MACADD          &quot;\200\145&quot;     </span><span class="comment">/* Mac Address */</span><span class="preprocessor"></span></div><div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8483c288fb64bc41415530789041998d">  861</a></span>&#160;<span class="preprocessor">#define OCTAL_HOST            &quot;\200\146&quot;     </span><span class="comment">/* Host Name */</span><span class="preprocessor"></span></div><div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af7e526f31dbea19cc9314297ea28e7fa">  862</a></span>&#160;<span class="preprocessor">#define OCTAL_DOMAIN          &quot;\200\147&quot;     </span><span class="comment">/* Domain Name */</span><span class="preprocessor"></span></div><div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a60ab009be2f2abcbf193dcbeee067feb">  863</a></span>&#160;<span class="preprocessor">#define OCTAL_IPADD           &quot;\200\150&quot;     </span><span class="comment">/* IP Address */</span><span class="preprocessor"></span></div><div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0a160cc2a1d38c986e5ab7448f638138">  864</a></span>&#160;<span class="preprocessor">#define OCTAL_SUBMASK         &quot;\200\151&quot;     </span><span class="comment">/* Subnet Mask */</span><span class="preprocessor"></span></div><div class="line"><a name="l00865"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a97090891f80932866b89e8dd530ec91c">  865</a></span>&#160;<span class="preprocessor">#define OCTAL_TFTP1           &quot;\200\152&quot;     </span><span class="comment">/* TFTP Server 1 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae3417544ad794cccbffc6158cbe63e54">  866</a></span>&#160;<span class="preprocessor">#define OCTAL_ROUTER1         &quot;\200\153&quot;     </span><span class="comment">/* Default Router 1 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00867"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7e45407ea333be970487567d2016bc2b">  867</a></span>&#160;<span class="preprocessor">#define OCTAL_ROUTER2         &quot;\200\154&quot;     </span><span class="comment">/* Default Router 2 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad031e3dbea43bd1522924d7a6ffbc503">  868</a></span>&#160;<span class="preprocessor">#define OCTAL_ROUTER3         &quot;\200\155&quot;     </span><span class="comment">/* Default Router 3 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00869"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab932e431d73d2a44bb717265b5bbd76e">  869</a></span>&#160;<span class="preprocessor">#define OCTAL_ROUTER4         &quot;\200\156&quot;     </span><span class="comment">/* Default Router 4 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a97a0116252c35e6b421fb1888b25ea04">  870</a></span>&#160;<span class="preprocessor">#define OCTAL_ROUTER5         &quot;\200\157&quot;     </span><span class="comment">/* Default Router 5 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00871"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a26d68c1939e61b471a2116437205c592">  871</a></span>&#160;<span class="preprocessor">#define OCTAL_DNS1            &quot;\200\160&quot;     </span><span class="comment">/* DNS Server 1 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a799a0185ff4a1b99ce539dc46383335a">  872</a></span>&#160;<span class="preprocessor">#define OCTAL_DNS2            &quot;\200\161&quot;     </span><span class="comment">/* DNS Server 2 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5b8b0b3646c161c6528d1cbb34f9d61c">  873</a></span>&#160;<span class="preprocessor">#define OCTAL_DNS3            &quot;\200\162&quot;     </span><span class="comment">/* DNS Server 3 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00874"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7a81d794ce45acf2b2a42e7d499f37a9">  874</a></span>&#160;<span class="preprocessor">#define OCTAL_DNS4            &quot;\200\163&quot;     </span><span class="comment">/* DNS Server 4 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a96712dcb8760a1d44381137847673d04">  875</a></span>&#160;<span class="preprocessor">#define OCTAL_DNS5            &quot;\200\164&quot;     </span><span class="comment">/* DNS Server 5 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00876"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab312ec1a912af878b2985490804b292c">  876</a></span>&#160;<span class="preprocessor">#define OCTAL_VLANOPID        &quot;\200\165&quot;     </span><span class="comment">/* Operational VLAN Id */</span><span class="preprocessor"></span></div><div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0c715ab88e3549f067d6bde969bf3ad2">  877</a></span>&#160;<span class="preprocessor">#define OCTAL_VLANADID        &quot;\200\166&quot;     </span><span class="comment">/* Admin. VLAN Id */</span><span class="preprocessor"></span></div><div class="line"><a name="l00878"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad741e7156783eaa68bed6160e0ff62d1">  878</a></span>&#160;<span class="preprocessor">#define OCTAL_CM1             &quot;\200\167&quot;     </span><span class="comment">/* CallManager 1 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a45a86fbc0f7a8c03378c6c3432a3db39">  879</a></span>&#160;<span class="preprocessor">#define OCTAL_CM2             &quot;\200\170&quot;     </span><span class="comment">/* CallManager 2 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af98166279f1bc941c5296393c3feaeeb">  880</a></span>&#160;<span class="preprocessor">#define OCTAL_CM3             &quot;\200\171&quot;     </span><span class="comment">/* CallManager 3 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1d48bbeb4d6fff60fef7cee022b461b5">  881</a></span>&#160;<span class="preprocessor">#define OCTAL_CM4             &quot;\200\172&quot;     </span><span class="comment">/* CallManager 4 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00882"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad10b86fa927767312bb64428c5aed390">  882</a></span>&#160;<span class="preprocessor">#define OCTAL_CM5             &quot;\200\173&quot;     </span><span class="comment">/* CallManager 5 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00883"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0a97287df06ef9eb8bc6e5aaf5d67302">  883</a></span>&#160;<span class="preprocessor">#define OCTAL_URLINFO         &quot;\200\174&quot;     </span><span class="comment">/* Information URL */</span><span class="preprocessor"></span></div><div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af983f5ecb679106b0b43694882c8e307">  884</a></span>&#160;<span class="preprocessor">#define OCTAL_URLDIRS         &quot;\200\175&quot;     </span><span class="comment">/* Directories URL */</span><span class="preprocessor"></span></div><div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a97b14bc2c8cc295f48023b56e5856d26">  885</a></span>&#160;<span class="preprocessor">#define OCTAL_URLMSGS         &quot;\200\176&quot;     </span><span class="comment">/* Messages URL */</span><span class="preprocessor"></span></div><div class="line"><a name="l00886"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a12d31e9dc62aecb96e9275649bd6bea3">  886</a></span>&#160;<span class="preprocessor">#define OCTAL_URLSRVS         &quot;\200\177&quot;     </span><span class="comment">/* Services URL */</span><span class="preprocessor"></span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aad84a156f8b9295691bb77ea45dfdce4">  888</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d9/dc0/structsoft__key__template__definition.html">soft_key_template_definition</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aad84a156f8b9295691bb77ea45dfdce4">soft_key_template_default</a>[] = {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a55836f07b6c6aaf9939ca8f64b16f2ac">OCTAL_REDIAL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32dc8fa6b998e84ecd2dd709774e25e9">SOFTKEY_REDIAL</a> },</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8aed3f473c754acc75e699c6004d99f1">OCTAL_NEWCALL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aee0ce143cf0a49d49c86cabcf1c829cc">SOFTKEY_NEWCALL</a> },</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a611fe6435b7000d0c0f9f308de202ba3">OCTAL_HOLD</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab185c974c2da13dfd3d0fba53d1c4966">SOFTKEY_HOLD</a> },</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3fbdb1592046e116139e880514947a37">OCTAL_TRANSFER</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a> },</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad268131a568c152eb33100f6ce020586">OCTAL_CFWDALL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0045f3127762983aa2efee3a41e37c40">SOFTKEY_CFWDALL</a> },</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#ace98399ecb0878548205910c2e9eae54">OCTAL_CFWDBUSY</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a744ad78b0f1ed0a0f678528bc64b1b86">SOFTKEY_CFWDBUSY</a> },</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa32ba6029f71dee3d7b7972d9a5d6c3b">OCTAL_CFWDNOAN</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c6159fb829fb3916ace06ed837f7b04">SOFTKEY_CFWDNOANSWER</a> },</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a38b13cf2bde57d08de63944aeae70a5a">OCTAL_BKSPC</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8faf0f3196e7a21d01dbbb7719bf11e7">SOFTKEY_BKSPC</a> },</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a40e0cb29fb150a1add99e1a31742bd68">OCTAL_ENDCALL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a> },</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9c4c1972f2abf119ed32017093861213">OCTAL_RESUME</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af1726f9c94deb2725bdd8fabf57f1a53">SOFTKEY_RESUME</a> },</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a53ad496d6da260000dc29655a3c18ff6">OCTAL_ANSWER</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3b3e11372b76c65944afdea7205fa209">SOFTKEY_ANSWER</a> },</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a37e7b200bb9cab1a9929e05d4dad73e8">OCTAL_INFO</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62c9ec7d264add3d067520147bcf73ef">SOFTKEY_INFO</a> },</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#af30802e0b186701ede732aa55d3e0efe">OCTAL_CONFRN</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a50a64a17998ee0c20b7ea929f06f7371">SOFTKEY_CONFRN</a> },</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a75db97a80198e9113eed7ef8828f20dd">OCTAL_PARK</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a572b1d3a412d0e3eec76ed6888d88885">SOFTKEY_PARK</a> },</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b3f8063ca3d2282253b5e6e27be2fcf">OCTAL_JOIN</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aba3c2540666fbf54305aeaa2cfd85fef">SOFTKEY_JOIN</a> },</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad7eb02cd7bbbf8559c8af0322e7560ed">OCTAL_MEETME</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4b72ea00639536a0cc23d112890d4bc2">SOFTKEY_MEETME</a> },</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#afbbc518dc26fb40ffa988eac6396f8de">OCTAL_PICKUP</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa4f7a1e0fe94c644277ca765f1d5862c">SOFTKEY_PICKUP</a> },</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#acf20ac274bd69aa9979a390eafa9eaae">OCTAL_GPICKUP</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#add8c1a6457db2951e7a1ca2395e3da62">SOFTKEY_GPICKUP</a> },</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9d8917de8bd8db34d01551b0cca0b9ee">OCTAL_DND</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5673732b39310cef6a6f21820d95be71">SOFTKEY_DND</a> },</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   { <a class="code" href="../../d0/d80/chan__skinny_8c.html#a51a39bc8c586ab38852ab19c08317094">OCTAL_IDIVERT</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62fbd966d85772d1fe647b14d017df3f">SOFTKEY_IDIVERT</a> },</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   { <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a792f88571e2f71a8bf48b6d5e36c1e7a">SOFTKEY_FORCEDIAL</a>},</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;};</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="../../df/de2/structsoft__key__definitions.html">  912</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../df/de2/structsoft__key__definitions.html">soft_key_definitions</a> {</div><div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="../../df/de2/structsoft__key__definitions.html#a858b33a55c1de4c9bc94b982fc722754">  913</a></span>&#160;   <span class="keyword">const</span> uint8_t <a class="code" href="../../df/de2/structsoft__key__definitions.html#a858b33a55c1de4c9bc94b982fc722754">mode</a>;</div><div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="../../df/de2/structsoft__key__definitions.html#a841d7c4569174bfa7f45657449a69b6f">  914</a></span>&#160;   <span class="keyword">const</span> uint8_t *<a class="code" href="../../df/de2/structsoft__key__definitions.html#a841d7c4569174bfa7f45657449a69b6f">defaults</a>;</div><div class="line"><a name="l00915"></a><span class="lineno"><a class="line" href="../../df/de2/structsoft__key__definitions.html#ada8f9c34ea6de0264c2d808acf540ad2">  915</a></span>&#160;   <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../df/de2/structsoft__key__definitions.html#ada8f9c34ea6de0264c2d808acf540ad2">count</a>;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;};</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a815562de85c22c6f5222a45ccf20b64c">  918</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a815562de85c22c6f5222a45ccf20b64c">soft_key_default_onhook</a>[] = {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32dc8fa6b998e84ecd2dd709774e25e9">SOFTKEY_REDIAL</a>,</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aee0ce143cf0a49d49c86cabcf1c829cc">SOFTKEY_NEWCALL</a>,</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0045f3127762983aa2efee3a41e37c40">SOFTKEY_CFWDALL</a>,</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a744ad78b0f1ed0a0f678528bc64b1b86">SOFTKEY_CFWDBUSY</a>,</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c6159fb829fb3916ace06ed837f7b04">SOFTKEY_CFWDNOANSWER</a>,</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5673732b39310cef6a6f21820d95be71">SOFTKEY_DND</a>,</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#add8c1a6457db2951e7a1ca2395e3da62">SOFTKEY_GPICKUP</a>,</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="comment">/*SOFTKEY_CONFRN,*/</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;};</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0667a78cfbac7038a1d11c16ba6a7179">  929</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0667a78cfbac7038a1d11c16ba6a7179">soft_key_default_connected</a>[] = {</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab185c974c2da13dfd3d0fba53d1c4966">SOFTKEY_HOLD</a>,</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>,</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a>,</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a572b1d3a412d0e3eec76ed6888d88885">SOFTKEY_PARK</a>,</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0045f3127762983aa2efee3a41e37c40">SOFTKEY_CFWDALL</a>,</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a744ad78b0f1ed0a0f678528bc64b1b86">SOFTKEY_CFWDBUSY</a>,</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c6159fb829fb3916ace06ed837f7b04">SOFTKEY_CFWDNOANSWER</a>,</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;};</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a86fc6917dda3a2a55f4eafc293ecd49e">  939</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a86fc6917dda3a2a55f4eafc293ecd49e">soft_key_default_onhold</a>[] = {</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#af1726f9c94deb2725bdd8fabf57f1a53">SOFTKEY_RESUME</a>,</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aee0ce143cf0a49d49c86cabcf1c829cc">SOFTKEY_NEWCALL</a>,</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>,</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a>,</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;};</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af29a8ef9f4bbcc04e455e3002498e3d7">  946</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#af29a8ef9f4bbcc04e455e3002498e3d7">soft_key_default_ringin</a>[] = {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3b3e11372b76c65944afdea7205fa209">SOFTKEY_ANSWER</a>,</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>,</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a>,</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;};</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a84e0277622bc76fb08e79401238bc684">  952</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a84e0277622bc76fb08e79401238bc684">soft_key_default_offhook</a>[] = {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32dc8fa6b998e84ecd2dd709774e25e9">SOFTKEY_REDIAL</a>,</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>,</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a>,</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0045f3127762983aa2efee3a41e37c40">SOFTKEY_CFWDALL</a>,</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a744ad78b0f1ed0a0f678528bc64b1b86">SOFTKEY_CFWDBUSY</a>,</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c6159fb829fb3916ace06ed837f7b04">SOFTKEY_CFWDNOANSWER</a>,</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#add8c1a6457db2951e7a1ca2395e3da62">SOFTKEY_GPICKUP</a>,</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;};</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a20c8372eacb3685db5a2cff96555d215">  962</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a20c8372eacb3685db5a2cff96555d215">soft_key_default_connwithtrans</a>[] = {</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab185c974c2da13dfd3d0fba53d1c4966">SOFTKEY_HOLD</a>,</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>,</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a>,</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a572b1d3a412d0e3eec76ed6888d88885">SOFTKEY_PARK</a>,</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0045f3127762983aa2efee3a41e37c40">SOFTKEY_CFWDALL</a>,</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a744ad78b0f1ed0a0f678528bc64b1b86">SOFTKEY_CFWDBUSY</a>,</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c6159fb829fb3916ace06ed837f7b04">SOFTKEY_CFWDNOANSWER</a>,</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;};</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4c29acb28402920280164751e852f1b6">  972</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4c29acb28402920280164751e852f1b6">soft_key_default_dadfd</a>[] = {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8faf0f3196e7a21d01dbbb7719bf11e7">SOFTKEY_BKSPC</a>,</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>,</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a>,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a792f88571e2f71a8bf48b6d5e36c1e7a">SOFTKEY_FORCEDIAL</a>,</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;};</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div><div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab6da3e1e98802660151ac05e707473ca">  979</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab6da3e1e98802660151ac05e707473ca">soft_key_default_connwithconf</a>[] = {</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3ccec26212b7c55493ffa4865cbb88d">SOFTKEY_NONE</a>,</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;};</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abb2d1f1f8867d0b06cc5ef1978409923">  983</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#abb2d1f1f8867d0b06cc5ef1978409923">soft_key_default_ringout</a>[] = {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3ccec26212b7c55493ffa4865cbb88d">SOFTKEY_NONE</a>,</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>,</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;};</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a729601eadd784d422526977797480b36">  988</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a729601eadd784d422526977797480b36">soft_key_default_ringoutwithtransfer</a>[] = {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3ccec26212b7c55493ffa4865cbb88d">SOFTKEY_NONE</a>,</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>,</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a>,</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;};</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a766fe5bf5f76a8b76bf10ccdafd26c46">  994</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a766fe5bf5f76a8b76bf10ccdafd26c46">soft_key_default_offhookwithfeat</a>[] = {</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32dc8fa6b998e84ecd2dd709774e25e9">SOFTKEY_REDIAL</a>,</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>,</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a>,</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;};</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afe35ecd523687f3986c140c1638790a2"> 1000</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#afe35ecd523687f3986c140c1638790a2">soft_key_default_unknown</a>[] = {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3ccec26212b7c55493ffa4865cbb88d">SOFTKEY_NONE</a>,</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;};</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a69fd1eb9d7eaa8b1497da3a1923a0fa6"> 1004</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a69fd1eb9d7eaa8b1497da3a1923a0fa6">soft_key_default_SLAhold</a>[] = {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32dc8fa6b998e84ecd2dd709774e25e9">SOFTKEY_REDIAL</a>,</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aee0ce143cf0a49d49c86cabcf1c829cc">SOFTKEY_NEWCALL</a>,</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#af1726f9c94deb2725bdd8fabf57f1a53">SOFTKEY_RESUME</a>,</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;};</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abac98cb3e71fd56c03f4dcf58a5f9edf"> 1010</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#abac98cb3e71fd56c03f4dcf58a5f9edf">soft_key_default_SLAconnectednotactive</a>[] = {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32dc8fa6b998e84ecd2dd709774e25e9">SOFTKEY_REDIAL</a>,</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aee0ce143cf0a49d49c86cabcf1c829cc">SOFTKEY_NEWCALL</a>,</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aba3c2540666fbf54305aeaa2cfd85fef">SOFTKEY_JOIN</a>,</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;};</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2468f713a22a053d5d3a94cd390f8eb2"> 1016</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../df/de2/structsoft__key__definitions.html">soft_key_definitions</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2468f713a22a053d5d3a94cd390f8eb2">soft_key_default_definitions</a>[] = {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#aab983751d9fb47d03d07a9e9dd2b4776">KEYDEF_ONHOOK</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a815562de85c22c6f5222a45ccf20b64c">soft_key_default_onhook</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a815562de85c22c6f5222a45ccf20b64c">soft_key_default_onhook</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#aad5f46f88fa82da05103795046e110b7">KEYDEF_CONNECTED</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0667a78cfbac7038a1d11c16ba6a7179">soft_key_default_connected</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a0667a78cfbac7038a1d11c16ba6a7179">soft_key_default_connected</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1c1b2ec6acc543dbd96c917364d733e3">KEYDEF_ONHOLD</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a86fc6917dda3a2a55f4eafc293ecd49e">soft_key_default_onhold</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a86fc6917dda3a2a55f4eafc293ecd49e">soft_key_default_onhold</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#a529cdb7507128859a179f79e1966eb53">KEYDEF_RINGIN</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af29a8ef9f4bbcc04e455e3002498e3d7">soft_key_default_ringin</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#af29a8ef9f4bbcc04e455e3002498e3d7">soft_key_default_ringin</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#a32b4dedb91edf80328d5cda72166bf6e">KEYDEF_OFFHOOK</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a84e0277622bc76fb08e79401238bc684">soft_key_default_offhook</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a84e0277622bc76fb08e79401238bc684">soft_key_default_offhook</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac14d8ee9813b5766c4161fac6c66432d">KEYDEF_CONNWITHTRANS</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a20c8372eacb3685db5a2cff96555d215">soft_key_default_connwithtrans</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a20c8372eacb3685db5a2cff96555d215">soft_key_default_connwithtrans</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#a526c9d413d9b96dfea81eae19b0619b5">KEYDEF_DADFD</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4c29acb28402920280164751e852f1b6">soft_key_default_dadfd</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4c29acb28402920280164751e852f1b6">soft_key_default_dadfd</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#a73c8243c4af2fae81ddd15e650203a58">KEYDEF_CONNWITHCONF</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab6da3e1e98802660151ac05e707473ca">soft_key_default_connwithconf</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab6da3e1e98802660151ac05e707473ca">soft_key_default_connwithconf</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae18cb03403da5513c2c6ac0c32c4c939">KEYDEF_RINGOUT</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#abb2d1f1f8867d0b06cc5ef1978409923">soft_key_default_ringout</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#abb2d1f1f8867d0b06cc5ef1978409923">soft_key_default_ringout</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4c97330811978f9be42f29dd8e7763a9">KEYDEF_RINGOUTWITHTRANS</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a729601eadd784d422526977797480b36">soft_key_default_ringoutwithtransfer</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a729601eadd784d422526977797480b36">soft_key_default_ringoutwithtransfer</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#a0d46746cfe50b67c811cd2fc042e0729">KEYDEF_OFFHOOKWITHFEAT</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a766fe5bf5f76a8b76bf10ccdafd26c46">soft_key_default_offhookwithfeat</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a766fe5bf5f76a8b76bf10ccdafd26c46">soft_key_default_offhookwithfeat</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#adca111bd3e13f311a71c0aff5f89b081">KEYDEF_UNKNOWN</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#afe35ecd523687f3986c140c1638790a2">soft_key_default_unknown</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#afe35ecd523687f3986c140c1638790a2">soft_key_default_unknown</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#abb244de232e99bf79d4907d61387d798">KEYDEF_SLAHOLD</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a69fd1eb9d7eaa8b1497da3a1923a0fa6">soft_key_default_SLAhold</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a69fd1eb9d7eaa8b1497da3a1923a0fa6">soft_key_default_SLAhold</a>) / <span class="keyword">sizeof</span>(uint8_t)},</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   {<a class="code" href="../../d0/d80/chan__skinny_8c.html#a77b3490072c879be4e18cfd9bbc84d8a">KEYDEF_SLACONNECTEDNOTACTIVE</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#abac98cb3e71fd56c03f4dcf58a5f9edf">soft_key_default_SLAconnectednotactive</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#abac98cb3e71fd56c03f4dcf58a5f9edf">soft_key_default_SLAconnectednotactive</a>) / <span class="keyword">sizeof</span>(uint8_t)}</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;};</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"><a class="line" href="../../d0/d60/structsoft__key__template__res__message.html"> 1033</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d60/structsoft__key__template__res__message.html">soft_key_template_res_message</a> {</div><div class="line"><a name="l01034"></a><span class="lineno"><a class="line" href="../../d0/d60/structsoft__key__template__res__message.html#aeb69bb0f70da60dbba0bf2e7c5fdd33d"> 1034</a></span>&#160;   uint32_t <a class="code" href="../../d0/d60/structsoft__key__template__res__message.html#aeb69bb0f70da60dbba0bf2e7c5fdd33d">softKeyOffset</a>;</div><div class="line"><a name="l01035"></a><span class="lineno"><a class="line" href="../../d0/d60/structsoft__key__template__res__message.html#a8db1b287e91a13a96808f529a4dc49e9"> 1035</a></span>&#160;   uint32_t <a class="code" href="../../d0/d60/structsoft__key__template__res__message.html#a8db1b287e91a13a96808f529a4dc49e9">softKeyCount</a>;</div><div class="line"><a name="l01036"></a><span class="lineno"><a class="line" href="../../d0/d60/structsoft__key__template__res__message.html#a48b489a0ba6479db34f7c580f40af762"> 1036</a></span>&#160;   uint32_t <a class="code" href="../../d0/d60/structsoft__key__template__res__message.html#a48b489a0ba6479db34f7c580f40af762">totalSoftKeyCount</a>;</div><div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="../../d0/d60/structsoft__key__template__res__message.html#ad6fd242c4e813675148ea902f327e4f1"> 1037</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dc0/structsoft__key__template__definition.html">soft_key_template_definition</a> softKeyTemplateDefinition[32];</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;};</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aee3cbe69978806b2ccea81e6931e5f06"> 1040</a></span>&#160;<span class="preprocessor">#define SOFT_KEY_SET_RES_MESSAGE 0x0109</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01042"></a><span class="lineno"><a class="line" href="../../d8/d6b/structsoft__key__set__definition.html"> 1042</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d8/d6b/structsoft__key__set__definition.html">soft_key_set_definition</a> {</div><div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="../../d8/d6b/structsoft__key__set__definition.html#a29a5f3fd75bf8ffa5df8c331c1ac3e18"> 1043</a></span>&#160;   uint8_t softKeyTemplateIndex[16];</div><div class="line"><a name="l01044"></a><span class="lineno"><a class="line" href="../../d8/d6b/structsoft__key__set__definition.html#ac85b46723c412dd2807ee7345621cc3f"> 1044</a></span>&#160;   uint16_t softKeyInfoIndex[16];</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;};</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="../../d4/d70/structsoft__key__set__res__message.html"> 1047</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d70/structsoft__key__set__res__message.html">soft_key_set_res_message</a> {</div><div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="../../d4/d70/structsoft__key__set__res__message.html#a9e0609aa98d8027663e88c42524a391f"> 1048</a></span>&#160;   uint32_t <a class="code" href="../../d4/d70/structsoft__key__set__res__message.html#a9e0609aa98d8027663e88c42524a391f">softKeySetOffset</a>;</div><div class="line"><a name="l01049"></a><span class="lineno"><a class="line" href="../../d4/d70/structsoft__key__set__res__message.html#a821d404bc80c2b793f4d0bd3f125928b"> 1049</a></span>&#160;   uint32_t <a class="code" href="../../d4/d70/structsoft__key__set__res__message.html#a821d404bc80c2b793f4d0bd3f125928b">softKeySetCount</a>;</div><div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="../../d4/d70/structsoft__key__set__res__message.html#a626519dd0d8e97afdb9ab94f3f0514af"> 1050</a></span>&#160;   uint32_t <a class="code" href="../../d4/d70/structsoft__key__set__res__message.html#a626519dd0d8e97afdb9ab94f3f0514af">totalSoftKeySetCount</a>;</div><div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="../../d4/d70/structsoft__key__set__res__message.html#ab19f86d91e65941777c4e0c5a840fdae"> 1051</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d6b/structsoft__key__set__definition.html">soft_key_set_definition</a> softKeySetDefinition[16];</div><div class="line"><a name="l01052"></a><span class="lineno"><a class="line" href="../../d4/d70/structsoft__key__set__res__message.html#a97e3bb97951482c8cf4d55a2d0bfcb62"> 1052</a></span>&#160;   uint32_t <a class="code" href="../../d4/d70/structsoft__key__set__res__message.html#a97e3bb97951482c8cf4d55a2d0bfcb62">res</a>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;};</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acf9ff0dcbbb7c545417a22affaddc03a"> 1055</a></span>&#160;<span class="preprocessor">#define SELECT_SOFT_KEYS_MESSAGE 0x0110</span></div><div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="../../d8/d2e/structselect__soft__keys__message.html"> 1056</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d8/d2e/structselect__soft__keys__message.html">select_soft_keys_message</a> {</div><div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="../../d8/d2e/structselect__soft__keys__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80"> 1057</a></span>&#160;   uint32_t <a class="code" href="../../d8/d2e/structselect__soft__keys__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="../../d8/d2e/structselect__soft__keys__message.html#aa68938e371fea91ad4b64381877bd381"> 1058</a></span>&#160;   uint32_t <a class="code" href="../../d8/d2e/structselect__soft__keys__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>;</div><div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="../../d8/d2e/structselect__soft__keys__message.html#adc2041b10f838792513938afdd303d8a"> 1059</a></span>&#160;   uint32_t <a class="code" href="../../d8/d2e/structselect__soft__keys__message.html#adc2041b10f838792513938afdd303d8a">softKeySetIndex</a>;</div><div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="../../d8/d2e/structselect__soft__keys__message.html#ad25df21c508e777301c2d307ee3d07af"> 1060</a></span>&#160;   uint32_t <a class="code" href="../../d8/d2e/structselect__soft__keys__message.html#ad25df21c508e777301c2d307ee3d07af">validKeyMask</a>;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;};</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2d6255614b0eec8c48bc371afdb18443"> 1063</a></span>&#160;<span class="preprocessor">#define CALL_STATE_MESSAGE 0x0111</span></div><div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="../../d2/ded/structcall__state__message.html"> 1064</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/ded/structcall__state__message.html">call_state_message</a> {</div><div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="../../d2/ded/structcall__state__message.html#a02033745eb42ba576e671f4a24c39c48"> 1065</a></span>&#160;   uint32_t <a class="code" href="../../d2/ded/structcall__state__message.html#a02033745eb42ba576e671f4a24c39c48">callState</a>;</div><div class="line"><a name="l01066"></a><span class="lineno"><a class="line" href="../../d2/ded/structcall__state__message.html#a3c8ec1b11804b48f666007331e0c90ba"> 1066</a></span>&#160;   uint32_t <a class="code" href="../../d2/ded/structcall__state__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a>;</div><div class="line"><a name="l01067"></a><span class="lineno"><a class="line" href="../../d2/ded/structcall__state__message.html#a8c5b70179481930bfaef1fa8f6aaba74"> 1067</a></span>&#160;   uint32_t <a class="code" href="../../d2/ded/structcall__state__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>;</div><div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="../../d2/ded/structcall__state__message.html#a632529daf45d3e778a9a1991e28e17fc"> 1068</a></span>&#160;   uint32_t space[3];</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;};</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae459fe08b297c169d379436bd538f440"> 1071</a></span>&#160;<span class="preprocessor">#define DISPLAY_PROMPT_STATUS_MESSAGE 0x0112</span></div><div class="line"><a name="l01072"></a><span class="lineno"><a class="line" href="../../da/d1e/structdisplay__prompt__status__message.html"> 1072</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html">display_prompt_status_message</a> {</div><div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="../../da/d1e/structdisplay__prompt__status__message.html#abdf697e332017cc49abf0735c2eae589"> 1073</a></span>&#160;   uint32_t <a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#abdf697e332017cc49abf0735c2eae589">messageTimeout</a>;</div><div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="../../da/d1e/structdisplay__prompt__status__message.html#a85294cb46cae34e2921c7051bdabfdd6"> 1074</a></span>&#160;   <span class="keywordtype">char</span> promptMessage[32];</div><div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="../../da/d1e/structdisplay__prompt__status__message.html#a3c8ec1b11804b48f666007331e0c90ba"> 1075</a></span>&#160;   uint32_t <a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a>;</div><div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="../../da/d1e/structdisplay__prompt__status__message.html#a8c5b70179481930bfaef1fa8f6aaba74"> 1076</a></span>&#160;   uint32_t <a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>;</div><div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="../../da/d1e/structdisplay__prompt__status__message.html#a632529daf45d3e778a9a1991e28e17fc"> 1077</a></span>&#160;   uint32_t space[3];</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;};</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2f74ea6fd6eab3eafc9fc39213034e9e"> 1080</a></span>&#160;<span class="preprocessor">#define CLEAR_PROMPT_MESSAGE  0x0113</span></div><div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="../../d4/d25/structclear__prompt__message.html"> 1081</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d25/structclear__prompt__message.html">clear_prompt_message</a> {</div><div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="../../d4/d25/structclear__prompt__message.html#a3c8ec1b11804b48f666007331e0c90ba"> 1082</a></span>&#160;   uint32_t <a class="code" href="../../d4/d25/structclear__prompt__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a>;</div><div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="../../d4/d25/structclear__prompt__message.html#a8c5b70179481930bfaef1fa8f6aaba74"> 1083</a></span>&#160;   uint32_t <a class="code" href="../../d4/d25/structclear__prompt__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;};</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5ba13eec8f847d9d500c58f2f9503b95"> 1086</a></span>&#160;<span class="preprocessor">#define DISPLAY_NOTIFY_MESSAGE 0x0114</span></div><div class="line"><a name="l01087"></a><span class="lineno"><a class="line" href="../../df/d67/structdisplay__notify__message.html"> 1087</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../df/d67/structdisplay__notify__message.html">display_notify_message</a> {</div><div class="line"><a name="l01088"></a><span class="lineno"><a class="line" href="../../df/d67/structdisplay__notify__message.html#ab90d738fa36461d19bce3455a553f0f1"> 1088</a></span>&#160;   uint32_t <a class="code" href="../../df/d67/structdisplay__notify__message.html#ab90d738fa36461d19bce3455a553f0f1">displayTimeout</a>;</div><div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="../../df/d67/structdisplay__notify__message.html#a5eb30c11452cfefd9c9480037eabf99d"> 1089</a></span>&#160;   <span class="keywordtype">char</span> displayMessage[100];</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;};</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af303fb67f64cde967ad9434875897f45"> 1092</a></span>&#160;<span class="preprocessor">#define ACTIVATE_CALL_PLANE_MESSAGE 0x0116</span></div><div class="line"><a name="l01093"></a><span class="lineno"><a class="line" href="../../d0/da0/structactivate__call__plane__message.html"> 1093</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/da0/structactivate__call__plane__message.html">activate_call_plane_message</a> {</div><div class="line"><a name="l01094"></a><span class="lineno"><a class="line" href="../../d0/da0/structactivate__call__plane__message.html#a3c8ec1b11804b48f666007331e0c90ba"> 1094</a></span>&#160;   uint32_t <a class="code" href="../../d0/da0/structactivate__call__plane__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;};</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a63b744d9de3913b89d002761073a0879"> 1097</a></span>&#160;<span class="preprocessor">#define DIALED_NUMBER_MESSAGE 0x011D</span></div><div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="../../d1/d77/structdialed__number__message.html"> 1098</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/d77/structdialed__number__message.html">dialed_number_message</a> {</div><div class="line"><a name="l01099"></a><span class="lineno"><a class="line" href="../../d1/d77/structdialed__number__message.html#a559dde9437a7990069ccb75635e0be50"> 1099</a></span>&#160;   <span class="keywordtype">char</span> dialedNumber[24];</div><div class="line"><a name="l01100"></a><span class="lineno"><a class="line" href="../../d1/d77/structdialed__number__message.html#a3c8ec1b11804b48f666007331e0c90ba"> 1100</a></span>&#160;   uint32_t <a class="code" href="../../d1/d77/structdialed__number__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a>;</div><div class="line"><a name="l01101"></a><span class="lineno"><a class="line" href="../../d1/d77/structdialed__number__message.html#a8c5b70179481930bfaef1fa8f6aaba74"> 1101</a></span>&#160;   uint32_t <a class="code" href="../../d1/d77/structdialed__number__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;};</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a413c4786c5e1d12ecff7c6b88d34c35d"> 1104</a></span>&#160;<span class="preprocessor">#define MAX_SERVICEURL 256</span></div><div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0e3d2fa098da538bf939322901446343"> 1105</a></span>&#160;<span class="preprocessor">#define SERVICEURL_STAT_MESSAGE 0x012F</span></div><div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="../../d2/d6d/structserviceurl__stat__message.html"> 1106</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/d6d/structserviceurl__stat__message.html">serviceurl_stat_message</a> {</div><div class="line"><a name="l01107"></a><span class="lineno"><a class="line" href="../../d2/d6d/structserviceurl__stat__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80"> 1107</a></span>&#160;   uint32_t <a class="code" href="../../d2/d6d/structserviceurl__stat__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="../../d2/d6d/structserviceurl__stat__message.html#a3d7ec0af596552058e460f64646bf5b8"> 1108</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dc/d12/res__config__ldap_8c.html#a75e4590043edf35241d30fabe2eda546">url</a>[<a class="code" href="../../d0/d80/chan__skinny_8c.html#a413c4786c5e1d12ecff7c6b88d34c35d">MAX_SERVICEURL</a>];</div><div class="line"><a name="l01109"></a><span class="lineno"><a class="line" href="../../d2/d6d/structserviceurl__stat__message.html#a055fded1ef981ae1960598ea019e0476"> 1109</a></span>&#160;   <span class="keywordtype">char</span> displayName[40];</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;};</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div><div class="line"><a name="l01112"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac7f6590ba28a7c55d86e6c0d4aacb82f"> 1112</a></span>&#160;<span class="preprocessor">#define MAXCALLINFOSTR 256</span></div><div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac51b83cebe667d7da9acbd85ba9438bf"> 1113</a></span>&#160;<span class="preprocessor">#define MAXDISPLAYNOTIFYSTR 32</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6085d49510f535282238410d6640654d"> 1115</a></span>&#160;<span class="preprocessor">#define DISPLAY_PRINOTIFY_MESSAGE 0x0120</span></div><div class="line"><a name="l01116"></a><span class="lineno"><a class="line" href="../../d1/dea/structdisplay__prinotify__message.html"> 1116</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dea/structdisplay__prinotify__message.html">display_prinotify_message</a> {</div><div class="line"><a name="l01117"></a><span class="lineno"><a class="line" href="../../d1/dea/structdisplay__prinotify__message.html#ab5627d8d8b095c198e2523c44ca380ac"> 1117</a></span>&#160;   uint32_t <a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#ab5627d8d8b095c198e2523c44ca380ac">timeout</a>;</div><div class="line"><a name="l01118"></a><span class="lineno"><a class="line" href="../../d1/dea/structdisplay__prinotify__message.html#a90249de64da5ae5d7acd34da7ea1b857"> 1118</a></span>&#160;   uint32_t <a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#a90249de64da5ae5d7acd34da7ea1b857">priority</a>;</div><div class="line"><a name="l01119"></a><span class="lineno"><a class="line" href="../../d1/dea/structdisplay__prinotify__message.html#a93949093a5cb9f0f446c724cbf365805"> 1119</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>[<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac51b83cebe667d7da9acbd85ba9438bf">MAXDISPLAYNOTIFYSTR</a>];</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;};</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa917567765cdd3a591693417441c86c9"> 1122</a></span>&#160;<span class="preprocessor">#define CLEAR_PRINOTIFY_MESSAGE 0x0121</span></div><div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="../../dc/ded/structclear__prinotify__message.html"> 1123</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/ded/structclear__prinotify__message.html">clear_prinotify_message</a> {</div><div class="line"><a name="l01124"></a><span class="lineno"><a class="line" href="../../dc/ded/structclear__prinotify__message.html#a90249de64da5ae5d7acd34da7ea1b857"> 1124</a></span>&#160;   uint32_t <a class="code" href="../../dc/ded/structclear__prinotify__message.html#a90249de64da5ae5d7acd34da7ea1b857">priority</a>;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;};</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div><div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abd023ecbb37425538840baebe63365b5"> 1127</a></span>&#160;<span class="preprocessor">#define CALL_INFO_MESSAGE_VARIABLE 0x014A</span></div><div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html"> 1128</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d5/d43/structcall__info__message__variable.html">call_info_message_variable</a> {</div><div class="line"><a name="l01129"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html#a9ed36c4f5392e9f1819ec7c9eb9aff80"> 1129</a></span>&#160;   uint32_t <a class="code" href="../../d5/d43/structcall__info__message__variable.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>;</div><div class="line"><a name="l01130"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html#aa056c11f2f813407952d829437cec263"> 1130</a></span>&#160;   uint32_t <a class="code" href="../../d5/d43/structcall__info__message__variable.html#aa056c11f2f813407952d829437cec263">callreference</a>;</div><div class="line"><a name="l01131"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html#a6304cef6765c691d6ba64ad62ace69c8"> 1131</a></span>&#160;   uint32_t <a class="code" href="../../d5/d43/structcall__info__message__variable.html#a6304cef6765c691d6ba64ad62ace69c8">calldirection</a>;</div><div class="line"><a name="l01132"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html#a1946df298d8390034825068792632dbb"> 1132</a></span>&#160;   uint32_t <a class="code" href="../../d5/d43/structcall__info__message__variable.html#a1946df298d8390034825068792632dbb">unknown1</a>;</div><div class="line"><a name="l01133"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html#a562d73948591ea69ac50c6db50f3a54e"> 1133</a></span>&#160;   uint32_t <a class="code" href="../../d5/d43/structcall__info__message__variable.html#a562d73948591ea69ac50c6db50f3a54e">unknown2</a>;</div><div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html#a3080582051acdac2e28c1e6101951c26"> 1134</a></span>&#160;   uint32_t <a class="code" href="../../d5/d43/structcall__info__message__variable.html#a3080582051acdac2e28c1e6101951c26">unknown3</a>;</div><div class="line"><a name="l01135"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html#a45625939c10a213179064cf1afda449b"> 1135</a></span>&#160;   uint32_t <a class="code" href="../../d5/d43/structcall__info__message__variable.html#a45625939c10a213179064cf1afda449b">unknown4</a>;</div><div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html#a1ef831eecaebc753fe70e27d467c3686"> 1136</a></span>&#160;   uint32_t <a class="code" href="../../d5/d43/structcall__info__message__variable.html#a1ef831eecaebc753fe70e27d467c3686">unknown5</a>;</div><div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="../../d5/d43/structcall__info__message__variable.html#abe8daceb8998c00e1ef01ddc509e07ef"> 1137</a></span>&#160;   <span class="keywordtype">char</span> calldetails[<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac7f6590ba28a7c55d86e6c0d4aacb82f">MAXCALLINFOSTR</a>];</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;};</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a796a2b1cb16e90a040ebce724672041f"> 1140</a></span>&#160;<span class="preprocessor">#define DISPLAY_PRINOTIFY_MESSAGE_VARIABLE 0x0144</span></div><div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="../../dc/d7e/structdisplay__prinotify__message__variable.html"> 1141</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html">display_prinotify_message_variable</a> {</div><div class="line"><a name="l01142"></a><span class="lineno"><a class="line" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#ab5627d8d8b095c198e2523c44ca380ac"> 1142</a></span>&#160;   uint32_t <a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#ab5627d8d8b095c198e2523c44ca380ac">timeout</a>;</div><div class="line"><a name="l01143"></a><span class="lineno"><a class="line" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a90249de64da5ae5d7acd34da7ea1b857"> 1143</a></span>&#160;   uint32_t <a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a90249de64da5ae5d7acd34da7ea1b857">priority</a>;</div><div class="line"><a name="l01144"></a><span class="lineno"><a class="line" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a93949093a5cb9f0f446c724cbf365805"> 1144</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>[<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac51b83cebe667d7da9acbd85ba9438bf">MAXDISPLAYNOTIFYSTR</a>];</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;};</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac86178f50162e13fc455e3c3aa8d24b6"> 1147</a></span>&#160;<span class="preprocessor">#define DISPLAY_PROMPT_STATUS_MESSAGE_VARIABLE 0x0145</span></div><div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="../../dc/db4/structdisplay__prompt__status__message__variable.html"> 1148</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html">display_prompt_status_message_variable</a> {</div><div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#ad44680c11c9e03d3dab6ec7cfd0b04a8"> 1149</a></span>&#160;   uint32_t <a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#ad44680c11c9e03d3dab6ec7cfd0b04a8">unknown</a>;</div><div class="line"><a name="l01150"></a><span class="lineno"><a class="line" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a3c8ec1b11804b48f666007331e0c90ba"> 1150</a></span>&#160;   uint32_t <a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a>;</div><div class="line"><a name="l01151"></a><span class="lineno"><a class="line" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a8c5b70179481930bfaef1fa8f6aaba74"> 1151</a></span>&#160;   uint32_t <a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>;</div><div class="line"><a name="l01152"></a><span class="lineno"><a class="line" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a1cf8aa5494a17ee9ec1e09949a46a4a6"> 1152</a></span>&#160;   <span class="keywordtype">char</span> promptMessage[<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac7f6590ba28a7c55d86e6c0d4aacb82f">MAXCALLINFOSTR</a>];</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;};</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html"> 1155</a></span>&#160;<span class="keyword">union </span><a class="code" href="../../d0/de2/unionskinny__data.html">skinny_data</a> {</div><div class="line"><a name="l01156"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a00a93cc2ecf0e10506731d164fd2e49d"> 1156</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d39/structalarm__message.html">alarm_message</a> <a class="code" href="../../d1/d97/chan__dahdi_8c.html#a9e3b50e48c757ee5067da367f779839a">alarm</a>;</div><div class="line"><a name="l01157"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a883cd321c7b885c8eb325344e8a45e01"> 1157</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d39/structspeed__dial__stat__req__message.html">speed_dial_stat_req_message</a> speeddialreq;</div><div class="line"><a name="l01158"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#aceb9d5d9b0983f8fb0e5523310274dc4"> 1158</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dc9/structregister__message.html">register_message</a> reg;</div><div class="line"><a name="l01159"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663"> 1159</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dfd/structregister__ack__message.html">register_ack_message</a> regack;</div><div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a439767f912c8dce1e74fb1c3c45ee17b"> 1160</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/da5/structregister__rej__message.html">register_rej_message</a> regrej;</div><div class="line"><a name="l01161"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a99fd8190ffcee05962cae3d8518033cc"> 1161</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db0/structcapabilities__res__message.html">capabilities_res_message</a> caps;</div><div class="line"><a name="l01162"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#ab39e2139ac39eb022bbe54356481ec1d"> 1162</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d43/structversion__res__message.html">version_res_message</a> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a>;</div><div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382"> 1163</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/df8/structbutton__template__res__message.html">button_template_res_message</a> buttontemplate;</div><div class="line"><a name="l01164"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a0f450f5076cf5881aefe3fa6bc381edd"> 1164</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/db8/structdisplaytext__message.html">displaytext_message</a> displaytext;</div><div class="line"><a name="l01165"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a47e7af184f4958458d767c6e934f45e8"> 1165</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d49/structclear__display__message.html">clear_display_message</a> <a class="code" href="../../db/d62/app__adsiprog_8c.html#a0cce1f074e5889dc40e691d352d025a7">cleardisplay</a>;</div><div class="line"><a name="l01166"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c"> 1166</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html">display_prompt_status_message</a> displaypromptstatus;</div><div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a69f5aa4af56adffb6bf9f024b0da437f"> 1167</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d25/structclear__prompt__message.html">clear_prompt_message</a> clearpromptstatus;</div><div class="line"><a name="l01168"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa"> 1168</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d65/structdefinetimedate__message.html">definetimedate_message</a> definetimedate;</div><div class="line"><a name="l01169"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#acfcbe2888df992727f690e1fbccd4e74"> 1169</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d00/structstart__tone__message.html">start_tone_message</a> starttone;</div><div class="line"><a name="l01170"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a42d52a186dbacb2769d37ae6c08543ff"> 1170</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d76/structstop__tone__message.html">stop_tone_message</a> stoptone;</div><div class="line"><a name="l01171"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a23a2176cab0bee9f41d7b1af10f8f6cd"> 1171</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d11/structspeed__dial__stat__res__message.html">speed_dial_stat_res_message</a> <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a>;</div><div class="line"><a name="l01172"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#ac8bbcfcff4905989003310cb08dedc92"> 1172</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d64/structline__state__req__message.html">line_state_req_message</a> line;</div><div class="line"><a name="l01173"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744"> 1173</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d52/structline__stat__res__message.html">line_stat_res_message</a> linestat;</div><div class="line"><a name="l01174"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a2c1c09cd3cb77663c2963dd040506edd"> 1174</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d70/structsoft__key__set__res__message.html">soft_key_set_res_message</a> softkeysets;</div><div class="line"><a name="l01175"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a72600783648a844a5e45e185f42e00c4"> 1175</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d60/structsoft__key__template__res__message.html">soft_key_template_res_message</a> softkeytemplate;</div><div class="line"><a name="l01176"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a1e9a94870602b6a3227fe3ce05d3c13a"> 1176</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d7b/structserver__res__message.html">server_res_message</a> serverres;</div><div class="line"><a name="l01177"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#af94af305e2c5f2374e813e4eb240296c"> 1177</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dbe/structreset__message.html">reset_message</a> reset;</div><div class="line"><a name="l01178"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a65f7cdca57eaef927ca936afde633f52"> 1178</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d21/structset__lamp__message.html">set_lamp_message</a> setlamp;</div><div class="line"><a name="l01179"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a6708800c9c04790dc4ed17d8adf05ed7"> 1179</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dfe/structset__ringer__message.html">set_ringer_message</a> setringer;</div><div class="line"><a name="l01180"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#aa2c88f018f286fe417fe6d5da2f98d7d"> 1180</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/ded/structcall__state__message.html">call_state_message</a> callstate;</div><div class="line"><a name="l01181"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a23815068e4a04a658a8bd00aabab71fc"> 1181</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d0c/structkeypad__button__message.html">keypad_button_message</a> keypad;</div><div class="line"><a name="l01182"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#aa3ac92f8ade1b2cc658c0c5b3ce7d32a"> 1182</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d2e/structselect__soft__keys__message.html">select_soft_keys_message</a> selectsoftkey;</div><div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a77702a509517291eaa6e1e919179233b"> 1183</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/da0/structactivate__call__plane__message.html">activate_call_plane_message</a> activatecallplane;</div><div class="line"><a name="l01184"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#aee5c3dbb8f03b80b242ed1b447d25886"> 1184</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d52/structstimulus__message.html">stimulus_message</a> <a class="code" href="../../df/d52/structstimulus__message.html#af793c4f4a8ade380472caa8035905848">stimulus</a>;</div><div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a29a4718641ccff30ca7b21d7710c8bd3"> 1185</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dd1/structoffhook__message.html">offhook_message</a> offhook;</div><div class="line"><a name="l01186"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a1351994edcbe98ad38854153208d91d0"> 1186</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d36/structonhook__message.html">onhook_message</a> onhook;</div><div class="line"><a name="l01187"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a3751b807b8ae3a843e2a57d1963a8b4f"> 1187</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/dd7/structset__speaker__message.html">set_speaker_message</a> setspeaker;</div><div class="line"><a name="l01188"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a0f8fb34867e607e388414b68163a7ab9"> 1188</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/df8/structset__microphone__message.html">set_microphone_message</a> setmicrophone;</div><div class="line"><a name="l01189"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63"> 1189</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d13/structcall__info__message.html">call_info_message</a> callinfo;</div><div class="line"><a name="l01190"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907"> 1190</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html">start_media_transmission_message_ip4</a> startmedia_ip4;</div><div class="line"><a name="l01191"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9"> 1191</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html">start_media_transmission_message_ip6</a> startmedia_ip6;</div><div class="line"><a name="l01192"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a684ad1caea9173fbc13ab7be0ae45d9b"> 1192</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/de5/structstop__media__transmission__message.html">stop_media_transmission_message</a> stopmedia;</div><div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#aa8faa33e2246e6407be4c17a64ce04c1"> 1193</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/df8/structopen__receive__channel__message.html">open_receive_channel_message</a> openreceivechannel;</div><div class="line"><a name="l01194"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a845fba63a352afd2df7846879b11b35a"> 1194</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html">open_receive_channel_ack_message_ip4</a> openreceivechannelack_ip4;</div><div class="line"><a name="l01195"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a5292f1e5ade2bf5d4ee2335cb5d628e3"> 1195</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html">open_receive_channel_ack_message_ip6</a> openreceivechannelack_ip6;</div><div class="line"><a name="l01196"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a6e736b9cb16ec299bd33005a41fc4884"> 1196</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d78/structclose__receive__channel__message.html">close_receive_channel_message</a> closereceivechannel;</div><div class="line"><a name="l01197"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a1b277f925972224699c8d5e398e5ed6d"> 1197</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d67/structdisplay__notify__message.html">display_notify_message</a> displaynotify;</div><div class="line"><a name="l01198"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a2d5eae5cb69465289c72e06c47d3ba01"> 1198</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d77/structdialed__number__message.html">dialed_number_message</a> dialednumber;</div><div class="line"><a name="l01199"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#aac712770efa4df6178f5dd12bb346907"> 1199</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d3e/structsoft__key__event__message.html">soft_key_event_message</a> softkeyeventmessage;</div><div class="line"><a name="l01200"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a8b760cddc80b9386b1ed58030b170a30"> 1200</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/df0/structenbloc__call__message.html">enbloc_call_message</a> enbloccallmessage;</div><div class="line"><a name="l01201"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76"> 1201</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d05/structforward__stat__message.html">forward_stat_message</a> forwardstat;</div><div class="line"><a name="l01202"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#add5d6dea275e110fc365fe66953b27a8"> 1202</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d04/structbksp__req__message.html">bksp_req_message</a> bkspmessage;</div><div class="line"><a name="l01203"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e"> 1203</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d43/structcall__info__message__variable.html">call_info_message_variable</a> callinfomessagevariable;</div><div class="line"><a name="l01204"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a"> 1204</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html">display_prompt_status_message_variable</a> displaypromptstatusvar;</div><div class="line"><a name="l01205"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a05958ed22dde8a2cb72dfd8fa965905d"> 1205</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d6d/structserviceurl__stat__message.html">serviceurl_stat_message</a> serviceurlmessage;</div><div class="line"><a name="l01206"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a4c73ef4530d7434fa7bb56953ff4d627"> 1206</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/ded/structclear__prinotify__message.html">clear_prinotify_message</a> clearprinotify;</div><div class="line"><a name="l01207"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c"> 1207</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dea/structdisplay__prinotify__message.html">display_prinotify_message</a> displayprinotify;</div><div class="line"><a name="l01208"></a><span class="lineno"><a class="line" href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4"> 1208</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html">display_prinotify_message_variable</a> displayprinotifyvar;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;};</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment">/* packet composition */</span></div><div class="line"><a name="l01212"></a><span class="lineno"><a class="line" href="../../dc/da2/structskinny__req.html"> 1212</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> {</div><div class="line"><a name="l01213"></a><span class="lineno"><a class="line" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a"> 1213</a></span>&#160;   uint32_t <a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>;</div><div class="line"><a name="l01214"></a><span class="lineno"><a class="line" href="../../dc/da2/structskinny__req.html#a97e3bb97951482c8cf4d55a2d0bfcb62"> 1214</a></span>&#160;   uint32_t <a class="code" href="../../dc/da2/structskinny__req.html#a97e3bb97951482c8cf4d55a2d0bfcb62">res</a>;</div><div class="line"><a name="l01215"></a><span class="lineno"><a class="line" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd"> 1215</a></span>&#160;   uint32_t <a class="code" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">e</a>;</div><div class="line"><a name="l01216"></a><span class="lineno"><a class="line" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69"> 1216</a></span>&#160;   <span class="keyword">union </span><a class="code" href="../../d0/de2/unionskinny__data.html">skinny_data</a> data;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;};</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment">/* XXX This is the combined size of the variables above.  (len, res, e)</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment">   If more are added, this MUST change.</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">   (sizeof(skinny_req) - sizeof(skinny_data)) DOES NOT WORK on all systems (amd64?). */</span></div><div class="line"><a name="l01222"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a61a919d439daa2a587713f7bc615734c"> 1222</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a61a919d439daa2a587713f7bc615734c">skinny_header_size</a> = 12;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">/*****************************</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment"> * Asterisk specific globals *</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment"> *****************************/</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div><div class="line"><a name="l01228"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3f33857933c786a6cbf62a75e214bcf6"> 1228</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3f33857933c786a6cbf62a75e214bcf6">skinnyreload</a> = 0;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="comment">/* a hostname, portnumber, socket and such is usefull for VoIP protocols */</span></div><div class="line"><a name="l01231"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90"> 1231</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>sockaddr_in <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>;</div><div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afd883a715000d3dd9e65f40e6585f644"> 1232</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#afd883a715000d3dd9e65f40e6585f644">ourhost</a>[256];</div><div class="line"><a name="l01233"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7821b54b29c7b74aba79884f13b3ec03"> 1233</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7821b54b29c7b74aba79884f13b3ec03">ourport</a>;</div><div class="line"><a name="l01234"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1d084b82cb21102ba46ea60d3cd9c085"> 1234</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>in_addr <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1d084b82cb21102ba46ea60d3cd9c085">__ourip</a>;</div><div class="line"><a name="l01235"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9e435aef83f14da6d3d5ec44f821558e"> 1235</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../db/d2b/structast__hostent.html">ast_hostent</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e435aef83f14da6d3d5ec44f821558e">ahp</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa0f575fa3882aa394cc287edba645a35"> 1236</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>hostent *<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa0f575fa3882aa394cc287edba645a35">hp</a>;</div><div class="line"><a name="l01237"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9"> 1237</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a> = -1;</div><div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6"> 1238</a></span>&#160;<span class="keyword">static</span> pthread_t <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6">accept_t</a>;</div><div class="line"><a name="l01239"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a445c4d0d3e79e43aa4641d8bc8f648c7"> 1239</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a445c4d0d3e79e43aa4641d8bc8f648c7">callnums</a> = 1;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div><div class="line"><a name="l01241"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af1d2fd59588cba882a9566324087a8a5"> 1241</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_UNKNOWN -1</span></div><div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8bf5a11e3d0cc22ee77a88151b9bee6b"> 1242</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_NONE 0</span></div><div class="line"><a name="l01243"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3f3cd69f7c3fbc2a03f357123c699713"> 1243</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_30SPPLUS 1</span></div><div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af39bd902ef207e030753286d65681c7c"> 1244</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_12SPPLUS 2</span></div><div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad18902e12cbd352d1af5cb39e4b370ca"> 1245</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_12SP 3</span></div><div class="line"><a name="l01246"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac1db4bfd5d17f22afbc4bf80d6337d54"> 1246</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_12 4</span></div><div class="line"><a name="l01247"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad1629fcaedb5583acbff4481fc3affb4"> 1247</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_30VIP 5</span></div><div class="line"><a name="l01248"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8d87016fbefca28ff0756886e24aa1f3"> 1248</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7910 6</span></div><div class="line"><a name="l01249"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a21bbc062b4e4c70b3789ef050b73174f"> 1249</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7960 7</span></div><div class="line"><a name="l01250"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a13b2375dace6af91acc78d6c694b1f88"> 1250</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7940 8</span></div><div class="line"><a name="l01251"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afa9c2c4a21e3a321cf0c2c4adec1a05f"> 1251</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7935 9</span></div><div class="line"><a name="l01252"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5916bc0fad835957681082ac3848bd2e"> 1252</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_ATA186 12 </span><span class="comment">/* Cisco ATA-186 */</span><span class="preprocessor"></span></div><div class="line"><a name="l01253"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7178ace67146a2004b92c3cf46aec2c9"> 1253</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7941 115</span></div><div class="line"><a name="l01254"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae306befb4a743eb3e38f3f2bb2dbd59f"> 1254</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7971 119</span></div><div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5bc5ce4a9c8f4198130d3ce756324f68"> 1255</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7914 124 </span><span class="comment">/* Expansion module */</span><span class="preprocessor"></span></div><div class="line"><a name="l01256"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac3cd7f69be6e51d64b6688a80a65fc92"> 1256</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7985 302</span></div><div class="line"><a name="l01257"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a92da7b5faa7ec3709f054f179937082c"> 1257</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7911 307</span></div><div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a81e679dbd7beefb8f09015996b53bd27"> 1258</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7961GE 308</span></div><div class="line"><a name="l01259"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a171ee3ea3cd771beb545e9741196516d"> 1259</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7941GE 309</span></div><div class="line"><a name="l01260"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8dd826d1782563f838ed10bfcabe2e05"> 1260</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7931 348</span></div><div class="line"><a name="l01261"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2cf2ea66eb12030fe401f0f68fa2623d"> 1261</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7921 365</span></div><div class="line"><a name="l01262"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab68f0d8b6cb25f78ad3b7491f20fcd8e"> 1262</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7906 369</span></div><div class="line"><a name="l01263"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4ae851d94958aab0ec8c3410f7e2a15d"> 1263</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7962 404 </span><span class="comment">/* Not found */</span><span class="preprocessor"></span></div><div class="line"><a name="l01264"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3bb0cce3c6fbeabf3fa67e0a316cf535"> 1264</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7937 431</span></div><div class="line"><a name="l01265"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a10266707a30856e2d0f3205b5e4a1ccd"> 1265</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7942 434</span></div><div class="line"><a name="l01266"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a11d00fd199be58f222cafe9df0e4669e"> 1266</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7945 435</span></div><div class="line"><a name="l01267"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab61a7c473b18188f04fb35186ed35976"> 1267</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7965 436</span></div><div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a669bfc638ff207829d2e063533bcd7e8"> 1268</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7975 437</span></div><div class="line"><a name="l01269"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a433816a4c8748c37ec6ff4d6fe0430aa"> 1269</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7905 20000</span></div><div class="line"><a name="l01270"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a14da74571081caf219c70f4dc49499d8"> 1270</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7920 30002</span></div><div class="line"><a name="l01271"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af3a42f7afa01b1dbffacd7d07f9751b5"> 1271</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7970 30006</span></div><div class="line"><a name="l01272"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a51c12165871b57ce6a1deffecea01b17"> 1272</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7912 30007</span></div><div class="line"><a name="l01273"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9a7988ad601a91351534202a8e1ad43e"> 1273</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7902 30008</span></div><div class="line"><a name="l01274"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa82c3d86ef6e9bdda657d0637a56f0b3"> 1274</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_CIPC 30016 </span><span class="comment">/* Cisco IP Communicator */</span><span class="preprocessor"></span></div><div class="line"><a name="l01275"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a47e3aa64ee6a6f5e659bad94b9576eee"> 1275</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7961 30018</span></div><div class="line"><a name="l01276"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6e10ac13a55648f43ab0769552b3dc8e"> 1276</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_7936 30019</span></div><div class="line"><a name="l01277"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a032655a31a1da3ff3a8853e8511d9dd9"> 1277</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_SCCPGATEWAY_AN 30027 </span><span class="comment">/* Analog gateway */</span><span class="preprocessor"></span></div><div class="line"><a name="l01278"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a62fe3f5742eb03458a14f2dd241d093a"> 1278</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_SCCPGATEWAY_BRI 30028 </span><span class="comment">/* BRI gateway */</span><span class="preprocessor"></span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a379fd834cea6549831c799ed002b52f7"> 1280</a></span>&#160;<span class="preprocessor">#define SKINNY_SPEAKERON 1</span></div><div class="line"><a name="l01281"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0c90019de529b77fb06d587393ec42bf"> 1281</a></span>&#160;<span class="preprocessor">#define SKINNY_SPEAKEROFF 2</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div><div class="line"><a name="l01283"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a405c80c900a60f29ee07bb26d48b71c8"> 1283</a></span>&#160;<span class="preprocessor">#define SKINNY_MICON 1</span></div><div class="line"><a name="l01284"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a701494bb66426a27068ffa8aa05ba99a"> 1284</a></span>&#160;<span class="preprocessor">#define SKINNY_MICOFF 2</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537"> 1286</a></span>&#160;<span class="preprocessor">#define SKINNY_OFFHOOK 1</span></div><div class="line"><a name="l01287"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1"> 1287</a></span>&#160;<span class="preprocessor">#define SKINNY_ONHOOK 2</span></div><div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae470ea8c2ed3420d624ea6f61b640a8a"> 1288</a></span>&#160;<span class="preprocessor">#define SKINNY_RINGOUT 3</span></div><div class="line"><a name="l01289"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6bed741ef5e86581671d6c63ae9267c8"> 1289</a></span>&#160;<span class="preprocessor">#define SKINNY_RINGIN 4</span></div><div class="line"><a name="l01290"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1b0b13fd37b0eec0ebbc6031c91d4662"> 1290</a></span>&#160;<span class="preprocessor">#define SKINNY_CONNECTED 5</span></div><div class="line"><a name="l01291"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a068d6f987aefda74cc4eccf378f0e26f"> 1291</a></span>&#160;<span class="preprocessor">#define SKINNY_BUSY 6</span></div><div class="line"><a name="l01292"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0d089cd7065341d1b915456ace035ac2"> 1292</a></span>&#160;<span class="preprocessor">#define SKINNY_CONGESTION 7</span></div><div class="line"><a name="l01293"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4a2a093850ad1fe42d691104a8efcb5a"> 1293</a></span>&#160;<span class="preprocessor">#define SKINNY_HOLD 8</span></div><div class="line"><a name="l01294"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa1ba3673377bfb3503a3d15ae745a1e4"> 1294</a></span>&#160;<span class="preprocessor">#define SKINNY_CALLWAIT 9</span></div><div class="line"><a name="l01295"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a146aaa954b9c0009b40fbeb1d55eee42"> 1295</a></span>&#160;<span class="preprocessor">#define SKINNY_TRANSFER 10</span></div><div class="line"><a name="l01296"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afad6acabdbac762a1fafbf60cd3a4bd7"> 1296</a></span>&#160;<span class="preprocessor">#define SKINNY_PARK 11</span></div><div class="line"><a name="l01297"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2d1224352bf30cb08f222355450e4930"> 1297</a></span>&#160;<span class="preprocessor">#define SKINNY_PROGRESS 12</span></div><div class="line"><a name="l01298"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a171401581bc9313c20cec69fe8ddc7ee"> 1298</a></span>&#160;<span class="preprocessor">#define SKINNY_CALLREMOTEMULTILINE 13</span></div><div class="line"><a name="l01299"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aec9d41fe3802e98195d0472a93b22d94"> 1299</a></span>&#160;<span class="preprocessor">#define SKINNY_INVALID 14</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01301"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5"> 1301</a></span>&#160;<span class="preprocessor">#define SKINNY_INCOMING 1</span></div><div class="line"><a name="l01302"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187"> 1302</a></span>&#160;<span class="preprocessor">#define SKINNY_OUTGOING 2</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2c63c304c5e6eff4a0b13617eb4a9bed"> 1304</a></span>&#160;<span class="preprocessor">#define SKINNY_SILENCE 0x00      </span><span class="comment">/* Note sure this is part of the protocol, remove? */</span><span class="preprocessor"></span></div><div class="line"><a name="l01305"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a12616ab9d64a36f7c2f372084a3663c8"> 1305</a></span>&#160;<span class="preprocessor">#define SKINNY_DIALTONE 0x21</span></div><div class="line"><a name="l01306"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afe81f121e37b9b5a707f27f80e7f20f5"> 1306</a></span>&#160;<span class="preprocessor">#define SKINNY_BUSYTONE 0x23</span></div><div class="line"><a name="l01307"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa0c8daef788c72c3901d6d93bd873b1c"> 1307</a></span>&#160;<span class="preprocessor">#define SKINNY_ALERT 0x24</span></div><div class="line"><a name="l01308"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aceb6a87185d21366d7f3f21fd69cee90"> 1308</a></span>&#160;<span class="preprocessor">#define SKINNY_REORDER 0x25</span></div><div class="line"><a name="l01309"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab0051964ea7b68461644ee964e3add4e"> 1309</a></span>&#160;<span class="preprocessor">#define SKINNY_CALLWAITTONE 0x2D</span></div><div class="line"><a name="l01310"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4cddbfdea59df0e332ee2dfc975051d4"> 1310</a></span>&#160;<span class="preprocessor">#define SKINNY_ZIPZIP 0x31</span></div><div class="line"><a name="l01311"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0bd25f9eb8750b4d0297991c2c14cda3"> 1311</a></span>&#160;<span class="preprocessor">#define SKINNY_ZIP 0x32</span></div><div class="line"><a name="l01312"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a09053aca8cbc089204ce0d605f3438d6"> 1312</a></span>&#160;<span class="preprocessor">#define SKINNY_BEEPBONK 0x33</span></div><div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0576023e86fe229e327560972c1e61e3"> 1313</a></span>&#160;<span class="preprocessor">#define SKINNY_BARGIN 0x43</span></div><div class="line"><a name="l01314"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae95c7584fbc0dffa9560c78254a40166"> 1314</a></span>&#160;<span class="preprocessor">#define SKINNY_NOTONE 0x7F</span></div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639"> 1316</a></span>&#160;<span class="preprocessor">#define SKINNY_LAMP_OFF 1</span></div><div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969"> 1317</a></span>&#160;<span class="preprocessor">#define SKINNY_LAMP_ON 2</span></div><div class="line"><a name="l01318"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7de4e252b70c1f9022529a7de2c16344"> 1318</a></span>&#160;<span class="preprocessor">#define SKINNY_LAMP_WINK 3</span></div><div class="line"><a name="l01319"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4e1cd9416902608f4249e5ecd8caf578"> 1319</a></span>&#160;<span class="preprocessor">#define SKINNY_LAMP_FLASH 4</span></div><div class="line"><a name="l01320"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a92de27dd35149317b1c4cf78025b5b23"> 1320</a></span>&#160;<span class="preprocessor">#define SKINNY_LAMP_BLINK 5</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aecd793ced0012f548eaf003e4609e994"> 1322</a></span>&#160;<span class="preprocessor">#define SKINNY_RING_OFF 1</span></div><div class="line"><a name="l01323"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4278efdb24cd17e04eff48e39475dd4e"> 1323</a></span>&#160;<span class="preprocessor">#define SKINNY_RING_INSIDE 2</span></div><div class="line"><a name="l01324"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab31f54fa7ccafd41d215c62b7049f314"> 1324</a></span>&#160;<span class="preprocessor">#define SKINNY_RING_OUTSIDE 3</span></div><div class="line"><a name="l01325"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8706ef649ebdbbbb7d42fb703afef886"> 1325</a></span>&#160;<span class="preprocessor">#define SKINNY_RING_FEATURE 4</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div><div class="line"><a name="l01327"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7"> 1327</a></span>&#160;<span class="preprocessor">#define SKINNY_CFWD_ALL       (1 &lt;&lt; 0)</span></div><div class="line"><a name="l01328"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844"> 1328</a></span>&#160;<span class="preprocessor">#define SKINNY_CFWD_BUSY      (1 &lt;&lt; 1)</span></div><div class="line"><a name="l01329"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318"> 1329</a></span>&#160;<span class="preprocessor">#define SKINNY_CFWD_NOANSWER  (1 &lt;&lt; 2)</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="comment">/* Skinny rtp stream modes. Do we really need this? */</span></div><div class="line"><a name="l01332"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a145b82eaad8652b0b1573e2be1abc90e"> 1332</a></span>&#160;<span class="preprocessor">#define SKINNY_CX_SENDONLY 0</span></div><div class="line"><a name="l01333"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7300c46280f93b446c8e13b404f55e36"> 1333</a></span>&#160;<span class="preprocessor">#define SKINNY_CX_RECVONLY 1</span></div><div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac56d16f9c5cdbcc4b81eb63f9039e0e6"> 1334</a></span>&#160;<span class="preprocessor">#define SKINNY_CX_SENDRECV 2</span></div><div class="line"><a name="l01335"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad224f7081e86cc7699777aca6f03fd73"> 1335</a></span>&#160;<span class="preprocessor">#define SKINNY_CX_CONF 3</span></div><div class="line"><a name="l01336"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac28e82a8a12bb1b37e3a8c520c7bc6dc"> 1336</a></span>&#160;<span class="preprocessor">#define SKINNY_CX_CONFERENCE 3</span></div><div class="line"><a name="l01337"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0f17e966b4ee0638f788cd0c4320a203"> 1337</a></span>&#160;<span class="preprocessor">#define SKINNY_CX_MUTE 4</span></div><div class="line"><a name="l01338"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2aefadaebf9f3da51e9fbd92c998dc6b"> 1338</a></span>&#160;<span class="preprocessor">#define SKINNY_CX_INACTIVE 4</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> skinny_cxmodes[] = {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;   <span class="stringliteral">&quot;sendonly&quot;</span>,</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;   <span class="stringliteral">&quot;recvonly&quot;</span>,</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;   <span class="stringliteral">&quot;sendrecv&quot;</span>,</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;   <span class="stringliteral">&quot;confrnce&quot;</span>,</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;   <span class="stringliteral">&quot;inactive&quot;</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;};</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment">/* driver scheduler */</span></div><div class="line"><a name="l01351"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a361b448e9abcfc301602a2573a662d3c"> 1351</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d7/de8/structast__sched__context.html">ast_sched_context</a> *<a class="code" href="../../d0/da0/structsched.html">sched</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="comment">/* Protect the network socket */</span></div><div class="line"><a name="l01354"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87"> 1354</a></span>&#160;<a class="code" href="../../dd/d42/lock_8h.html#ac840092853644cea0a186efdc58985f5">AST_MUTEX_DEFINE_STATIC</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87">netlock</a>);</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="comment">/* Wait up to 16 seconds for first digit */</span></div><div class="line"><a name="l01357"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afd3be8e865f060b68db4d7c966489e0a"> 1357</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#afd3be8e865f060b68db4d7c966489e0a">firstdigittimeout</a> = 16000;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment">/* How long to wait for following digits */</span></div><div class="line"><a name="l01360"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa319ef1606201db158ce7195fb8eed45"> 1360</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa319ef1606201db158ce7195fb8eed45">gendigittimeout</a> = 8000;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">/* How long to wait for an extra digit, if there is an ambiguous match */</span></div><div class="line"><a name="l01363"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a24514343553b05c66e5b7d16e2df45cc"> 1363</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a24514343553b05c66e5b7d16e2df45cc">matchdigittimeout</a> = 3000;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment"> * To apease the stupid compiler option on ast_sched_del()</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment"> * since we don&#39;t care about the return value.</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01369"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab5dcb5c2f3332dc732b5c18eae4969ef"> 1369</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab5dcb5c2f3332dc732b5c18eae4969ef">not_used</a>;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a460583dd3b35299fa584b11304db2be3"> 1371</a></span>&#160;<span class="preprocessor">#define SUBSTATE_UNSET 0</span></div><div class="line"><a name="l01372"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92"> 1372</a></span>&#160;<span class="preprocessor">#define SUBSTATE_OFFHOOK 1</span></div><div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f"> 1373</a></span>&#160;<span class="preprocessor">#define SUBSTATE_ONHOOK 2</span></div><div class="line"><a name="l01374"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0"> 1374</a></span>&#160;<span class="preprocessor">#define SUBSTATE_RINGOUT 3</span></div><div class="line"><a name="l01375"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074"> 1375</a></span>&#160;<span class="preprocessor">#define SUBSTATE_RINGIN 4</span></div><div class="line"><a name="l01376"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34"> 1376</a></span>&#160;<span class="preprocessor">#define SUBSTATE_CONNECTED 5</span></div><div class="line"><a name="l01377"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a434ca8d939945fa0bbefe5e076463f33"> 1377</a></span>&#160;<span class="preprocessor">#define SUBSTATE_BUSY 6</span></div><div class="line"><a name="l01378"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae03ddd6ebf41610db45a9d8ef3721b3a"> 1378</a></span>&#160;<span class="preprocessor">#define SUBSTATE_CONGESTION 7</span></div><div class="line"><a name="l01379"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec"> 1379</a></span>&#160;<span class="preprocessor">#define SUBSTATE_HOLD 8</span></div><div class="line"><a name="l01380"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d"> 1380</a></span>&#160;<span class="preprocessor">#define SUBSTATE_CALLWAIT 9</span></div><div class="line"><a name="l01381"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912"> 1381</a></span>&#160;<span class="preprocessor">#define SUBSTATE_PROGRESS 12</span></div><div class="line"><a name="l01382"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424"> 1382</a></span>&#160;<span class="preprocessor">#define SUBSTATE_DIALING 101</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afa04f2ccb9addb25aecb45f46b392d17"> 1384</a></span>&#160;<span class="preprocessor">#define DIALTYPE_NORMAL      1&lt;&lt;0</span></div><div class="line"><a name="l01385"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a51420940ed1fee2467839518ae00413e"> 1385</a></span>&#160;<span class="preprocessor">#define DIALTYPE_CFWD        1&lt;&lt;1</span></div><div class="line"><a name="l01386"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1953a4a0312393adccbe15719eb22065"> 1386</a></span>&#160;<span class="preprocessor">#define DIALTYPE_XFER        1&lt;&lt;2</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html"> 1388</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> {</div><div class="line"><a name="l01389"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05"> 1389</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l01390"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782"> 1390</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>;</div><div class="line"><a name="l01391"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f"> 1391</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>;</div><div class="line"><a name="l01392"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216"> 1392</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>;</div><div class="line"><a name="l01393"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38"> 1393</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;   <span class="comment">/* time_t lastouttime; */</span> <span class="comment">/* Unused */</span></div><div class="line"><a name="l01395"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a4fb4072ccd44ea481eecfa5e74818db4"> 1395</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4fb4072ccd44ea481eecfa5e74818db4">progress</a>;</div><div class="line"><a name="l01396"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a44a0c9c7696fa5078c94c60140e83f5f"> 1396</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a44a0c9c7696fa5078c94c60140e83f5f">ringing</a>;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;   <span class="comment">/* int lastout; */</span> <span class="comment">/* Unused */</span></div><div class="line"><a name="l01398"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a4650e5e1429f8982af64b9c42c8c53d3"> 1398</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4650e5e1429f8982af64b9c42c8c53d3">cxmode</a>;</div><div class="line"><a name="l01399"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#ada540a5f25f7302dc1a3d17ccfa59b10"> 1399</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a>;</div><div class="line"><a name="l01400"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26"> 1400</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a>;</div><div class="line"><a name="l01401"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a9d49074e0655a086adb6bcc670b06f23"> 1401</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9d49074e0655a086adb6bcc670b06f23">blindxfer</a>;</div><div class="line"><a name="l01402"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a04f1e042676be8f4763d8d5a9000b1e5"> 1402</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a04f1e042676be8f4763d8d5a9000b1e5">xferor</a>;</div><div class="line"><a name="l01403"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90"> 1403</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>;</div><div class="line"><a name="l01404"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208"> 1404</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208">aa_sched</a>;</div><div class="line"><a name="l01405"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a43949878e5a771ad7dd4319b8256fb48"> 1405</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a43949878e5a771ad7dd4319b8256fb48">aa_beep</a>;</div><div class="line"><a name="l01406"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a892b2d4a6db65310c71e3cdc7bbf9b98"> 1406</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a892b2d4a6db65310c71e3cdc7bbf9b98">aa_mute</a>;</div><div class="line"><a name="l01407"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5"> 1407</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a>;</div><div class="line"><a name="l01408"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e"> 1408</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">cfwd_sched</a>;</div><div class="line"><a name="l01409"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb"> 1409</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">dialType</a>;</div><div class="line"><a name="l01410"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#afba22a4c8379e0b1489d8aaf643333d5"> 1410</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html#afba22a4c8379e0b1489d8aaf643333d5">getforward</a>;</div><div class="line"><a name="l01411"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e"> 1411</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e">origtonum</a>;</div><div class="line"><a name="l01412"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#ad5a6cbf59d842df8ea89ed445f42b1f2"> 1412</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad5a6cbf59d842df8ea89ed445f42b1f2">origtoname</a>;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;</div><div class="line"><a name="l01414"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#af23c4f31abe9f568a700ae6240b2bb69"> 1414</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a>) list;</div><div class="line"><a name="l01415"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775"> 1415</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>;</div><div class="line"><a name="l01416"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b"> 1416</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l01417"></a><span class="lineno"><a class="line" href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540"> 1417</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540">subline</a>;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;};</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae5dc85a5d8ede916fd4c3f50ff488cd1"> 1420</a></span>&#160;<span class="preprocessor">#define SKINNY_LINE_OPTIONS            \</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="preprocessor">   char name[80];             \</span></div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="preprocessor">   char label[24];               \</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="preprocessor">   char accountcode[AST_MAX_ACCOUNT_CODE];      \</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="preprocessor">   char exten[AST_MAX_EXTENSION];         \</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="preprocessor">   char context[AST_MAX_CONTEXT];         \</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="preprocessor">   char language[MAX_LANGUAGE];        \</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="preprocessor">   char cid_num[AST_MAX_EXTENSION];    \</span></div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="preprocessor">   char cid_name[AST_MAX_EXTENSION];      \</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="preprocessor">   char lastcallerid[AST_MAX_EXTENSION];     \</span></div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="preprocessor">   int cfwdtype;              \</span></div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="preprocessor">   char call_forward_all[AST_MAX_EXTENSION]; \</span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="preprocessor">   char call_forward_busy[AST_MAX_EXTENSION];   \</span></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="preprocessor">   char call_forward_noanswer[AST_MAX_EXTENSION];  \</span></div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="preprocessor">   char mailbox[AST_MAX_MAILBOX_UNIQUEID];      \</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="preprocessor">   char vmexten[AST_MAX_EXTENSION];    \</span></div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="preprocessor">   char regexten[AST_MAX_EXTENSION];      \</span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="preprocessor">   char regcontext[AST_MAX_CONTEXT];      \</span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="preprocessor">   char parkinglot[AST_MAX_CONTEXT];      \</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="preprocessor">   char mohinterpret[MAX_MUSICCLASS];     \</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="preprocessor">   char mohsuggest[MAX_MUSICCLASS];    \</span></div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="preprocessor">   char lastnumberdialed[AST_MAX_EXTENSION]; \</span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="preprocessor">   char dialoutexten[AST_MAX_EXTENSION];     \</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="preprocessor">   char dialoutcontext[AST_MAX_CONTEXT];     \</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="preprocessor">   ast_group_t callgroup;           \</span></div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="preprocessor">   ast_group_t pickupgroup;         \</span></div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="preprocessor">   struct ast_namedgroups *named_callgroups; \</span></div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="preprocessor">   struct ast_namedgroups *named_pickupgroups;  \</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="preprocessor">   int callwaiting;           \</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="preprocessor">   int transfer;              \</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="preprocessor">   int threewaycalling;          \</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="preprocessor">   int mwiblink;              \</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="preprocessor">   int cancallforward;           \</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="preprocessor">   int callfwdtimeout;           \</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="preprocessor">   int dnd;             \</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="preprocessor">   int hidecallerid;          \</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="preprocessor">   int amaflags;              \</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="preprocessor">   int instance;              \</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="preprocessor">   int group;              \</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="preprocessor">   int nonCodecCapability;          \</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="preprocessor">   int immediate;             \</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="preprocessor">   int nat;             \</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="preprocessor">   int directmedia;           \</span></div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="preprocessor">   int prune;</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html"> 1465</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> {</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae5dc85a5d8ede916fd4c3f50ff488cd1">SKINNY_LINE_OPTIONS</a></div><div class="line"><a name="l01467"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a"> 1467</a></span>&#160;   <a class="code" href="../../d8/dc5/structast__mutex__info.html">ast_mutex_t</a> <a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>;</div><div class="line"><a name="l01468"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#af3f800a0a8df8a1cd55b45ab566cbbd7"> 1468</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dbc/structskinny__container.html">skinny_container</a> *<a class="code" href="../../d2/db5/structskinny__line.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a>;</div><div class="line"><a name="l01469"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d"> 1469</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d41/structast__mwi__subscriber.html">ast_mwi_subscriber</a> *<a class="code" href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d">mwi_event_sub</a>; <span class="comment">/* Event based MWI */</span></div><div class="line"><a name="l01470"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04"> 1470</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>;</div><div class="line"><a name="l01471"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#adf04f66344e3fb0a6f6a69bf39d19902"> 1471</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#acdb4f56da6b3071d02dcce20072852b0">AST_LIST_HEAD</a>(, <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a>) <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l01472"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#a69e916443085018bc3bfe76b9bbda5dd"> 1472</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#acdb4f56da6b3071d02dcce20072852b0">AST_LIST_HEAD</a>(, <a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a>) sublines;</div><div class="line"><a name="l01473"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#a7c4b86e1b5938cd45afaf881f21b153f"> 1473</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a>) <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a>) all;</div><div class="line"><a name="l01475"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a"> 1475</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l01476"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b"> 1476</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>;</div><div class="line"><a name="l01477"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567"> 1477</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>;</div><div class="line"><a name="l01478"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#a06c0918fa1a1aac3d386fca59b12327c"> 1478</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../d2/db5/structskinny__line.html#a06c0918fa1a1aac3d386fca59b12327c">chanvars</a>; <span class="comment">/*!&lt; Channel variables to set for inbound call */</span></div><div class="line"><a name="l01479"></a><span class="lineno"><a class="line" href="../../d2/db5/structskinny__line.html#a040f76b1cd9a7d2442611e105c605695"> 1479</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d2/db5/structskinny__line.html#a040f76b1cd9a7d2442611e105c605695">newmsgs</a>;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;};</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="../../d4/db0/structskinny__line__options.html"> 1482</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d4/db0/structskinny__line__options.html">skinny_line_options</a>{</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae5dc85a5d8ede916fd4c3f50ff488cd1">SKINNY_LINE_OPTIONS</a></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;} <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1ff5f7d1d41bc8f06fc676e62f11839f">default_line_struct</a> = {</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;   .callwaiting = 1,</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;   .transfer = 1,</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;   .mwiblink = 0,</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;   .dnd = 0,</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;   .hidecallerid = 0,</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;   .amaflags = 0,</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   .instance = 0,</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;   .directmedia = 0,</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;   .nat = 0,</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;   .callfwdtimeout = 20000,</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;   .prune = 0,</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;};</div><div class="line"><a name="l01497"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6e99a595511d5057826b95311fa49465"> 1497</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d4/db0/structskinny__line__options.html">skinny_line_options</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a6e99a595511d5057826b95311fa49465">default_line</a> = &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1ff5f7d1d41bc8f06fc676e62f11839f">default_line_struct</a>;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"><a class="line" href="../../df/d58/structlines.html#adf04f66344e3fb0a6f6a69bf39d19902"> 1499</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../df/d90/linkedlists_8h.html#a10f9ed9242a397abf76de1ed1fa33c3b">AST_LIST_HEAD_STATIC</a>(<a class="code" href="../../df/d58/structlines.html">lines</a>, <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a>);</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html"> 1501</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> {</div><div class="line"><a name="l01502"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#af3f800a0a8df8a1cd55b45ab566cbbd7"> 1502</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dbc/structskinny__container.html">skinny_container</a> *<a class="code" href="../../d1/de2/structskinny__subline.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a>;</div><div class="line"><a name="l01503"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b"> 1503</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l01504"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62"> 1504</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">sub</a>;</div><div class="line"><a name="l01505"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a555e056c4dcd4595139d0c736ced384a"> 1505</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a>) <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>;</div><div class="line"><a name="l01506"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a3777dbae63a15da001b2baa317a25149"> 1506</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>[80];</div><div class="line"><a name="l01507"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#ac25ea00ee3f082df06e0cf468cbde240"> 1507</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>[<a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a>];</div><div class="line"><a name="l01508"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a78d4847658b695383d849efd12399b38"> 1508</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l01509"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#ab0c4e877f2cb630c4fba9fe22e498479"> 1509</a></span>&#160;   <span class="keywordtype">char</span> stname[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l01510"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a0ad8152e984daf5d46937d52a04d3cde"> 1510</a></span>&#160;   <span class="keywordtype">char</span> lnname[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l01511"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a095cf75bdd8e42a816f1a84333050688"> 1511</a></span>&#160;   <span class="keywordtype">char</span> ourName[40];</div><div class="line"><a name="l01512"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a64a9d77a9e01615e0a960f5097c95db0"> 1512</a></span>&#160;   <span class="keywordtype">char</span> ourNum[24];</div><div class="line"><a name="l01513"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a0f285c67b19eba9d73b8f15b6c156823"> 1513</a></span>&#160;   <span class="keywordtype">char</span> theirName[40];</div><div class="line"><a name="l01514"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a417e42adefb851e684e1ad566dcb8638"> 1514</a></span>&#160;   <span class="keywordtype">char</span> theirNum[24];</div><div class="line"><a name="l01515"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#afe53c414731fb76550befd5146b6bc26"> 1515</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d1/de2/structskinny__subline.html#afe53c414731fb76550befd5146b6bc26">calldirection</a>;</div><div class="line"><a name="l01516"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a51fc472c725e95f474519f1aa7f4bb90"> 1516</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d1/de2/structskinny__subline.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>;</div><div class="line"><a name="l01517"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a2f1ff9993605e9134bc66eb29b479838"> 1517</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d1/de2/structskinny__subline.html#a2f1ff9993605e9134bc66eb29b479838">extenstate</a>;</div><div class="line"><a name="l01518"></a><span class="lineno"><a class="line" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216"> 1518</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;};</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html"> 1521</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> {</div><div class="line"><a name="l01522"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#adf04f66344e3fb0a6f6a69bf39d19902"> 1522</a></span>&#160;   <a class="code" href="../../d8/dc5/structast__mutex__info.html">ast_mutex_t</a> <a class="code" href="../../d8/d0f/structskinny__speeddial.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>;</div><div class="line"><a name="l01523"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#af3f800a0a8df8a1cd55b45ab566cbbd7"> 1523</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dbc/structskinny__container.html">skinny_container</a> *<a class="code" href="../../d8/d0f/structskinny__speeddial.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a>;</div><div class="line"><a name="l01524"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9"> 1524</a></span>&#160;   <span class="keywordtype">char</span> label[42];</div><div class="line"><a name="l01525"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#ac25ea00ee3f082df06e0cf468cbde240"> 1525</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>[<a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a>];</div><div class="line"><a name="l01526"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38"> 1526</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l01527"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb"> 1527</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>;</div><div class="line"><a name="l01528"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#a70382561daaa758a201b7a711d566e24"> 1528</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d8/d0f/structskinny__speeddial.html#a70382561daaa758a201b7a711d566e24">stateid</a>;</div><div class="line"><a name="l01529"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#a0078d2e3ae10f15d7634c01199f33d4f"> 1529</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d8/d0f/structskinny__speeddial.html#a0078d2e3ae10f15d7634c01199f33d4f">laststate</a>;</div><div class="line"><a name="l01530"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e"> 1530</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a>;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#a98a79c023b739119fa1ba610465dbddd"> 1532</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a>) list;</div><div class="line"><a name="l01533"></a><span class="lineno"><a class="line" href="../../d8/d0f/structskinny__speeddial.html#aea7cfebdbc484f2d086c9218129a141a"> 1533</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d8/d0f/structskinny__speeddial.html#aea7cfebdbc484f2d086c9218129a141a">parent</a>;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;};</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div><div class="line"><a name="l01536"></a><span class="lineno"><a class="line" href="../../d3/d52/structskinny__serviceurl.html"> 1536</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d3/d52/structskinny__serviceurl.html">skinny_serviceurl</a> {</div><div class="line"><a name="l01537"></a><span class="lineno"><a class="line" href="../../d3/d52/structskinny__serviceurl.html#a6fd216872447cfe5f757d2ce47fea6fb"> 1537</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d3/d52/structskinny__serviceurl.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>;</div><div class="line"><a name="l01538"></a><span class="lineno"><a class="line" href="../../d3/d52/structskinny__serviceurl.html#a3d7ec0af596552058e460f64646bf5b8"> 1538</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dc/d12/res__config__ldap_8c.html#a75e4590043edf35241d30fabe2eda546">url</a>[<a class="code" href="../../d0/d80/chan__skinny_8c.html#a413c4786c5e1d12ecff7c6b88d34c35d">MAX_SERVICEURL</a>];</div><div class="line"><a name="l01539"></a><span class="lineno"><a class="line" href="../../d3/d52/structskinny__serviceurl.html#a055fded1ef981ae1960598ea019e0476"> 1539</a></span>&#160;   <span class="keywordtype">char</span> displayName[40];</div><div class="line"><a name="l01540"></a><span class="lineno"><a class="line" href="../../d3/d52/structskinny__serviceurl.html#abc72c6f0673469e11892eca88d0f9c03"> 1540</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../d3/d52/structskinny__serviceurl.html">skinny_serviceurl</a>) list;</div><div class="line"><a name="l01541"></a><span class="lineno"><a class="line" href="../../d3/d52/structskinny__serviceurl.html#a70701ca9c2641bcb1740286273a0473a"> 1541</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;};</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div><div class="line"><a name="l01544"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4874af7f7372efcd6c02a3ab84e64c3a"> 1544</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICECONTAINER 1</span></div><div class="line"><a name="l01545"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae249c0e277cfa32192406b19fd675d6c"> 1545</a></span>&#160;<span class="preprocessor">#define SKINNY_LINECONTAINER 2</span></div><div class="line"><a name="l01546"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab6834c7da233db764539d15f5bae198f"> 1546</a></span>&#160;<span class="preprocessor">#define SKINNY_SUBLINECONTAINER 3</span></div><div class="line"><a name="l01547"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a01b2bb8685c96de7d81859e2fa0051df"> 1547</a></span>&#160;<span class="preprocessor">#define SKINNY_SDCONTAINER 4</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div><div class="line"><a name="l01549"></a><span class="lineno"><a class="line" href="../../d6/dbc/structskinny__container.html"> 1549</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/dbc/structskinny__container.html">skinny_container</a> {</div><div class="line"><a name="l01550"></a><span class="lineno"><a class="line" href="../../d6/dbc/structskinny__container.html#ac765329451135abec74c45e1897abf26"> 1550</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/dbc/structskinny__container.html#ac765329451135abec74c45e1897abf26">type</a>;</div><div class="line"><a name="l01551"></a><span class="lineno"><a class="line" href="../../d6/dbc/structskinny__container.html#a735984d41155bc1032e09bece8f8d66d"> 1551</a></span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="../../d6/dbc/structskinny__container.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;};</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;</div><div class="line"><a name="l01554"></a><span class="lineno"><a class="line" href="../../dc/d11/structskinny__addon.html"> 1554</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/d11/structskinny__addon.html">skinny_addon</a> {</div><div class="line"><a name="l01555"></a><span class="lineno"><a class="line" href="../../dc/d11/structskinny__addon.html#adf04f66344e3fb0a6f6a69bf39d19902"> 1555</a></span>&#160;   <a class="code" href="../../d8/dc5/structast__mutex__info.html">ast_mutex_t</a> <a class="code" href="../../dc/d11/structskinny__addon.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>;</div><div class="line"><a name="l01556"></a><span class="lineno"><a class="line" href="../../dc/d11/structskinny__addon.html#a33e6e7edca48ac1ff105d85011dfc454"> 1556</a></span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>[10];</div><div class="line"><a name="l01557"></a><span class="lineno"><a class="line" href="../../dc/d11/structskinny__addon.html#a1f1037919acdd9a0083a6f5224603f8e"> 1557</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../dc/d11/structskinny__addon.html">skinny_addon</a>) list;</div><div class="line"><a name="l01558"></a><span class="lineno"><a class="line" href="../../dc/d11/structskinny__addon.html#aea7cfebdbc484f2d086c9218129a141a"> 1558</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../dc/d11/structskinny__addon.html#aea7cfebdbc484f2d086c9218129a141a">parent</a>;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;};</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a20185c5e569b4f8b26e80fc4f32ce216"> 1561</a></span>&#160;<span class="preprocessor">#define SKINNY_DEVICE_OPTIONS             \</span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="preprocessor">   char name[80];                \</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="preprocessor">   char id[16];                  \</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="preprocessor">   char version_id[16];             \</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="preprocessor">   char vmexten[AST_MAX_EXTENSION];       \</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="preprocessor">   int type;                  \</span></div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="preprocessor">   int protocolversion;          \</span></div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="preprocessor">   int hookstate;             \</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="preprocessor">   int lastlineinstance;               \</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="preprocessor">   int lastcallreference;              \</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="preprocessor">   int earlyrtp;                 \</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="preprocessor">   int transfer;                 \</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="preprocessor">   int callwaiting;              \</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="preprocessor">   int mwiblink;                 \</span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="preprocessor">   int dnd;                \</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="preprocessor">   int prune;</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html"> 1578</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> {</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a20185c5e569b4f8b26e80fc4f32ce216">SKINNY_DEVICE_OPTIONS</a></div><div class="line"><a name="l01580"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#ae868bc1a499690a02fc8052577229df9"> 1580</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> *<a class="code" href="../../d1/db3/structskinny__device.html#ae868bc1a499690a02fc8052577229df9">first</a>;</div><div class="line"><a name="l01581"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#a099ce3d856d66dc52a7737d4d5b8daab"> 1581</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> *<a class="code" href="../../d1/db3/structskinny__device.html#a099ce3d856d66dc52a7737d4d5b8daab">last</a>;</div><div class="line"><a name="l01582"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#adf04f66344e3fb0a6f6a69bf39d19902"> 1582</a></span>&#160;   <a class="code" href="../../d8/dc5/structast__mutex__info.html">ast_mutex_t</a> <a class="code" href="../../d1/db3/structskinny__device.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>;</div><div class="line"><a name="l01583"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#afdf3b1ca80400cc6bd5bfe2bb1cb7e65"> 1583</a></span>&#160;   <span class="keyword">struct </span>sockaddr_in addr;</div><div class="line"><a name="l01584"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#aff045cc68524670d4355f882c7ac6271"> 1584</a></span>&#160;   <span class="keyword">struct </span>in_addr ourip;</div><div class="line"><a name="l01585"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#a6c6c2b6adbe74acc944bc0c55b16c8f4"> 1585</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d1d/structast__ha.html">ast_ha</a> *<a class="code" href="../../d1/db3/structskinny__device.html#a6c6c2b6adbe74acc944bc0c55b16c8f4">ha</a>;</div><div class="line"><a name="l01586"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd"> 1586</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>;</div><div class="line"><a name="l01587"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#a70da1427655ecdaa64e57324e51f440b"> 1587</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *<a class="code" href="../../d1/db3/structskinny__device.html#a70da1427655ecdaa64e57324e51f440b">activeline</a>;</div><div class="line"><a name="l01588"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b"> 1588</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>;</div><div class="line"><a name="l01589"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567"> 1589</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *<a class="code" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>;</div><div class="line"><a name="l01590"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6"> 1590</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>;</div><div class="line"><a name="l01591"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#a14338c347266c266fe18794a3b589ba2"> 1591</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#acdb4f56da6b3071d02dcce20072852b0">AST_LIST_HEAD</a>(, <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a>) <a class="code" href="../../d0/d80/chan__skinny_8c.html#af19bea0fea4bb4d017667827fe7b4970">lines</a>;</div><div class="line"><a name="l01592"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#a9f529a382203bf6df1e043f7b038ef28"> 1592</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#acdb4f56da6b3071d02dcce20072852b0">AST_LIST_HEAD</a>(, <a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a>) speeddials;</div><div class="line"><a name="l01593"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#ad25e60d28c5a4e390aa2f3db8f964cf9"> 1593</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#acdb4f56da6b3071d02dcce20072852b0">AST_LIST_HEAD</a>(, <a class="code" href="../../d3/d52/structskinny__serviceurl.html">skinny_serviceurl</a>) serviceurls;</div><div class="line"><a name="l01594"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#ab4ccedb3ca4b4aa00cc0c064fa3a4516"> 1594</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#acdb4f56da6b3071d02dcce20072852b0">AST_LIST_HEAD</a>(, <a class="code" href="../../dc/d11/structskinny__addon.html">skinny_addon</a>) addons;</div><div class="line"><a name="l01595"></a><span class="lineno"><a class="line" href="../../d1/db3/structskinny__device.html#a5aac937bf2176396735e308512b1302b"> 1595</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a>) list;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;};</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;</div><div class="line"><a name="l01598"></a><span class="lineno"><a class="line" href="../../d5/de0/structskinny__device__options.html"> 1598</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d5/de0/structskinny__device__options.html">skinny_device_options</a> {</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a20185c5e569b4f8b26e80fc4f32ce216">SKINNY_DEVICE_OPTIONS</a></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;} <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3ac7b464520c606a7b5e114091a7798">default_device_struct</a> = {</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;   .transfer = 1,</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;   .earlyrtp = 1,</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;   .callwaiting = 1,</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;   .mwiblink = 0,</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;   .dnd = 0,</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;   .prune = 0,</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;   .hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>,</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;};</div><div class="line"><a name="l01609"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aea5308550d9d24974ceb40dd660b2fd9"> 1609</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d5/de0/structskinny__device__options.html">skinny_device_options</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#aea5308550d9d24974ceb40dd660b2fd9">default_device</a> = &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3ac7b464520c606a7b5e114091a7798">default_device_struct</a>;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div><div class="line"><a name="l01611"></a><span class="lineno"><a class="line" href="../../dd/d5e/structdevices.html#adf04f66344e3fb0a6f6a69bf39d19902"> 1611</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../df/d90/linkedlists_8h.html#a10f9ed9242a397abf76de1ed1fa33c3b">AST_LIST_HEAD_STATIC</a>(<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a>);</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;</div><div class="line"><a name="l01613"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html"> 1613</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> {</div><div class="line"><a name="l01614"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#aa49d6a06775253352589280dc7f30018"> 1614</a></span>&#160;   pthread_t <a class="code" href="../../db/d98/structskinnysession.html#aa49d6a06775253352589280dc7f30018">t</a>;</div><div class="line"><a name="l01615"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902"> 1615</a></span>&#160;   <a class="code" href="../../d8/dc5/structast__mutex__info.html">ast_mutex_t</a> <a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>;</div><div class="line"><a name="l01616"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#ad80305b5e16da9c2675d5f057bd69386"> 1616</a></span>&#160;   <span class="keyword">struct </span>timeval start;</div><div class="line"><a name="l01617"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5"> 1617</a></span>&#160;   <span class="keyword">struct </span>sockaddr_in sin;</div><div class="line"><a name="l01618"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b"> 1618</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a>;</div><div class="line"><a name="l01619"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#add02b47ccdba2203fd3d2ae04d6180ea"> 1619</a></span>&#160;   <span class="keywordtype">char</span> outbuf[<a class="code" href="../../d0/d80/chan__skinny_8c.html#af113e81b9ed86ff1591580de9d8b1d52">SKINNY_MAX_PACKET</a>];</div><div class="line"><a name="l01620"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a"> 1620</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l01621"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#a9374576dd3f762fb33940017a7abacf0"> 1621</a></span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a>(<a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a>) <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>;</div><div class="line"><a name="l01622"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#aceadbae8433ce428cb735b69f776c2e4"> 1622</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../db/d98/structskinnysession.html#aceadbae8433ce428cb735b69f776c2e4">lockstate</a>; <span class="comment">/* Only for use in the skinny_session thread */</span></div><div class="line"><a name="l01623"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849"> 1623</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a>;</div><div class="line"><a name="l01624"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb"> 1624</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a>;</div><div class="line"><a name="l01625"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#a2ed89e10d65c4137d632cf97641df41a"> 1625</a></span>&#160;   <span class="keyword">struct </span>timeval last_keepalive;</div><div class="line"><a name="l01626"></a><span class="lineno"><a class="line" href="../../db/d98/structskinnysession.html#a0c8b0946b3ef893d0ec702480259032e"> 1626</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../db/d98/structskinnysession.html#a0c8b0946b3ef893d0ec702480259032e">keepalive_count</a>;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;};</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7d5dd463398f60d25e49d35e6ccd84ab">skinny_request</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keyword">struct</span> <a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *cap, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *assignedids, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *requestor, <span class="keyword">const</span> <span class="keywordtype">char</span> *dest, <span class="keywordtype">int</span> *cause);</div><div class="line"><a name="l01630"></a><span class="lineno"><a class="line" href="../../d3/d0a/structsessions.html#adf04f66344e3fb0a6f6a69bf39d19902"> 1630</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../df/d90/linkedlists_8h.html#a10f9ed9242a397abf76de1ed1fa33c3b">AST_LIST_HEAD_STATIC</a>(<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>, <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a>);</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1e690afcba3679a7fd5129ee3dd13015">skinny_devicestate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *data);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a46d7abedaf706e8b5e7da97d9e97344b">skinny_call</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keyword">const</span> <span class="keywordtype">char</span> *dest, <span class="keywordtype">int</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#acbddfa3c6c07d0f530dce92d04c42c19">skinny_hangup</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast);</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#afac661ab214a4a68d115b3a1c70fdb32">skinny_answer</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#ade22bc3bb339cf936adbcd5a32f07537">skinny_read</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e4a5b612101b227ea903b83bd9a863a">skinny_write</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keyword">struct</span> <a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa6752ab977ca12d5f27c6c6970dae085">skinny_indicate</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keywordtype">int</span> ind, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> <a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a>);</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa67baa68e813caec6b66dac51d58f1f2">skinny_fixup</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *oldchan, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *newchan);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a60a505427fdd444c262281da8d1eb251">skinny_senddigit_begin</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keywordtype">char</span> <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>);</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a76035e956bb8c2cfc5e6412fd6c02c55">skinny_senddigit_end</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keywordtype">char</span> <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> duration);</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8921df965ea3d7dec54ab143ea1463bc">mwi_event_cb</a>(<span class="keywordtype">void</span> *userdata, <span class="keyword">struct</span> <a class="code" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg);</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7aad49354a0cd82f016e6692780e3669">skinny_dialer_cb</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *data);</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa53f60b698c21b4f290b5defcf53ef9b">skinny_reload</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a74175021175357b1d82492f84ff6403a">skinny_set_owner</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a>* <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a>* chan);</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">int</span> forcehangup);</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8">activatesub</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">char</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>]);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad1230e2a8f68b65b1767bc34e407c88b">skinny_nokeepalive_cb</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *data);</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>);</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div><div class="line"><a name="l01655"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af6c38f501b802babce30ed7dd08fc686"> 1655</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af6c38f501b802babce30ed7dd08fc686">skinny_tech</a> = {</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;   .<a class="code" href="../../d4/d85/structast__channel__tech.html#a8ff938fb2f815be425fd2859a21e6d61">type</a> = <span class="stringliteral">&quot;Skinny&quot;</span>,</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;   .description = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a71535bf985a1a06d548fd73a0a0ec32c">tdesc</a>,</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   .properties = <a class="code" href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbda54130226ec87f80c48ee98aa5cc9168c">AST_CHAN_TP_WANTSJITTER</a> | <a class="code" href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbdafb2c9cea57f7fc8e0350ed6f60cbb892">AST_CHAN_TP_CREATESJITTER</a>,</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;   .requester = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7d5dd463398f60d25e49d35e6ccd84ab">skinny_request</a>,</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;   .devicestate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1e690afcba3679a7fd5129ee3dd13015">skinny_devicestate</a>,</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;   .call = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a46d7abedaf706e8b5e7da97d9e97344b">skinny_call</a>,</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;   .hangup = <a class="code" href="../../d0/d80/chan__skinny_8c.html#acbddfa3c6c07d0f530dce92d04c42c19">skinny_hangup</a>,</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   .answer = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afac661ab214a4a68d115b3a1c70fdb32">skinny_answer</a>,</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   .read = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ade22bc3bb339cf936adbcd5a32f07537">skinny_read</a>,</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;   .write = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e4a5b612101b227ea903b83bd9a863a">skinny_write</a>,</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;   .indicate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa6752ab977ca12d5f27c6c6970dae085">skinny_indicate</a>,</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;   .fixup = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa67baa68e813caec6b66dac51d58f1f2">skinny_fixup</a>,</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;   .send_digit_begin = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a60a505427fdd444c262281da8d1eb251">skinny_senddigit_begin</a>,</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;   .send_digit_end = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a76035e956bb8c2cfc5e6412fd6c02c55">skinny_senddigit_end</a>,</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;};</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad23cb8e38f08caa3c3a496f691c39e3b">skinny_extensionstate_cb</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="keyword">struct</span> <a class="code" href="../../df/d4c/structast__state__cb__info.html">ast_state_cb_info</a> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>, <span class="keywordtype">void</span> *data);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div><div class="line"><a name="l01674"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab264cdcf333d318a73bbb35c734e2acd"> 1674</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab264cdcf333d318a73bbb35c734e2acd">skinny_line_alloc</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;{</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   <span class="keywordflow">if</span> (!(l = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*l)))) {</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;   }</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;   l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a> = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a> = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   <span class="keywordflow">if</span> (!l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a> || !l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>) {</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(l);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;   }</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;   <span class="keywordflow">return</span> l;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;}</div><div class="line"><a name="l01691"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a534c6987ccc3a01cbbdc12543f551a40"> 1691</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a534c6987ccc3a01cbbdc12543f551a40">skinny_line_destroy</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l)</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;{</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, -1);</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, -1);</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   l-&gt;named_callgroups = <a class="code" href="../../d5/d7b/channel_8h.html#ae4bed10845e16e1cbde4bb46d4b1d679">ast_unref_namedgroups</a>(l-&gt;named_callgroups);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;   l-&gt;named_pickupgroups = <a class="code" href="../../d5/d7b/channel_8h.html#ae4bed10845e16e1cbde4bb46d4b1d679">ast_unref_namedgroups</a>(l-&gt;named_pickupgroups);</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a>);</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(l);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;}</div><div class="line"><a name="l01701"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af04603de29d6cb0402cff61df2a18878"> 1701</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#af04603de29d6cb0402cff61df2a18878">skinny_device_alloc</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dname)</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;{</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;   <span class="keywordflow">if</span> (!(d = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*d)))) {</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;   }</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;   d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a> = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;   d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">confcap</a> = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a> = <a class="code" href="../../d4/d61/endpoints_8h.html#a6d7a27b4849c075f31991c8ca796ccf2">ast_endpoint_create</a>(<span class="stringliteral">&quot;Skinny&quot;</span>, dname);</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;   <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a> || !d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">confcap</a> || !d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>) {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>);</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(d);</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;   }</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(d-&gt;name, dname, <span class="keyword">sizeof</span>(d-&gt;name));</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;}</div><div class="line"><a name="l01722"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a69f7813c801cadcd6a54ba113dc0a1b4"> 1722</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a69f7813c801cadcd6a54ba113dc0a1b4">skinny_device_destroy</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>)</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;{</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, -1);</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, -1);</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;   <a class="code" href="../../d4/d61/endpoints_8h.html#a6a92006e96890f26789df16ae8a4994d">ast_endpoint_shutdown</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(d);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;}</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a777f6b11a8e0eb771de41dfe998bb570"> 1731</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a777f6b11a8e0eb771de41dfe998bb570">get_button_template</a>(<span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s, <span class="keyword">struct</span> <a class="code" href="../../d9/d8c/structbutton__definition__template.html">button_definition_template</a> *btn)</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;{</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d11/structskinny__addon.html">skinny_addon</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;   <span class="keywordflow">switch</span> (d-&gt;type) {</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3f3cd69f7c3fbc2a03f357123c699713">SKINNY_DEVICE_30SPPLUS</a>:</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad1629fcaedb5583acbff4481fc3affb4">SKINNY_DEVICE_30VIP</a>:</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;         <span class="comment">/* 13 rows, 2 columns */</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 4; i++)</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a79703f70916908d1d8a2cbb2c319a287">BT_CUST_LINE</a>;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad42c94940dcf4f9dfcbadb66768a232e">BT_REDIAL</a>;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae9c3820ed2b487507e8c713c7fb1db03">BT_VOICEMAIL</a>;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5fac0c713656df7ee579325a7755da46">BT_CALLPARK</a>;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a717fbb6c33d3e97eda9e83439fcfc9f6">BT_FORWARDALL</a>;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aab811d3a4b1b82a685a59c95a451bc56">BT_CONFERENCE</a>;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 4; i++)</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afaba3e566686d3d7a3f42c20aa5e882d">BT_NONE</a>;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 13; i++)</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">BT_SPEEDDIAL</a>;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af39bd902ef207e030753286d65681c7c">SKINNY_DEVICE_12SPPLUS</a>:</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad18902e12cbd352d1af5cb39e4b370ca">SKINNY_DEVICE_12SP</a>:</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1db4bfd5d17f22afbc4bf80d6337d54">SKINNY_DEVICE_12</a>:</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;         <span class="comment">/* 6 rows, 2 columns */</span></div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 2; i++)</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a79703f70916908d1d8a2cbb2c319a287">BT_CUST_LINE</a>;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 4; i++)</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">BT_SPEEDDIAL</a>;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a66496dc99061becc829b16fb6a77b932">BT_HOLD</a>;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad42c94940dcf4f9dfcbadb66768a232e">BT_REDIAL</a>;</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad694b8a6767c0471620203a76c163c94">BT_TRANSFER</a>;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a717fbb6c33d3e97eda9e83439fcfc9f6">BT_FORWARDALL</a>;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5fac0c713656df7ee579325a7755da46">BT_CALLPARK</a>;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae9c3820ed2b487507e8c713c7fb1db03">BT_VOICEMAIL</a>;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d87016fbefca28ff0756886e24aa1f3">SKINNY_DEVICE_7910</a>:</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a66496dc99061becc829b16fb6a77b932">BT_HOLD</a>;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad694b8a6767c0471620203a76c163c94">BT_TRANSFER</a>;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78a3be084759b7516f88e3ac5bc3878">BT_DISPLAY</a>;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae9c3820ed2b487507e8c713c7fb1db03">BT_VOICEMAIL</a>;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aab811d3a4b1b82a685a59c95a451bc56">BT_CONFERENCE</a>;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a717fbb6c33d3e97eda9e83439fcfc9f6">BT_FORWARDALL</a>;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 2; i++)</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">BT_SPEEDDIAL</a>;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad42c94940dcf4f9dfcbadb66768a232e">BT_REDIAL</a>;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a21bbc062b4e4c70b3789ef050b73174f">SKINNY_DEVICE_7960</a>:</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a47e3aa64ee6a6f5e659bad94b9576eee">SKINNY_DEVICE_7961</a>:</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a81e679dbd7beefb8f09015996b53bd27">SKINNY_DEVICE_7961GE</a>:</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ae851d94958aab0ec8c3410f7e2a15d">SKINNY_DEVICE_7962</a>:</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab61a7c473b18188f04fb35186ed35976">SKINNY_DEVICE_7965</a>:</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 6; i++)</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad25614879b5f61a397dd7e6afc94e315">BT_CUST_LINESPEEDDIAL</a>;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a13b2375dace6af91acc78d6c694b1f88">SKINNY_DEVICE_7940</a>:</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7178ace67146a2004b92c3cf46aec2c9">SKINNY_DEVICE_7941</a>:</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a171ee3ea3cd771beb545e9741196516d">SKINNY_DEVICE_7941GE</a>:</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a10266707a30856e2d0f3205b5e4a1ccd">SKINNY_DEVICE_7942</a>:</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d00fd199be58f222cafe9df0e4669e">SKINNY_DEVICE_7945</a>:</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 2; i++)</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad25614879b5f61a397dd7e6afc94e315">BT_CUST_LINESPEEDDIAL</a>;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#afa9c2c4a21e3a321cf0c2c4adec1a05f">SKINNY_DEVICE_7935</a>:</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6e10ac13a55648f43ab0769552b3dc8e">SKINNY_DEVICE_7936</a>:</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 2; i++)</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5916bc0fad835957681082ac3848bd2e">SKINNY_DEVICE_ATA186</a>:</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af3a42f7afa01b1dbffacd7d07f9751b5">SKINNY_DEVICE_7970</a>:</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae306befb4a743eb3e38f3f2bb2dbd59f">SKINNY_DEVICE_7971</a>:</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a669bfc638ff207829d2e063533bcd7e8">SKINNY_DEVICE_7975</a>:</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa82c3d86ef6e9bdda657d0637a56f0b3">SKINNY_DEVICE_CIPC</a>:</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 8; i++)</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad25614879b5f61a397dd7e6afc94e315">BT_CUST_LINESPEEDDIAL</a>;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac3cd7f69be6e51d64b6688a80a65fc92">SKINNY_DEVICE_7985</a>:</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;         <span class="comment">/* XXX I have no idea what the buttons look like on these. */</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported device type &#39;%d (7985)&#39; found.\n&quot;</span>, d-&gt;type);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a51c12165871b57ce6a1deffecea01b17">SKINNY_DEVICE_7912</a>:</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a92da7b5faa7ec3709f054f179937082c">SKINNY_DEVICE_7911</a>:</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a433816a4c8748c37ec6ff4d6fe0430aa">SKINNY_DEVICE_7905</a>:</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;         (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a66496dc99061becc829b16fb6a77b932">BT_HOLD</a>;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a14da74571081caf219c70f4dc49499d8">SKINNY_DEVICE_7920</a>:</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;         <span class="comment">/* XXX I don&#39;t know if this is right. */</span></div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 4; i++)</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad25614879b5f61a397dd7e6afc94e315">BT_CUST_LINESPEEDDIAL</a>;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2cf2ea66eb12030fe401f0f68fa2623d">SKINNY_DEVICE_7921</a>:</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 6; i++)</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad25614879b5f61a397dd7e6afc94e315">BT_CUST_LINESPEEDDIAL</a>;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9a7988ad601a91351534202a8e1ad43e">SKINNY_DEVICE_7902</a>:</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported device type &#39;%d (7902)&#39; found.\n&quot;</span>, d-&gt;type);</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab68f0d8b6cb25f78ad3b7491f20fcd8e">SKINNY_DEVICE_7906</a>:</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported device type &#39;%d (7906)&#39; found.\n&quot;</span>, d-&gt;type);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8dd826d1782563f838ed10bfcabe2e05">SKINNY_DEVICE_7931</a>:</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported device type &#39;%d (7931)&#39; found.\n&quot;</span>, d-&gt;type);</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3bb0cce3c6fbeabf3fa67e0a316cf535">SKINNY_DEVICE_7937</a>:</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported device type &#39;%d (7937)&#39; found.\n&quot;</span>, d-&gt;type);</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5bc5ce4a9c8f4198130d3ce756324f68">SKINNY_DEVICE_7914</a>:</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported device type &#39;%d (7914)&#39; found.  Expansion module registered by itself?\n&quot;</span>, d-&gt;type);</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a032655a31a1da3ff3a8853e8511d9dd9">SKINNY_DEVICE_SCCPGATEWAY_AN</a>:</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62fe3f5742eb03458a14f2dd241d093a">SKINNY_DEVICE_SCCPGATEWAY_BRI</a>:</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported device type &#39;%d (SCCP gateway)&#39; found.\n&quot;</span>, d-&gt;type);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown device type &#39;%d&#39; found.\n&quot;</span>, d-&gt;type);</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;   }</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6aa3a053fbe7a339fa9f7d2d4ecd44e9">addons</a>);</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6aa3a053fbe7a339fa9f7d2d4ecd44e9">addons</a>, a, <a class="code" href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">list</a>) {</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(a-&gt;<a class="code" href="../../dc/d11/structskinny__addon.html#a33e6e7edca48ac1ff105d85011dfc454">type</a>, <span class="stringliteral">&quot;7914&quot;</span>)) {</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; 14; i++)</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;            (btn++)-&gt;buttonDefinition = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad25614879b5f61a397dd7e6afc94e315">BT_CUST_LINESPEEDDIAL</a>;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown addon type &#39;%s&#39; found.  Skipping.\n&quot;</span>, a-&gt;<a class="code" href="../../dc/d11/structskinny__addon.html#a33e6e7edca48ac1ff105d85011dfc454">type</a>);</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      }</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;   }</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6aa3a053fbe7a339fa9f7d2d4ecd44e9">addons</a>);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;   <span class="keywordflow">return</span> btn;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;}</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad"> 1869</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> response_message)</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;{</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a61a919d439daa2a587713f7bc615734c">skinny_header_size</a> + size + 4)))</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(size+4);</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">e</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(response_message);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;   <span class="keywordflow">return</span> req;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;}</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;</div><div class="line"><a name="l01882"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968"> 1882</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance)</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;{</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;   <span class="comment">/*Dialing from on hook or on a 7920 uses instance 0 in requests</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">     but we need to start looking at instance 1 */</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;   <span class="keywordflow">if</span> (!instance)</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      instance = 1;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>){</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      <span class="keywordflow">if</span> (l-&gt;instance == instance)</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;   }</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;   <span class="keywordflow">if</span> (!l) {</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find line with instance &#39;%d&#39; on device &#39;%s&#39;\n&quot;</span>, instance, d-&gt;name);</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;   }</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;   <span class="keywordflow">return</span> l;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;}</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;</div><div class="line"><a name="l01903"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2a4f825b302983d41ab43a9e3387da4b"> 1903</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a2a4f825b302983d41ab43a9e3387da4b">find_line_by_name</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dest)</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;{</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *tmpl = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;   <span class="keywordtype">char</span> line[256];</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;   <span class="keywordtype">char</span> *at;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;   <span class="keywordtype">char</span> *device;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;   <span class="keywordtype">int</span> checkdevice = 0;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(line, dest, <span class="keyword">sizeof</span>(line));</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;   at = strchr(line, <span class="charliteral">&#39;@&#39;</span>);</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;   <span class="keywordflow">if</span> (at)</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      *at++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;   device = at;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(device))</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      checkdevice = 1;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>){</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <span class="keywordflow">if</span> (checkdevice &amp;&amp; tmpl)</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!checkdevice) {</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;         <span class="comment">/* This is a match, since we&#39;re checking for line on every device. */</span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(d-&gt;name, device)) {</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;      <span class="comment">/* Found the device (or we don&#39;t care which device) */</span></div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>){</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;         <span class="comment">/* Search for the right line */</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(l-&gt;name, line)) {</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            <span class="keywordflow">if</span> (tmpl) {</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Ambiguous line name: %s\n&quot;</span>, line);</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;               <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            } <span class="keywordflow">else</span></div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;               tmpl = l;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;         }</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      }</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;   }</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;   <span class="keywordflow">return</span> tmpl;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;}</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;</div><div class="line"><a name="l01949"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8b13b4f3379b67594f69bc4ecc798b48"> 1949</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a8b13b4f3379b67594f69bc4ecc798b48">find_subline_by_name</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dest)</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;{</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *tmpsubline = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>){</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>){</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">sublines</a>, subline, <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>){</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;            <span class="keywordflow">if</span> (!strcasecmp(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a3777dbae63a15da001b2baa317a25149">name</a>, dest)) {</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;               <span class="keywordflow">if</span> (tmpsubline) {</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;                  <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Ambiguous subline name: %s\n&quot;</span>, dest);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                  <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;               } <span class="keywordflow">else</span></div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                  tmpsubline = subline;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            }</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;         }</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      }</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;   }</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;   <span class="keywordflow">return</span> tmpsubline;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;}</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;</div><div class="line"><a name="l01975"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afa1d29aab59113b0369978c165b29f65"> 1975</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#afa1d29aab59113b0369978c165b29f65">find_subline_by_callid</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> <a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>)</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;{</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>){</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">sublines</a>, subline, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>){</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;         <span class="keywordflow">if</span> (subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> == callid) {</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            <span class="keywordflow">return</span> subline;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;         }</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;      }</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;   }</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;}</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="comment"> * implement the setvar config line</span></div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01993"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aeb7b46c1c2ecae89c0bb53a53f5684d2"> 1993</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#aeb7b46c1c2ecae89c0bb53a53f5684d2">add_var</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *list)</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;{</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *tmpvar = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;   <span class="keywordtype">char</span> *varname = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(buf), *varval = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;   <span class="keywordflow">if</span> ((varval = strchr(varname,<span class="charliteral">&#39;=&#39;</span>))) {</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      *varval++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <span class="keywordflow">if</span> ((tmpvar = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(varname, varval, <span class="stringliteral">&quot;&quot;</span>))) {</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;         tmpvar-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a> = list;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;         list = tmpvar;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      }</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;   }</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;   <span class="keywordflow">return</span> list;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;}</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec"> 2008</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;{</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;   <span class="keywordflow">if</span> (sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;   }</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;}</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97"> 2015</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;{</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;   <span class="keywordflow">if</span> (sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;   }</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;}</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;</div><div class="line"><a name="l02022"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2d0e2d2a102eeaa09594d004fec24f8b"> 2022</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d0e2d2a102eeaa09594d004fec24f8b">skinny_sched_del</a>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dab/structsched__id.html">sched_id</a>, <span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;{</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Deleting SCHED %d\n&quot;</span>,</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, sched_id);</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(sched, sched_id);</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;}</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;</div><div class="line"><a name="l02029"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a18410f5b8349988e45ea06befa7ff163"> 2029</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a18410f5b8349988e45ea06befa7ff163">skinny_sched_add</a>(<span class="keywordtype">int</span> when, <a class="code" href="../../d7/d00/sched_8h.html#ae9f272c016f465e567c9178180ada899">ast_sched_cb</a> callback, <span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;{</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;   <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;   ret = <a class="code" href="../../d7/d00/sched_8h.html#a7a43dcf8be6b2ed7f96f3867fbcb4082">ast_sched_add</a>(sched, when, callback, sub);</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Added SCHED %d\n&quot;</span>,</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, ret);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;}</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment">/* It&#39;s quicker/easier to find the subchannel when we know the instance number too */</span></div><div class="line"><a name="l02039"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55"> 2039</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55">find_subchannel_by_instance_reference</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> reference)</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;{</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a>(d, instance);</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;   <span class="keywordflow">if</span> (!l) {</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;   }</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;   <span class="comment">/* 7920 phones set call reference to 0, so use the first</span></div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="comment">      sub-channel on the list.</span></div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="comment">           This MIGHT need more love to be right */</span></div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;   <span class="keywordflow">if</span> (!reference)</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      sub = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>);</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, sub, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> == reference)</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;      }</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;   }</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;   <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find subchannel with reference &#39;%d&#39; on &#39;%s&#39;\n&quot;</span>, reference, d-&gt;name);</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;   }</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;}</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;<span class="comment">/* Find the subchannel when we only have the callid - this shouldn&#39;t happen often */</span></div><div class="line"><a name="l02066"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acaafecebc752534270c786c48539a9ee"> 2066</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#acaafecebc752534270c786c48539a9ee">find_subchannel_by_reference</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> reference)</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;{</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>){</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, sub, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>){</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> == reference)</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      }</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      <span class="keywordflow">if</span> (sub)</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;   }</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;   <span class="keywordflow">if</span> (!l) {</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find any lines that contained a subchannel with reference &#39;%d&#39; on device &#39;%s&#39;\n&quot;</span>, reference, d-&gt;name);</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;      <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find subchannel with reference &#39;%d&#39; on &#39;%s@%s&#39;\n&quot;</span>, reference, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      }</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;   }</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;}</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;</div><div class="line"><a name="l02090"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0be9e6c1ec02d36ff811d63a5b9ca022"> 2090</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a0be9e6c1ec02d36ff811d63a5b9ca022">find_speeddial_by_instance</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> <a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, <span class="keywordtype">int</span> <a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a>)</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;{</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, sd, <a class="code" href="../../d8/d0f/structskinny__speeddial.html#ae44f82cafaf59ef9c40cf447f8b8d262">list</a>) {</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a> == isHint &amp;&amp; sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> == instance)</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;   }</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;   <span class="keywordflow">if</span> (!sd) {</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find speeddial with instance &#39;%d&#39; on device &#39;%s&#39;\n&quot;</span>, instance, d-&gt;name);</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;   }</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;   <span class="keywordflow">return</span> sd;</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;}</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;</div><div class="line"><a name="l02105"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa67a34c1ad43d40c76151aac0120bdc1"> 2105</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa67a34c1ad43d40c76151aac0120bdc1">codec_skinny2ast</a>(<span class="keyword">enum</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71">skinny_codecs</a> skinnycodec)</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;{</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;   <span class="keywordflow">switch</span> (skinnycodec) {</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac9f09a33a0a55d0ae8035371435217bd">SKINNY_CODEC_ALAW</a>:</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a>;</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4e2f1fe7a095d3200609ba5b38443831">SKINNY_CODEC_ULAW</a>:</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ab1047faa7764bb292482f30ed7d7df4a">SKINNY_CODEC_G722</a>:</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d1c/format__cache_8h.html#ad02ea989608ad5180d04cb0c4e75294c">ast_format_g722</a>;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a78f84a441f7ee1fd3dc5e4e5b806a07d">SKINNY_CODEC_G723_1</a>:</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d1c/format__cache_8h.html#a771306b3301213eb2f0a409d3d0f42df">ast_format_g723</a>;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a6cb2cab00c618310f5cb9f3d52bda154">SKINNY_CODEC_G729A</a>:</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d1c/format__cache_8h.html#ae4848b177c158d817294f2b0b447f66e">ast_format_g729</a>;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac4fa98d11dc256eb65904786fbc28517">SKINNY_CODEC_G726_32</a>:</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d1c/format__cache_8h.html#a563a4f351a86128f8a40757c9456ec4e">ast_format_g726</a>; <span class="comment">/* XXX Is this right? */</span></div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a48e1eb3a3d96993b9754643d9ec3c950">SKINNY_CODEC_H261</a>:</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d1c/format__cache_8h.html#aaeda14ddafc8c3d2efb20ece9ab29b36">ast_format_h261</a>;</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4d00a1ea7a1cdd28f6d452057c01f665">SKINNY_CODEC_H263</a>:</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d1c/format__cache_8h.html#a4e8a3ae8d3510c9b2024c1649ef33e5a">ast_format_h263</a>;</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d1c/format__cache_8h.html#a7c28268f53182d9b82ddd6a4e7c91fa2">ast_format_none</a>;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;   }</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;}</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa129a836246c18217cf6b402e79fcfc9"> 2129</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa129a836246c18217cf6b402e79fcfc9">codec_ast2skinny</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *astcodec)</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;{</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(astcodec, <a class="code" href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac9f09a33a0a55d0ae8035371435217bd">SKINNY_CODEC_ALAW</a>;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(astcodec, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4e2f1fe7a095d3200609ba5b38443831">SKINNY_CODEC_ULAW</a>;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(astcodec, <a class="code" href="../../db/d1c/format__cache_8h.html#ad02ea989608ad5180d04cb0c4e75294c">ast_format_g722</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ab1047faa7764bb292482f30ed7d7df4a">SKINNY_CODEC_G722</a>;</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(astcodec, <a class="code" href="../../db/d1c/format__cache_8h.html#a771306b3301213eb2f0a409d3d0f42df">ast_format_g723</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a78f84a441f7ee1fd3dc5e4e5b806a07d">SKINNY_CODEC_G723_1</a>;</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(astcodec, <a class="code" href="../../db/d1c/format__cache_8h.html#ae4848b177c158d817294f2b0b447f66e">ast_format_g729</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a6cb2cab00c618310f5cb9f3d52bda154">SKINNY_CODEC_G729A</a>;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(astcodec, <a class="code" href="../../db/d1c/format__cache_8h.html#a563a4f351a86128f8a40757c9456ec4e">ast_format_g726</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac4fa98d11dc256eb65904786fbc28517">SKINNY_CODEC_G726_32</a>;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(astcodec, <a class="code" href="../../db/d1c/format__cache_8h.html#aaeda14ddafc8c3d2efb20ece9ab29b36">ast_format_h261</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a48e1eb3a3d96993b9754643d9ec3c950">SKINNY_CODEC_H261</a>;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(astcodec, <a class="code" href="../../db/d1c/format__cache_8h.html#a4e8a3ae8d3510c9b2024c1649ef33e5a">ast_format_h263</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4d00a1ea7a1cdd28f6d452057c01f665">SKINNY_CODEC_H263</a>;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;   }</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;}</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;</div><div class="line"><a name="l02152"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab04a8ea6a900e9b9327d8e896b61899b"> 2152</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab04a8ea6a900e9b9327d8e896b61899b">set_callforwards</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l, <span class="keyword">const</span> <span class="keywordtype">char</span> *cfwd, <span class="keywordtype">int</span> cfwdtype)</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;{</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;   <span class="keywordflow">if</span> (!l)</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cfwd)) {</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      <span class="keywordflow">if</span> (cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>) {</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;         l-&gt;cfwdtype |= <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>;</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(l-&gt;call_forward_all, cfwd, <span class="keyword">sizeof</span>(l-&gt;call_forward_all));</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      }</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      <span class="keywordflow">if</span> (cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>) {</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;         l-&gt;cfwdtype |= <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(l-&gt;call_forward_busy, cfwd, <span class="keyword">sizeof</span>(l-&gt;call_forward_busy));</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      }</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <span class="keywordflow">if</span> (cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>) {</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;         l-&gt;cfwdtype |= <a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>;</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(l-&gt;call_forward_noanswer, cfwd, <span class="keyword">sizeof</span>(l-&gt;call_forward_noanswer));</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      }</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      <span class="keywordflow">if</span> (cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>) {</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;         l-&gt;cfwdtype &amp;= ~SKINNY_CFWD_ALL;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;         memset(l-&gt;call_forward_all, 0, <span class="keyword">sizeof</span>(l-&gt;call_forward_all));</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      }</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;      <span class="keywordflow">if</span> (cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>) {</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;         l-&gt;cfwdtype &amp;= ~SKINNY_CFWD_BUSY;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;         memset(l-&gt;call_forward_busy, 0, <span class="keyword">sizeof</span>(l-&gt;call_forward_busy));</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      }</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      <span class="keywordflow">if</span> (cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>) {</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;         l-&gt;cfwdtype &amp;= ~SKINNY_CFWD_NOANSWER;</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;         memset(l-&gt;call_forward_noanswer, 0, <span class="keyword">sizeof</span>(l-&gt;call_forward_noanswer));</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;      }</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;   }</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;   <span class="keywordflow">return</span> l-&gt;cfwdtype;</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;}</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;</div><div class="line"><a name="l02187"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa1ca2cdc74f2438ac4aa7e1f9200518a"> 2187</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa1ca2cdc74f2438ac4aa7e1f9200518a">cleanup_stale_contexts</a>(<span class="keywordtype">char</span> *<span class="keyword">new</span>, <span class="keywordtype">char</span> *old)</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;{</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;   <span class="keywordtype">char</span> *oldcontext, *newcontext, *stalecontext, *stringp, newlist[<a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a>];</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;   <span class="keywordflow">while</span> ((oldcontext = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;old, <span class="stringliteral">&quot;&amp;&quot;</span>))) {</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      stalecontext = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(newlist, <span class="keyword">new</span>, <span class="keyword">sizeof</span>(newlist));</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      stringp = newlist;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      <span class="keywordflow">while</span> ((newcontext = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;&amp;&quot;</span>))) {</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;         <span class="keywordflow">if</span> (strcmp(newcontext, oldcontext) == 0) {</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            <span class="comment">/* This is not the context you&#39;re looking for */</span></div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            stalecontext = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(newcontext, oldcontext)) {</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;            stalecontext = oldcontext;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;         }</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      }</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a08abc5aa22cce4a793000a796b791076">ast_context_destroy_by_name</a>(stalecontext, <span class="stringliteral">&quot;Skinny&quot;</span>);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;   }</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;}</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;</div><div class="line"><a name="l02209"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab740e9adfd62344315e02e25c0ff13af"> 2209</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab740e9adfd62344315e02e25c0ff13af">register_exten</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l)</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;{</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;   <span class="keywordtype">char</span> multi[256];</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;   <span class="keywordtype">char</span> *stringp, *<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a>, *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>;</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>))</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(multi, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;regexten, l-&gt;name), <span class="keyword">sizeof</span>(multi));</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;   stringp = multi;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;   <span class="keywordflow">while</span> ((ext = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;&amp;&quot;</span>))) {</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;      <span class="keywordflow">if</span> ((context = strchr(ext, <span class="charliteral">&#39;@&#39;</span>))) {</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;         *context++ = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* split ext@context */</span></div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a>(context)) {</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Context %s must exist in regcontext= in skinny.conf!\n&quot;</span>, context);</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;         }</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;         context = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>;</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      }</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a>(context, 1, ext, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;Noop&quot;</span>,</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;          <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(l-&gt;name), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <span class="stringliteral">&quot;Skinny&quot;</span>);</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;   }</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;}</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;</div><div class="line"><a name="l02234"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae456c964b75f4dff4d73df78f39db454"> 2234</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae456c964b75f4dff4d73df78f39db454">unregister_exten</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l)</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;{</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;   <span class="keywordtype">char</span> multi[256];</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;   <span class="keywordtype">char</span> *stringp, *<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a>, *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>;</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>))</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(multi, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;regexten, l-&gt;name), <span class="keyword">sizeof</span>(multi));</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;   stringp = multi;</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;   <span class="keywordflow">while</span> ((ext = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;&amp;&quot;</span>))) {</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      <span class="keywordflow">if</span> ((context = strchr(ext, <span class="charliteral">&#39;@&#39;</span>))) {</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;         *context++ = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* split ext@context */</span></div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a>(context)) {</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Context %s must exist in regcontext= in skinny.conf!\n&quot;</span>, context);</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;         }</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;         context = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      }</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a721c6ba091102f155a586e09b2a526bf">ast_context_remove_extension</a>(context, ext, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;   }</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;}</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;</div><div class="line"><a name="l02258"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3fe6385caa677e3d51eb12df891b0d4e"> 2258</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3fe6385caa677e3d51eb12df891b0d4e">skinny_register</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;{</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;   <span class="keyword">struct </span>sockaddr_in sin;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;   socklen_t slen;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;   <span class="keywordtype">int</span> instance;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;   <span class="keywordflow">if</span> (-1 &lt; s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a>) {</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab5dcb5c2f3332dc732b5c18eae4969ef">not_used</a> = <a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(sched, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a>);</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a> = -1;</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;   }</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, list){</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> addr;</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;      <a class="code" href="../../db/df1/netsock2_8h.html#ad68264a6784dc22570eda3cb447307f8">ast_sockaddr_from_sin</a>(&amp;addr, &amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>);</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aceb9d5d9b0983f8fb0e5523310274dc4">reg</a>.<a class="code" href="../../db/dc9/structregister__message.html#acd328517a6cf718155c2e6e22b671ca9">name</a>, d-&gt;id)</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;            &amp;&amp; <a class="code" href="../../d5/d59/acl_8h.html#aa5049380ffb26d76d2f236d886964aac">ast_apply_ha</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6c6c2b6adbe74acc944bc0c55b16c8f4">ha</a>, &amp;addr)) {</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, blob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;         <span class="keywordflow">if</span> (d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>) {</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Device already registered.\n&quot;</span>);</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a>(d);</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;            res = 0;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;         }</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;         s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a> = <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;         d-&gt;type = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aceb9d5d9b0983f8fb0e5523310274dc4">reg</a>.<a class="code" href="../../db/dc9/structregister__message.html#ad44b615021ed3ccb734fcaf583ef4a03">type</a>);</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;         d-&gt;protocolversion = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aceb9d5d9b0983f8fb0e5523310274dc4">reg</a>.<a class="code" href="../../db/dc9/structregister__message.html#a69ba4ce44c8b3df5af22db880cdb9c20">protocolVersion</a>);</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(d-&gt;version_id)) {</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(d-&gt;version_id, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a888b22690bce1fb41f95ec190d2417de">version_id</a>, <span class="keyword">sizeof</span>(d-&gt;version_id));</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;         }</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;         d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a> = s;</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;         slen = <span class="keyword">sizeof</span>(sin);</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;         <span class="keywordflow">if</span> (getsockname(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, (<span class="keyword">struct</span> sockaddr *)&amp;sin, &amp;slen)) {</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot get socket name\n&quot;</span>);</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;            sin.sin_addr = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1d084b82cb21102ba46ea60d3cd9c085">__ourip</a>;</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;         }</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;         d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aff045cc68524670d4355f882c7ac6271">ourip</a> = sin.sin_addr;</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, sd, list) {</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;            sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a70382561daaa758a201b7a711d566e24">stateid</a> = <a class="code" href="../../db/de0/pbx_8h.html#ab1d88f370509aae87302134e6f70628a">ast_extension_state_add</a>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad23cb8e38f08caa3c3a496f691c39e3b">skinny_extensionstate_cb</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a>);</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;         }</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;         instance = 0;</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list) {</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;            instance++;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;         }</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list) {</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#a43950f716385bc78a73de04acd6a7eb4">ast_format_cap_get_compatible</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>);</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;            <span class="comment">/* l-&gt;capability = d-&gt;capability; */</span></div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;            l-&gt;instance = instance;</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;            l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a040f76b1cd9a7d2442611e105c605695">newmsgs</a> = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a76b4d3927cacd1bcd5da9ca8fe375cb6">ast_app_has_voicemail</a>(l-&gt;mailbox, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab04a8ea6a900e9b9327d8e896b61899b">set_callforwards</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>);</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab740e9adfd62344315e02e25c0ff13af">register_exten</a>(l);</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;            <span class="comment">/* initialize MWI on line and device */</span></div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8921df965ea3d7dec54ab143ea1463bc">mwi_event_cb</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">sublines</a>, subline, list) {</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;               <a class="code" href="../../db/de0/pbx_8h.html#ab1d88f370509aae87302134e6f70628a">ast_extension_state_add</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad23cb8e38f08caa3c3a496f691c39e3b">skinny_extensionstate_cb</a>, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a>);</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;            }</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;            <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Skinny/%s&quot;</span>, l-&gt;name);</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;            --instance;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;         }</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;         <a class="code" href="../../d4/d61/endpoints_8h.html#a04bfc77dacce061c28fa31e2b86827e8">ast_endpoint_set_state</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea18800ee482eac39e9d235ddd357b9de3">AST_ENDPOINT_ONLINE</a>);</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;         blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>, <span class="stringliteral">&quot;peer_status&quot;</span>, <span class="stringliteral">&quot;Registered&quot;</span>);</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;         <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a>(), blob);</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;         res = 1;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      }</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;   }</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;}</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;</div><div class="line"><a name="l02336"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac61b30de0f14a38efdbefa8262be2ac6"> 2336</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac61b30de0f14a38efdbefa8262be2ac6">end_session</a>(<span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;{</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;   pthread_cancel(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aa49d6a06775253352589280dc7f30018">t</a>);</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;}</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l02342"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#adc662dd104b4c72d7f0128f6fab448ba"> 2342</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#adc662dd104b4c72d7f0128f6fab448ba">callstate2str</a>(<span class="keywordtype">int</span> ind)</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;{</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;   <span class="keywordflow">switch</span> (ind) {</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>:</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_OFFHOOK&quot;</span>;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>:</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_ONHOOK&quot;</span>;</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae470ea8c2ed3420d624ea6f61b640a8a">SKINNY_RINGOUT</a>:</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_RINGOUT&quot;</span>;</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6bed741ef5e86581671d6c63ae9267c8">SKINNY_RINGIN</a>:</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_RINGIN&quot;</span>;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1b0b13fd37b0eec0ebbc6031c91d4662">SKINNY_CONNECTED</a>:</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_CONNECTED&quot;</span>;</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a068d6f987aefda74cc4eccf378f0e26f">SKINNY_BUSY</a>:</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_BUSY&quot;</span>;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0d089cd7065341d1b915456ace035ac2">SKINNY_CONGESTION</a>:</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_CONGESTION&quot;</span>;</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d1224352bf30cb08f222355450e4930">SKINNY_PROGRESS</a>:</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_PROGRESS&quot;</span>;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4a2a093850ad1fe42d691104a8efcb5a">SKINNY_HOLD</a>:</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_HOLD&quot;</span>;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa1ba3673377bfb3503a3d15ae745a1e4">SKINNY_CALLWAIT</a>:</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SKINNY_CALLWAIT&quot;</span>;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#afb27a398e598ed3454176b129c7df4ca">callstate2str_threadbuf</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad6f89a0cd879820f0fbc2c8c10bb591f">CALLSTATE2STR_BUFSIZE</a>)))</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;      snprintf(tmp, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad6f89a0cd879820f0fbc2c8c10bb591f">CALLSTATE2STR_BUFSIZE</a>, <span class="stringliteral">&quot;UNKNOWN-%d&quot;</span>, ind);</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;   }</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;}</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;</div><div class="line"><a name="l02377"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a026894645364d25ec3e91575d9748cb9"> 2377</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a026894645364d25ec3e91575d9748cb9">transmit_response_bysession</a>(<span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s, <span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req)</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;{</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;   <span class="keywordflow">if</span> (!s) {</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Asked to transmit to a non-existent session!\n&quot;</span>);</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;   }</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;   <span class="comment">/* Don&#39;t optimize out assigning letohl() to len. It is necessary to guarantee that the comparison will always catch invalid values.</span></div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;<span class="comment">    * letohl() may or may not return a signed value depending upon which definition is used. */</span></div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;   len = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#af113e81b9ed86ff1591580de9d8b1d52">SKINNY_MAX_PACKET</a> &lt; len) {</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;transmit_response: the length of the request (%u) is out of bounds (%d)\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#af113e81b9ed86ff1591580de9d8b1d52">SKINNY_MAX_PACKET</a>);</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;   }</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;   memset(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#add02b47ccdba2203fd3d2ae04d6180ea">outbuf</a>, 0, <span class="keyword">sizeof</span>(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#add02b47ccdba2203fd3d2ae04d6180ea">outbuf</a>));</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;   memcpy(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#add02b47ccdba2203fd3d2ae04d6180ea">outbuf</a>, req, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a61a919d439daa2a587713f7bc615734c">skinny_header_size</a>);</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;   memcpy(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#add02b47ccdba2203fd3d2ae04d6180ea">outbuf</a>+<a class="code" href="../../d0/d80/chan__skinny_8c.html#a61a919d439daa2a587713f7bc615734c">skinny_header_size</a>, &amp;req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>));</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;   res = write(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#add02b47ccdba2203fd3d2ae04d6180ea">outbuf</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>)+8);</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;   <span class="keywordflow">if</span> (res != <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>)+8) {</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Transmit: write only sent %d out of %u bytes: %s\n&quot;</span>, res, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>)+8, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      <span class="keywordflow">if</span> (res == -1) {</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Transmit: Skinny Client was lost, unregistering\n&quot;</span>);</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac61b30de0f14a38efdbefa8262be2ac6">end_session</a>(s);</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      }</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;   }</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(req);</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;}</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;</div><div class="line"><a name="l02418"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0"> 2418</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req)</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;{</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a026894645364d25ec3e91575d9748cb9">transmit_response_bysession</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>, req);</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;}</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;</div><div class="line"><a name="l02423"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a84741dacf6740ec7b3a26de7f4b821d0"> 2423</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a84741dacf6740ec7b3a26de7f4b821d0">transmit_registerrej</a>(<span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;{</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>[16];</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d3/da5/structregister__rej__message.html">register_rej_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8a678ba2da3542aefebf876d6849ad6a">REGISTER_REJ_MESSAGE</a>)))</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;   memcpy(&amp;name, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aceb9d5d9b0983f8fb0e5523310274dc4">reg</a>.<a class="code" href="../../db/dc9/structregister__message.html#acd328517a6cf718155c2e6e22b671ca9">name</a>, <span class="keyword">sizeof</span>(name));</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;   snprintf(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a439767f912c8dce1e74fb1c3c45ee17b">regrej</a>.<a class="code" href="../../d3/da5/structregister__rej__message.html#ae277b64cf6cfc5934fc43b096023feed">errMsg</a>, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a439767f912c8dce1e74fb1c3c45ee17b">regrej</a>.<a class="code" href="../../d3/da5/structregister__rej__message.html#ae277b64cf6cfc5934fc43b096023feed">errMsg</a>), <span class="stringliteral">&quot;No Authority: %s&quot;</span>, name);</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting REGISTER_REJ_MESSAGE to UNKNOWN_DEVICE\n&quot;</span>);</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a026894645364d25ec3e91575d9748cb9">transmit_response_bysession</a>(s, req);</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;}</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;</div><div class="line"><a name="l02438"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9d00b95f44b64f37d738f1ddc2ef972f"> 2438</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9d00b95f44b64f37d738f1ddc2ef972f">transmit_speaker_mode</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> mode)</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;{</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d7/dd7/structset__speaker__message.html">set_speaker_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#ace96029ade576fdaa306b409a2639890">SET_SPEAKER_MESSAGE</a>)))</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a3751b807b8ae3a843e2a57d1963a8b4f">setspeaker</a>.<a class="code" href="../../d7/dd7/structset__speaker__message.html#a6b29e4f37f4482274af785ad5ffe96a7">mode</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(mode);</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting SET_SPEAKER_MESSAGE to %s, mode %d\n&quot;</span>, d-&gt;name, mode);</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;}</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;</div><div class="line"><a name="l02451"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5394a8927ae80be708b3416e0aa07a85"> 2451</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5394a8927ae80be708b3416e0aa07a85">transmit_microphone_mode</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> mode)</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;{</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../db/df8/structset__microphone__message.html">set_microphone_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa1669b84b2c634fca96d1e74efe28f21">SET_MICROPHONE_MESSAGE</a>)))</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0f8fb34867e607e388414b68163a7ab9">setmicrophone</a>.<a class="code" href="../../db/df8/structset__microphone__message.html#a6b29e4f37f4482274af785ad5ffe96a7">mode</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(mode);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting SET_MICROPHONE_MESSAGE to %s, mode %d\n&quot;</span>, d-&gt;name, mode);</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;}</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;<span class="comment">//static void transmit_callinfo(struct skinny_subchannel *sub)</span></div><div class="line"><a name="l02465"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acc14fb0f0a85307f390ff9dc63133fd3"> 2465</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#acc14fb0f0a85307f390ff9dc63133fd3">transmit_callinfo</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> callid,</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;   <span class="keywordtype">char</span> *fromname, <span class="keywordtype">char</span> *fromnum, <span class="keywordtype">char</span> *toname, <span class="keywordtype">char</span> *tonum, <span class="keywordtype">int</span> calldirection, <span class="keywordtype">char</span> *origtonum, <span class="keywordtype">char</span> *origtoname)</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;{</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/d13/structcall__info__message.html">call_info_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7fb2c263aa8febc00c4da70f073ca9b7">CALL_INFO_MESSAGE</a>)))</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#a34632365a3c39125e0bdafc01503c191">callingPartyName</a>, fromname, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#a34632365a3c39125e0bdafc01503c191">callingPartyName</a>));</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#a8f62c05987b8a452f1208a72a43e643e">callingParty</a>, fromnum, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#a8f62c05987b8a452f1208a72a43e643e">callingParty</a>));</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#ab896d88e09a770904adb218aaf9b635f">calledPartyName</a>, toname, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#ab896d88e09a770904adb218aaf9b635f">calledPartyName</a>));</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#aaa9b00db6f95d4932ee8d3b825c73bca">calledParty</a>, tonum, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#aaa9b00db6f95d4932ee8d3b825c73bca">calledParty</a>));</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;   <span class="keywordflow">if</span> (origtoname) {</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#a7548702b6da21b433d5305849b21e181">originalCalledPartyName</a>, origtoname, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#a7548702b6da21b433d5305849b21e181">originalCalledPartyName</a>));</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;   }</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;   <span class="keywordflow">if</span> (origtonum) {</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#a9906d0bb5d40918d1886cfeadab8a2ba">originalCalledParty</a>, origtonum, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#a9906d0bb5d40918d1886cfeadab8a2ba">originalCalledParty</a>));</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;   }</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#aa68938e371fea91ad4b64381877bd381">reference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(callid);</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">callinfo</a>.<a class="code" href="../../d1/d13/structcall__info__message.html#ad44b615021ed3ccb734fcaf583ef4a03">type</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(calldirection);</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting CALL_INFO_MESSAGE to %s, to %s(%s) from %s(%s), origto %s(%s) (dir=%d) on %s(%d)\n&quot;</span>,</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      d-&gt;name, toname, tonum, fromname, fromnum, origtoname, origtonum, calldirection, d-&gt;name, instance);</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;}</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div><div class="line"><a name="l02493"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2f646f335c62dc8cbc31ab8245e94f17"> 2493</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2f646f335c62dc8cbc31ab8245e94f17">transmit_callinfo_variable</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> callreference,</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;   <span class="keywordtype">char</span> *fromname, <span class="keywordtype">char</span> *fromnum, <span class="keywordtype">char</span> *toname, <span class="keywordtype">char</span> *tonum, <span class="keywordtype">int</span> calldirection, <span class="keywordtype">char</span> *origtonum, <span class="keywordtype">char</span> *origtoname)</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;{</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;   <span class="keywordtype">char</span> *strptr;</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;   <span class="keywordtype">char</span> *thestrings[13];</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;   <span class="keywordtype">int</span> callinfostrleft = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac7f6590ba28a7c55d86e6c0d4aacb82f">MAXCALLINFOSTR</a>;</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d5/d43/structcall__info__message__variable.html">call_info_message_variable</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#abd023ecbb37425538840baebe63365b5">CALL_INFO_MESSAGE_VARIABLE</a>)))</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">callinfomessagevariable</a>.<a class="code" href="../../d5/d43/structcall__info__message__variable.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">callinfomessagevariable</a>.<a class="code" href="../../d5/d43/structcall__info__message__variable.html#aa056c11f2f813407952d829437cec263">callreference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(callreference);</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">callinfomessagevariable</a>.<a class="code" href="../../d5/d43/structcall__info__message__variable.html#a6304cef6765c691d6ba64ad62ace69c8">calldirection</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(calldirection);</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">callinfomessagevariable</a>.<a class="code" href="../../d5/d43/structcall__info__message__variable.html#a1946df298d8390034825068792632dbb">unknown1</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0x00);</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">callinfomessagevariable</a>.<a class="code" href="../../d5/d43/structcall__info__message__variable.html#a562d73948591ea69ac50c6db50f3a54e">unknown2</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0x00);</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">callinfomessagevariable</a>.<a class="code" href="../../d5/d43/structcall__info__message__variable.html#a3080582051acdac2e28c1e6101951c26">unknown3</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0x00);</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">callinfomessagevariable</a>.<a class="code" href="../../d5/d43/structcall__info__message__variable.html#a45625939c10a213179064cf1afda449b">unknown4</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0x00);</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">callinfomessagevariable</a>.<a class="code" href="../../d5/d43/structcall__info__message__variable.html#a1ef831eecaebc753fe70e27d467c3686">unknown5</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0x00);</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;   thestrings[0] = fromnum;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;   thestrings[1] = <span class="stringliteral">&quot;&quot;</span>;                     <span class="comment">/* Appears to be origfrom */</span></div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;   <span class="keywordflow">if</span> (calldirection == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>) {</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      thestrings[2] = tonum;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;      thestrings[3] = origtonum;</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;      thestrings[2] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      thestrings[3] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;   }</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;   thestrings[4] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;   thestrings[5] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;   thestrings[6] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;   thestrings[7] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;   thestrings[8] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;   thestrings[9] = fromname;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;   thestrings[10] = toname;</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;   thestrings[11] = origtoname;</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;   thestrings[12] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;   strptr = req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">callinfomessagevariable</a>.<a class="code" href="../../d5/d43/structcall__info__message__variable.html#abe8daceb8998c00e1ef01ddc509e07ef">calldetails</a>;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;   <span class="keywordflow">for</span>(i = 0; i &lt; 13; i++) {</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <span class="keywordflow">if</span> (thestrings[i]) {</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(strptr, thestrings[i], callinfostrleft);</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;         strptr += strlen(thestrings[i]) + 1;</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;         callinfostrleft -= strlen(thestrings[i]) + 1;</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(strptr, <span class="stringliteral">&quot;&quot;</span>, callinfostrleft);</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;         strptr++;</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;         callinfostrleft--;</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      }</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;   }</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a> = req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a> - (callinfostrleft &amp; ~0x3);</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting CALL_INFO_MESSAGE_VARIABLE to %s, to %s(%s) from %s(%s), origto %s(%s) (dir=%d) on %s(%d)\n&quot;</span>,</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      d-&gt;name, toname, tonum, fromname, fromnum, origtoname, origtonum, calldirection, d-&gt;name, instance);</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;}</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;</div><div class="line"><a name="l02556"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7"> 2556</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;{</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dcb/structast__party__id.html">ast_party_id</a> connected_id;</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;   <span class="keywordtype">char</span> *fromname;</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;   <span class="keywordtype">char</span> *fromnum;</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;   <span class="keywordtype">char</span> *toname;</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;   <span class="keywordtype">char</span> *tonum;</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;   <span class="keywordflow">if</span> (!sub || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a> || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>) {</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;   }</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;   ast = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;   l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;   d = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;   connected_id = <a class="code" href="../../d5/d7b/channel_8h.html#abd6165fa9617e1bb5efee3befa3e963d">ast_channel_connected_effective_id</a>(ast);</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5">SKINNY_INCOMING</a>) {</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="../../d5/d7b/channel_8h.html#a39aac47fef1240391fd97e055522fd83">ast_party_id_presentation</a>(&amp;connected_id) &amp; <a class="code" href="../../de/d47/callerid_8h.html#aec2d69e281c81503bc532e107ca26f66">AST_PRES_RESTRICTION</a>) == <a class="code" href="../../de/d47/callerid_8h.html#a4b8463f8be514e1134291b2a9ddaeb35">AST_PRES_ALLOWED</a>) {</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;         fromname = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>, connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;         fromnum = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>, connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;         fromname = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;         fromnum = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      }</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;      toname = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      tonum = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>) {</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;      fromname = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;      fromnum = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;      toname = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;      tonum = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, l-&gt;lastnumberdialed);</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Error sending Callinfo to %s(%d) - No call direction in sub\n&quot;</span>, d-&gt;name, l-&gt;instance);</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;   }</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;   <span class="keywordflow">if</span> (d-&gt;protocolversion &lt; 17) {</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#acc14fb0f0a85307f390ff9dc63133fd3">transmit_callinfo</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, fromname, fromnum, toname, tonum, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e">origtonum</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad5a6cbf59d842df8ea89ed445f42b1f2">origtoname</a>);</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2f646f335c62dc8cbc31ab8245e94f17">transmit_callinfo_variable</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, fromname, fromnum, toname, tonum, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e">origtonum</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad5a6cbf59d842df8ea89ed445f42b1f2">origtoname</a>);</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;   }</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;}</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;</div><div class="line"><a name="l02603"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae9b6fcdb72411c824c32c66735bc441c"> 2603</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae9b6fcdb72411c824c32c66735bc441c">push_callinfo</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline, <span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;{</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast;</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dcb/structast__party__id.html">ast_party_id</a> connected_id;</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;   <span class="keywordtype">char</span> *fromname;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;   <span class="keywordtype">char</span> *fromnum;</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;   <span class="keywordtype">char</span> *toname;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;   <span class="keywordtype">char</span> *tonum;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;   <span class="keywordflow">if</span> (!sub || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a> || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>) {</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;   }</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;   ast = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;   l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;   d = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;   connected_id = <a class="code" href="../../d5/d7b/channel_8h.html#abd6165fa9617e1bb5efee3befa3e963d">ast_channel_connected_effective_id</a>(ast);</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5">SKINNY_INCOMING</a>) {</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;      <span class="keywordflow">if</span>((<a class="code" href="../../d5/d7b/channel_8h.html#a39aac47fef1240391fd97e055522fd83">ast_party_id_presentation</a>(&amp;connected_id) &amp; <a class="code" href="../../de/d47/callerid_8h.html#aec2d69e281c81503bc532e107ca26f66">AST_PRES_RESTRICTION</a>) == <a class="code" href="../../de/d47/callerid_8h.html#a4b8463f8be514e1134291b2a9ddaeb35">AST_PRES_ALLOWED</a>) {</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;         fromname = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>, connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;         fromnum = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>, connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;         fromname = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;         fromnum = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      }</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      toname = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;      tonum = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>) {</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;      fromname = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;      fromnum = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;      toname = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;      tonum = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid, <a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(ast)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, l-&gt;lastnumberdialed);</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Error sending Callinfo to %s(%d) - No call direction in sub\n&quot;</span>, d-&gt;name, l-&gt;instance);</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;   }</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;   <span class="keywordflow">if</span> (d-&gt;protocolversion &lt; 17) {</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#acc14fb0f0a85307f390ff9dc63133fd3">transmit_callinfo</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, fromname, fromnum, toname, tonum, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e">origtonum</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad5a6cbf59d842df8ea89ed445f42b1f2">origtoname</a>);</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2f646f335c62dc8cbc31ab8245e94f17">transmit_callinfo_variable</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, fromname, fromnum, toname, tonum, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e">origtonum</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad5a6cbf59d842df8ea89ed445f42b1f2">origtoname</a>);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;   }</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;}</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;</div><div class="line"><a name="l02650"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae0cb986aeace802ace6a240d73c7335c"> 2650</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae0cb986aeace802ace6a240d73c7335c">transmit_connect</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;{</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *tmpfmt;</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> framing;</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/df8/structopen__receive__channel__message.html">open_receive_channel_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a88a234a4bca9e3085c77555b00774758">OPEN_RECEIVE_CHANNEL_MESSAGE</a>)))</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;   tmpfmt = <a class="code" href="../../d0/d3c/format__cap_8h.html#a5d2c52e9d892cd7c6488563cf00ba9bc">ast_format_cap_get_format</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, 0);</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;   framing = <a class="code" href="../../d0/d3c/format__cap_8h.html#a0e882d4c863b74fd9cd6f7d94740bfe2">ast_format_cap_get_format_framing</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, tmpfmt);</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa8faa33e2246e6407be4c17a64ce04c1">openreceivechannel</a>.<a class="code" href="../../d1/df8/structopen__receive__channel__message.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa8faa33e2246e6407be4c17a64ce04c1">openreceivechannel</a>.<a class="code" href="../../d1/df8/structopen__receive__channel__message.html#a042688e766f041125ca9e83e7d6e1e5b">partyId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa8faa33e2246e6407be4c17a64ce04c1">openreceivechannel</a>.<a class="code" href="../../d1/df8/structopen__receive__channel__message.html#a9b36626dc275b826b3249e374a34e89b">packets</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(framing);</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa8faa33e2246e6407be4c17a64ce04c1">openreceivechannel</a>.<a class="code" href="../../d1/df8/structopen__receive__channel__message.html#ae44a58b4520a788452773ea854fa0959">capability</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa129a836246c18217cf6b402e79fcfc9">codec_ast2skinny</a>(tmpfmt));</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa8faa33e2246e6407be4c17a64ce04c1">openreceivechannel</a>.<a class="code" href="../../d1/df8/structopen__receive__channel__message.html#a1f7eaad8cc185c3307255e95e7eb238e">echo</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa8faa33e2246e6407be4c17a64ce04c1">openreceivechannel</a>.<a class="code" href="../../d1/df8/structopen__receive__channel__message.html#a32678c62007e0748dae550bd1007a07d">bitrate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting OPEN_RECEIVE_CHANNEL_MESSAGE to %s, confid %u, partyid %u, ms %u, fmt %d, echo %d, brate %d\n&quot;</span>,</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      d-&gt;name, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, framing, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa129a836246c18217cf6b402e79fcfc9">codec_ast2skinny</a>(tmpfmt), 0, 0);</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(tmpfmt, -1);</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;}</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;</div><div class="line"><a name="l02678"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953"> 2678</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> tone, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> reference)</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;{</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d0/d00/structstart__tone__message.html">start_tone_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad2488ba493987c5230f95cb86958dc76">START_TONE_MESSAGE</a>)))</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acfcbe2888df992727f690e1fbccd4e74">starttone</a>.<a class="code" href="../../d0/d00/structstart__tone__message.html#affe196e5ade32fb5073c2d5bae82fcc3">tone</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(tone);</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acfcbe2888df992727f690e1fbccd4e74">starttone</a>.<a class="code" href="../../d0/d00/structstart__tone__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acfcbe2888df992727f690e1fbccd4e74">starttone</a>.<a class="code" href="../../d0/d00/structstart__tone__message.html#aa68938e371fea91ad4b64381877bd381">reference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(reference);</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting START_TONE_MESSAGE to %s, tone %d, inst %d, ref %d\n&quot;</span>,</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;      d-&gt;name, tone, instance, reference);</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;}</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;</div><div class="line"><a name="l02692"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e"> 2692</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> reference)</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;{</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../df/d76/structstop__tone__message.html">stop_tone_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6c341d198f3726cac8d9e26d4fdb8c58">STOP_TONE_MESSAGE</a>)))</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a42d52a186dbacb2769d37ae6c08543ff">stoptone</a>.<a class="code" href="../../df/d76/structstop__tone__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a42d52a186dbacb2769d37ae6c08543ff">stoptone</a>.<a class="code" href="../../df/d76/structstop__tone__message.html#aa68938e371fea91ad4b64381877bd381">reference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(reference);</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting STOP_TONE_MESSAGE to %s, inst %d, ref %d\n&quot;</span>,</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      d-&gt;name, instance, reference);</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;}</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;</div><div class="line"><a name="l02705"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae896ecfae93ef49cb5a8bc84325ba9d0"> 2705</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae896ecfae93ef49cb5a8bc84325ba9d0">keyset_translatebitmask</a>(<span class="keywordtype">int</span> keyset, <span class="keywordtype">int</span> intmask)</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;{</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;   <span class="keywordtype">int</span> extmask = 0;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;   <span class="keywordtype">int</span> x, y;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../df/de2/structsoft__key__definitions.html">soft_key_definitions</a> *softkeymode = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2468f713a22a053d5d3a94cd390f8eb2">soft_key_default_definitions</a>;</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;   <span class="keywordflow">for</span>(x = 0; x &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(soft_key_default_definitions); x++) {</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      <span class="keywordflow">if</span> (softkeymode[x].<a class="code" href="../../df/de2/structsoft__key__definitions.html#a858b33a55c1de4c9bc94b982fc722754">mode</a> == keyset) {</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;         <span class="keyword">const</span> uint8_t *<a class="code" href="../../df/de2/structsoft__key__definitions.html#a841d7c4569174bfa7f45657449a69b6f">defaults</a> = softkeymode[x].<a class="code" href="../../df/de2/structsoft__key__definitions.html#a841d7c4569174bfa7f45657449a69b6f">defaults</a>;</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;         <span class="keywordflow">for</span> (y = 0; y &lt; softkeymode[x].<a class="code" href="../../df/de2/structsoft__key__definitions.html#ada8f9c34ea6de0264c2d808acf540ad2">count</a>; y++) {</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;            <span class="keywordflow">if</span> (intmask &amp; (1 &lt;&lt; (defaults[y]))) {</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;               extmask |= (1 &lt;&lt; ((y)));</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;            }</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;         }</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      }</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;   }</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;   <span class="keywordflow">return</span> extmask;</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;}</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;</div><div class="line"><a name="l02727"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9"> 2727</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> callid, <span class="keywordtype">int</span> softkey, <span class="keywordtype">int</span> mask)</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;{</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;   <span class="keywordtype">int</span> newmask;</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d8/d2e/structselect__soft__keys__message.html">select_soft_keys_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#acf9ff0dcbbb7c545417a22affaddc03a">SELECT_SOFT_KEYS_MESSAGE</a>)))</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;   newmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae896ecfae93ef49cb5a8bc84325ba9d0">keyset_translatebitmask</a>(softkey, mask);</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa3ac92f8ade1b2cc658c0c5b3ce7d32a">selectsoftkey</a>.<a class="code" href="../../d8/d2e/structselect__soft__keys__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa3ac92f8ade1b2cc658c0c5b3ce7d32a">selectsoftkey</a>.<a class="code" href="../../d8/d2e/structselect__soft__keys__message.html#aa68938e371fea91ad4b64381877bd381">reference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(callid);</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa3ac92f8ade1b2cc658c0c5b3ce7d32a">selectsoftkey</a>.<a class="code" href="../../d8/d2e/structselect__soft__keys__message.html#adc2041b10f838792513938afdd303d8a">softKeySetIndex</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(softkey);</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa3ac92f8ade1b2cc658c0c5b3ce7d32a">selectsoftkey</a>.<a class="code" href="../../d8/d2e/structselect__soft__keys__message.html#ad25df21c508e777301c2d307ee3d07af">validKeyMask</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(newmask);</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting SELECT_SOFT_KEYS_MESSAGE to %s, inst %d, callid %d, softkey %d, mask 0x%08x\n&quot;</span>,</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;      d-&gt;name, instance, callid, softkey, (<span class="keywordtype">unsigned</span>)newmask);</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;}</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;</div><div class="line"><a name="l02746"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f"> 2746</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> stimulus, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> indication)</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;{</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d5/d21/structset__lamp__message.html">set_lamp_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1ea4574da323c63a872fffd8f134f1af">SET_LAMP_MESSAGE</a>)))</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a65f7cdca57eaef927ca936afde633f52">setlamp</a>.<a class="code" href="../../d5/d21/structset__lamp__message.html#af793c4f4a8ade380472caa8035905848">stimulus</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(stimulus);</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a65f7cdca57eaef927ca936afde633f52">setlamp</a>.<a class="code" href="../../d5/d21/structset__lamp__message.html#a9343bb7a21618047055c833ea497d1fe">stimulusInstance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a65f7cdca57eaef927ca936afde633f52">setlamp</a>.<a class="code" href="../../d5/d21/structset__lamp__message.html#afecdde89163215e9c3f609f583ca43a7">deviceStimulus</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(indication);</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting SET_LAMP_MESSAGE to %s, stim %d, inst %d, ind %d\n&quot;</span>,</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;      d-&gt;name, stimulus, instance, indication);</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;}</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;</div><div class="line"><a name="l02762"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6"> 2762</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6">transmit_ringer_mode</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> mode)</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;{</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d8/dfe/structset__ringer__message.html">set_ringer_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae7bbfbe01b4deecb01153f047d12497b">SET_RINGER_MESSAGE</a>)))</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6708800c9c04790dc4ed17d8adf05ed7">setringer</a>.<a class="code" href="../../d8/dfe/structset__ringer__message.html#aa8164b9b4b32a6aa9770cb5bc9f6b544">ringerMode</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(mode);</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;   <span class="comment">/* XXX okay, I don&#39;t quite know what this is, but here&#39;s what happens (on a 7960).</span></div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;<span class="comment">      Note: The phone will always show as ringing on the display.</span></div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;<span class="comment">      1: phone will audibly ring over and over</span></div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;<span class="comment">      2: phone will audibly ring only once</span></div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;<span class="comment">      any other value, will NOT cause the phone to audibly ring</span></div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6708800c9c04790dc4ed17d8adf05ed7">setringer</a>.<a class="code" href="../../d8/dfe/structset__ringer__message.html#a1946df298d8390034825068792632dbb">unknown1</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(1);</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;   <span class="comment">/* XXX the value here doesn&#39;t seem to change anything.  Must be higher than 0.</span></div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;<span class="comment">      Perhaps a packet capture can shed some light on this. */</span></div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6708800c9c04790dc4ed17d8adf05ed7">setringer</a>.<a class="code" href="../../d8/dfe/structset__ringer__message.html#a562d73948591ea69ac50c6db50f3a54e">unknown2</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(1);</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting SET_RINGER_MESSAGE to %s, mode %d, unk1 1, unk2 1\n&quot;</span>,</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      d-&gt;name, mode);</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;}</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;</div><div class="line"><a name="l02787"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3c02c66304e1b16fb7be2e6c6b888ba6"> 2787</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c02c66304e1b16fb7be2e6c6b888ba6">transmit_clear_display_message</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> reference)</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;{</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../db/d49/structclear__display__message.html">clear_display_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad3ef1afdcb3cc2dc465820495d6a3826">CLEAR_DISPLAY_MESSAGE</a>)))</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;   <span class="comment">//what do we want hear CLEAR_DISPLAY_MESSAGE or CLEAR_PROMPT_STATUS???</span></div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;   <span class="comment">//if we are clearing the display, it appears there is no instance and refernece info (size 0)</span></div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;   <span class="comment">//req-&gt;data.clearpromptstatus.lineInstance = instance;</span></div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;   <span class="comment">//req-&gt;data.clearpromptstatus.callReference = reference;</span></div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting CLEAR_DISPLAY_MESSAGE to %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;}</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;<span class="comment">/* This function is not currently used, but will be (wedhorn)*/</span></div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;<span class="comment">/* static void transmit_display_message(struct skinny_device *d, const char *text, int instance, int reference)</span></div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;<span class="comment">   struct skinny_req *req;</span></div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;<span class="comment">   if (text == 0) {</span></div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;<span class="comment">      ast_verb(1, &quot;Bug, Asked to display empty message\n&quot;);</span></div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;<span class="comment">      return;</span></div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;<span class="comment">   }</span></div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;<span class="comment">   if (!(req = req_alloc(sizeof(struct displaytext_message), DISPLAYTEXT_MESSAGE)))</span></div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;<span class="comment">      return;</span></div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;<span class="comment">   ast_copy_string(req-&gt;data.displaytext.text, text, sizeof(req-&gt;data.displaytext.text));</span></div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="comment">   SKINNY_DEBUG(DEBUG_PACKET, 3, &quot;Transmitting DISPLAYTEXT_MESSAGE to %s, text %s\n&quot;, d-&gt;name, text);</span></div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="comment">   transmit_response(d, req);</span></div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="comment">} */</span></div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;</div><div class="line"><a name="l02820"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c"> 2820</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>, <span class="keywordtype">int</span> t)</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;{</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../df/d67/structdisplay__notify__message.html">display_notify_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5ba13eec8f847d9d500c58f2f9503b95">DISPLAY_NOTIFY_MESSAGE</a>)))</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a1b277f925972224699c8d5e398e5ed6d">displaynotify</a>.<a class="code" href="../../df/d67/structdisplay__notify__message.html#a5eb30c11452cfefd9c9480037eabf99d">displayMessage</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a1b277f925972224699c8d5e398e5ed6d">displaynotify</a>.<a class="code" href="../../df/d67/structdisplay__notify__message.html#a5eb30c11452cfefd9c9480037eabf99d">displayMessage</a>));</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a1b277f925972224699c8d5e398e5ed6d">displaynotify</a>.<a class="code" href="../../df/d67/structdisplay__notify__message.html#ab90d738fa36461d19bce3455a553f0f1">displayTimeout</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(t);</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DISPLAY_NOTIFY_MESSAGE to %s, text %s\n&quot;</span>, d-&gt;name, text);</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;}</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;</div><div class="line"><a name="l02834"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad55a9ae0d55608005570cd46bb4bee29"> 2834</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad55a9ae0d55608005570cd46bb4bee29">transmit_clearprinotify</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;{</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dc/ded/structclear__prinotify__message.html">clear_prinotify_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa917567765cdd3a591693417441c86c9">CLEAR_PRINOTIFY_MESSAGE</a>)))</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a4c73ef4530d7434fa7bb56953ff4d627">clearprinotify</a>.<a class="code" href="../../dc/ded/structclear__prinotify__message.html#a90249de64da5ae5d7acd34da7ea1b857">priority</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(priority);</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting CLEAR_PRINOTIFY_MESSAGE to %s, priority %d\n&quot;</span>, d-&gt;name, priority);</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;}</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;</div><div class="line"><a name="l02847"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a47af15a170bfeae04c77d7aefae77c79"> 2847</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a47af15a170bfeae04c77d7aefae77c79">_transmit_displayprinotify</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *extratext, <span class="keywordtype">int</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, <span class="keywordtype">int</span> <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;{</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dea/structdisplay__prinotify__message.html">display_prinotify_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6085d49510f535282238410d6640654d">DISPLAY_PRINOTIFY_MESSAGE</a>)))</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c">displayprinotify</a>.<a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#ab5627d8d8b095c198e2523c44ca380ac">timeout</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(timeout);</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c">displayprinotify</a>.<a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#a90249de64da5ae5d7acd34da7ea1b857">priority</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(priority);</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;   <span class="keywordflow">if</span> ((<span class="keywordtype">char</span>)*text == <span class="stringliteral">&#39;\200&#39;</span>) {</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;      <span class="keywordtype">int</span> octalstrlen = strlen(text);</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c">displayprinotify</a>.<a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#a93949093a5cb9f0f446c724cbf365805">text</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c">displayprinotify</a>.<a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#a93949093a5cb9f0f446c724cbf365805">text</a>));</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c">displayprinotify</a>.<a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#a93949093a5cb9f0f446c724cbf365805">text</a>+octalstrlen, extratext, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c">displayprinotify</a>.<a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#a93949093a5cb9f0f446c724cbf365805">text</a>)-octalstrlen);</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DISPLAY_PRINOTIFY_MESSAGE to %s, &#39;\\%03o\\%03o&#39;, &#39;%s&#39;, timeout=%d, priority=%d\n&quot;</span>,</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;         d-&gt;name, (<span class="keywordtype">unsigned</span>)*text, (<span class="keywordtype">unsigned</span>)*(text+1), extratext, timeout, priority);</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c">displayprinotify</a>.<a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#a93949093a5cb9f0f446c724cbf365805">text</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c">displayprinotify</a>.<a class="code" href="../../d1/dea/structdisplay__prinotify__message.html#a93949093a5cb9f0f446c724cbf365805">text</a>));</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DISPLAY_PRINOTIFY_MESSAGE to %s, &#39;%s&#39;, timeout=%d, priority=%d\n&quot;</span>,</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;         d-&gt;name, text, timeout, priority);</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;   }</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;}</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;</div><div class="line"><a name="l02872"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7630050c845c27631b8c88529c069fb6"> 2872</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7630050c845c27631b8c88529c069fb6">_transmit_displayprinotifyvar</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *extratext, <span class="keywordtype">int</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, <span class="keywordtype">int</span> <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;{</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;   <span class="keywordtype">int</span> packetlen;</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html">display_prinotify_message_variable</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a796a2b1cb16e90a040ebce724672041f">DISPLAY_PRINOTIFY_MESSAGE_VARIABLE</a>)))</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4">displayprinotifyvar</a>.<a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#ab5627d8d8b095c198e2523c44ca380ac">timeout</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(timeout);</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4">displayprinotifyvar</a>.<a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a90249de64da5ae5d7acd34da7ea1b857">priority</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(priority);</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;   <span class="keywordflow">if</span> ((<span class="keywordtype">char</span>)*text == <span class="stringliteral">&#39;\200&#39;</span>) {</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;      <span class="keywordtype">int</span> octalstrlen = strlen(text);</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4">displayprinotifyvar</a>.<a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a93949093a5cb9f0f446c724cbf365805">text</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4">displayprinotifyvar</a>.<a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a93949093a5cb9f0f446c724cbf365805">text</a>));</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4">displayprinotifyvar</a>.<a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a93949093a5cb9f0f446c724cbf365805">text</a>+octalstrlen, extratext, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4">displayprinotifyvar</a>.<a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a93949093a5cb9f0f446c724cbf365805">text</a>)-octalstrlen);</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;      packetlen = req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a> - <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac51b83cebe667d7da9acbd85ba9438bf">MAXDISPLAYNOTIFYSTR</a> + strlen(text) + strlen(extratext);</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DISPLAY_PRINOTIFY_MESSAGE_VARIABLE to %s, &#39;\\%03o\\%03o&#39;, &#39;%s&#39;, timeout=%d, priority=%d\n&quot;</span>,</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;         d-&gt;name, (<span class="keywordtype">unsigned</span>)*text, (<span class="keywordtype">unsigned</span>)*(text+1), extratext, timeout, priority);</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4">displayprinotifyvar</a>.<a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a93949093a5cb9f0f446c724cbf365805">text</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4">displayprinotifyvar</a>.<a class="code" href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a93949093a5cb9f0f446c724cbf365805">text</a>));</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;      packetlen = req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a> - <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac51b83cebe667d7da9acbd85ba9438bf">MAXDISPLAYNOTIFYSTR</a> + strlen(text);</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DISPLAY_PRINOTIFY_MESSAGE_VARIABLE to %s, &#39;%s&#39;, timeout=%d, priority=%d\n&quot;</span>,</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;         d-&gt;name, text, timeout, priority);</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;   }</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a> = (packetlen &amp; ~0x3) + 4;</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;}</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;</div><div class="line"><a name="l02902"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1338c8645d55040c615fe717b81b7460"> 2902</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1338c8645d55040c615fe717b81b7460">send_displayprinotify</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *extratext, <span class="keywordtype">int</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, <span class="keywordtype">int</span> <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;{</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;   <span class="keywordflow">if</span> (d-&gt;protocolversion &lt; 17) {</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a47af15a170bfeae04c77d7aefae77c79">_transmit_displayprinotify</a>(d, text, extratext, timeout, priority);</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7630050c845c27631b8c88529c069fb6">_transmit_displayprinotifyvar</a>(d, text, extratext, timeout, priority);</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;   }</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;}</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;</div><div class="line"><a name="l02911"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a59ab6f8b26a4b1724f3823048c2a5168"> 2911</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a59ab6f8b26a4b1724f3823048c2a5168">transmit_displaypromptstatus</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *extratext, <span class="keywordtype">int</span> t, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> callid)</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;{</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html">display_prompt_status_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae459fe08b297c169d379436bd538f440">DISPLAY_PROMPT_STATUS_MESSAGE</a>)))</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">displaypromptstatus</a>.<a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#abdf697e332017cc49abf0735c2eae589">messageTimeout</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(t);</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">displaypromptstatus</a>.<a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">displaypromptstatus</a>.<a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(callid);</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;   <span class="keywordflow">if</span> ((<span class="keywordtype">char</span>)*text == <span class="stringliteral">&#39;\200&#39;</span>) {</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;      <span class="keywordtype">int</span> octalstrlen = strlen(text);</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">displaypromptstatus</a>.<a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a85294cb46cae34e2921c7051bdabfdd6">promptMessage</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a">displaypromptstatusvar</a>.<a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a1cf8aa5494a17ee9ec1e09949a46a4a6">promptMessage</a>));</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">displaypromptstatus</a>.<a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a85294cb46cae34e2921c7051bdabfdd6">promptMessage</a>+octalstrlen, extratext, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">displaypromptstatus</a>.<a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a85294cb46cae34e2921c7051bdabfdd6">promptMessage</a>)-octalstrlen);</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DISPLAY_PROMPT_STATUS_MESSAGE to %s, &#39;\\%03o\\%03o&#39;, &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;         d-&gt;name, (<span class="keywordtype">unsigned</span>)*text, (<span class="keywordtype">unsigned</span>)*(text+1), extratext);</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">displaypromptstatus</a>.<a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a85294cb46cae34e2921c7051bdabfdd6">promptMessage</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">displaypromptstatus</a>.<a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a85294cb46cae34e2921c7051bdabfdd6">promptMessage</a>));</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DISPLAY_PROMPT_STATUS_MESSAGE to %s, &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;         d-&gt;name, text);</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;   }</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;}</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;</div><div class="line"><a name="l02936"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6dda9bfd92b53228536a58dd59a53fe9"> 2936</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6dda9bfd92b53228536a58dd59a53fe9">transmit_displaypromptstatusvar</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *extratext, <span class="keywordtype">int</span> t, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> callid)</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;{</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;   <span class="keywordtype">int</span> packetlen;</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html">display_prompt_status_message_variable</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac86178f50162e13fc455e3c3aa8d24b6">DISPLAY_PROMPT_STATUS_MESSAGE_VARIABLE</a>)))</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a">displaypromptstatusvar</a>.<a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a">displaypromptstatusvar</a>.<a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(callid);</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;   <span class="keywordflow">if</span> ((<span class="keywordtype">char</span>)*text == <span class="stringliteral">&#39;\200&#39;</span>) {</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;      <span class="keywordtype">int</span> octalstrlen = strlen(text);</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a">displaypromptstatusvar</a>.<a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a1cf8aa5494a17ee9ec1e09949a46a4a6">promptMessage</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a">displaypromptstatusvar</a>.<a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a1cf8aa5494a17ee9ec1e09949a46a4a6">promptMessage</a>));</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a">displaypromptstatusvar</a>.<a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a1cf8aa5494a17ee9ec1e09949a46a4a6">promptMessage</a>+octalstrlen, extratext, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a">displaypromptstatusvar</a>.<a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a1cf8aa5494a17ee9ec1e09949a46a4a6">promptMessage</a>)-octalstrlen);</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;      packetlen = req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a> - <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac7f6590ba28a7c55d86e6c0d4aacb82f">MAXCALLINFOSTR</a> + strlen(text) + strlen(extratext);</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DISPLAY_PROMPT_STATUS_MESSAGE_VARIABLE to %s, &#39;\\%03o\\%03o&#39;, &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;         d-&gt;name, (<span class="keywordtype">unsigned</span>)*text, (<span class="keywordtype">unsigned</span>)*(text+1), extratext);</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a">displaypromptstatusvar</a>.<a class="code" href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a1cf8aa5494a17ee9ec1e09949a46a4a6">promptMessage</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">displaypromptstatus</a>.<a class="code" href="../../da/d1e/structdisplay__prompt__status__message.html#a85294cb46cae34e2921c7051bdabfdd6">promptMessage</a>));</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;      packetlen = req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a> - <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac7f6590ba28a7c55d86e6c0d4aacb82f">MAXCALLINFOSTR</a> + strlen(text);</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DISPLAY_PROMPT_STATUS_MESSAGE_VARIABLE to %s, &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;         d-&gt;name, text);</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;   }</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a> = (packetlen &amp; ~0x3) + 4;</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;}</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;</div><div class="line"><a name="l02965"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461"> 2965</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *extratext, <span class="keywordtype">int</span> t, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> callid)</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;{</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;   <span class="keywordflow">if</span> (d-&gt;protocolversion &lt; 17) {</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a59ab6f8b26a4b1724f3823048c2a5168">transmit_displaypromptstatus</a>(d, text, extratext, t, instance, callid);</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6dda9bfd92b53228536a58dd59a53fe9">transmit_displaypromptstatusvar</a>(d, text, extratext, t, instance, callid);</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;   }</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;}</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;</div><div class="line"><a name="l02974"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7e1e67dfbb8916241ee837657ed26698"> 2974</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7e1e67dfbb8916241ee837657ed26698">transmit_clearpromptmessage</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> callid)</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;{</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d4/d25/structclear__prompt__message.html">clear_prompt_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2f74ea6fd6eab3eafc9fc39213034e9e">CLEAR_PROMPT_MESSAGE</a>)))</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a69f5aa4af56adffb6bf9f024b0da437f">clearpromptstatus</a>.<a class="code" href="../../d4/d25/structclear__prompt__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a69f5aa4af56adffb6bf9f024b0da437f">clearpromptstatus</a>.<a class="code" href="../../d4/d25/structclear__prompt__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(callid);</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting CLEAR_PROMPT_MESSAGE to %s, inst %d, callid %d\n&quot;</span>,</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;      d-&gt;name, instance, callid);</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;}</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;</div><div class="line"><a name="l02989"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a122fa20b73095a6195119dd979dfb6c1"> 2989</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a122fa20b73095a6195119dd979dfb6c1">transmit_dialednumber</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>, <span class="keywordtype">int</span> instance, <span class="keywordtype">int</span> callid)</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;{</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/d77/structdialed__number__message.html">dialed_number_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a63b744d9de3913b89d002761073a0879">DIALED_NUMBER_MESSAGE</a>)))</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a2d5eae5cb69465289c72e06c47d3ba01">dialednumber</a>.<a class="code" href="../../d1/d77/structdialed__number__message.html#a559dde9437a7990069ccb75635e0be50">dialedNumber</a>, text, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a2d5eae5cb69465289c72e06c47d3ba01">dialednumber</a>.<a class="code" href="../../d1/d77/structdialed__number__message.html#a559dde9437a7990069ccb75635e0be50">dialedNumber</a>));</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a2d5eae5cb69465289c72e06c47d3ba01">dialednumber</a>.<a class="code" href="../../d1/d77/structdialed__number__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a2d5eae5cb69465289c72e06c47d3ba01">dialednumber</a>.<a class="code" href="../../d1/d77/structdialed__number__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(callid);</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DIALED_NUMBER_MESSAGE to %s, num %s, inst %d, callid %d\n&quot;</span>,</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;      d-&gt;name, text, instance, callid);</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;}</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;</div><div class="line"><a name="l03005"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a875522082ab6d17f72cbf3ad88708a9b"> 3005</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a875522082ab6d17f72cbf3ad88708a9b">transmit_closereceivechannel</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;{</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d8/d78/structclose__receive__channel__message.html">close_receive_channel_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a60c800146db7344c89b2941999f236d4">CLOSE_RECEIVE_CHANNEL_MESSAGE</a>)))</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6e736b9cb16ec299bd33005a41fc4884">closereceivechannel</a>.<a class="code" href="../../d8/d78/structclose__receive__channel__message.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a6e736b9cb16ec299bd33005a41fc4884">closereceivechannel</a>.<a class="code" href="../../d8/d78/structclose__receive__channel__message.html#a042688e766f041125ca9e83e7d6e1e5b">partyId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting CLOSE_RECEIVE_CHANNEL_MESSAGE to %s, confid %d, callid %u\n&quot;</span>,</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;      d-&gt;name, 0, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;}</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;</div><div class="line"><a name="l03020"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae4983e199d8ab27568a4e09f740379d1"> 3020</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae4983e199d8ab27568a4e09f740379d1">transmit_stopmediatransmission</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;{</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d6/de5/structstop__media__transmission__message.html">stop_media_transmission_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#acb883512e3f609a62dde13c5d5cb4879">STOP_MEDIA_TRANSMISSION_MESSAGE</a>)))</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a684ad1caea9173fbc13ab7be0ae45d9b">stopmedia</a>.<a class="code" href="../../d6/de5/structstop__media__transmission__message.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a684ad1caea9173fbc13ab7be0ae45d9b">stopmedia</a>.<a class="code" href="../../d6/de5/structstop__media__transmission__message.html#ae7a8ce78da6117ddd5e98de15f85af23">passThruPartyId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting STOP_MEDIA_TRANSMISSION_MESSAGE to %s, confid %d, passthrupartyid %u\n&quot;</span>,</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;      d-&gt;name, 0, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;}</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;</div><div class="line"><a name="l03035"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab1dc8844196e417a34c61c035b86dfce"> 3035</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab1dc8844196e417a34c61c035b86dfce">transmit_startmediatransmission</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keyword">struct</span> sockaddr_in dest,</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> framing)</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;{</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;   <span class="keywordflow">if</span> (d-&gt;protocolversion &lt; 17) {</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html">start_media_transmission_message_ip4</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa8c4fd39788d87301b7b97543537a12c">START_MEDIA_TRANSMISSION_MESSAGE</a>)))</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#ae7a8ce78da6117ddd5e98de15f85af23">passThruPartyId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#ac4946ecf0faa3d0281b86b9df56cbc6f">remoteIp</a> = dest.sin_addr.s_addr;</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#a52c51c79d848efbf9fbf291a2f2645c6">remotePort</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(ntohs(dest.sin_port));</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#ada112a060915d95bc25fb2917272914f">packetSize</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(framing);</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#aaf0b83c81dec67533a9edcf9f4c3c760">payloadType</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa129a836246c18217cf6b402e79fcfc9">codec_ast2skinny</a>(format));</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#a5304bc4afe911142322308d69ffe6466">qualifier</a>.<a class="code" href="../../d6/df7/structmedia__qualifier.html#a3f52bd316aba6dea4bc6374f5e4b0258">precedence</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(127);</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#a5304bc4afe911142322308d69ffe6466">qualifier</a>.<a class="code" href="../../d6/df7/structmedia__qualifier.html#af22582b468205e3b1c3681dc5c28aa6b">vad</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#a5304bc4afe911142322308d69ffe6466">qualifier</a>.<a class="code" href="../../d6/df7/structmedia__qualifier.html#a9b36626dc275b826b3249e374a34e89b">packets</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">startmedia_ip4</a>.<a class="code" href="../../d2/d39/structstart__media__transmission__message__ip4.html#a5304bc4afe911142322308d69ffe6466">qualifier</a>.<a class="code" href="../../d6/df7/structmedia__qualifier.html#a497243c8d5b9134495d3a68af76693c8">bitRate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;      <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html">start_media_transmission_message_ip6</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa8c4fd39788d87301b7b97543537a12c">START_MEDIA_TRANSMISSION_MESSAGE</a>)))</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#aad8282aaef639f3310f833e9b44a541e">conferenceId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#ae7a8ce78da6117ddd5e98de15f85af23">passThruPartyId</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;      memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a018fa6b7228e7dd6e019b7d6521248fc">remoteIp</a>, &amp;dest.sin_addr.s_addr, <span class="keyword">sizeof</span>(dest.sin_addr.s_addr));</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a52c51c79d848efbf9fbf291a2f2645c6">remotePort</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(ntohs(dest.sin_port));</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#ada112a060915d95bc25fb2917272914f">packetSize</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(framing);</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#aaf0b83c81dec67533a9edcf9f4c3c760">payloadType</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa129a836246c18217cf6b402e79fcfc9">codec_ast2skinny</a>(format));</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a5304bc4afe911142322308d69ffe6466">qualifier</a>.<a class="code" href="../../d6/df7/structmedia__qualifier.html#a3f52bd316aba6dea4bc6374f5e4b0258">precedence</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(127);</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a5304bc4afe911142322308d69ffe6466">qualifier</a>.<a class="code" href="../../d6/df7/structmedia__qualifier.html#af22582b468205e3b1c3681dc5c28aa6b">vad</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a5304bc4afe911142322308d69ffe6466">qualifier</a>.<a class="code" href="../../d6/df7/structmedia__qualifier.html#a9b36626dc275b826b3249e374a34e89b">packets</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">startmedia_ip6</a>.<a class="code" href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a5304bc4afe911142322308d69ffe6466">qualifier</a>.<a class="code" href="../../d6/df7/structmedia__qualifier.html#a497243c8d5b9134495d3a68af76693c8">bitRate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;   }</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting START_MEDIA_TRANSMISSION_MESSAGE to %s, callid %u, passthrupartyid %u, ip %s:%d, ms %u, fmt %d, prec 127\n&quot;</span>,</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;      d-&gt;name, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(dest.sin_addr), dest.sin_port, framing, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa129a836246c18217cf6b402e79fcfc9">codec_ast2skinny</a>(format));</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;}</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;</div><div class="line"><a name="l03073"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1"> 3073</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">struct</span> <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l)</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;{</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d0/da0/structactivate__call__plane__message.html">activate_call_plane_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#af303fb67f64cde967ad9434875897f45">ACTIVATE_CALL_PLANE_MESSAGE</a>)))</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a77702a509517291eaa6e1e919179233b">activatecallplane</a>.<a class="code" href="../../d0/da0/structactivate__call__plane__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(l-&gt;instance);</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting ACTIVATE_CALL_PLANE_MESSAGE to %s, inst %d\n&quot;</span>,</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      d-&gt;name, l-&gt;instance);</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;}</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;</div><div class="line"><a name="l03087"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980"> 3087</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> buttonInstance, <span class="keywordtype">unsigned</span> callid, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>)</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;{</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/ded/structcall__state__message.html">call_state_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d6255614b0eec8c48bc371afdb18443">CALL_STATE_MESSAGE</a>)))</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa2c88f018f286fe417fe6d5da2f98d7d">callstate</a>.<a class="code" href="../../d2/ded/structcall__state__message.html#a02033745eb42ba576e671f4a24c39c48">callState</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(state);</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa2c88f018f286fe417fe6d5da2f98d7d">callstate</a>.<a class="code" href="../../d2/ded/structcall__state__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(buttonInstance);</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aa2c88f018f286fe417fe6d5da2f98d7d">callstate</a>.<a class="code" href="../../d2/ded/structcall__state__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(callid);</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting CALL_STATE_MESSAGE to %s, state %s, inst %d, callid %u\n&quot;</span>,</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;      d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#adc662dd104b4c72d7f0128f6fab448ba">callstate2str</a>(state), buttonInstance, callid);</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;}</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;</div><div class="line"><a name="l03103"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa51e51361738b28e24f83d7ec6b4c0f3"> 3103</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa51e51361738b28e24f83d7ec6b4c0f3">transmit_cfwdstate</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">struct</span> <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l)</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;{</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;   <span class="keywordtype">int</span> anyon = 0;</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/d05/structforward__stat__message.html">forward_stat_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3fde9ebcac20096752caa92845e4862a">FORWARD_STAT_MESSAGE</a>)))</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;   <span class="keywordflow">if</span> (l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>) {</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;call_forward_all)) {</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#a2a34e8a2d2777cf9b7ca0596732befd2">fwdallnum</a>, l-&gt;call_forward_all, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#a2a34e8a2d2777cf9b7ca0596732befd2">fwdallnum</a>));</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;         req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#aeea300cffcc2fdbb4fbd2130b23f127c">fwdall</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(1);</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;         anyon++;</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;         req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#aeea300cffcc2fdbb4fbd2130b23f127c">fwdall</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;      }</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;   }</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;   <span class="keywordflow">if</span> (l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>) {</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;call_forward_busy)) {</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#aa2fa55c22378257cdd94037cd2871d13">fwdbusynum</a>, l-&gt;call_forward_busy, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#aa2fa55c22378257cdd94037cd2871d13">fwdbusynum</a>));</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;         req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#a1c3cbe199ec696d90ca356b34a79d55a">fwdbusy</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(1);</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;         anyon++;</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;         req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#a1c3cbe199ec696d90ca356b34a79d55a">fwdbusy</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      }</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;   }</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;   <span class="keywordflow">if</span> (l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>) {</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;call_forward_noanswer)) {</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#ad53edfe4cc9f758d9ed850e79e478209">fwdnoanswernum</a>, l-&gt;call_forward_noanswer, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#ad53edfe4cc9f758d9ed850e79e478209">fwdnoanswernum</a>));</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;         req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#a5cedc24a4c8a47b4b07509728c9991e8">fwdnoanswer</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(1);</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;         anyon++;</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;         req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#a5cedc24a4c8a47b4b07509728c9991e8">fwdnoanswer</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;      }</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;   }</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#a987293a1c8fcaf937487ecbe613f0c52">lineNumber</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(l-&gt;instance);</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;   <span class="keywordflow">if</span> (anyon)</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#a0efc2cd005b4b368e86dc6898dfc1663">activeforward</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(7);</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">forwardstat</a>.<a class="code" href="../../d9/d05/structforward__stat__message.html#a0efc2cd005b4b368e86dc6898dfc1663">activeforward</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting FORWARD_STAT_MESSAGE to %s, inst %d, all %s, busy %s, noans %s, acitve %d\n&quot;</span>,</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;      d-&gt;name, l-&gt;instance, l-&gt;call_forward_all, l-&gt;call_forward_busy, l-&gt;call_forward_noanswer, anyon ? 7 : 0);</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;}</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;</div><div class="line"><a name="l03149"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a87a6254e3dc9cc6d51b58f4547b4c7b9"> 3149</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87a6254e3dc9cc6d51b58f4547b4c7b9">transmit_speeddialstatres</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keyword">struct</span> <a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd)</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;{</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dd/d11/structspeed__dial__stat__res__message.html">speed_dial_stat_res_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a552f2cd0b0e5021c1a1d60d7e79e5488">SPEED_DIAL_STAT_RES_MESSAGE</a>)))</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a883cd321c7b885c8eb325344e8a45e01">speeddialreq</a>.<a class="code" href="../../d1/d39/structspeed__dial__stat__req__message.html#acd27bc25ce21f3ab7dfe7d0c53763f04">speedDialNumber</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>);</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23a2176cab0bee9f41d7b1af10f8f6cd">speeddial</a>.<a class="code" href="../../dd/d11/structspeed__dial__stat__res__message.html#a2e227f2e07370c68d9abeaca3dc883fb">speedDialDirNumber</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23a2176cab0bee9f41d7b1af10f8f6cd">speeddial</a>.<a class="code" href="../../dd/d11/structspeed__dial__stat__res__message.html#a2e227f2e07370c68d9abeaca3dc883fb">speedDialDirNumber</a>));</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23a2176cab0bee9f41d7b1af10f8f6cd">speeddial</a>.<a class="code" href="../../dd/d11/structspeed__dial__stat__res__message.html#a33a668a02f35239d4d39ccaf1c30c273">speedDialDisplayName</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">label</a>, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23a2176cab0bee9f41d7b1af10f8f6cd">speeddial</a>.<a class="code" href="../../dd/d11/structspeed__dial__stat__res__message.html#a33a668a02f35239d4d39ccaf1c30c273">speedDialDisplayName</a>));</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting SPEED_DIAL_STAT_RES_MESSAGE to %s, inst %d, dir %s, display %s\n&quot;</span>,</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;      d-&gt;name, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">exten</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">label</a>);</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;}</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;<span class="comment">//static void transmit_linestatres(struct skinny_device *d, struct skinny_line *l)</span></div><div class="line"><a name="l03166"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad3138cb1372ee0e7556dcc4eb5ce4b47"> 3166</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad3138cb1372ee0e7556dcc4eb5ce4b47">transmit_linestatres</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance)</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;{</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d6/d52/structline__stat__res__message.html">line_stat_res_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2181f1d209288ce7edad5fc7bc07a9c1">LINE_STAT_RES_MESSAGE</a>)))</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;   <span class="keywordflow">if</span> ((l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a>(d, instance))) {</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a987293a1c8fcaf937487ecbe613f0c52">lineNumber</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(l-&gt;instance);</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a7b3df44a29beab3b350e067cbfb7075b">lineDirNumber</a>, l-&gt;name, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a7b3df44a29beab3b350e067cbfb7075b">lineDirNumber</a>));</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;      memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a54c4c4fcc87cdc8712a6b9808f7e4215">lineDisplayName</a>, l-&gt;label, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a54c4c4fcc87cdc8712a6b9808f7e4215">lineDisplayName</a>));</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((sd = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0be9e6c1ec02d36ff811d63a5b9ca022">find_speeddial_by_instance</a>(d, instance, 1))) {</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a987293a1c8fcaf937487ecbe613f0c52">lineNumber</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>);</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;      memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a7b3df44a29beab3b350e067cbfb7075b">lineDirNumber</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">label</a>, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a7b3df44a29beab3b350e067cbfb7075b">lineDirNumber</a>));</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;      memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a54c4c4fcc87cdc8712a6b9808f7e4215">lineDisplayName</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">label</a>, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a54c4c4fcc87cdc8712a6b9808f7e4215">lineDisplayName</a>));</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;   }</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting LINE_STAT_RES_MESSAGE to %s, inst %d, num %s, label %s\n&quot;</span>,</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;      d-&gt;name, l-&gt;instance, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a7b3df44a29beab3b350e067cbfb7075b">lineDirNumber</a>, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">linestat</a>.<a class="code" href="../../d6/d52/structline__stat__res__message.html#a54c4c4fcc87cdc8712a6b9808f7e4215">lineDisplayName</a>);</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;}</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;</div><div class="line"><a name="l03190"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240"> 3190</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>)</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;{</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;   <span class="keyword">struct </span>timeval now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structast__tm.html">ast_tm</a> cmtime;</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d65/structdefinetimedate__message.html">definetimedate_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a05d20dbd5d289408e887b7c267ec3eea">DEFINETIMEDATE_MESSAGE</a>)))</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;   <a class="code" href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a>(&amp;now, &amp;cmtime, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#aac3a162d2f192fe2360aba534eac7198">year</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(cmtime.<a class="code" href="../../d5/d84/structast__tm.html#a994c4f4519ba57e186580d21cc86f9e5">tm_year</a>+1900);</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a55a5fa57878363d803833666ddf3c16f">month</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(cmtime.<a class="code" href="../../d5/d84/structast__tm.html#ada983deda100b604bee5716512453658">tm_mon</a>+1);</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#ab470c6489808456f63cfd7f94df28712">dayofweek</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(cmtime.<a class="code" href="../../d5/d84/structast__tm.html#a4412571b90746a85cae9b8841c44c59c">tm_wday</a>);</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a897ed87b95b7a37afeeb935ca0b2366b">day</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(cmtime.<a class="code" href="../../d5/d84/structast__tm.html#a02048604d30b880033311cf542d63f92">tm_mday</a>);</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a26d5bae76d83086900174b266fd2cd82">hour</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(cmtime.<a class="code" href="../../d5/d84/structast__tm.html#a4d171061df9e012fcfbd1172b8440d5f">tm_hour</a>);</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#aa4bd38811c26969cc4d8cd6723199530">minute</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(cmtime.<a class="code" href="../../d5/d84/structast__tm.html#a987fa9280fe4cd6c6b8f77409f1c1504">tm_min</a>);</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a6d5694839ec935781627e5c52de21fda">seconds</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(cmtime.<a class="code" href="../../d5/d84/structast__tm.html#a18df301c1a10c8d493da86ce5c2aea78">tm_sec</a>);</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a62744aa03cd35aa3b6955f8ff972edb2">milliseconds</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(cmtime.<a class="code" href="../../d5/d84/structast__tm.html#aefbab7d1223d156a8cfaaf3ff170540b">tm_usec</a> / 1000);</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#ab20b0c7772544cf5d318507f34231fbe">timestamp</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(now.tv_sec);</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting DEFINETIMEDATE_MESSAGE to %s, date %u %u %u dow %u time %u:%u:%u.%u\n&quot;</span>,</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;      d-&gt;name, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#aac3a162d2f192fe2360aba534eac7198">year</a>, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a55a5fa57878363d803833666ddf3c16f">month</a>, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a897ed87b95b7a37afeeb935ca0b2366b">day</a>, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#ab470c6489808456f63cfd7f94df28712">dayofweek</a>,</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a26d5bae76d83086900174b266fd2cd82">hour</a>, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#aa4bd38811c26969cc4d8cd6723199530">minute</a>, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a6d5694839ec935781627e5c52de21fda">seconds</a>, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">definetimedate</a>.<a class="code" href="../../d2/d65/structdefinetimedate__message.html#a62744aa03cd35aa3b6955f8ff972edb2">milliseconds</a>);</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;}</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;</div><div class="line"><a name="l03216"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa771aff2ab5634781b0f95257accfd82"> 3216</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa771aff2ab5634781b0f95257accfd82">transmit_versionres</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>)</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;{</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d0/d43/structversion__res__message.html">version_res_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a12901431f5ab5e4cb9df9edc664e6d85">VERSION_RES_MESSAGE</a>)))</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab39e2139ac39eb022bbe54356481ec1d">version</a>.<a class="code" href="../../d0/d43/structversion__res__message.html#a2eaaed79d5d4970bf38f17ccbfdbb035">version</a>, d-&gt;version_id, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ab39e2139ac39eb022bbe54356481ec1d">version</a>.<a class="code" href="../../d0/d43/structversion__res__message.html#a2eaaed79d5d4970bf38f17ccbfdbb035">version</a>));</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting VERSION_RES_MESSAGE to %s, version %s\n&quot;</span>, d-&gt;name, d-&gt;version_id);</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;}</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;</div><div class="line"><a name="l03228"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab459e5c176179dcd6df72ee4824ad05d"> 3228</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab459e5c176179dcd6df72ee4824ad05d">transmit_serverres</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>)</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;{</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dd/d7b/structserver__res__message.html">server_res_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#acfb45c382a52256b57620a7340c20a69">SERVER_RES_MESSAGE</a>)))</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;   memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a1e9a94870602b6a3227fe3ce05d3c13a">serverres</a>.<a class="code" href="../../dd/d7b/structserver__res__message.html#a79e782cec3d53c0ec6b5922620d6a74f">server</a>[0].<a class="code" href="../../d9/df0/structserver__identifier.html#a24f34926c446be4afb4b2fef4538e524">serverName</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#afd883a715000d3dd9e65f40e6585f644">ourhost</a>,</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;         <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a1e9a94870602b6a3227fe3ce05d3c13a">serverres</a>.<a class="code" href="../../dd/d7b/structserver__res__message.html#a79e782cec3d53c0ec6b5922620d6a74f">server</a>[0].<a class="code" href="../../d9/df0/structserver__identifier.html#a24f34926c446be4afb4b2fef4538e524">serverName</a>));</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a1e9a94870602b6a3227fe3ce05d3c13a">serverres</a>.<a class="code" href="../../dd/d7b/structserver__res__message.html#a610e7308d2c7e6410d1728a991afd82e">serverListenPort</a>[0] = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7821b54b29c7b74aba79884f13b3ec03">ourport</a>);</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a1e9a94870602b6a3227fe3ce05d3c13a">serverres</a>.<a class="code" href="../../dd/d7b/structserver__res__message.html#a696fd8eaa59bbf6a3b8c4d20c3a39ee0">serverIpAddr</a>[0] = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aff045cc68524670d4355f882c7ac6271">ourip</a>.s_addr);</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting SERVER_RES_MESSAGE to %s, srvname %s %s:%d\n&quot;</span>,</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;      d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#afd883a715000d3dd9e65f40e6585f644">ourhost</a>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aff045cc68524670d4355f882c7ac6271">ourip</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7821b54b29c7b74aba79884f13b3ec03">ourport</a>);</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;}</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;</div><div class="line"><a name="l03244"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aaebd37494fc87c15df52ef7243b47d98"> 3244</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aaebd37494fc87c15df52ef7243b47d98">transmit_softkeysetres</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>)</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;{</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;   <span class="keywordtype">int</span> y;</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;   <span class="keywordtype">int</span> keydefcount;</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../df/de2/structsoft__key__definitions.html">soft_key_definitions</a> *softkeymode = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2468f713a22a053d5d3a94cd390f8eb2">soft_key_default_definitions</a>;</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d4/d70/structsoft__key__set__res__message.html">soft_key_set_res_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aee3cbe69978806b2ccea81e6931e5f06">SOFT_KEY_SET_RES_MESSAGE</a>)))</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 3, <span class="stringliteral">&quot;Creating Softkey Template\n&quot;</span>);</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;   keydefcount = <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(soft_key_default_definitions);</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a2c1c09cd3cb77663c2963dd040506edd">softkeysets</a>.<a class="code" href="../../d4/d70/structsoft__key__set__res__message.html#a9e0609aa98d8027663e88c42524a391f">softKeySetOffset</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a2c1c09cd3cb77663c2963dd040506edd">softkeysets</a>.<a class="code" href="../../d4/d70/structsoft__key__set__res__message.html#a821d404bc80c2b793f4d0bd3f125928b">softKeySetCount</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(keydefcount);</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a2c1c09cd3cb77663c2963dd040506edd">softkeysets</a>.<a class="code" href="../../d4/d70/structsoft__key__set__res__message.html#a626519dd0d8e97afdb9ab94f3f0514af">totalSoftKeySetCount</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(keydefcount);</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; keydefcount; x++) {</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;      <span class="keyword">const</span> uint8_t *<a class="code" href="../../df/de2/structsoft__key__definitions.html#a841d7c4569174bfa7f45657449a69b6f">defaults</a> = softkeymode-&gt;<a class="code" href="../../df/de2/structsoft__key__definitions.html#a841d7c4569174bfa7f45657449a69b6f">defaults</a>;</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;      <span class="comment">/* XXX I wanted to get the size of the array dynamically, but that wasn&#39;t wanting to work.</span></div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;<span class="comment">         This will have to do for now. */</span></div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;      <span class="keywordflow">for</span> (y = 0; y &lt; softkeymode-&gt;<a class="code" href="../../df/de2/structsoft__key__definitions.html#ada8f9c34ea6de0264c2d808acf540ad2">count</a>; y++) {</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;         <span class="keywordflow">for</span> (i = 0; i &lt; (<span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aad84a156f8b9295691bb77ea45dfdce4">soft_key_template_default</a>) / <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/dc0/structsoft__key__template__definition.html">soft_key_template_definition</a>)); i++) {</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;            <span class="keywordflow">if</span> (defaults[y] == i+1) {</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;               req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a2c1c09cd3cb77663c2963dd040506edd">softkeysets</a>.<a class="code" href="../../d4/d70/structsoft__key__set__res__message.html#ab19f86d91e65941777c4e0c5a840fdae">softKeySetDefinition</a>[softkeymode-&gt;<a class="code" href="../../df/de2/structsoft__key__definitions.html#a858b33a55c1de4c9bc94b982fc722754">mode</a>].<a class="code" href="../../d8/d6b/structsoft__key__set__definition.html#a29a5f3fd75bf8ffa5df8c331c1ac3e18">softKeyTemplateIndex</a>[y] = (i+1);</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;               req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a2c1c09cd3cb77663c2963dd040506edd">softkeysets</a>.<a class="code" href="../../d4/d70/structsoft__key__set__res__message.html#ab19f86d91e65941777c4e0c5a840fdae">softKeySetDefinition</a>[softkeymode-&gt;<a class="code" href="../../df/de2/structsoft__key__definitions.html#a858b33a55c1de4c9bc94b982fc722754">mode</a>].<a class="code" href="../../d8/d6b/structsoft__key__set__definition.html#ac85b46723c412dd2807ee7345621cc3f">softKeyInfoIndex</a>[y] = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1987a601aa87be6fb2374127af70bb0c">htoles</a>(i+301);</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;softKeySetDefinition : softKeyTemplateIndex: %d softKeyInfoIndex: %d\n&quot;</span>,</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                  i+1, i+301);</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            }</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;         }</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;      }</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;      softkeymode++;</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;   }</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 3, <span class="stringliteral">&quot;Transmitting SOFT_KEY_SET_RES_MESSAGE to %s, template data\n&quot;</span>,</div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;      d-&gt;name);</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;}</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;</div><div class="line"><a name="l03284"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab6e17c000d3132dc85c27b84dd8698a0"> 3284</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab6e17c000d3132dc85c27b84dd8698a0">transmit_softkeytemplateres</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>)</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;{</div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d0/d60/structsoft__key__template__res__message.html">soft_key_template_res_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa48c2edb2669fe7c10ed6b6b5efa2e05">SOFT_KEY_TEMPLATE_RES_MESSAGE</a>)))</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a72600783648a844a5e45e185f42e00c4">softkeytemplate</a>.<a class="code" href="../../d0/d60/structsoft__key__template__res__message.html#aeb69bb0f70da60dbba0bf2e7c5fdd33d">softKeyOffset</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a72600783648a844a5e45e185f42e00c4">softkeytemplate</a>.<a class="code" href="../../d0/d60/structsoft__key__template__res__message.html#a8db1b287e91a13a96808f529a4dc49e9">softKeyCount</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(<span class="keyword">sizeof</span>(soft_key_template_default) / <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/dc0/structsoft__key__template__definition.html">soft_key_template_definition</a>));</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a72600783648a844a5e45e185f42e00c4">softkeytemplate</a>.<a class="code" href="../../d0/d60/structsoft__key__template__res__message.html#a48b489a0ba6479db34f7c580f40af762">totalSoftKeyCount</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(<span class="keyword">sizeof</span>(soft_key_template_default) / <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d9/dc0/structsoft__key__template__definition.html">soft_key_template_definition</a>));</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;   memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a72600783648a844a5e45e185f42e00c4">softkeytemplate</a>.<a class="code" href="../../d0/d60/structsoft__key__template__res__message.html#ad6fd242c4e813675148ea902f327e4f1">softKeyTemplateDefinition</a>,</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;      soft_key_template_default,</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      <span class="keyword">sizeof</span>(soft_key_template_default));</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting SOFT_KEY_TEMPLATE_RES_MESSAGE to %s, offset 0, keycnt %u, totalkeycnt %u, template data\n&quot;</span>,</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;      d-&gt;name, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a72600783648a844a5e45e185f42e00c4">softkeytemplate</a>.<a class="code" href="../../d0/d60/structsoft__key__template__res__message.html#a8db1b287e91a13a96808f529a4dc49e9">softKeyCount</a>, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a72600783648a844a5e45e185f42e00c4">softkeytemplate</a>.<a class="code" href="../../d0/d60/structsoft__key__template__res__message.html#a48b489a0ba6479db34f7c580f40af762">totalSoftKeyCount</a>);</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;}</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;</div><div class="line"><a name="l03303"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a438aa458007ed6ee184241b872aafdb2"> 3303</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a438aa458007ed6ee184241b872aafdb2">transmit_reset</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> fullrestart)</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;{</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d0/dbe/structreset__message.html">reset_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#afb6f653351a09b4b3bbbb0fbd3ba4f1e">RESET_MESSAGE</a>)))</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;   <span class="keywordflow">if</span> (fullrestart)</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af94af305e2c5f2374e813e4eb240296c">reset</a>.<a class="code" href="../../d0/dbe/structreset__message.html#a7a8191f03b981d7fd9ea45a66270833b">resetType</a> = 2;</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;      req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#af94af305e2c5f2374e813e4eb240296c">reset</a>.<a class="code" href="../../d0/dbe/structreset__message.html#a7a8191f03b981d7fd9ea45a66270833b">resetType</a> = 1;</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting RESET_MESSAGE to %s, type %s\n&quot;</span>,</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;      d-&gt;name, (fullrestart) ? <span class="stringliteral">&quot;Restarting&quot;</span> : <span class="stringliteral">&quot;Resetting&quot;</span>);</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;}</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;</div><div class="line"><a name="l03320"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a63014e35eb513761fb09a412b6514df7"> 3320</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a63014e35eb513761fb09a412b6514df7">transmit_keepaliveack</a>(<span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;{</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#abc0af116eb82cd2fef2601d565c64ecc">KEEP_ALIVE_ACK_MESSAGE</a>)))</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;   {</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting KEEP_ALIVE_ACK_MESSAGE to %s\n&quot;</span>, (d ? d-&gt;name : <span class="stringliteral">&quot;unregistered&quot;</span>));</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;   }</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a026894645364d25ec3e91575d9748cb9">transmit_response_bysession</a>(s, req);</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;}</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;</div><div class="line"><a name="l03336"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad2bf0a4239564e8e10f81b669fc0dbd9"> 3336</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad2bf0a4239564e8e10f81b669fc0dbd9">transmit_registerack</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>)</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;{</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d5/dfd/structregister__ack__message.html">register_ack_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3fb821358598b476576f3b098586498f">REGISTER_ACK_MESSAGE</a>)))</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a7be363918d3701aef294dc8cd25f6d80">res</a>[0] = <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a7be363918d3701aef294dc8cd25f6d80">res</a>[1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#aa7c63ac4bd47bf61251998dd8c9b63ea">keepAlive</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a>);</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;   memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a05c27f79b3e6af4e4a8c19ce8bccefb7">dateTemplate</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d44486240bfa969fd6cf04fab65c097">date_format</a>, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a05c27f79b3e6af4e4a8c19ce8bccefb7">dateTemplate</a>));</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a4b9c948b588ab48f4bd3866b36624669">res2</a>[0] = <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a4b9c948b588ab48f4bd3866b36624669">res2</a>[1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a80e8d2b07d4ba102a31aea2fe00730b1">secondaryKeepAlive</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a>);</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;   {</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;   <span class="keywordtype">short</span> <a class="code" href="../../dc/da2/structskinny__req.html#a97e3bb97951482c8cf4d55a2d0bfcb62">res</a> = req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a7be363918d3701aef294dc8cd25f6d80">res</a>[0] &lt;&lt; 8 | req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a7be363918d3701aef294dc8cd25f6d80">res</a>[1];</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> res2 = req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a4b9c948b588ab48f4bd3866b36624669">res2</a>[0] &lt;&lt; 24 | req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a4b9c948b588ab48f4bd3866b36624669">res2</a>[1] &lt;&lt; 16 | req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a4b9c948b588ab48f4bd3866b36624669">res2</a>[2] &lt;&lt; 8 | req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">regack</a>.<a class="code" href="../../d5/dfd/structregister__ack__message.html#a4b9c948b588ab48f4bd3866b36624669">res2</a>[3];</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting REGISTER_ACK_MESSAGE to %s, keepalive %d, datetemplate %s, seckeepalive %d, res 0x%04x, res2 0x%08x\n&quot;</span>,</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;      d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d44486240bfa969fd6cf04fab65c097">date_format</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a>, (<span class="keywordtype">unsigned</span>)res, res2);</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;   }</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;}</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;</div><div class="line"><a name="l03363"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a78885055feba24b7284f303aca8b950d"> 3363</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a78885055feba24b7284f303aca8b950d">transmit_capabilitiesreq</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>)</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;{</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#adb5145c2019b8a1d29b20b7b482f8f17">CAPABILITIES_REQ_MESSAGE</a>)))</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting CAPABILITIES_REQ_MESSAGE to %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;}</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;</div><div class="line"><a name="l03374"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2bc0fa239544a9b9aebb4aba6d3edacc"> 3374</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2bc0fa239544a9b9aebb4aba6d3edacc">transmit_backspace</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance, <span class="keywordtype">unsigned</span> callid)</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;{</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dc/d04/structbksp__req__message.html">bksp_req_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a93c97714575e54a3fd7a185415b82599">BKSP_REQ_MESSAGE</a>)))</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#add5d6dea275e110fc365fe66953b27a8">bkspmessage</a>.<a class="code" href="../../dc/d04/structbksp__req__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#add5d6dea275e110fc365fe66953b27a8">bkspmessage</a>.<a class="code" href="../../dc/d04/structbksp__req__message.html#aa056c11f2f813407952d829437cec263">callreference</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(callid);</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting BKSP_REQ_MESSAGE to %s, inst %d, callid %u \n&quot;</span>,</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;      d-&gt;name, instance, callid);</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;}</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;</div><div class="line"><a name="l03389"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad76e598e25826354e1ee83e49498ae29"> 3389</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad76e598e25826354e1ee83e49498ae29">transmit_serviceurlstat</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, <span class="keywordtype">int</span> instance)</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;{</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req;</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d52/structskinny__serviceurl.html">skinny_serviceurl</a> *surl;</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d6d/structserviceurl__stat__message.html">serviceurl_stat_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e3d2fa098da538bf939322901446343">SERVICEURL_STAT_MESSAGE</a>)))</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aa781e5785521bd411b6aef84261ab788">serviceurls</a>, surl, <a class="code" href="../../d3/d52/structskinny__serviceurl.html#a386b1ceb8439324f21a98f520321c24b">list</a>) {</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;      <span class="keywordflow">if</span> (surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> == instance) {</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;      }</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;   }</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;   <span class="keywordflow">if</span> (surl) {</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a05958ed22dde8a2cb72dfd8fa965905d">serviceurlmessage</a>.<a class="code" href="../../d2/d6d/structserviceurl__stat__message.html#a055fded1ef981ae1960598ea019e0476">displayName</a>, surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a055fded1ef981ae1960598ea019e0476">displayName</a>, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a05958ed22dde8a2cb72dfd8fa965905d">serviceurlmessage</a>.<a class="code" href="../../d2/d6d/structserviceurl__stat__message.html#a055fded1ef981ae1960598ea019e0476">displayName</a>));</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;      memcpy(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a05958ed22dde8a2cb72dfd8fa965905d">serviceurlmessage</a>.<a class="code" href="../../d2/d6d/structserviceurl__stat__message.html#a3d7ec0af596552058e460f64646bf5b8">url</a>, surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a3d7ec0af596552058e460f64646bf5b8">url</a>, <span class="keyword">sizeof</span>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a05958ed22dde8a2cb72dfd8fa965905d">serviceurlmessage</a>.<a class="code" href="../../d2/d6d/structserviceurl__stat__message.html#a3d7ec0af596552058e460f64646bf5b8">url</a>));</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;   }</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a05958ed22dde8a2cb72dfd8fa965905d">serviceurlmessage</a>.<a class="code" href="../../d2/d6d/structserviceurl__stat__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(instance);</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Transmitting SERVICEURL_STAT_MESSAGE to %s, inst %d\n&quot;</span>,</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;      d-&gt;name, instance);</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;}</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;</div><div class="line"><a name="l03414"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad23cb8e38f08caa3c3a496f691c39e3b"> 3414</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad23cb8e38f08caa3c3a496f691c39e3b">skinny_extensionstate_cb</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="keyword">struct</span> <a class="code" href="../../df/d4c/structast__state__cb__info.html">ast_state_cb_info</a> *info, <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;{</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dbc/structskinny__container.html">skinny_container</a> *<a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a> = <a class="code" href="../../d6/dbc/structskinny__container.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;   <span class="keywordtype">char</span> hint[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a> = info-&gt;<a class="code" href="../../df/d4c/structast__state__cb__info.html#a6f3d8aa9a90b701e81dad4cc4a56be67">exten_state</a>;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;   <span class="comment">/* only interested in device state here */</span></div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;   <span class="keywordflow">if</span> (info-&gt;<a class="code" href="../../df/d4c/structast__state__cb__info.html#a3a7a902ef9b30b78b595eeee1485090f">reason</a> != <a class="code" href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6a2e89bd60b1752d920f58a70164607189">AST_HINT_UPDATE_DEVICE</a>) {</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;   }</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;   <span class="keywordflow">if</span> (container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#ac765329451135abec74c45e1897abf26">type</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a01b2bb8685c96de7d81859e2fa0051df">SKINNY_SDCONTAINER</a>) {</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd = container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;      d = sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#aea7cfebdbc484f2d086c9218129a141a">parent</a>;</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aaf5d467e9337255d2fc60ee4df9bebcc">DEBUG_HINT</a>, 3, <span class="stringliteral">&quot;Got hint %s on speeddial %s\n&quot;</span>, <a class="code" href="../../db/de0/pbx_8h.html#a3261603753916b98888a5a5fc1d505c3">ast_extension_state2str</a>(state), sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">label</a>);</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#ac778ac642def88a06e5d59e11a964c43">ast_get_hint</a>(hint, <span class="keyword">sizeof</span>(hint), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">exten</a>)) {</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;         <span class="comment">/* If they are not registered, we will override notification and show no availability */</span></div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>(hint) == <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549">AST_DEVICE_UNAVAILABLE</a>) {</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4e1cd9416902608f4249e5ecd8caf578">SKINNY_LAMP_FLASH</a>);</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, 0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>);</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;         }</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;         <span class="keywordflow">switch</span> (state) {</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192">AST_EXTENSION_DEACTIVATED</a>: <span class="comment">/* Retry after a while */</span></div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7">AST_EXTENSION_REMOVED</a>:     <span class="comment">/* Extension is gone */</span></div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aaf5d467e9337255d2fc60ee4df9bebcc">DEBUG_HINT</a>, 3, <span class="stringliteral">&quot;Extension state: Watcher for hint %s %s. Notify Device %s\n&quot;</span>,</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;               exten, state == <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192">AST_EXTENSION_DEACTIVATED</a> ? <span class="stringliteral">&quot;deactivated&quot;</span> : <span class="stringliteral">&quot;removed&quot;</span>, d-&gt;name);</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;            sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a70382561daaa758a201b7a711d566e24">stateid</a> = -1;</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639">SKINNY_LAMP_OFF</a>);</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, 0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>);</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a>:</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3">AST_EXTENSION_UNAVAILABLE</a>:</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a92de27dd35149317b1c4cf78025b5b23">SKINNY_LAMP_BLINK</a>);</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, 0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6bed741ef5e86581671d6c63ae9267c8">SKINNY_RINGIN</a>);</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98">AST_EXTENSION_BUSY</a>: <span class="comment">/* callstate = SKINNY_BUSY wasn&#39;t wanting to work - I&#39;ll settle for this */</span></div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a>:</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a>);</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, 0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a171401581bc9313c20cec69fe8ddc7ee">SKINNY_CALLREMOTEMULTILINE</a>);</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9">AST_EXTENSION_ONHOLD</a>:</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7de4e252b70c1f9022529a7de2c16344">SKINNY_LAMP_WINK</a>);</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, 0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4a2a093850ad1fe42d691104a8efcb5a">SKINNY_HOLD</a>);</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a>:</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;         <span class="keywordflow">default</span>:</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639">SKINNY_LAMP_OFF</a>);</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a>, 0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>);</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;         }</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;      }</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;      sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a0078d2e3ae10f15d7634c01199f33d4f">laststate</a> = <a class="code" href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a>;</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#ac765329451135abec74c45e1897abf26">type</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab6834c7da233db764539d15f5bae198f">SKINNY_SUBLINECONTAINER</a>) {</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline = container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;      d = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aaf5d467e9337255d2fc60ee4df9bebcc">DEBUG_HINT</a>, 3, <span class="stringliteral">&quot;Got hint %s on subline %s (%s@%s)\n&quot;</span>, <a class="code" href="../../db/de0/pbx_8h.html#a3261603753916b98888a5a5fc1d505c3">ast_extension_state2str</a>(state), subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a3777dbae63a15da001b2baa317a25149">name</a>, exten, context);</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;      subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a2f1ff9993605e9134bc66eb29b479838">extenstate</a> = <a class="code" href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a>;</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;      <span class="keywordflow">if</span> (subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> == 0) {</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;      }</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;      <span class="keywordflow">switch</span> (state) {</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a>: <span class="comment">/* Handled by normal ringin */</span></div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a>:</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;         <span class="keywordflow">if</span> (subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">sub</a> &amp;&amp; (subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">sub</a>-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1b0b13fd37b0eec0ebbc6031c91d4662">SKINNY_CONNECTED</a>)) { <span class="comment">/* Device has a real call */</span></div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1b0b13fd37b0eec0ebbc6031c91d4662">SKINNY_CONNECTED</a>);</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aad5f46f88fa82da05103795046e110b7">KEYDEF_CONNECTED</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a058736ac02815389a1545c2d5d0a9451">OCTAL_CONNECTED</a>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;         } <span class="keywordflow">else</span> { <span class="comment">/* Some other device has active call */</span></div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a171401581bc9313c20cec69fe8ddc7ee">SKINNY_CALLREMOTEMULTILINE</a>);</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77b3490072c879be4e18cfd9bbc84d8a">KEYDEF_SLACONNECTEDNOTACTIVE</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <span class="stringliteral">&quot;In Use&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;         }</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a>);</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6">transmit_ringer_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecd793ced0012f548eaf003e4609e994">SKINNY_RING_OFF</a>);</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9">AST_EXTENSION_ONHOLD</a>:</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4a2a093850ad1fe42d691104a8efcb5a">SKINNY_HOLD</a>);</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#abb244de232e99bf79d4907d61387d798">KEYDEF_SLAHOLD</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <span class="stringliteral">&quot;Hold&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a92de27dd35149317b1c4cf78025b5b23">SKINNY_LAMP_BLINK</a>);</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a>:</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>);</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aab983751d9fb47d03d07a9e9dd2b4776">KEYDEF_ONHOOK</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7e1e67dfbb8916241ee837657ed26698">transmit_clearpromptmessage</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639">SKINNY_LAMP_OFF</a>);</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;         subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> = 0;</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;AST_EXTENSION_STATE %s not configured\n&quot;</span>, <a class="code" href="../../db/de0/pbx_8h.html#a3261603753916b98888a5a5fc1d505c3">ast_extension_state2str</a>(state));</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;      }</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid data supplied to skinny_extensionstate_cb\n&quot;</span>);</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;   }</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;}</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;</div><div class="line"><a name="l03525"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9f17dec01dd25c8e657c4f9a80b5bb6f"> 3525</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9f17dec01dd25c8e657c4f9a80b5bb6f">update_connectedline</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> datalen)</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;{</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;   <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>) {</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;   }</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a> &amp;&amp; !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e">origtonum</a>) {</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;      <span class="comment">/* Do not set origtonum before here or origtoname won&#39;t be set */</span></div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e">origtonum</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.valid) {</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad5a6cbf59d842df8ea89ed445f42b1f2">origtoname</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str);</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;      }</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;   }</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(c)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;      || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(c)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str)</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;      || !<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;      || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str))</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Updating\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(sub);</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;}</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;</div><div class="line"><a name="l03554"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8921df965ea3d7dec54ab143ea1463bc"> 3554</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8921df965ea3d7dec54ab143ea1463bc">mwi_event_cb</a>(<span class="keywordtype">void</span> *userdata, <span class="keyword">struct</span> <a class="code" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;{</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = userdata;</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l2;</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;   <span class="keywordtype">int</span> dev_msgs = 0;</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;   <span class="keywordflow">if</span> (!d || !d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>) {</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;   }</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;   <span class="keywordflow">if</span> (msg &amp;&amp; <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf226cf2d1a4dbbbf220521d58c05ac0f">ast_mwi_state_type</a>() == <a class="code" href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a>(msg)) {</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a> *mwi_state = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(msg);</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;      l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a040f76b1cd9a7d2442611e105c605695">newmsgs</a> = mwi_state-&gt;<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga70de9f16a229e2c5bf1a973372949d3e">new_msgs</a>;</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;   }</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;   <span class="keywordflow">if</span> (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a040f76b1cd9a7d2442611e105c605695">newmsgs</a>) {</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#add30eeef22fe342e5e7e92354ece088e">STIMULUS_VOICEMAIL</a>, l-&gt;instance, l-&gt;mwiblink?<a class="code" href="../../d0/d80/chan__skinny_8c.html#a92de27dd35149317b1c4cf78025b5b23">SKINNY_LAMP_BLINK</a>:<a class="code" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a>);</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#add30eeef22fe342e5e7e92354ece088e">STIMULUS_VOICEMAIL</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639">SKINNY_LAMP_OFF</a>);</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;   }</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;   <span class="comment">/* find out wether the device lamp should be on or off */</span></div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l2, list) {</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;      <span class="keywordflow">if</span> (l2-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a040f76b1cd9a7d2442611e105c605695">newmsgs</a>) {</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;         dev_msgs++;</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      }</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;   }</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;   <span class="keywordflow">if</span> (dev_msgs) {</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#add30eeef22fe342e5e7e92354ece088e">STIMULUS_VOICEMAIL</a>, 0, d-&gt;mwiblink?<a class="code" href="../../d0/d80/chan__skinny_8c.html#a92de27dd35149317b1c4cf78025b5b23">SKINNY_LAMP_BLINK</a>:<a class="code" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a>);</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#add30eeef22fe342e5e7e92354ece088e">STIMULUS_VOICEMAIL</a>, 0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639">SKINNY_LAMP_OFF</a>);</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;   }</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Skinny mwi_event_cb found %d new messages\n&quot;</span>, l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a040f76b1cd9a7d2442611e105c605695">newmsgs</a>);</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;}</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;<span class="comment">/* I do not believe skinny can deal with video.</span></div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;<span class="comment">   Anyone know differently? */</span></div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;<span class="comment">/* Yes, it can.  Currently 7985 and Cisco VT Advantage do video. */</span></div><div class="line"><a name="l03594"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a87a4c8ddb77e5805aceca014609158e2"> 3594</a></span>&#160;<span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87a4c8ddb77e5805aceca014609158e2">skinny_get_vrtp_peer</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, <span class="keyword">struct</span> <a class="code" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> **instance)</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;{</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;   <span class="keywordflow">if</span> (!(sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c)) || !(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>))</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, +1);</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;   *instance = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>;</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>;</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;}</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;</div><div class="line"><a name="l03607"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a21b1a714ce28f8040c3cbbd56e4da876"> 3607</a></span>&#160;<span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a21b1a714ce28f8040c3cbbd56e4da876">skinny_get_rtp_peer</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, <span class="keyword">struct</span> <a class="code" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> **instance)</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;{</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a> res = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>;</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 4, <span class="stringliteral">&quot;skinny_get_rtp_peer() Channel = %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(c));</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;   <span class="keywordflow">if</span> (!(sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c)))</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a>(sub);</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;</div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;   <span class="keywordflow">if</span> (!(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>)){</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;   }</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, +1);</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;   *instance = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>;</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;   l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;   <span class="keywordflow">if</span> (!l-&gt;directmedia || l-&gt;nat){</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;      res = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a>;</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 4, <span class="stringliteral">&quot;skinny_get_rtp_peer() Using AST_RTP_GLUE_RESULT_LOCAL \n&quot;</span>);</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;   }</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;}</div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;</div><div class="line"><a name="l03641"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aaacc8d725ab1f5650d1610d4161777cf"> 3641</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aaacc8d725ab1f5650d1610d4161777cf">skinny_set_rtp_peer</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, <span class="keyword">struct</span> <a class="code" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *rtp, <span class="keyword">struct</span> <a class="code" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *vrtp, <span class="keyword">struct</span> <a class="code" href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a> *trtp, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *<a class="code" href="../../d5/def/codec_8c.html#a26d06e92c695d54e16beb8070dc5461d">codecs</a>, <span class="keywordtype">int</span> nat_active)</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;{</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;   <span class="keyword">struct </span>sockaddr_in us = { 0, };</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;   <span class="keyword">struct </span>sockaddr_in them = { 0, };</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> them_tmp;</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> us_tmp;</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;   sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(c) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>)</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;   <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;   }</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;   l = sub-&gt;line;</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;   d = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;   <span class="keywordflow">if</span> (rtp){</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *tmpfmt;</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> framing;</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a5665ad0c5abe3c26005c39d6a3680fa1">ast_rtp_instance_get_remote_address</a>(rtp, &amp;them_tmp);</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;      <a class="code" href="../../db/df1/netsock2_8h.html#aa60da39edcabcec05ca9219c7b290395">ast_sockaddr_to_sin</a>(&amp;them_tmp, &amp;them);</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;      <span class="comment">/* Shutdown any early-media or previous media on re-invite */</span></div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae4983e199d8ab27568a4e09f740379d1">transmit_stopmediatransmission</a>(d, sub);</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 4, <span class="stringliteral">&quot;Peerip = %s:%d\n&quot;</span>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(them.sin_addr), ntohs(them.sin_port));</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;      tmpfmt = <a class="code" href="../../d0/d3c/format__cap_8h.html#a5d2c52e9d892cd7c6488563cf00ba9bc">ast_format_cap_get_format</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, 0);</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;      framing = <a class="code" href="../../d0/d3c/format__cap_8h.html#a0e882d4c863b74fd9cd6f7d94740bfe2">ast_format_cap_get_format_framing</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, tmpfmt);</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 4, <span class="stringliteral">&quot;Setting payloadType to &#39;%s&#39; (%u ms)\n&quot;</span>, <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(tmpfmt), framing);</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;      <span class="keywordflow">if</span> (!(l-&gt;directmedia) || (l-&gt;nat)){</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a80baeff1bd121c3168ede2a955e9b3a2">ast_rtp_instance_get_local_address</a>(rtp, &amp;us_tmp);</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;         <a class="code" href="../../db/df1/netsock2_8h.html#aa60da39edcabcec05ca9219c7b290395">ast_sockaddr_to_sin</a>(&amp;us_tmp, &amp;us);</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;         us.sin_addr.s_addr = us.sin_addr.s_addr ? us.sin_addr.s_addr : d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aff045cc68524670d4355f882c7ac6271">ourip</a>.s_addr;</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab1dc8844196e417a34c61c035b86dfce">transmit_startmediatransmission</a>(d, sub, us, tmpfmt, framing);</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab1dc8844196e417a34c61c035b86dfce">transmit_startmediatransmission</a>(d, sub, them, tmpfmt, framing);</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;      }</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(tmpfmt, -1);</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;   }</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;   <span class="comment">/* Need a return here to break the bridge */</span></div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;}</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;</div><div class="line"><a name="l03696"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af0cc4efad88bd767f3cf2eacc27723bc"> 3696</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/dc9/structast__rtp__glue.html">ast_rtp_glue</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af0cc4efad88bd767f3cf2eacc27723bc">skinny_rtp_glue</a> = {</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;   .<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a> = <span class="stringliteral">&quot;Skinny&quot;</span>,</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;   .get_rtp_info = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a21b1a714ce28f8040c3cbbd56e4da876">skinny_get_rtp_peer</a>,</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;   .get_vrtp_info = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87a4c8ddb77e5805aceca014609158e2">skinny_get_vrtp_peer</a>,</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;   .update_peer = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aaacc8d725ab1f5650d1610d4161777cf">skinny_set_rtp_peer</a>,</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;};</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l03704"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af86655829b427b64de9f2d5ea43d8c9b"> 3704</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#af86655829b427b64de9f2d5ea43d8c9b">skinny_debugs</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;{</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;   <span class="keywordtype">char</span> *ptr;</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;   <span class="keywordtype">int</span> posn = 0;</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;   ptr = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a99699195fcfae2b3bb37af6bab5baba2">dbgcli_buf</a>;</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;   ptr[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4c35b4c71a9fd428c47eb27bf72c2789">DEBUG_GENERAL</a>) {</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;      strcpy(ptr, <span class="stringliteral">&quot;general &quot;</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;      posn += 8;</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;      ptr += 8;</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;   }</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>) {</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;      strcpy(ptr, <span class="stringliteral">&quot;sub &quot;</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;      posn += 4;</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;      ptr += 4;</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;   }</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>) {</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;      strcpy(ptr, <span class="stringliteral">&quot;audio &quot;</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;      posn += 6;</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;      ptr += 6;</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;   }</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>) {</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;      strcpy(ptr, <span class="stringliteral">&quot;packet &quot;</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;      posn += 7;</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;      ptr += 7;</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;   }</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7480a62cb6d1de6cc68d75ffc1d901bf">DEBUG_LOCK</a>) {</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;      strcpy(ptr, <span class="stringliteral">&quot;lock &quot;</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;      posn += 5;</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;      ptr += 5;</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;   }</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>) {</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;      strcpy(ptr, <span class="stringliteral">&quot;template &quot;</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;      posn += 9;</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;      ptr += 9;</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;   }</div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab015edc90c82d15e00916f5ef094a24b">DEBUG_THREAD</a>) {</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;      strcpy(ptr, <span class="stringliteral">&quot;thread &quot;</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;      posn += 7;</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;      ptr += 7;</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;   }</div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#aaf5d467e9337255d2fc60ee4df9bebcc">DEBUG_HINT</a>) {</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;      strcpy(ptr, <span class="stringliteral">&quot;hint &quot;</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;      posn += 5;</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;      ptr += 5;</div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;   }</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a01aa848ad39247c674889b31c19015e3">DEBUG_KEEPALIVE</a>) {</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;      strcpy(ptr, <span class="stringliteral">&quot;keepalive &quot;</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;      posn += 10;</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;      ptr += 10;</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;   }</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;   <span class="keywordflow">if</span> (posn &gt; 0) {</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;      strncpy(--ptr, <span class="stringliteral">&quot;\0&quot;</span>, 1);</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;   }</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a99699195fcfae2b3bb37af6bab5baba2">dbgcli_buf</a>;</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;}</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;</div><div class="line"><a name="l03762"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab438a1fad34555ea5581261b9fa3008c"> 3762</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab438a1fad34555ea5581261b9fa3008c">complete_skinny_debug</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *line, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, <span class="keywordtype">int</span> pos, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>)</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;{</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *debugOpts[]={ <span class="stringliteral">&quot;all&quot;</span>,<span class="stringliteral">&quot;audio&quot;</span>,<span class="stringliteral">&quot;hint&quot;</span>,<span class="stringliteral">&quot;keepalive&quot;</span>,<span class="stringliteral">&quot;lock&quot;</span>,<span class="stringliteral">&quot;off&quot;</span>,<span class="stringliteral">&quot;packet&quot;</span>,<span class="stringliteral">&quot;show&quot;</span>,<span class="stringliteral">&quot;sub&quot;</span>,<span class="stringliteral">&quot;template&quot;</span>,<span class="stringliteral">&quot;thread&quot;</span>,<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> };</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;   <span class="keywordtype">char</span> *wordptr = (<span class="keywordtype">char</span> *)word;</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[32];</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;   <span class="keywordtype">char</span> *bufptr = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;   <span class="keywordtype">int</span> buflen = <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>);</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;   <span class="keywordtype">int</span> wordlen;</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;   <span class="keywordflow">if</span> (*word == <span class="charliteral">&#39;+&#39;</span> || *word == <span class="charliteral">&#39;-&#39;</span> || *word == <span class="charliteral">&#39;!&#39;</span>) {</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;      *bufptr = *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>;</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;      wordptr++;</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;      bufptr++;</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;      buflen--;</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;   }</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;   wordlen = strlen(wordptr);</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;   <span class="keywordflow">while</span> (debugOpts[i]) {</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(wordptr, debugOpts[i], wordlen) &amp;&amp; ++which &gt; state) {</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(bufptr, debugOpts[i], buflen);</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(buf);</div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;      }</div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;      i++;</div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;   }</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;}</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;</div><div class="line"><a name="l03792"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a092e3458bbcb8f2c2f2d10ed8ea26a97"> 3792</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a092e3458bbcb8f2c2f2d10ed8ea26a97">handle_skinny_set_debug</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;{</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = 0;</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *arg;</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;   <span class="keywordtype">int</span> bitmask;</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;   <span class="keywordtype">int</span> negate;</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny debug&quot;</span>;</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;         <span class="stringliteral">&quot;Usage: skinny debug {audio|hint|keepalive|lock|off|packet|show|sub|template|thread}\n&quot;</span></div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;         <span class="stringliteral">&quot;       Enables/Disables various Skinny debugging messages\n&quot;</span>;</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab438a1fad34555ea5581261b9fa3008c">complete_skinny_debug</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>);</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;   }</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 3)</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;</div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 3 &amp;&amp; !strncasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>-1], <span class="stringliteral">&quot;show&quot;</span>, 4)) {</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Skinny Debugging - %s\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af86655829b427b64de9f2d5ea43d8c9b">skinny_debugs</a>());</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;   }</div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;</div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;   <span class="keywordflow">for</span>(i = e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>; i &lt; a-&gt;argc; i++) {</div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;      result++;</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;      arg = a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[i];</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;off&quot;</span>, 3)) {</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> = 0;</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;      }</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;all&quot;</span>, 3)) {</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4c35b4c71a9fd428c47eb27bf72c2789">DEBUG_GENERAL</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7480a62cb6d1de6cc68d75ffc1d901bf">DEBUG_LOCK</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab015edc90c82d15e00916f5ef094a24b">DEBUG_THREAD</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#aaf5d467e9337255d2fc60ee4df9bebcc">DEBUG_HINT</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#a01aa848ad39247c674889b31c19015e3">DEBUG_KEEPALIVE</a>;</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;      }</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;-&quot;</span>, 1) || !strncasecmp(arg, <span class="stringliteral">&quot;!&quot;</span>, 1)) {</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;         negate = 1;</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;         arg++;</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;+&quot;</span>, 1)) {</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;         negate = 0;</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;         arg++;</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;         negate = 0;</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;      }</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;general&quot;</span>, 7)) {</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;         bitmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4c35b4c71a9fd428c47eb27bf72c2789">DEBUG_GENERAL</a>;</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;sub&quot;</span>, 3)) {</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;         bitmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>;</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;packet&quot;</span>, 6)) {</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;         bitmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>;</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;audio&quot;</span>, 5)) {</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;         bitmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>;</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;lock&quot;</span>, 4)) {</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;         bitmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7480a62cb6d1de6cc68d75ffc1d901bf">DEBUG_LOCK</a>;</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;template&quot;</span>, 8)) {</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;         bitmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>;</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;thread&quot;</span>, 6)) {</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;         bitmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab015edc90c82d15e00916f5ef094a24b">DEBUG_THREAD</a>;</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;hint&quot;</span>, 4)) {</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;         bitmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aaf5d467e9337255d2fc60ee4df9bebcc">DEBUG_HINT</a>;</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(arg, <span class="stringliteral">&quot;keepalive&quot;</span>, 9)) {</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;         bitmask = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a01aa848ad39247c674889b31c19015e3">DEBUG_KEEPALIVE</a>;</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Skinny Debugging - option &#39;%s&#39; unknown\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[i]);</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;         result--;</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;      }</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      <span class="keywordflow">if</span> (negate) {</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> &amp;= ~bitmask;</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> |= bitmask;</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;      }</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;   }</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;   <span class="keywordflow">if</span> (result) {</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Skinny Debugging - %s\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a> ? <a class="code" href="../../d0/d80/chan__skinny_8c.html#af86655829b427b64de9f2d5ea43d8c9b">skinny_debugs</a>() : <span class="stringliteral">&quot;off&quot;</span>);</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;   }</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;}</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;</div><div class="line"><a name="l03883"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa9263b2b877126867940d57b86a8132d"> 3883</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa9263b2b877126867940d57b86a8132d">handle_skinny_reload</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;{</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny reload&quot;</span>;</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;         <span class="stringliteral">&quot;Usage: skinny reload\n&quot;</span></div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;         <span class="stringliteral">&quot;       Reloads the chan_skinny configuration\n&quot;</span>;</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;   }</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;</div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>)</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa53f60b698c21b4f290b5defcf53ef9b">skinny_reload</a>();</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;}</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;</div><div class="line"><a name="l03904"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a77b3d102d05720db559c40b9d419ca72"> 3904</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a77b3d102d05720db559c40b9d419ca72">complete_skinny_devices</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>)</div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;{</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;   <span class="keywordtype">int</span> wordlen = strlen(word), which = 0;</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>) {</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(word, d-&gt;name, wordlen) &amp;&amp; ++which &gt; state) {</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;                       <span class="keywordflow">return</span> <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(d-&gt;name);</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;               }</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;   }</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;}</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;</div><div class="line"><a name="l03918"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1330941685fd5dc9308d2f91dd7b70d1"> 3918</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1330941685fd5dc9308d2f91dd7b70d1">complete_skinny_show_device</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *line, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, <span class="keywordtype">int</span> pos, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>)</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;{</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;   <span class="keywordflow">return</span> (pos == 3 ? <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77b3d102d05720db559c40b9d419ca72">complete_skinny_devices</a>(word, state) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;}</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;</div><div class="line"><a name="l03923"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acc3e276fa79c2b4a0c67a5a588540439"> 3923</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#acc3e276fa79c2b4a0c67a5a588540439">complete_skinny_reset</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *line, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, <span class="keywordtype">int</span> pos, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>)</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;{</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;   <span class="keywordflow">if</span> (pos == 2) {</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> completions[] = { <span class="stringliteral">&quot;all&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> };</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;      <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/db0/cli_8h.html#a2a43f82ed19e84f386787154f2f22fc9">ast_cli_complete</a>(word, completions, state);</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;      <span class="keywordflow">if</span> (!ret) {</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;         ret = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77b3d102d05720db559c40b9d419ca72">complete_skinny_devices</a>(word, state - 1);</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      }</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;      <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pos == 3) {</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> completions[] = { <span class="stringliteral">&quot;restart&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> };</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a2a43f82ed19e84f386787154f2f22fc9">ast_cli_complete</a>(word, completions, state);</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;   }</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;}</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;</div><div class="line"><a name="l03940"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa1d32ef00ccadf4ded249067f83e8426"> 3940</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa1d32ef00ccadf4ded249067f83e8426">complete_skinny_show_line</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *line, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, <span class="keywordtype">int</span> pos, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>)</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;{</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;   <span class="keywordflow">if</span> (pos == 3) {</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;      <span class="keywordtype">int</span> wordlen = strlen(word), which = 0;</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>) {</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>) {</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;            <span class="keywordflow">if</span> (!strncasecmp(word, l-&gt;name, wordlen) &amp;&amp; ++which &gt; state) {</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;               <span class="keywordflow">return</span> <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(l-&gt;name);</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;            }</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;         }</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;      }</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pos == 4) {</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> completions[] = { <span class="stringliteral">&quot;on&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> };</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a2a43f82ed19e84f386787154f2f22fc9">ast_cli_complete</a>(word, completions, state);</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pos == 5) {</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77b3d102d05720db559c40b9d419ca72">complete_skinny_devices</a>(word, state);</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;   }</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;}</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;</div><div class="line"><a name="l03964"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a90b8b765d7701285c46cd5b10f116605"> 3964</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a90b8b765d7701285c46cd5b10f116605">handle_skinny_reset</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;{</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny reset&quot;</span>;</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;         <span class="stringliteral">&quot;Usage: skinny reset &lt;DeviceId|DeviceName|all&gt; [restart]\n&quot;</span></div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;         <span class="stringliteral">&quot;       Causes a Skinny device to reset itself, optionally with a full restart\n&quot;</span>;</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#acc3e276fa79c2b4a0c67a5a588540439">complete_skinny_reset</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>);</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;   }</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 3 || a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &gt; 4)</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>) {</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;      <span class="keywordtype">int</span> resetonly = 1;</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2], d-&gt;id) || !strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2], d-&gt;name) || !strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2], <span class="stringliteral">&quot;all&quot;</span>)) {</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;         <span class="keywordflow">if</span> (!(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>))</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;         <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 4 &amp;&amp; !strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <span class="stringliteral">&quot;restart&quot;</span>))</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;            resetonly = 0;</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a438aa458007ed6ee184241b872aafdb2">transmit_reset</a>(d, resetonly);</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;      }</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;   }</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;}</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;</div><div class="line"><a name="l03999"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae45808725375598a00ceb17749f33207"> 3999</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae45808725375598a00ceb17749f33207">device2str</a>(<span class="keywordtype">int</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>)</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;{</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;   <span class="keywordflow">switch</span> (type) {</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bf5a11e3d0cc22ee77a88151b9bee6b">SKINNY_DEVICE_NONE</a>:</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;No Device&quot;</span>;</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3f3cd69f7c3fbc2a03f357123c699713">SKINNY_DEVICE_30SPPLUS</a>:</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;30SP Plus&quot;</span>;</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af39bd902ef207e030753286d65681c7c">SKINNY_DEVICE_12SPPLUS</a>:</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;12SP Plus&quot;</span>;</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad18902e12cbd352d1af5cb39e4b370ca">SKINNY_DEVICE_12SP</a>:</div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;12SP&quot;</span>;</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1db4bfd5d17f22afbc4bf80d6337d54">SKINNY_DEVICE_12</a>:</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;12&quot;</span>;</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad1629fcaedb5583acbff4481fc3affb4">SKINNY_DEVICE_30VIP</a>:</div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;30VIP&quot;</span>;</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d87016fbefca28ff0756886e24aa1f3">SKINNY_DEVICE_7910</a>:</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7910&quot;</span>;</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a21bbc062b4e4c70b3789ef050b73174f">SKINNY_DEVICE_7960</a>:</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7960&quot;</span>;</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a13b2375dace6af91acc78d6c694b1f88">SKINNY_DEVICE_7940</a>:</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7940&quot;</span>;</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#afa9c2c4a21e3a321cf0c2c4adec1a05f">SKINNY_DEVICE_7935</a>:</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7935&quot;</span>;</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5916bc0fad835957681082ac3848bd2e">SKINNY_DEVICE_ATA186</a>:</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;ATA186&quot;</span>;</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7178ace67146a2004b92c3cf46aec2c9">SKINNY_DEVICE_7941</a>:</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7941&quot;</span>;</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae306befb4a743eb3e38f3f2bb2dbd59f">SKINNY_DEVICE_7971</a>:</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7971&quot;</span>;</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5bc5ce4a9c8f4198130d3ce756324f68">SKINNY_DEVICE_7914</a>:</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7914&quot;</span>;</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac3cd7f69be6e51d64b6688a80a65fc92">SKINNY_DEVICE_7985</a>:</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7985&quot;</span>;</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a92da7b5faa7ec3709f054f179937082c">SKINNY_DEVICE_7911</a>:</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7911&quot;</span>;</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a81e679dbd7beefb8f09015996b53bd27">SKINNY_DEVICE_7961GE</a>:</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7961GE&quot;</span>;</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a171ee3ea3cd771beb545e9741196516d">SKINNY_DEVICE_7941GE</a>:</div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7941GE&quot;</span>;</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8dd826d1782563f838ed10bfcabe2e05">SKINNY_DEVICE_7931</a>:</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7931&quot;</span>;</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2cf2ea66eb12030fe401f0f68fa2623d">SKINNY_DEVICE_7921</a>:</div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7921&quot;</span>;</div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab68f0d8b6cb25f78ad3b7491f20fcd8e">SKINNY_DEVICE_7906</a>:</div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7906&quot;</span>;</div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ae851d94958aab0ec8c3410f7e2a15d">SKINNY_DEVICE_7962</a>:</div><div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7962&quot;</span>;</div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3bb0cce3c6fbeabf3fa67e0a316cf535">SKINNY_DEVICE_7937</a>:</div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7937&quot;</span>;</div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a10266707a30856e2d0f3205b5e4a1ccd">SKINNY_DEVICE_7942</a>:</div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7942&quot;</span>;</div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d00fd199be58f222cafe9df0e4669e">SKINNY_DEVICE_7945</a>:</div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7945&quot;</span>;</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab61a7c473b18188f04fb35186ed35976">SKINNY_DEVICE_7965</a>:</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7965&quot;</span>;</div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a669bfc638ff207829d2e063533bcd7e8">SKINNY_DEVICE_7975</a>:</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7975&quot;</span>;</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a433816a4c8748c37ec6ff4d6fe0430aa">SKINNY_DEVICE_7905</a>:</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7905&quot;</span>;</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a14da74571081caf219c70f4dc49499d8">SKINNY_DEVICE_7920</a>:</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7920&quot;</span>;</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af3a42f7afa01b1dbffacd7d07f9751b5">SKINNY_DEVICE_7970</a>:</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7970&quot;</span>;</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a51c12165871b57ce6a1deffecea01b17">SKINNY_DEVICE_7912</a>:</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7912&quot;</span>;</div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9a7988ad601a91351534202a8e1ad43e">SKINNY_DEVICE_7902</a>:</div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7902&quot;</span>;</div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa82c3d86ef6e9bdda657d0637a56f0b3">SKINNY_DEVICE_CIPC</a>:</div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;IP Communicator&quot;</span>;</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a47e3aa64ee6a6f5e659bad94b9576eee">SKINNY_DEVICE_7961</a>:</div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7961&quot;</span>;</div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6e10ac13a55648f43ab0769552b3dc8e">SKINNY_DEVICE_7936</a>:</div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;7936&quot;</span>;</div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a032655a31a1da3ff3a8853e8511d9dd9">SKINNY_DEVICE_SCCPGATEWAY_AN</a>:</div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SCCPGATEWAY_AN&quot;</span>;</div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62fe3f5742eb03458a14f2dd241d093a">SKINNY_DEVICE_SCCPGATEWAY_BRI</a>:</div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SCCPGATEWAY_BRI&quot;</span>;</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af1d2fd59588cba882a9566324087a8a5">SKINNY_DEVICE_UNKNOWN</a>:</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;      <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#adb686911ee241c6792cd9b069a366301">device2str_threadbuf</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af6d6ad028a582984d92f9ed46f91b78a">DEVICE2STR_BUFSIZE</a>)))</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;      snprintf(tmp, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af6d6ad028a582984d92f9ed46f91b78a">DEVICE2STR_BUFSIZE</a>, <span class="stringliteral">&quot;UNKNOWN-%d&quot;</span>, type);</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;   }</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;}</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;</div><div class="line"><a name="l04088"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a999be39a725f55bcd5628b1a0a74f3e6"> 4088</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a999be39a725f55bcd5628b1a0a74f3e6">_skinny_show_devices</a>(<span class="keywordtype">int</span> fd, <span class="keywordtype">int</span> *<a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>, <span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> *argv)</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;{</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a>;</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;   <span class="keywordtype">char</span> idtext[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;   <span class="keywordtype">int</span> total_devices = 0;</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;   <span class="keywordflow">if</span> (s) { <span class="comment">/* Manager - get ActionID */</span></div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;      <span class="keywordtype">id</span> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;ActionID&quot;</span>);</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>))</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;         snprintf(idtext, <span class="keyword">sizeof</span>(idtext), <span class="stringliteral">&quot;ActionID: %s\r\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;   }</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;   <span class="keywordflow">switch</span> (argc) {</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;   <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;   }</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;   <span class="keywordflow">if</span> (!s) {</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Name                 DeviceId         IP              Type            R NL\n&quot;</span>);</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;-------------------- ---------------- --------------- --------------- - --\n&quot;</span>);</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;   }</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>) {</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;      <span class="keywordtype">int</span> numlines = 0;</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;      total_devices++;</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>) {</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;         numlines++;</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;      }</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;      <span class="keywordflow">if</span> (!s) {</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;%-20s %-16s %-15s %-15s %c %2d\n&quot;</span>,</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;            d-&gt;name,</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;            d-&gt;id,</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;            d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>?<a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_addr):<span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae45808725375598a00ceb17749f33207">device2str</a>(d-&gt;type),</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;            d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>?<span class="charliteral">&#39;Y&#39;</span>:<span class="charliteral">&#39;N&#39;</span>,</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;            numlines);</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s,</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;            <span class="stringliteral">&quot;Event: DeviceEntry\r\n%s&quot;</span></div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;            <span class="stringliteral">&quot;Channeltype: SKINNY\r\n&quot;</span></div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;            <span class="stringliteral">&quot;ObjectName: %s\r\n&quot;</span></div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;            <span class="stringliteral">&quot;ChannelObjectType: device\r\n&quot;</span></div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;            <span class="stringliteral">&quot;DeviceId: %s\r\n&quot;</span></div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;            <span class="stringliteral">&quot;IPaddress: %s\r\n&quot;</span></div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;            <span class="stringliteral">&quot;Type: %s\r\n&quot;</span></div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;            <span class="stringliteral">&quot;Devicestatus: %s\r\n&quot;</span></div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;            <span class="stringliteral">&quot;NumberOfLines: %d\r\n&quot;</span>,</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;            idtext,</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;            d-&gt;name,</div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;            d-&gt;id,</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;            d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>?<a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_addr):<span class="stringliteral">&quot;-none-&quot;</span>,</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae45808725375598a00ceb17749f33207">device2str</a>(d-&gt;type),</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;            d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>?<span class="stringliteral">&quot;registered&quot;</span>:<span class="stringliteral">&quot;unregistered&quot;</span>,</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;            numlines);</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;      }</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;   }</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;</div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;   <span class="keywordflow">if</span> (total)</div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;      *total = total_devices;</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;}</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;<span class="comment">/*! \brief  Show SKINNY devices in the manager API */</span></div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;<span class="comment">/*    Inspired from chan_sip */</span></div><div class="line"><a name="l04159"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a19dd4f20ea170713fc94f3d787e453ec"> 4159</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a19dd4f20ea170713fc94f3d787e453ec">manager_skinny_show_devices</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m)</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;{</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>[] = {<span class="stringliteral">&quot;skinny&quot;</span>, <span class="stringliteral">&quot;show&quot;</span>, <span class="stringliteral">&quot;devices&quot;</span>};</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a> = 0;</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#ga0ee6ee1f4d200f711e2983bffe770a72">astman_send_listack</a>(s, m, <span class="stringliteral">&quot;Device status list will follow&quot;</span>, <span class="stringliteral">&quot;start&quot;</span>);</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;   <span class="comment">/* List the devices in separate manager events */</span></div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a999be39a725f55bcd5628b1a0a74f3e6">_skinny_show_devices</a>(-1, &amp;total, s, m, 3, a);</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;</div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;   <span class="comment">/* Send final confirmation */</span></div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#ga58c3e3da5d31739cafaee1df6ddf9342">astman_send_list_complete_start</a>(s, m, <span class="stringliteral">&quot;DevicelistComplete&quot;</span>, total);</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gabf7c909efbfc26d0d9c66786c83b8f69">astman_send_list_complete_end</a>(s);</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;}</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;</div><div class="line"><a name="l04175"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae40517f2290aaf18acf058abb998173e"> 4175</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae40517f2290aaf18acf058abb998173e">handle_skinny_show_devices</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;{</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny show devices&quot;</span>;</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;         <span class="stringliteral">&quot;Usage: skinny show devices\n&quot;</span></div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;         <span class="stringliteral">&quot;       Lists all devices known to the Skinny subsystem.\n&quot;</span>;</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;   }</div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a999be39a725f55bcd5628b1a0a74f3e6">_skinny_show_devices</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>);</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;}</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;</div><div class="line"><a name="l04192"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae505ae7afb3f0534273e5b55988926bf"> 4192</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae505ae7afb3f0534273e5b55988926bf">_skinny_show_device</a>(<span class="keywordtype">int</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">int</span> fd, <span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> *argv)</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;{</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d11/structskinny__addon.html">skinny_addon</a> *sa;</div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d52/structskinny__serviceurl.html">skinny_serviceurl</a> *surl;</div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *codec_buf = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a>);</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;   <span class="keywordflow">if</span> (argc &lt; 4) {</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;   }</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, list) {</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(argv[3], d-&gt;id) || !strcasecmp(argv[3], d-&gt;name)) {</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;         <span class="keywordtype">int</span> numlines = 0, numaddons = 0, numspeeddials = 0, numserviceurls = 0;</div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list){</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;            numlines++;</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;         }</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6aa3a053fbe7a339fa9f7d2d4ecd44e9">addons</a>, sa, list) {</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;            numaddons++;</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;         }</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, sd, list) {</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;            numspeeddials++;</div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;         }</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aa781e5785521bd411b6aef84261ab788">serviceurls</a>, surl, list) {</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;            numserviceurls++;</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;         }</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;         <span class="keywordflow">if</span> (type == 0) { <span class="comment">/* CLI */</span></div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Name:        %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Id:          %s\n&quot;</span>, d-&gt;id);</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;version:     %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(d-&gt;version_id, <span class="stringliteral">&quot;Unknown&quot;</span>));</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Ip address:  %s\n&quot;</span>, (d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a> ? <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_addr) : <span class="stringliteral">&quot;Unknown&quot;</span>));</div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Port:        %d\n&quot;</span>, (d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a> ? ntohs(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_port) : 0));</div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Device Type: %s\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae45808725375598a00ceb17749f33207">device2str</a>(d-&gt;type));</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Conf Codecs: %s\n&quot;</span>, <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, &amp;codec_buf));</div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Neg Codecs: %s\n&quot;</span>, <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, &amp;codec_buf));</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Registered:  %s\n&quot;</span>, (d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a> ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Lines:       %d\n&quot;</span>, numlines);</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list) {</div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;               <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;  %s (%s)\n&quot;</span>, l-&gt;name, l-&gt;label);</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;            }</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Addons:      %d\n&quot;</span>, numaddons);</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6aa3a053fbe7a339fa9f7d2d4ecd44e9">addons</a>, sa, list) {</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;               <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;  %s\n&quot;</span>, sa-&gt;<a class="code" href="../../dc/d11/structskinny__addon.html#a33e6e7edca48ac1ff105d85011dfc454">type</a>);</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;            }</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Speeddials:  %d\n&quot;</span>, numspeeddials);</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, sd, list) {</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;               <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;  %s (%s) ishint: %d\n&quot;</span>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">exten</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">label</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a>);</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;            }</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;ServiceURLs:  %d\n&quot;</span>, numserviceurls);</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aa781e5785521bd411b6aef84261ab788">serviceurls</a>, surl, list) {</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;               <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;  %s (%s)\n&quot;</span>, surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a055fded1ef981ae1960598ea019e0476">displayName</a>, surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a3d7ec0af596552058e460f64646bf5b8">url</a>);</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;            }</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;         } <span class="keywordflow">else</span> { <span class="comment">/* manager */</span></div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Channeltype: SKINNY\r\n&quot;</span>);</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;ObjectName: %s\r\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;ChannelObjectType: device\r\n&quot;</span>);</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Id: %s\r\n&quot;</span>, d-&gt;id);</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;version: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(d-&gt;version_id, <span class="stringliteral">&quot;Unknown&quot;</span>));</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Ipaddress: %s\r\n&quot;</span>, (d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a> ? <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_addr) : <span class="stringliteral">&quot;Unknown&quot;</span>));</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Port: %d\r\n&quot;</span>, (d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a> ? ntohs(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_port) : 0));</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;DeviceType: %s\r\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae45808725375598a00ceb17749f33207">device2str</a>(d-&gt;type));</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Codecs: %s\r\n&quot;</span>, <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, &amp;codec_buf));</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;CodecOrder: %s\r\n&quot;</span>, <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, &amp;codec_buf));</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Devicestatus: %s\r\n&quot;</span>, (d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>?<span class="stringliteral">&quot;registered&quot;</span>:<span class="stringliteral">&quot;unregistered&quot;</span>));</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;NumberOfLines: %d\r\n&quot;</span>, numlines);</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list) {</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;               <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Line: %s (%s)\r\n&quot;</span>, l-&gt;name, l-&gt;label);</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;            }</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;NumberOfAddons: %d\r\n&quot;</span>, numaddons);</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6aa3a053fbe7a339fa9f7d2d4ecd44e9">addons</a>, sa, list) {</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;               <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Addon: %s\r\n&quot;</span>, sa-&gt;<a class="code" href="../../dc/d11/structskinny__addon.html#a33e6e7edca48ac1ff105d85011dfc454">type</a>);</div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;            }</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;NumberOfSpeeddials: %d\r\n&quot;</span>, numspeeddials);</div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, sd, list) {</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;               <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Speeddial: %s (%s) ishint: %d\r\n&quot;</span>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">exten</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">label</a>, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a>);</div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;            }</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;ServiceURLs:  %d\r\n&quot;</span>, numserviceurls);</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aa781e5785521bd411b6aef84261ab788">serviceurls</a>, surl, list) {</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;               <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;  %s (%s)\r\n&quot;</span>, surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a055fded1ef981ae1960598ea019e0476">displayName</a>, surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a3d7ec0af596552058e460f64646bf5b8">url</a>);</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;            }</div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;         }</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;      }</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;   }</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;}</div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;</div><div class="line"><a name="l04287"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a603b2c3fc96fb332fef1787046574afd"> 4287</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a603b2c3fc96fb332fef1787046574afd">manager_skinny_show_device</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m)</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;{</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>[4];</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *device;</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;   device = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Device&quot;</span>);</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(device)) {</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Device: &lt;name&gt; missing.&quot;</span>);</div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;   }</div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;   a[0] = <span class="stringliteral">&quot;skinny&quot;</span>;</div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;   a[1] = <span class="stringliteral">&quot;show&quot;</span>;</div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;   a[2] = <span class="stringliteral">&quot;device&quot;</span>;</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;   a[3] = device;</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;</div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae505ae7afb3f0534273e5b55988926bf">_skinny_show_device</a>(1, -1, s, m, 4, a);</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;\r\n\r\n&quot;</span> );</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;}</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;<span class="comment">/*! \brief Show device information */</span></div><div class="line"><a name="l04308"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6aeb19612127b1e5b27bbaf1950b922d"> 4308</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a6aeb19612127b1e5b27bbaf1950b922d">handle_skinny_show_device</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;{</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny show device&quot;</span>;</div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;         <span class="stringliteral">&quot;Usage: skinny show device &lt;DeviceId|DeviceName&gt;\n&quot;</span></div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;         <span class="stringliteral">&quot;       Lists all deviceinformation of a specific device known to the Skinny subsystem.\n&quot;</span>;</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1330941685fd5dc9308d2f91dd7b70d1">complete_skinny_show_device</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>);</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;   }</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae505ae7afb3f0534273e5b55988926bf">_skinny_show_device</a>(0, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>);</div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;}</div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;</div><div class="line"><a name="l04324"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a63a93c5a25ffd9e1bda74ceb9f603c7d"> 4324</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a63a93c5a25ffd9e1bda74ceb9f603c7d">_skinny_show_lines</a>(<span class="keywordtype">int</span> fd, <span class="keywordtype">int</span> *<a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>, <span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> *argv)</div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;{</div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;   <span class="keywordtype">int</span> total_lines = 0;</div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;   <span class="keywordtype">int</span> verbose = 0;</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a>;</div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;   <span class="keywordtype">char</span> idtext[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;</div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;   <span class="keywordflow">if</span> (s) { <span class="comment">/* Manager - get ActionID */</span></div><div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;      <span class="keywordtype">id</span> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;ActionID&quot;</span>);</div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>))</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;         snprintf(idtext, <span class="keyword">sizeof</span>(idtext), <span class="stringliteral">&quot;ActionID: %s\r\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;   }</div><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;</div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;   <span class="keywordflow">switch</span> (argc) {</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;   <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;      verbose = 1;</div><div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;   <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;      verbose = 0;</div><div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;   }</div><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;</div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;   <span class="keywordflow">if</span> (!s) {</div><div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Name                 Device Name          Instance Label               \n&quot;</span>);</div><div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;-------------------- -------------------- -------- --------------------\n&quot;</span>);</div><div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;   }</div><div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>, l, all) {</div><div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;      total_lines++;</div><div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;      <span class="keywordflow">if</span> (!s) {</div><div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;%-20s %-20s %8d %-20s\n&quot;</span>,</div><div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;            l-&gt;name,</div><div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;            (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a> ? l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;name : <span class="stringliteral">&quot;Not connected&quot;</span>),</div><div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;            l-&gt;instance,</div><div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;            l-&gt;label);</div><div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;         <span class="keywordflow">if</span> (verbose) {</div><div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, sub, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;               <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, bridged, <a class="code" href="../../d5/d7b/channel_8h.html#af9e27ecd92ff5aa897c9e058dfbd6510">ast_channel_bridge_peer</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;</div><div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;               <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;  %s&gt; %s to %s\n&quot;</span>,</div><div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;                  (sub == l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>?<span class="stringliteral">&quot;Active  &quot;</span>:<span class="stringliteral">&quot;Inactive&quot;</span>),</div><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;                  <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>),</div><div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;                  bridged ? <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridged) : <span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;               );</div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;            }</div><div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;         }</div><div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s,</div><div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;            <span class="stringliteral">&quot;Event: LineEntry\r\n%s&quot;</span></div><div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;            <span class="stringliteral">&quot;Channeltype: SKINNY\r\n&quot;</span></div><div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;            <span class="stringliteral">&quot;ObjectName: %s\r\n&quot;</span></div><div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;            <span class="stringliteral">&quot;ChannelObjectType: line\r\n&quot;</span></div><div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;            <span class="stringliteral">&quot;Device: %s\r\n&quot;</span></div><div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;            <span class="stringliteral">&quot;Instance: %d\r\n&quot;</span></div><div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;            <span class="stringliteral">&quot;Label: %s\r\n&quot;</span>,</div><div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;            idtext,</div><div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;            l-&gt;name,</div><div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;            (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a> ? l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;name : <span class="stringliteral">&quot;None&quot;</span>),</div><div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;            l-&gt;instance,</div><div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;            l-&gt;label);</div><div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;      }</div><div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;   }</div><div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;</div><div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;   <span class="keywordflow">if</span> (total) {</div><div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;      *total = total_lines;</div><div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;   }</div><div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;</div><div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;}</div><div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;<span class="comment">/*! \brief  Show Skinny lines in the manager API */</span></div><div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;<span class="comment">/*    Inspired from chan_sip */</span></div><div class="line"><a name="l04401"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1ac9ad552f6392f35b494cb0cf075fe6"> 4401</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1ac9ad552f6392f35b494cb0cf075fe6">manager_skinny_show_lines</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m)</div><div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;{</div><div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>[] = {<span class="stringliteral">&quot;skinny&quot;</span>, <span class="stringliteral">&quot;show&quot;</span>, <span class="stringliteral">&quot;lines&quot;</span>};</div><div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a> = 0;</div><div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;</div><div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#ga0ee6ee1f4d200f711e2983bffe770a72">astman_send_listack</a>(s, m, <span class="stringliteral">&quot;Line status list will follow&quot;</span>, <span class="stringliteral">&quot;start&quot;</span>);</div><div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;</div><div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;   <span class="comment">/* List the lines in separate manager events */</span></div><div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a63a93c5a25ffd9e1bda74ceb9f603c7d">_skinny_show_lines</a>(-1, &amp;total, s, m, 3, a);</div><div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;</div><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;   <span class="comment">/* Send final confirmation */</span></div><div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#ga58c3e3da5d31739cafaee1df6ddf9342">astman_send_list_complete_start</a>(s, m, <span class="stringliteral">&quot;LinelistComplete&quot;</span>, total);</div><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gabf7c909efbfc26d0d9c66786c83b8f69">astman_send_list_complete_end</a>(s);</div><div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;}</div><div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;</div><div class="line"><a name="l04417"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa141f086a05a7250a05aef742a4875c8"> 4417</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa141f086a05a7250a05aef742a4875c8">handle_skinny_show_lines</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;{</div><div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny show lines [verbose]&quot;</span>;</div><div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;         <span class="stringliteral">&quot;Usage: skinny show lines\n&quot;</span></div><div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;         <span class="stringliteral">&quot;       Lists all lines known to the Skinny subsystem.\n&quot;</span></div><div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;         <span class="stringliteral">&quot;       If &#39;verbose&#39; is specified, the output includes\n&quot;</span></div><div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;         <span class="stringliteral">&quot;       information about subs for each line.\n&quot;</span>;</div><div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;   }</div><div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;</div><div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>) {</div><div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>-1], <span class="stringliteral">&quot;verbose&quot;</span>)) {</div><div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;      }</div><div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a> - 1) {</div><div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;   }</div><div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;</div><div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a63a93c5a25ffd9e1bda74ceb9f603c7d">_skinny_show_lines</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>);</div><div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;}</div><div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;</div><div class="line"><a name="l04443"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#adb22dc7c9c0af667f244ba501ecfa322"> 4443</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#adb22dc7c9c0af667f244ba501ecfa322">_skinny_show_line</a>(<span class="keywordtype">int</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">int</span> fd, <span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> *argv)</div><div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;{</div><div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline;</div><div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *codec_buf = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a>);</div><div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;   <span class="keywordtype">char</span> group_buf[256];</div><div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;   <span class="keywordtype">char</span> cbuf[256];</div><div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;</div><div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;   <span class="keywordflow">switch</span> (argc) {</div><div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;   <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;   <span class="keywordflow">case</span> 6:</div><div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;   }</div><div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;</div><div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;</div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;   <span class="comment">/* Show all lines matching the one supplied */</span></div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, list) {</div><div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;      <span class="keywordflow">if</span> (argc == 6 &amp;&amp; (strcasecmp(argv[5], d-&gt;id) &amp;&amp; strcasecmp(argv[5], d-&gt;name))) {</div><div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;      }</div><div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list) {</div><div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *tmp_str = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(512);</div><div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;</div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;         <span class="keywordflow">if</span> (strcasecmp(argv[3], l-&gt;name)) {</div><div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;         }</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;         <span class="keywordflow">if</span> (type == 0) { <span class="comment">/* CLI */</span></div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Line:             %s\n&quot;</span>, l-&gt;name);</div><div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;On Device:        %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Line Label:       %s\n&quot;</span>, l-&gt;label);</div><div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Extension:        %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;exten, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Context:          %s\n&quot;</span>, l-&gt;context);</div><div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;CallGroup:        %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a092d4e67b0bda0f99b02a1534ee75408">ast_print_group</a>(group_buf, <span class="keyword">sizeof</span>(group_buf), l-&gt;callgroup));</div><div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;PickupGroup:      %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a092d4e67b0bda0f99b02a1534ee75408">ast_print_group</a>(group_buf, <span class="keyword">sizeof</span>(group_buf), l-&gt;pickupgroup));</div><div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;NamedCallGroup:   %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a37b17bdab87cd5278435ccb62f2414da">ast_print_namedgroups</a>(&amp;tmp_str, l-&gt;named_callgroups));</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(tmp_str);</div><div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;NamedPickupGroup: %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a37b17bdab87cd5278435ccb62f2414da">ast_print_namedgroups</a>(&amp;tmp_str, l-&gt;named_pickupgroups));</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(tmp_str);</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Language:         %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;language, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Accountcode:      %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;accountcode, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;AmaFlag:          %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#ac5686beb47ec95ccb0996ab1b596e559">ast_channel_amaflags2string</a>(l-&gt;amaflags));</div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;CallerId Number:  %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;cid_num, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;CallerId Name:    %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;cid_name, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Hide CallerId:    %s\n&quot;</span>, (l-&gt;hidecallerid ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;CFwdAll:          %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>((l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>), l-&gt;call_forward_all, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;CFwdBusy:         %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>((l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>), l-&gt;call_forward_busy, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;CFwdNoAnswer:     %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>((l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>), l-&gt;call_forward_noanswer, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;CFwdTimeout:      %dms\n&quot;</span>, l-&gt;callfwdtimeout);</div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;VoicemailBox:     %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;mailbox, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;VoicemailNumber:  %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;vmexten, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;MWIblink:         %d\n&quot;</span>, l-&gt;mwiblink);</div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Regextension:     %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;regexten, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Regcontext:       %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;regcontext, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;MoHInterpret:     %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;mohinterpret, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;MoHSuggest:       %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;mohsuggest, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Last dialed nr:   %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;lastnumberdialed, <span class="stringliteral">&quot;&lt;no calls made yet&gt;&quot;</span>));</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Last CallerID:    %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;lastcallerid, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Transfer enabled: %s\n&quot;</span>, (l-&gt;transfer ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Callwaiting:      %s\n&quot;</span>, (l-&gt;callwaiting ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;3Way Calling:     %s\n&quot;</span>, (l-&gt;threewaycalling ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Can forward:      %s\n&quot;</span>, (l-&gt;cancallforward ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Do Not Disturb:   %s\n&quot;</span>, (l-&gt;dnd ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;NAT:              %s\n&quot;</span>, (l-&gt;nat ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;immediate:        %s\n&quot;</span>, (l-&gt;immediate ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Group:            %d\n&quot;</span>, l-&gt;group);</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Parkinglot:       %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;parkinglot, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Conf Codecs:      %s\n&quot;</span>, <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, &amp;codec_buf));</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Neg Codecs:       %s\n&quot;</span>, <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, &amp;codec_buf));</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;            <span class="keywordflow">if</span>  (<a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">sublines</a>)) {</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;               <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;Sublines:\n&quot;</span>);</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">sublines</a>, subline, list) {</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;                  <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;     %s, %s@%s\n&quot;</span>, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a3777dbae63a15da001b2baa317a25149">name</a>, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a78d4847658b695383d849efd12399b38">exten</a>, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;               }</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;            }</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;         } <span class="keywordflow">else</span> { <span class="comment">/* manager */</span></div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Channeltype: SKINNY\r\n&quot;</span>);</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;ObjectName: %s\r\n&quot;</span>, l-&gt;name);</div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;ChannelObjectType: line\r\n&quot;</span>);</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Device: %s\r\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;LineLabel: %s\r\n&quot;</span>, l-&gt;label);</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Extension: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;exten, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Context: %s\r\n&quot;</span>, l-&gt;context);</div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;CallGroup: %s\r\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a092d4e67b0bda0f99b02a1534ee75408">ast_print_group</a>(group_buf, <span class="keyword">sizeof</span>(group_buf), l-&gt;callgroup));</div><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;PickupGroup: %s\r\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a092d4e67b0bda0f99b02a1534ee75408">ast_print_group</a>(group_buf, <span class="keyword">sizeof</span>(group_buf), l-&gt;pickupgroup));</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;NamedCallGroup: %s\r\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a37b17bdab87cd5278435ccb62f2414da">ast_print_namedgroups</a>(&amp;tmp_str, l-&gt;named_callgroups));</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(tmp_str);</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;NamedPickupGroup: %s\r\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a37b17bdab87cd5278435ccb62f2414da">ast_print_namedgroups</a>(&amp;tmp_str, l-&gt;named_pickupgroups));</div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(tmp_str);</div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Language: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;language, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Accountcode: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;accountcode, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;AMAflags: %s\r\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#ac5686beb47ec95ccb0996ab1b596e559">ast_channel_amaflags2string</a>(l-&gt;amaflags));</div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Callerid: %s\r\n&quot;</span>, <a class="code" href="../../de/d47/callerid_8h.html#a1c25633b1ed63682c95ec613d7cbe559">ast_callerid_merge</a>(cbuf, <span class="keyword">sizeof</span>(cbuf), l-&gt;cid_name, l-&gt;cid_num, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;HideCallerId: %s\r\n&quot;</span>, (l-&gt;hidecallerid ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;CFwdAll: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>((l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>), l-&gt;call_forward_all, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;CFwdBusy: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>((l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>), l-&gt;call_forward_busy, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;CFwdNoAnswer: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>((l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>), l-&gt;call_forward_noanswer, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;VoicemailBox: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;mailbox, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;VoicemailNumber: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;vmexten, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;MWIblink: %d\r\n&quot;</span>, l-&gt;mwiblink);</div><div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;RegExtension: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;regexten, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Regcontext: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;regcontext, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;MoHInterpret: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;mohinterpret, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;MoHSuggest: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;mohsuggest, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;LastDialedNr: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;lastnumberdialed, <span class="stringliteral">&quot;&lt;no calls made yet&gt;&quot;</span>));</div><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;LastCallerID: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;lastcallerid, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Transfer: %s\r\n&quot;</span>, (l-&gt;transfer ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Callwaiting: %s\r\n&quot;</span>, (l-&gt;callwaiting ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;3WayCalling: %s\r\n&quot;</span>, (l-&gt;threewaycalling ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;CanForward: %s\r\n&quot;</span>, (l-&gt;cancallforward ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;DoNotDisturb: %s\r\n&quot;</span>, (l-&gt;dnd ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;NAT: %s\r\n&quot;</span>, (l-&gt;nat ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;immediate: %s\r\n&quot;</span>, (l-&gt;immediate ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>));</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Group: %d\r\n&quot;</span>, l-&gt;group);</div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Parkinglot: %s\r\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(l-&gt;parkinglot, <span class="stringliteral">&quot;&lt;not set&gt;&quot;</span>));</div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;Codecs: %s\r\n&quot;</span>, <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, &amp;codec_buf));</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;            <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;         }</div><div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;      }</div><div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;   }</div><div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;</div><div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;}</div><div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;</div><div class="line"><a name="l04573"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a665787ef574f276e9a42fcfc3db4dbb4"> 4573</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a665787ef574f276e9a42fcfc3db4dbb4">manager_skinny_show_line</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m)</div><div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;{</div><div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>[4];</div><div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *line;</div><div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;</div><div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;   line = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Line&quot;</span>);</div><div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(line)) {</div><div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Line: &lt;name&gt; missing.&quot;</span>);</div><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;   }</div><div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;   a[0] = <span class="stringliteral">&quot;skinny&quot;</span>;</div><div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;   a[1] = <span class="stringliteral">&quot;show&quot;</span>;</div><div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;   a[2] = <span class="stringliteral">&quot;line&quot;</span>;</div><div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;   a[3] = line;</div><div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;</div><div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#adb22dc7c9c0af667f244ba501ecfa322">_skinny_show_line</a>(1, -1, s, m, 4, a);</div><div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(s, <span class="stringliteral">&quot;\r\n\r\n&quot;</span> );</div><div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;}</div><div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;<span class="comment">/*! \brief List line information. */</span></div><div class="line"><a name="l04594"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ab2c8a9b4d1c45221578f1c38d56205d1"> 4594</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab2c8a9b4d1c45221578f1c38d56205d1">handle_skinny_show_line</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;{</div><div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny show line&quot;</span>;</div><div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;         <span class="stringliteral">&quot;Usage: skinny show line &lt;Line&gt; [on &lt;DeviceID|DeviceName&gt;]\n&quot;</span></div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;         <span class="stringliteral">&quot;       List all lineinformation of a specific line known to the Skinny subsystem.\n&quot;</span>;</div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa1d32ef00ccadf4ded249067f83e8426">complete_skinny_show_line</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>);</div><div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;   }</div><div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;</div><div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#adb22dc7c9c0af667f244ba501ecfa322">_skinny_show_line</a>(0, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>);</div><div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;}</div><div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;<span class="comment">/*! \brief List global settings for the Skinny subsystem. */</span></div><div class="line"><a name="l04611"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aac76ce73e7e3ed21fe0b3b86e31c0f75"> 4611</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#aac76ce73e7e3ed21fe0b3b86e31c0f75">handle_skinny_show_settings</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;{</div><div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;   <span class="keywordtype">char</span> immed_str[2] = {<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab9f6af2c0142f36638e3cd7d240497dd">immed_dialchar</a>, <span class="charliteral">&#39;\0&#39;</span>};</div><div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;</div><div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny show settings&quot;</span>;</div><div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;         <span class="stringliteral">&quot;Usage: skinny show settings\n&quot;</span></div><div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;         <span class="stringliteral">&quot;       Lists all global configuration settings of the Skinny subsystem.\n&quot;</span>;</div><div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;   }</div><div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;</div><div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 3)</div><div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;</div><div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;\nGlobal Settings:\n&quot;</span>);</div><div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Skinny Port:            %d\n&quot;</span>, ntohs(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_port));</div><div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Bindaddress:            %s\n&quot;</span>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_addr));</div><div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  KeepAlive:              %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a>);</div><div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Date Format:            %s\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d44486240bfa969fd6cf04fab65c097">date_format</a>);</div><div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Voice Mail Extension:   %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">vmexten</a>, <span class="stringliteral">&quot;(not set)&quot;</span>));</div><div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Reg. context:           %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>, <span class="stringliteral">&quot;(not set)&quot;</span>));</div><div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Immed. Dial Key:        %s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(immed_str, <span class="stringliteral">&quot;(not set)&quot;</span>));</div><div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Jitterbuffer enabled:   %s\n&quot;</span>, <a class="code" href="../../dc/db0/cli_8h.html#a29e703082f8137e165097c41f249e6d1">AST_CLI_YESNO</a>(<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a>)));</div><div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a>)) {</div><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Jitterbuffer forced:    %s\n&quot;</span>, <a class="code" href="../../dc/db0/cli_8h.html#a29e703082f8137e165097c41f249e6d1">AST_CLI_YESNO</a>(<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63">AST_JB_FORCED</a>)));</div><div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Jitterbuffer max size:  %ld\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>.<a class="code" href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">max_size</a>);</div><div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Jitterbuffer resync:    %ld\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>.<a class="code" href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">resync_threshold</a>);</div><div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Jitterbuffer impl:      %s\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>.<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>);</div><div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>.<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>, <span class="stringliteral">&quot;adaptive&quot;</span>)) {</div><div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Jitterbuffer tgt extra: %ld\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>.<a class="code" href="../../d7/dba/structast__jb__conf.html#a322d898485ffd6c3c07391f381903bdd">target_extra</a>);</div><div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;      }</div><div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Jitterbuffer log:       %s\n&quot;</span>, <a class="code" href="../../dc/db0/cli_8h.html#a29e703082f8137e165097c41f249e6d1">AST_CLI_YESNO</a>(<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ae6ca3d7ddaa509b36e1fb4c36c18478e">AST_JB_LOG</a>)));</div><div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;   }</div><div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;</div><div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;}</div><div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;</div><div class="line"><a name="l04652"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad90171ebed1708939b3da7ce3fcaf4b1"> 4652</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad90171ebed1708939b3da7ce3fcaf4b1">_skinny_message_set</a>(<span class="keywordtype">int</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">int</span> fd, <span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> *argv)</div><div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;{</div><div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;   <span class="keywordtype">char</span> text_buf[32];</div><div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;</div><div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;   <span class="keywordflow">if</span> (argc &lt; 7) {</div><div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;   }</div><div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;</div><div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>) {</div><div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(argv[3], d-&gt;name)) {</div><div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;         <span class="keywordtype">int</span> i;</div><div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;         <span class="keywordtype">char</span> *strp = text_buf;</div><div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;         <span class="keywordtype">int</span> charleft = <span class="keyword">sizeof</span>(text_buf);</div><div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;         <span class="keywordtype">int</span> <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> = atoi(argv[4]);</div><div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;         <span class="keywordtype">int</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = atoi(argv[5]);</div><div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(strp, argv[6], charleft);</div><div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;         charleft -= strlen(strp);</div><div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;         strp += strlen(strp);</div><div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;         <span class="keywordflow">for</span>(i=7; i&lt;argc; i++) {</div><div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(strp++, <span class="stringliteral">&quot; &quot;</span>, charleft--);</div><div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(strp, argv[i], charleft);</div><div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;            charleft -= strlen(strp);</div><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;            strp += strlen(strp);</div><div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;         }</div><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1338c8645d55040c615fe717b81b7460">send_displayprinotify</a>(d, text_buf, <span class="stringliteral">&quot;&quot;</span>, timeout, priority);</div><div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;      }</div><div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;   }</div><div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;}</div><div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;<span class="comment">/*! \brief Handle sending messages to devices. */</span></div><div class="line"><a name="l04686"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9e5d78aec2979a888d0b213de3334de5"> 4686</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e5d78aec2979a888d0b213de3334de5">handle_skinny_message_set</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;{</div><div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny message set&quot;</span>;</div><div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;         <span class="stringliteral">&quot;Usage: skinny message set &lt;device&gt; &lt;priority&gt; &lt;timeout&gt; &lt;message&gt;\n&quot;</span></div><div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;         <span class="stringliteral">&quot;       Set the current priority level message on a device.\n&quot;</span>;</div><div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1330941685fd5dc9308d2f91dd7b70d1">complete_skinny_show_device</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>);</div><div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;   }</div><div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;</div><div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad90171ebed1708939b3da7ce3fcaf4b1">_skinny_message_set</a>(0, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>);</div><div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;}</div><div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;</div><div class="line"><a name="l04702"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a545e8e8ebe002a2bd9c37b47a45b3fbb"> 4702</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a545e8e8ebe002a2bd9c37b47a45b3fbb">_skinny_message_clear</a>(<span class="keywordtype">int</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">int</span> fd, <span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> *argv)</div><div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;{</div><div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;</div><div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;   <span class="keywordflow">if</span> (argc != 5) {</div><div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;   }</div><div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;</div><div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">list</a>) {</div><div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(argv[3], d-&gt;name)) {</div><div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;         <span class="keywordtype">int</span> <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> = atoi(argv[4]);</div><div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad55a9ae0d55608005570cd46bb4bee29">transmit_clearprinotify</a>(d, priority);</div><div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;      }</div><div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;   }</div><div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;}</div><div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;<span class="comment">/*! \brief Handle clearing messages to devices. */</span></div><div class="line"><a name="l04722"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#adee653440be98ee00c14b22cc5de381d"> 4722</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#adee653440be98ee00c14b22cc5de381d">handle_skinny_message_clear</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, <span class="keywordtype">int</span> cmd, <span class="keyword">struct</span> <a class="code" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</div><div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;{</div><div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;skinny message clear&quot;</span>;</div><div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;         <span class="stringliteral">&quot;Usage: skinny message clear &lt;device&gt; &lt;priority&gt;\n&quot;</span></div><div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;         <span class="stringliteral">&quot;       Clear the current priority level message on device.\n&quot;</span>;</div><div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1330941685fd5dc9308d2f91dd7b70d1">complete_skinny_show_device</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>);</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;   }</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;</div><div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a545e8e8ebe002a2bd9c37b47a45b3fbb">_skinny_message_clear</a>(0, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>);</div><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;}</div><div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;</div><div class="line"><a name="l04738"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af1f50f72b24c706be012b5d9d93d4a10"> 4738</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af1f50f72b24c706be012b5d9d93d4a10">cli_skinny</a>[] = {</div><div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae40517f2290aaf18acf058abb998173e">handle_skinny_show_devices</a>, <span class="stringliteral">&quot;List defined Skinny devices&quot;</span>),</div><div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a6aeb19612127b1e5b27bbaf1950b922d">handle_skinny_show_device</a>, <span class="stringliteral">&quot;List Skinny device information&quot;</span>),</div><div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa141f086a05a7250a05aef742a4875c8">handle_skinny_show_lines</a>, <span class="stringliteral">&quot;List defined Skinny lines per device&quot;</span>),</div><div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab2c8a9b4d1c45221578f1c38d56205d1">handle_skinny_show_line</a>, <span class="stringliteral">&quot;List Skinny line information&quot;</span>),</div><div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aac76ce73e7e3ed21fe0b3b86e31c0f75">handle_skinny_show_settings</a>, <span class="stringliteral">&quot;List global Skinny settings&quot;</span>),</div><div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a092e3458bbcb8f2c2f2d10ed8ea26a97">handle_skinny_set_debug</a>, <span class="stringliteral">&quot;Enable/Disable Skinny debugging&quot;</span>),</div><div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a90b8b765d7701285c46cd5b10f116605">handle_skinny_reset</a>, <span class="stringliteral">&quot;Reset Skinny device(s)&quot;</span>),</div><div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa9263b2b877126867940d57b86a8132d">handle_skinny_reload</a>, <span class="stringliteral">&quot;Reload Skinny config&quot;</span>),</div><div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e5d78aec2979a888d0b213de3334de5">handle_skinny_message_set</a>, <span class="stringliteral">&quot;Send message to devices&quot;</span>),</div><div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#adee653440be98ee00c14b22cc5de381d">handle_skinny_message_clear</a>, <span class="stringliteral">&quot;Clear message to devices&quot;</span>),</div><div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;};</div><div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;</div><div class="line"><a name="l04753"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afdd465471ea50755ff86f47ead660ea0"> 4753</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#afdd465471ea50755ff86f47ead660ea0">start_rtp</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;{</div><div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;   <span class="keywordtype">int</span> hasvideo = 0;</div><div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> bindaddr_tmp;</div><div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;</div><div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a>(sub);</div><div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 3, <span class="stringliteral">&quot;Sub %u - Starting RTP\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;   <a class="code" href="../../db/df1/netsock2_8h.html#ad68264a6784dc22570eda3cb447307f8">ast_sockaddr_from_sin</a>(&amp;bindaddr_tmp, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>);</div><div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;   sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a012b2ab9fad02a5fbf9e457a69020ade">ast_rtp_instance_new</a>(<span class="stringliteral">&quot;asterisk&quot;</span>, sched, &amp;bindaddr_tmp, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;   <span class="keywordflow">if</span> (hasvideo)</div><div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a012b2ab9fad02a5fbf9e457a69020ade">ast_rtp_instance_new</a>(<span class="stringliteral">&quot;asterisk&quot;</span>, sched, &amp;bindaddr_tmp, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;</div><div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca9f63c95936712cfd6ec65555f1a27053">AST_RTP_PROPERTY_RTCP</a>, 1);</div><div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;   }</div><div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>) {</div><div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca9f63c95936712cfd6ec65555f1a27053">AST_RTP_PROPERTY_RTCP</a>, 1);</div><div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;   }</div><div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;</div><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a> &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab88c871dd5c164b7a0a6af5e7e12d16f">ast_rtp_instance_set_channel_id</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, 0, <a class="code" href="../../d5/dde/rtp__engine_8h.html#aee3ef7f9e53a34e743c3a95c9ca95fb4">ast_rtp_instance_fd</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 0));</div><div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, 1, <a class="code" href="../../d5/dde/rtp__engine_8h.html#aee3ef7f9e53a34e743c3a95c9ca95fb4">ast_rtp_instance_fd</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 1));</div><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;   }</div><div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;   <span class="keywordflow">if</span> (hasvideo &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a> &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab88c871dd5c164b7a0a6af5e7e12d16f">ast_rtp_instance_set_channel_id</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, 2, <a class="code" href="../../d5/dde/rtp__engine_8h.html#aee3ef7f9e53a34e743c3a95c9ca95fb4">ast_rtp_instance_fd</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, 0));</div><div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, 3, <a class="code" href="../../d5/dde/rtp__engine_8h.html#aee3ef7f9e53a34e743c3a95c9ca95fb4">ast_rtp_instance_fd</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, 1));</div><div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;   }</div><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab71294e675bc01eb29e9fd13b3839759">ast_rtp_instance_set_qos</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.tos_audio, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.cos_audio, <span class="stringliteral">&quot;Skinny RTP&quot;</span>);</div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca0f994311315c8d856b8298bc22f7e007">AST_RTP_PROPERTY_NAT</a>, l-&gt;nat);</div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;      <span class="comment">/* Set frame packetization */</span></div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a6f85ba232050ff932d804b62e6e848cd">ast_rtp_codecs_set_framing</a>(<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>),</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a3aaa13500c7e4dd3dad8e4c6afccbed3">ast_format_cap_get_framing</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>));</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;   }</div><div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>) {</div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab71294e675bc01eb29e9fd13b3839759">ast_rtp_instance_set_qos</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.tos_video, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.cos_video, <span class="stringliteral">&quot;Skinny VRTP&quot;</span>);</div><div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca0f994311315c8d856b8298bc22f7e007">AST_RTP_PROPERTY_NAT</a>, l-&gt;nat);</div><div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;   }</div><div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;</div><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;   <span class="comment">/* Create the RTP connection */</span></div><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae0cb986aeace802ace6a240d73c7335c">transmit_connect</a>(d, sub);</div><div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;}</div><div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;</div><div class="line"><a name="l04807"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3e87062c4b2006df274bdb9f2ef6b4cd"> 4807</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e87062c4b2006df274bdb9f2ef6b4cd">destroy_rtp</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;{</div><div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 3, <span class="stringliteral">&quot;Sub %u - Destroying RTP\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3978338bfe35df207f003782e428fb0c">ast_rtp_instance_stop</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>);</div><div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0bfe6336fe7deb78148a84aef2732c7a">ast_rtp_instance_destroy</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>);</div><div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;   }</div><div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>) {</div><div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 3, <span class="stringliteral">&quot;Sub %u - Destroying VRTP\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3978338bfe35df207f003782e428fb0c">ast_rtp_instance_stop</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>);</div><div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0bfe6336fe7deb78148a84aef2732c7a">ast_rtp_instance_destroy</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>);</div><div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;   }</div><div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;}</div><div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;</div><div class="line"><a name="l04823"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7341024ae1e485aaad445b8d2504b446"> 4823</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7341024ae1e485aaad445b8d2504b446">skinny_newcall</a>(<span class="keywordtype">void</span> *data)</div><div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;{</div><div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = <a class="code" href="../../df/d3c/structast__channel.html#a8f64897c7ccc5c13f276d1d07c4e7095">data</a>;</div><div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;</div><div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(c);</div><div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a88d833a56ea7de33e230281c5c12b75d">ast_set_callerid</a>(c,</div><div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;      l-&gt;hidecallerid ? <span class="stringliteral">&quot;&quot;</span> : l-&gt;cid_num,</div><div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;      l-&gt;hidecallerid ? <span class="stringliteral">&quot;&quot;</span> : l-&gt;cid_name,</div><div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(c)-&gt;ani.number.valid ? <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> : l-&gt;cid_num);</div><div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;<span class="preprocessor">#if 1 </span><span class="comment">/* XXX This code is probably not necessary */</span><span class="preprocessor"></span></div><div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#abc7ac58271a860c92fee033afb031e8d">ast_party_number_free</a>(&amp;<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>);</div><div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a27c4f1a52c8a53bc9e7122dc04e81344">ast_party_number_init</a>(&amp;<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<span class="keywordtype">id</span>.number);</div><div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">valid</a> = 1;</div><div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">str</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(c));</div><div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a857e0317fcefc59c7a21c1f08ea7be73">ast_party_name_free</a>(&amp;<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a0fe98273fc14eb880f4cfdc71cdec1b7">ast_party_name_init</a>(&amp;<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(c)-&gt;<span class="keywordtype">id</span>.name);</div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(c, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a10482c2bc6340e09ed02b00bc0e3f433">AST_STATE_RING</a>);</div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(c);</div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;   <span class="keywordflow">if</span> (!sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#afdd465471ea50755ff86f47ead660ea0">start_rtp</a>(sub);</div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;   }</div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Sub %u - Calling %s@%s\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(c), <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(c));</div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;   res = <a class="code" href="../../db/de0/pbx_8h.html#a44b6406c9220f7f2b610ac712369f405">ast_pbx_run</a>(c);</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;PBX exited non-zero\n&quot;</span>);</div><div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aceb6a87185d21366d7f3f21fd69cee90">SKINNY_REORDER</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;   }</div><div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;}</div><div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;</div><div class="line"><a name="l04858"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aadfb4dbc65b363d775663843e970a551"> 4858</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aadfb4dbc65b363d775663843e970a551">skinny_dialer</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">int</span> timedout)</div><div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;{</div><div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;</div><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;   <span class="keywordflow">if</span> (timedout || !<a class="code" href="../../db/de0/pbx_8h.html#ac359af75b9494f50904583d2168a7577">ast_matchmore_extension</a>(c, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(c), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, 1, l-&gt;cid_num)) {</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Force dialing &#39;%s&#39; because of %s\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, (timedout ? <span class="stringliteral">&quot;timeout&quot;</span> : <span class="stringliteral">&quot;exactmatch&quot;</span>));</div><div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a>(c, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(c), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, 1, l-&gt;cid_num)) {</div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>) {</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(sub, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;         }</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;         <span class="keywordflow">if</span> (d-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>) {</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;            <span class="comment">// FIXME: redundant because below will onhook before the sound plays, but it correct to send it.</span></div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aceb6a87185d21366d7f3f21fd69cee90">SKINNY_REORDER</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;         }</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(sub, 0);</div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;      }</div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Wait for more digits\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a>(c, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(c), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, 1, l-&gt;cid_num)) {</div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a526c9d413d9b96dfea81eae19b0619b5">KEYDEF_DADFD</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a18410f5b8349988e45ea06befa7ff163">skinny_sched_add</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a24514343553b05c66e5b7d16e2df45cc">matchdigittimeout</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7aad49354a0cd82f016e6692780e3669">skinny_dialer_cb</a>, sub);</div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a18410f5b8349988e45ea06befa7ff163">skinny_sched_add</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa319ef1606201db158ce7195fb8eed45">gendigittimeout</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7aad49354a0cd82f016e6692780e3669">skinny_dialer_cb</a>, sub);</div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;      }</div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;   }</div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;}</div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;</div><div class="line"><a name="l04888"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7aad49354a0cd82f016e6692780e3669"> 4888</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7aad49354a0cd82f016e6692780e3669">skinny_dialer_cb</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;{</div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = (<span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *)data;</div><div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Dialer called from SCHED %d\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a>);</div><div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;   sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> = -1;</div><div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aadfb4dbc65b363d775663843e970a551">skinny_dialer</a>(sub, 1);</div><div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;}</div><div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;</div><div class="line"><a name="l04897"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4f3cdc7e17a8607011181b2fca31e7fa"> 4897</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f3cdc7e17a8607011181b2fca31e7fa">skinny_autoanswer_cb</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;{</div><div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = (<span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *)data;</div><div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a>(sub);</div><div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;   sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208">aa_sched</a> = -1;</div><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1b0b13fd37b0eec0ebbc6031c91d4662">SKINNY_CONNECTED</a>);</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;}</div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;</div><div class="line"><a name="l04907"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad451e16121f4d06792f2069b7f80ec3e"> 4907</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad451e16121f4d06792f2069b7f80ec3e">skinny_cfwd_cb</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;{</div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = (<span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *)data;</div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;   sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">cfwd_sched</a> = -1;</div><div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - CFWDNOANS to %s.\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, l-&gt;call_forward_noanswer);</div><div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;   ast_channel_call_forward_set(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, l-&gt;call_forward_noanswer);</div><div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a5344deefcbdcca938001314e81ea195a">AST_CONTROL_REDIRECTING</a>);</div><div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;}</div><div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;</div><div class="line"><a name="l04918"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a46d7abedaf706e8b5e7da97d9e97344b"> 4918</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a46d7abedaf706e8b5e7da97d9e97344b">skinny_call</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keyword">const</span> <span class="keywordtype">char</span> *dest, <span class="keywordtype">int</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</div><div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;{</div><div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(ast);</div><div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *current;</div><div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;   <span class="keywordtype">int</span> doautoanswer = 0;</div><div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;</div><div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;   <span class="keywordflow">if</span> (!d || !d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>) {</div><div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Device not registered, cannot call %s\n&quot;</span>, dest);</div><div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;   }</div><div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;</div><div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;   <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(ast) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>) &amp;&amp; (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(ast) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660addb60fd97b55a4aea24f992e30fe3c84">AST_STATE_RESERVED</a>)) {</div><div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;skinny_call called on %s, neither down nor reserved\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(ast));</div><div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;   }</div><div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;</div><div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Skinny Call (%s) - Sub %u\n&quot;</span>,</div><div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(ast), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;</div><div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;   <span class="keywordflow">if</span> (l-&gt;dnd) {</div><div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(ast, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875">AST_CONTROL_BUSY</a>);</div><div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;   }</div><div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;</div><div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(sub,list) &amp;&amp; !l-&gt;callwaiting) {</div><div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(ast, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875">AST_CONTROL_BUSY</a>);</div><div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;   }</div><div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;</div><div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a>(sub);</div><div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(<a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(ast), current, <a class="code" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">entries</a>) {</div><div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;      <span class="keywordflow">if</span> (!(strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(current), <span class="stringliteral">&quot;SKINNY_AUTOANSWER&quot;</span>))) {</div><div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;         <span class="keywordflow">if</span> (d-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a> &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208">aa_sched</a> &lt; 0) {</div><div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[24];</div><div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;            <span class="keywordtype">int</span> aatime;</div><div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;            <span class="keywordtype">char</span> *stringp = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, *curstr;</div><div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buf, <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(current), <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;            curstr = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;:&quot;</span>);</div><div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;            aatime = atoi(curstr);</div><div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;            <span class="keywordflow">while</span> ((curstr = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;:&quot;</span>))) {</div><div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;               <span class="keywordflow">if</span> (!(strcasecmp(curstr,<span class="stringliteral">&quot;BEEP&quot;</span>))) {</div><div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;                  sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a43949878e5a771ad7dd4319b8256fb48">aa_beep</a> = 1;</div><div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;               } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(strcasecmp(curstr,<span class="stringliteral">&quot;MUTE&quot;</span>))) {</div><div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;                  sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a892b2d4a6db65310c71e3cdc7bbf9b98">aa_mute</a> = 1;</div><div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;               }</div><div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;            }</div><div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - setting autoanswer time=%dms %s%s\n&quot;</span>,</div><div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;               sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, aatime, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a43949878e5a771ad7dd4319b8256fb48">aa_beep</a> ? <span class="stringliteral">&quot;BEEP &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a892b2d4a6db65310c71e3cdc7bbf9b98">aa_mute</a> ? <span class="stringliteral">&quot;MUTE&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;            <span class="keywordflow">if</span> (aatime) {</div><div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;               <span class="comment">//sub-&gt;aa_sched = ast_sched_add(sched, aatime, skinny_autoanswer_cb, sub);</span></div><div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;               sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208">aa_sched</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a18410f5b8349988e45ea06befa7ff163">skinny_sched_add</a>(aatime, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f3cdc7e17a8607011181b2fca31e7fa">skinny_autoanswer_cb</a>, sub);</div><div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;               doautoanswer = 1;</div><div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;            }</div><div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;         }</div><div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;      }</div><div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;   }</div><div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;</div><div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a>);</div><div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;   <span class="keywordflow">if</span> (doautoanswer) {</div><div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>);</div><div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;   }</div><div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;}</div><div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;</div><div class="line"><a name="l04987"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#acbddfa3c6c07d0f530dce92d04c42c19"> 4987</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#acbddfa3c6c07d0f530dce92d04c42c19">skinny_hangup</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast)</div><div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;{</div><div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(ast);</div><div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;</div><div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;   <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Asked to hangup channel not connected\n&quot;</span>);</div><div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;   }</div><div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;</div><div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(sub, 1);</div><div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;</div><div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Destroying\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;</div><div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a74175021175357b1d82492f84ff6403a">skinny_set_owner</a>(sub, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a929b8b2cb36308e5cf4e51ed880bfcba">ast_channel_tech_pvt_set</a>(ast, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e87062c4b2006df274bdb9f2ef6b4cd">destroy_rtp</a>(sub);</div><div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e">origtonum</a>);</div><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad5a6cbf59d842df8ea89ed445f42b1f2">origtoname</a>);</div><div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sub);</div><div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(<a class="code" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">self</a>);</div><div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;}</div><div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;</div><div class="line"><a name="l05010"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afac661ab214a4a68d115b3a1c70fdb32"> 5010</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#afac661ab214a4a68d115b3a1c70fdb32">skinny_answer</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast)</div><div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;{</div><div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(ast);</div><div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;</div><div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;   sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4650e5e1429f8982af64b9c42c8c53d3">cxmode</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac56d16f9c5cdbcc4b81eb63f9039e0e6">SKINNY_CX_SENDRECV</a>;</div><div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;</div><div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;skinny_answer(%s) on %s@%s-%u\n&quot;</span>,</div><div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(ast), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;name, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;name, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;</div><div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>);</div><div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;</div><div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;}</div><div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;</div><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;<span class="comment">/* Retrieve audio/etc from channel.  Assumes sub-&gt;lock is already held. */</span></div><div class="line"><a name="l05026"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abe9d19a5620cb9ddf6dc7d5b6310e0c2"> 5026</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#abe9d19a5620cb9ddf6dc7d5b6310e0c2">skinny_rtp_read</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;{</div><div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f;</div><div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;</div><div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;   <span class="keywordflow">if</span> (!sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;      <span class="comment">/* We have no RTP allocated for this channel */</span></div><div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;   }</div><div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;</div><div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;   <span class="keywordflow">switch</span>(<a class="code" href="../../d5/d7b/channel_8h.html#a3e3e7e66e65ad9cdba2299e36b13e173">ast_channel_fdno</a>(ast)) {</div><div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;   <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;      f = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 0); <span class="comment">/* RTP Audio */</span></div><div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;   <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;      f = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 1); <span class="comment">/* RTCP Control Channel */</span></div><div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;   <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;      f = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, 0); <span class="comment">/* RTP Video */</span></div><div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;   <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;      f = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, 1); <span class="comment">/* RTCP Control Channel for video */</span></div><div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;   <span class="keywordflow">case</span> 5:</div><div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;      <span class="comment">/* Not yet supported */</span></div><div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;      f = <a class="code" href="../../d5/da1/udptl_8h.html#ae0808bce80557e3107c9030bd8a832fe">ast_udptl_read</a>(sub-&gt;udptl); <span class="comment">/* UDPTL for T.38 */</span></div><div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;      f = &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;   }</div><div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;</div><div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;   <span class="keywordflow">if</span> (ast) {</div><div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;      <span class="comment">/* We already hold the channel lock */</span></div><div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;      <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d3c/format__cap_8h.html#a4fadd3c35438f866e29eddc68283bce6">ast_format_cap_iscompatible_format</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(ast), f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a>) {</div><div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *caps;</div><div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;</div><div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Oooh, format changed to %s\n&quot;</span>, <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>));</div><div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;</div><div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;            caps = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;            <span class="keywordflow">if</span> (caps) {</div><div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;               <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(caps, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>, 0);</div><div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;               <a class="code" href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a>(ast, caps);</div><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;               <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;            }</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(ast, <a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(ast));</div><div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(ast, <a class="code" href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a>(ast));</div><div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;         }</div><div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;      }</div><div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;   }</div><div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;   <span class="keywordflow">return</span> f;</div><div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;}</div><div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;</div><div class="line"><a name="l05081"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ade22bc3bb339cf936adbcd5a32f07537"> 5081</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#ade22bc3bb339cf936adbcd5a32f07537">skinny_read</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast)</div><div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;{</div><div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *fr;</div><div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(ast);</div><div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a>(sub);</div><div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;   fr = <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe9d19a5620cb9ddf6dc7d5b6310e0c2">skinny_rtp_read</a>(sub);</div><div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;   <span class="keywordflow">return</span> fr;</div><div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;}</div><div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;</div><div class="line"><a name="l05091"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9e4a5b612101b227ea903b83bd9a863a"> 5091</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e4a5b612101b227ea903b83bd9a863a">skinny_write</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keyword">struct</span> <a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame)</div><div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;{</div><div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(ast);</div><div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;   <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;      <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a6c9398ee8989239124295d096a87bf32">AST_FRAME_IMAGE</a>) {</div><div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Can&#39;t send %u type frames with skinny_write\n&quot;</span>, frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>);</div><div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;      }</div><div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d3c/format__cap_8h.html#a4fadd3c35438f866e29eddc68283bce6">ast_format_cap_iscompatible_format</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(ast), frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a>) {</div><div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *codec_buf = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a>);</div><div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Asked to transmit frame type %s, while native formats is %s (read/write = %s/%s)\n&quot;</span>,</div><div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;            <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>),</div><div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(ast), &amp;codec_buf),</div><div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;            <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(ast)),</div><div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;            <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a>(ast)));</div><div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;      }</div><div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;   }</div><div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;   <span class="keywordflow">if</span> (sub) {</div><div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a>(sub);</div><div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;         res = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a87cb097a21ab7712c27aa9e3b3a1ef69">ast_rtp_instance_write</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, frame);</div><div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;      }</div><div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;   }</div><div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;}</div><div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;</div><div class="line"><a name="l05123"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa67baa68e813caec6b66dac51d58f1f2"> 5123</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa67baa68e813caec6b66dac51d58f1f2">skinny_fixup</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *oldchan, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *newchan)</div><div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;{</div><div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(newchan);</div><div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;skinny_fixup(%s, %s)\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(oldchan), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(newchan));</div><div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> != oldchan) {</div><div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;old channel wasn&#39;t %p but was %p\n&quot;</span>, oldchan, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;   }</div><div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a74175021175357b1d82492f84ff6403a">skinny_set_owner</a>(sub, newchan);</div><div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;}</div><div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;</div><div class="line"><a name="l05135"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a60a505427fdd444c262281da8d1eb251"> 5135</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a60a505427fdd444c262281da8d1eb251">skinny_senddigit_begin</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keywordtype">char</span> <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>)</div><div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;{</div><div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;   <span class="keywordflow">return</span> -1; <span class="comment">/* Start inband indications */</span></div><div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;}</div><div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;</div><div class="line"><a name="l05140"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a76035e956bb8c2cfc5e6412fd6c02c55"> 5140</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a76035e956bb8c2cfc5e6412fd6c02c55">skinny_senddigit_end</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keywordtype">char</span> <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> duration)</div><div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;{</div><div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = ast-&gt;<a class="code" href="../../df/d3c/structast__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;   <span class="comment">/* not right */</span></div><div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;   sprintf(tmp, <span class="stringliteral">&quot;%d&quot;</span>, digit);</div><div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;   <span class="comment">//transmit_tone(d, digit, l-&gt;instance, sub-&gt;callid);</span></div><div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;   <span class="keywordflow">return</span> -1; <span class="comment">/* Stop inband indications */</span></div><div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;}</div><div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;</div><div class="line"><a name="l05154"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1ae95d3d12c225bb40b497687b3e9dc1"> 5154</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1ae95d3d12c225bb40b497687b3e9dc1">get_devicestate</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l)</div><div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;{</div><div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a>;</div><div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;</div><div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;   <span class="keywordflow">if</span> (!l)</div><div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;      res = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea9c008e1d20858cbc3275c157e02ebc94">AST_DEVICE_INVALID</a>;</div><div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a> || !l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>)</div><div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;      res = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549">AST_DEVICE_UNAVAILABLE</a>;</div><div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (l-&gt;dnd)</div><div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;      res = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a>;</div><div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;      <span class="keywordflow">if</span> (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>) {</div><div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;         res = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>;</div><div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;         res = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a>;</div><div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;      }</div><div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;</div><div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, sub, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>) {</div><div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;            res = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea6b7416bea92d3bc5ee8e36f0a484cdc1">AST_DEVICE_ONHOLD</a>;</div><div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;         }</div><div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;      }</div><div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;   }</div><div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;</div><div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;}</div><div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;</div><div class="line"><a name="l05183"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a240fa2ebaa98bd76495b1cefde05660a"> 5183</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a240fa2ebaa98bd76495b1cefde05660a">control2str</a>(<span class="keywordtype">int</span> ind) {</div><div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;</div><div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;   <span class="keywordflow">switch</span> (ind) {</div><div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a>:</div><div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Other end has hungup&quot;</span>;</div><div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a00675bfb8c64b2be86297fe4cba51fa2">AST_CONTROL_RING</a>:</div><div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Local ring&quot;</span>;</div><div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>:</div><div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Remote end is ringing&quot;</span>;</div><div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe">AST_CONTROL_ANSWER</a>:</div><div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Remote end has answered&quot;</span>;</div><div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875">AST_CONTROL_BUSY</a>:</div><div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Remote end is busy&quot;</span>;</div><div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a5a24176e8066b727463907da4903bb8e">AST_CONTROL_TAKEOFFHOOK</a>:</div><div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Make it go off hook&quot;</span>;</div><div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a28cd8e9f9005e25624f993d6edd46755">AST_CONTROL_OFFHOOK</a>:</div><div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Line is off hook&quot;</span>;</div><div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a850bb06a1702741c93a3fd67cc9637ab">AST_CONTROL_CONGESTION</a>:</div><div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Congestion (circuits busy)&quot;</span>;</div><div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ae8f2cd460fdc81e0a774434fa002e4bf">AST_CONTROL_FLASH</a>:</div><div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Flash hook&quot;</span>;</div><div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a195b2c39c09113953814aa800dd06e7f">AST_CONTROL_WINK</a>:</div><div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Wink&quot;</span>;</div><div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ac4106406e269667ff84ee49e0a634f94">AST_CONTROL_OPTION</a>:</div><div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Set a low-level option&quot;</span>;</div><div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aacb7ddf1a95fa544fdecada68213f3c7">AST_CONTROL_RADIO_KEY</a>:</div><div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Key Radio&quot;</span>;</div><div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a34ac3ccebc219c59daa7eb0275fcd54d">AST_CONTROL_RADIO_UNKEY</a>:</div><div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Un-Key Radio&quot;</span>;</div><div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a>:</div><div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Remote end is making Progress&quot;</span>;</div><div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a50b7fe33bba67b74dd7b746539e81000">AST_CONTROL_PROCEEDING</a>:</div><div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Remote end is proceeding&quot;</span>;</div><div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a>:</div><div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Hold&quot;</span>;</div><div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a>:</div><div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unhold&quot;</span>;</div><div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a>:</div><div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;VidUpdate&quot;</span>;</div><div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a009e81151b19671f42b5e84ab6a619f4">AST_CONTROL_SRCUPDATE</a>:</div><div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Media Source Update&quot;</span>;</div><div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ae177c145d03ff05a54e1d0547a239005">AST_CONTROL_TRANSFER</a>:</div><div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Transfer&quot;</span>;</div><div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ac976c01c12ae70e36b99b16dbfa3dda7">AST_CONTROL_CONNECTED_LINE</a>:</div><div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Connected Line&quot;</span>;</div><div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a5344deefcbdcca938001314e81ea195a">AST_CONTROL_REDIRECTING</a>:</div><div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Redirecting&quot;</span>;</div><div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a>:</div><div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;T38_Parameters&quot;</span>;</div><div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a>:</div><div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;CC Not Possible&quot;</span>;</div><div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af334ccaa958af9b049d6bfcaa41549b8">AST_CONTROL_SRCCHANGE</a>:</div><div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Media Source Change&quot;</span>;</div><div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af3bdb353330f1908e9558180b5bb9e16">AST_CONTROL_INCOMPLETE</a>:</div><div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Incomplete&quot;</span>;</div><div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;   <span class="keywordflow">case</span> -1:</div><div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Stop tone&quot;</span>;</div><div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;      <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a16282b510dcfa0aa7689071be2fbf900">control2str_threadbuf</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e749660fda8587e74d25b70e5b5504d">CONTROL2STR_BUFSIZE</a>)))</div><div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;      snprintf(tmp, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e749660fda8587e74d25b70e5b5504d">CONTROL2STR_BUFSIZE</a>, <span class="stringliteral">&quot;UNKNOWN-%d&quot;</span>, ind);</div><div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;   }</div><div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;}</div><div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;</div><div class="line"><a name="l05249"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a557aa971164d442764950f482fa80215"> 5249</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a557aa971164d442764950f482fa80215">skinny_transfer_attended</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;{</div><div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *xferee;</div><div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a04f1e042676be8f4763d8d5a9000b1e5">xferor</a>;</div><div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> res;</div><div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;</div><div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a04f1e042676be8f4763d8d5a9000b1e5">xferor</a>) {</div><div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;      xferor = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;      xferee = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>;</div><div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;      xferor = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;      xferee = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>;</div><div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;   }</div><div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;</div><div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a>);</div><div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(xferor-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) == <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>) {</div><div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>);</div><div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;   }</div><div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;   res = <a class="code" href="../../d4/d56/bridge_8h.html#aec45146e91e4d8bc2a7d2cf083c4dac0">ast_bridge_transfer_attended</a>(xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, xferor-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;</div><div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;   <span class="keywordflow">if</span> (res != <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a>) {</div><div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u failed to transfer %u to &#39;%s&#39;@&#39;%s&#39; - %u\n&quot;</span>,</div><div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;         xferor-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, xferor-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, xferor-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;context, res);</div><div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1338c8645d55040c615fe717b81b7460">send_displayprinotify</a>(xferor-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>, <span class="stringliteral">&quot;Transfer failed&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10, 5);</div><div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a>);</div><div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;   }</div><div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;}</div><div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;</div><div class="line"><a name="l05277"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aeee81bb5489fb74182344ae1f89fb48c"> 5277</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aeee81bb5489fb74182344ae1f89fb48c">skinny_transfer_blind</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;{</div><div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *xferee = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>;</div><div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> res;</div><div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;</div><div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;   sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;   xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;</div><div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a>);</div><div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;   res = <a class="code" href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3">ast_bridge_transfer_blind</a>(1, xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;context, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;</div><div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;   <span class="keywordflow">if</span> (res != <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a>) {</div><div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u failed to blind transfer %u to &#39;%s&#39;@&#39;%s&#39; - %u\n&quot;</span>,</div><div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;context, res);</div><div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1338c8645d55040c615fe717b81b7460">send_displayprinotify</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>, <span class="stringliteral">&quot;Transfer failed&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10, 5);</div><div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(xferee-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a>);</div><div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;   }</div><div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(sub, 1);</div><div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;}</div><div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;</div><div class="line"><a name="l05297"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa6752ab977ca12d5f27c6c6970dae085"> 5297</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa6752ab977ca12d5f27c6c6970dae085">skinny_indicate</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, <span class="keywordtype">int</span> ind, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> datalen)</div><div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;{</div><div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(ast);</div><div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s = d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>;</div><div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;</div><div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;   <span class="keywordflow">if</span> (!s) {</div><div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Asked to indicate &#39;%s&#39; condition on channel %s, but session does not exist.\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a240fa2ebaa98bd76495b1cefde05660a">control2str</a>(ind), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(ast));</div><div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;   }</div><div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;</div><div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Asked to indicate &#39;%s&#39; condition on channel %s (Sub %u)\n&quot;</span>,</div><div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a240fa2ebaa98bd76495b1cefde05660a">control2str</a>(ind), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(ast), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;   <span class="keywordflow">switch</span>(ind) {</div><div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>:</div><div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a>);</div><div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;      <span class="keywordflow">return</span> (d-&gt;earlyrtp ? -1 : 0); <span class="comment">/* Tell asterisk to provide inband signalling if rtp started */</span></div><div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875">AST_CONTROL_BUSY</a>:</div><div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a434ca8d939945fa0bbefe5e076463f33">SUBSTATE_BUSY</a>);</div><div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;      <span class="keywordflow">return</span> (d-&gt;earlyrtp ? -1 : 0); <span class="comment">/* Tell asterisk to provide inband signalling if rtp started */</span></div><div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af3bdb353330f1908e9558180b5bb9e16">AST_CONTROL_INCOMPLETE</a>:</div><div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;      <span class="comment">/* Support for incomplete not supported for chan_skinny; treat as congestion */</span></div><div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a850bb06a1702741c93a3fd67cc9637ab">AST_CONTROL_CONGESTION</a>:</div><div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae03ddd6ebf41610db45a9d8ef3721b3a">SUBSTATE_CONGESTION</a>);</div><div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;      <span class="keywordflow">return</span> (d-&gt;earlyrtp ? -1 : 0); <span class="comment">/* Tell asterisk to provide inband signalling if rtp started */</span></div><div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a>:</div><div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a>);</div><div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;      <span class="keywordflow">return</span> (d-&gt;earlyrtp ? -1 : 0); <span class="comment">/* Tell asterisk to provide inband signalling if rtp started */</span></div><div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;   <span class="keywordflow">case</span> -1:  <span class="comment">/* STOP_TONE */</span></div><div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a>:</div><div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;      <a class="code" href="../../dc/d07/musiconhold_8h.html#a2acec01f2fddd8ca494d874003815cf7">ast_moh_start</a>(ast, data, l-&gt;mohinterpret);</div><div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a>:</div><div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;      <a class="code" href="../../dc/d07/musiconhold_8h.html#a52fead32f69533450f3c05b2e6960149">ast_moh_stop</a>(ast);</div><div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a50b7fe33bba67b74dd7b746539e81000">AST_CONTROL_PROCEEDING</a>:</div><div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a009e81151b19671f42b5e84ab6a619f4">AST_CONTROL_SRCUPDATE</a>:</div><div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#aef4f32cf0fa56818892f9eca7a2a8896">ast_rtp_instance_update_source</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>);</div><div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;      }</div><div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af334ccaa958af9b049d6bfcaa41549b8">AST_CONTROL_SRCCHANGE</a>:</div><div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#adcb4a92a7c8fd3bcde19ecc417a3e8a3">ast_rtp_instance_change_source</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>);</div><div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;      }</div><div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ac976c01c12ae70e36b99b16dbfa3dda7">AST_CONTROL_CONNECTED_LINE</a>:</div><div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9f17dec01dd25c8e657c4f9a80b5bb6f">update_connectedline</a>(sub, data, datalen);</div><div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Don&#39;t know how to indicate condition %d\n&quot;</span>, ind);</div><div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;      <span class="comment">/* fallthrough */</span></div><div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af9665e40f4c9ef6fcfc3e179c6986c41">AST_CONTROL_PVT_CAUSE_CODE</a>:</div><div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af699fa9e173afdd4c1fea90ee892330e">AST_CONTROL_MASQUERADE_NOTIFY</a>:</div><div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;      <span class="keywordflow">return</span> -1; <span class="comment">/* Tell asterisk to provide inband signalling */</span></div><div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;   }</div><div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;}</div><div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;</div><div class="line"><a name="l05360"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a74175021175357b1d82492f84ff6403a"> 5360</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a74175021175357b1d82492f84ff6403a">skinny_set_owner</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a>* <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a>* chan)</div><div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;{</div><div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;   sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> = chan;</div><div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab88c871dd5c164b7a0a6af5e7e12d16f">ast_rtp_instance_set_channel_id</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> ? <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;   }</div><div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>) {</div><div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab88c871dd5c164b7a0a6af5e7e12d16f">ast_rtp_instance_set_channel_id</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> ? <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;   }</div><div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;}</div><div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;</div><div class="line"><a name="l05371"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd"> 5371</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l, <span class="keyword">struct</span> <a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *assignedids, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *requestor, <span class="keywordtype">int</span> <a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>)</div><div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;{</div><div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *tmpfmt;</div><div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *caps;</div><div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *codec_buf = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a>);</div><div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;</div><div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;   <span class="keywordflow">if</span> (!l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a> || !l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>) {</div><div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Device for line %s is not registered.\n&quot;</span>, l-&gt;name);</div><div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;   }</div><div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;</div><div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;   caps = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;   <span class="keywordflow">if</span> (!caps) {</div><div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;   }</div><div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;</div><div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;   tmp = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(1, state, l-&gt;cid_num, l-&gt;cid_name, l-&gt;accountcode, l-&gt;exten, l-&gt;context, assignedids, requestor, l-&gt;amaflags, <span class="stringliteral">&quot;Skinny/%s@%s-%d&quot;</span>, l-&gt;name, d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a445c4d0d3e79e43aa4641d8bc8f648c7">callnums</a>);</div><div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;   <span class="keywordflow">if</span> (!tmp) {</div><div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate channel structure\n&quot;</span>);</div><div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;      sub = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*sub));</div><div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;      <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate Skinny subchannel\n&quot;</span>);</div><div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(tmp);</div><div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(tmp);</div><div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a74175021175357b1d82492f84ff6403a">skinny_set_owner</a>(sub, tmp);</div><div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a445c4d0d3e79e43aa4641d8bc8f648c7">callnums</a>++;</div><div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;         d-&gt;lastlineinstance = l-&gt;instance;</div><div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;         d-&gt;lastcallreference = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>;</div><div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4650e5e1429f8982af64b9c42c8c53d3">cxmode</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2aefadaebf9f3da51e9fbd92c998dc6b">SKINNY_CX_INACTIVE</a>;</div><div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a> = l-&gt;nat;</div><div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a> = l;</div><div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9d49074e0655a086adb6bcc670b06f23">blindxfer</a> = 0;</div><div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a04f1e042676be8f4763d8d5a9000b1e5">xferor</a> = 0;</div><div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> = <a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a>;</div><div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208">aa_sched</a> = -1;</div><div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> = -1;</div><div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">cfwd_sched</a> = -1;</div><div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">dialType</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afa04f2ccb9addb25aecb45f46b392d17">DIALTYPE_NORMAL</a>;</div><div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afba22a4c8379e0b1489d8aaf643333d5">getforward</a> = 0;</div><div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;</div><div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;         <span class="keywordflow">if</span> (subline) {</div><div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540">subline</a> = subline;</div><div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;            subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">sub</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540">subline</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;         }</div><div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;</div><div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, sub, list);</div><div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;         <span class="comment">//l-&gt;activesub = sub;</span></div><div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;      }</div><div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf195fcf1686408b5e52ad76996653cea">ast_channel_stage_snapshot</a>(tmp);</div><div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af0566a4937a5bb1323825e4ef89c0e5a">ast_channel_tech_set</a>(tmp, &amp;skinny_tech);</div><div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a929b8b2cb36308e5cf4e51ed880bfcba">ast_channel_tech_pvt_set</a>(tmp, sub);</div><div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d3c/format__cap_8h.html#aefb7d3623f4d8a582168e7aaf509459c">ast_format_cap_count</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>)) {</div><div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a70a1555431677c29824be37afa5112e2">ast_format_cap_append_from_cap</a>(caps, l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a>);</div><div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a70a1555431677c29824be37afa5112e2">ast_format_cap_append_from_cap</a>(caps, default_cap, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a>);</div><div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;      }</div><div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a>(tmp, caps);</div><div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;      tmpfmt = <a class="code" href="../../d0/d3c/format__cap_8h.html#a5d2c52e9d892cd7c6488563cf00ba9bc">ast_format_cap_get_format</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(tmp), 0);</div><div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;skinny_new: tmp-&gt;nativeformats=%s fmt=%s\n&quot;</span>,</div><div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(tmp), &amp;codec_buf),</div><div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;         <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(tmpfmt));</div><div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a>(tmp, 0, <a class="code" href="../../d5/dde/rtp__engine_8h.html#aee3ef7f9e53a34e743c3a95c9ca95fb4">ast_rtp_instance_fd</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 0));</div><div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;      }</div><div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;      <span class="keywordflow">if</span> (state == <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a10482c2bc6340e09ed02b00bc0e3f433">AST_STATE_RING</a>) {</div><div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a0c25448e9c6e2630a8a9cc96b7482cfe">ast_channel_rings_set</a>(tmp, 1);</div><div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;      }</div><div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#afac6d7d115c1edfe3ad8a8c7fa5d59d1">ast_channel_set_writeformat</a>(tmp, tmpfmt);</div><div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aa2df58e77751b741b6891afe210b5b8c">ast_channel_set_rawwriteformat</a>(tmp, tmpfmt);</div><div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab3786cbbff7a03241fc75dafa0c8a1c1">ast_channel_set_readformat</a>(tmp, tmpfmt);</div><div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a921a2d48faa9ed99a59d33e7aefa7888">ast_channel_set_rawreadformat</a>(tmp, tmpfmt);</div><div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(tmpfmt, -1);</div><div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;</div><div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;language))</div><div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;         ast_channel_language_set(tmp, l-&gt;language);</div><div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;accountcode))</div><div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;         ast_channel_accountcode_set(tmp, l-&gt;accountcode);</div><div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;parkinglot))</div><div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;         ast_channel_parkinglot_set(tmp, l-&gt;parkinglot);</div><div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;      <span class="keywordflow">if</span> (l-&gt;amaflags)</div><div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ac264c5bfc7884724c7d289662dd6e8ad">ast_channel_amaflags_set</a>(tmp, l-&gt;amaflags);</div><div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;</div><div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;      <a class="code" href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a>(<a class="code" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">self</a>);</div><div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a9824ec754695fd10c2ad3ca929afba34">ast_channel_callgroup_set</a>(tmp, l-&gt;callgroup);</div><div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae9542942f37422e284dd5c8a3fa7c7b6">ast_channel_pickupgroup_set</a>(tmp, l-&gt;pickupgroup);</div><div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;</div><div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aac93557ad0a1e7bcf861c208e1d8fdc4">ast_channel_named_callgroups_set</a>(tmp, l-&gt;named_callgroups);</div><div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a0d78cf79bf535beab2c8928f68632c2e">ast_channel_named_pickupgroups_set</a>(tmp, l-&gt;named_pickupgroups);</div><div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;</div><div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;      <span class="keywordflow">if</span> (l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>) {</div><div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - CFWDALL to %s.\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, l-&gt;call_forward_all);</div><div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;         ast_channel_call_forward_set(tmp, l-&gt;call_forward_all);</div><div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>) &amp;&amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1ae95d3d12c225bb40b497687b3e9dc1">get_devicestate</a>(l) != <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>)) {</div><div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - CFWDBUSY to %s.\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, l-&gt;call_forward_busy);</div><div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;         ast_channel_call_forward_set(tmp, l-&gt;call_forward_busy);</div><div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (l-&gt;cfwdtype &amp; <a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>) {</div><div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - CFWDNOANS Scheduling for %d seconds.\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, l-&gt;callfwdtimeout/1000);</div><div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">cfwd_sched</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a18410f5b8349988e45ea06befa7ff163">skinny_sched_add</a>(l-&gt;callfwdtimeout, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad451e16121f4d06792f2069b7f80ec3e">skinny_cfwd_cb</a>, sub);</div><div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;      }</div><div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;</div><div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;      <span class="keywordflow">if</span> (subline) {</div><div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a>(tmp, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a>(tmp, l-&gt;context);</div><div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;      }</div><div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a>(tmp, l-&gt;exten);</div><div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;</div><div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;      <span class="comment">/* Don&#39;t use ast_set_callerid() here because it will</span></div><div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;<span class="comment">       * generate a needless NewCallerID event */</span></div><div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;cid_num)) {</div><div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(tmp)-&gt;<a class="code" href="../../d4/d77/structast__party__caller.html#aeeb8c05290fd113bd0d1a3129898fd49">ani</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">valid</a> = 1;</div><div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(tmp)-&gt;<a class="code" href="../../d4/d77/structast__party__caller.html#aeeb8c05290fd113bd0d1a3129898fd49">ani</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">str</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(l-&gt;cid_num);</div><div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;      }</div><div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;</div><div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a>(tmp, 1);</div><div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aed40a28831fcb5791cd63c1b8761d659">ast_channel_adsicpe_set</a>(tmp, <a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda5f0673b46cfdba3094393b3fbce084ff">AST_ADSI_UNAVAILABLE</a>);</div><div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;</div><div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>)</div><div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;         <a class="code" href="../../dc/d14/abstract__jb_8h.html#a0981c84ac90dd79bc2a0fdd90aa6efba">ast_jb_configure</a>(tmp, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>);</div><div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;</div><div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;      <span class="comment">/* Set channel variables for this call from configuration */</span></div><div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;      <span class="keywordflow">for</span> (v = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a06c0918fa1a1aac3d386fca59b12327c">chanvars</a> ; v ; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>)</div><div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(tmp, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;</div><div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga920b9d3e484257c7e593452a8e36d8d4">ast_channel_stage_snapshot_done</a>(tmp);</div><div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(tmp);</div><div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;</div><div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;      <span class="keywordflow">if</span> (state != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>) {</div><div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a9a937fbb3b5f4e68880a9c5714a29ce5">ast_pbx_start</a>(tmp)) {</div><div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to start PBX on %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(tmp));</div><div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(tmp);</div><div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;            tmp = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;         }</div><div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;      }</div><div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;   }</div><div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;}</div><div class="line"><a name="l05524"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef"> 5524</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(<span class="keywordtype">int</span> ind) {</div><div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;</div><div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;   <span class="keywordflow">switch</span> (ind) {</div><div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a460583dd3b35299fa584b11304db2be3">SUBSTATE_UNSET</a>:</div><div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_UNSET&quot;</span>;</div><div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>:</div><div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_OFFHOOK&quot;</span>;</div><div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>:</div><div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_ONHOOK&quot;</span>;</div><div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a>:</div><div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_RINGOUT&quot;</span>;</div><div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a>:</div><div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_RINGIN&quot;</span>;</div><div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>:</div><div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_CONNECTED&quot;</span>;</div><div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a434ca8d939945fa0bbefe5e076463f33">SUBSTATE_BUSY</a>:</div><div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_BUSY&quot;</span>;</div><div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae03ddd6ebf41610db45a9d8ef3721b3a">SUBSTATE_CONGESTION</a>:</div><div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_CONGESTION&quot;</span>;</div><div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a>:</div><div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_PROGRESS&quot;</span>;</div><div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>:</div><div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_HOLD&quot;</span>;</div><div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>:</div><div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_CALLWAIT&quot;</span>;</div><div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a>:</div><div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SUBSTATE_DIALING&quot;</span>;</div><div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;      <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac7c647097c3d56b2632df943946e7c53">substate2str_threadbuf</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7e0e27e5cfd1c478aa77a0cdc0f2b73a">SUBSTATE2STR_BUFSIZE</a>)))</div><div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;      snprintf(tmp, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7e0e27e5cfd1c478aa77a0cdc0f2b73a">SUBSTATE2STR_BUFSIZE</a>, <span class="stringliteral">&quot;UNKNOWN-%d&quot;</span>, ind);</div><div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;   }</div><div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;}</div><div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;</div><div class="line"><a name="l05560"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758"> 5560</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>)</div><div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;{</div><div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540">subline</a>;</div><div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dcb/structast__party__id.html">ast_party_id</a> connected_id;</div><div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;   pthread_t t;</div><div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;   <span class="keywordtype">int</span> actualstate = <a class="code" href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a>;</div><div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;   <span class="keywordtype">char</span> *fromnum;</div><div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;</div><div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>) {</div><div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;   }</div><div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;</div><div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a>(sub);</div><div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;</div><div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;   <span class="keywordflow">if</span> (-1 &lt; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a>) {</div><div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d0e2d2a102eeaa09594d004fec24f8b">skinny_sched_del</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a>, sub);</div><div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> = -1;</div><div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;   }</div><div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;</div><div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;   <span class="keywordflow">if</span> (state != <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a> &amp;&amp; -1 &lt; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208">aa_sched</a>) {</div><div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d0e2d2a102eeaa09594d004fec24f8b">skinny_sched_del</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208">aa_sched</a>, sub);</div><div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208">aa_sched</a> = -1;</div><div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a43949878e5a771ad7dd4319b8256fb48">aa_beep</a> = 0;</div><div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a892b2d4a6db65310c71e3cdc7bbf9b98">aa_mute</a> = 0;</div><div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;   }</div><div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;</div><div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">cfwd_sched</a> &gt; -1) {</div><div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;      <span class="keywordflow">if</span> (state == <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>) {</div><div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d0e2d2a102eeaa09594d004fec24f8b">skinny_sched_del</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">cfwd_sched</a>, sub)) {</div><div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - trying to change state from %s to %s, but already forwarded because no answer.\n&quot;</span>,</div><div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;               sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(actualstate));</div><div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;         }</div><div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">cfwd_sched</a> = -1;</div><div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>) {</div><div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d0e2d2a102eeaa09594d004fec24f8b">skinny_sched_del</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">cfwd_sched</a>, sub);</div><div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">cfwd_sched</a> = -1;</div><div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;      }</div><div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;   }</div><div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;</div><div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;   <span class="keywordflow">if</span> ((state == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a>) &amp;&amp; ((d-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>) || (<a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(<a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>), list)))) {</div><div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;      actualstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>;</div><div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;   }</div><div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;</div><div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a> &amp;&amp; state != <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a>) {</div><div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad55a9ae0d55608005570cd46bb4bee29">transmit_clearprinotify</a>(d, 5);</div><div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;   }</div><div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;</div><div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;   <span class="keywordflow">if</span> ((state == <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>) &amp;&amp; (!subline) &amp;&amp; (<a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">sublines</a>))) {</div><div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *slastation;</div><div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *tmpsubline;</div><div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;      slastation = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(c, <span class="stringliteral">&quot;SLASTATION&quot;</span>);</div><div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Connecting %s to subline\n&quot;</span>, slastation);</div><div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;      <span class="keywordflow">if</span> (slastation) {</div><div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">sublines</a>, tmpsubline, <a class="code" href="../../d1/de2/structskinny__subline.html#aae236180a9c6c3975e6dc94fa6850f40">list</a>) {</div><div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;            <span class="keywordflow">if</span> (!strcasecmp(tmpsubline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ab0c4e877f2cb630c4fba9fe22e498479">stname</a>, slastation)) {</div><div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;               subline = tmpsubline;</div><div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;            }</div><div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;         }</div><div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;         <span class="keywordflow">if</span> (subline) {</div><div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *tmpline;</div><div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;            subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">sub</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540">subline</a> = subline;</div><div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;            subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>;</div><div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(sub);</div><div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>, tmpline, <a class="code" href="../../d2/db5/structskinny__line.html#aecc3e0d55543576db3f9175bd400ff39">all</a>) {</div><div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;tmpline-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">sublines</a>, tmpsubline, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>) {</div><div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;                  <span class="keywordflow">if</span> (!(subline == tmpsubline)) {</div><div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;                     <span class="keywordflow">if</span> (!strcasecmp(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a0ad8152e984daf5d46937d52a04d3cde">lnname</a>, tmpsubline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a0ad8152e984daf5d46937d52a04d3cde">lnname</a>)) {</div><div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;                        <span class="keyword">struct </span><a class="code" href="../../df/d4c/structast__state__cb__info.html">ast_state_cb_info</a> info = {</div><div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;                           .<a class="code" href="../../df/d4c/structast__state__cb__info.html#a6f3d8aa9a90b701e81dad4cc4a56be67">exten_state</a> = tmpsubline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a2f1ff9993605e9134bc66eb29b479838">extenstate</a>,</div><div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;                        };</div><div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;                        tmpsubline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a445c4d0d3e79e43aa4641d8bc8f648c7">callnums</a>++;</div><div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;                        <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(tmpsubline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>, tmpsubline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>-&gt;instance, tmpsubline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>);</div><div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;                        <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae9b6fcdb72411c824c32c66735bc441c">push_callinfo</a>(tmpsubline, sub);</div><div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;                        <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad23cb8e38f08caa3c3a496f691c39e3b">skinny_extensionstate_cb</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;info, tmpsubline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a>);</div><div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;                     }</div><div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;                  }</div><div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;               }</div><div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;            }</div><div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;         }</div><div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;      }</div><div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;   }</div><div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;</div><div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;   <span class="keywordflow">if</span> (subline) { <span class="comment">/* Different handling for subs under a subline, indications come through hints */</span></div><div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;      <span class="keywordflow">switch</span> (actualstate) {</div><div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>:</div><div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, sub, list);</div><div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>) {</div><div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;         }</div><div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;</div><div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;         <span class="keywordflow">if</span> (sub == l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>) {</div><div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;            l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a875522082ab6d17f72cbf3ad88708a9b">transmit_closereceivechannel</a>(d, sub);</div><div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae4983e199d8ab27568a4e09f740379d1">transmit_stopmediatransmission</a>(d, sub);</div><div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;         }</div><div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;</div><div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;         <span class="keywordflow">if</span> (subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>) {</div><div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a171401581bc9313c20cec69fe8ddc7ee">SKINNY_CALLREMOTEMULTILINE</a>);</div><div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77b3490072c879be4e18cfd9bbc84d8a">KEYDEF_SLACONNECTEDNOTACTIVE</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <span class="stringliteral">&quot;In Use&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;         }</div><div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;</div><div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4650e5e1429f8982af64b9c42c8c53d3">cxmode</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7300c46280f93b446c8e13b404f55e36">SKINNY_CX_RECVONLY</a>;</div><div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>;</div><div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>;</div><div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a30bcf0418189567bc84ff32034f79f28">ast_queue_hangup</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;         }</div><div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>:</div><div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aad5f46f88fa82da05103795046e110b7">KEYDEF_CONNECTED</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1b0b13fd37b0eec0ebbc6031c91d4662">SKINNY_CONNECTED</a>);</div><div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;         <span class="keywordflow">if</span> (!sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#afdd465471ea50755ff86f47ead660ea0">start_rtp</a>(sub);</div><div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;         }</div><div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>) {</div><div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe">AST_CONTROL_ANSWER</a>);</div><div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;         }</div><div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a>) {</div><div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a122fa20b73095a6195119dd979dfb6c1">transmit_dialednumber</a>(d, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;         }</div><div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;            <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;         }</div><div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>;</div><div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;         l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>:</div><div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> != <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>) {</div><div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot set substate to SUBSTATE_HOLD from %s (on call-%u)\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;         }</div><div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a875522082ab6d17f72cbf3ad88708a9b">transmit_closereceivechannel</a>(d, sub);</div><div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae4983e199d8ab27568a4e09f740379d1">transmit_stopmediatransmission</a>(d, sub);</div><div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;</div><div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a171401581bc9313c20cec69fe8ddc7ee">SKINNY_CALLREMOTEMULTILINE</a>);</div><div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77b3490072c879be4e18cfd9bbc84d8a">KEYDEF_SLACONNECTEDNOTACTIVE</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <span class="stringliteral">&quot;In Use&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;</div><div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>;</div><div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;</div><div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ab2e0a6897707b1102ad453ea0963999f">ast_queue_hold</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, l-&gt;mohsuggest);</div><div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;</div><div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Substate handling under subline for state %d not implemented on Sub-%u\n&quot;</span>, state, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;      }</div><div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;   }</div><div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;</div><div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;   <span class="keywordflow">if</span> ((d-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>) &amp;&amp; ((actualstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>) || (actualstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a>)</div><div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;      || (actualstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a>) || (actualstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>) || (actualstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a434ca8d939945fa0bbefe5e076463f33">SUBSTATE_BUSY</a>)</div><div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;      || (actualstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae03ddd6ebf41610db45a9d8ef3721b3a">SUBSTATE_CONGESTION</a>) || (actualstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a>))) {</div><div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;         d-&gt;hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>;</div><div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9d00b95f44b64f37d738f1ddc2ef972f">transmit_speaker_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a379fd834cea6549831c799ed002b52f7">SKINNY_SPEAKERON</a>);</div><div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;   }</div><div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;</div><div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - change state from %s to %s\n&quot;</span>,</div><div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(actualstate));</div><div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;</div><div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;   <span class="keywordflow">if</span> (actualstate == sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>) {</div><div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;   }</div><div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;</div><div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;   <span class="keywordflow">switch</span> (actualstate) {</div><div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>:</div><div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Call-id: %u\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;      l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>);</div><div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c02c66304e1b16fb7be2e6c6b888ba6">transmit_clear_display_message</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a12616ab9d64a36f7c2f372084a3663c8">SKINNY_DIALTONE</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32b4dedb91edf80328d5cda72166bf6e">KEYDEF_OFFHOOK</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5f79a841c8232e56197ca904bcb03e3a">OCTAL_ENTRNUM</a>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;</div><div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>;</div><div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a18410f5b8349988e45ea06befa7ff163">skinny_sched_add</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd3be8e865f060b68db4d7c966489e0a">firstdigittimeout</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7aad49354a0cd82f016e6692780e3669">skinny_dialer_cb</a>, sub);</div><div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>:</div><div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, sub, list);</div><div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>) {</div><div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;      }</div><div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;</div><div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;      <span class="keywordflow">if</span> ((sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>) &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) == <a class="code" href="../../d4/da3/causes_8h.html#aa71419a0c598e31312477c5a644e7440">AST_CAUSE_ANSWERED_ELSEWHERE</a>) {</div><div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1b0b13fd37b0eec0ebbc6031c91d4662">SKINNY_CONNECTED</a>);</div><div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;      }</div><div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;</div><div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;      <span class="keywordflow">if</span> (sub == l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>) {</div><div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;         l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a875522082ab6d17f72cbf3ad88708a9b">transmit_closereceivechannel</a>(d, sub);</div><div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae4983e199d8ab27568a4e09f740379d1">transmit_stopmediatransmission</a>(d, sub);</div><div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>);</div><div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7e1e67dfbb8916241ee837657ed26698">transmit_clearpromptmessage</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6">transmit_ringer_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecd793ced0012f548eaf003e4609e994">SKINNY_RING_OFF</a>);</div><div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a>(d);</div><div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639">SKINNY_LAMP_OFF</a>);</div><div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>);</div><div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7e1e67dfbb8916241ee837657ed26698">transmit_clearpromptmessage</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;      }</div><div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;</div><div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a4650e5e1429f8982af64b9c42c8c53d3">cxmode</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7300c46280f93b446c8e13b404f55e36">SKINNY_CX_RECVONLY</a>;</div><div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>) {</div><div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>;</div><div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>;</div><div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a30bcf0418189567bc84ff32034f79f28">ast_queue_hangup</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;         }</div><div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>;</div><div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;      }</div><div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a>:</div><div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>) || !<a class="code" href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a>(c, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(c), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, 1, l-&gt;cid_num)) {</div><div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Exten (%s)@(%s) does not exist, unable to set substate DIALING on sub %u\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(c), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;      }</div><div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;</div><div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;      <span class="keywordflow">if</span> (d-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>) {</div><div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;         d-&gt;hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>;</div><div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9d00b95f44b64f37d738f1ddc2ef972f">transmit_speaker_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a379fd834cea6549831c799ed002b52f7">SKINNY_SPEAKERON</a>);</div><div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;      }</div><div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;</div><div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;      <span class="keywordflow">if</span> (!sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540">subline</a>) {</div><div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>);</div><div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c02c66304e1b16fb7be2e6c6b888ba6">transmit_clear_display_message</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae18cb03403da5513c2c6ac0c32c4c939">KEYDEF_RINGOUT</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <span class="stringliteral">&quot;Dialing&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;      }</div><div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;</div><div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;      <span class="keywordflow">if</span>  (<a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">sublines</a>)) {</div><div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;         <span class="keywordflow">if</span> (subline) {</div><div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a>(c, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a>(c, <span class="stringliteral">&quot;sla_stations&quot;</span>);</div><div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(c, <span class="stringliteral">&quot;_DESTEXTEN&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(c, <span class="stringliteral">&quot;_DESTCONTEXT&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(c));</div><div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a>(c, l-&gt;dialoutexten);</div><div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a>(c, l-&gt;dialoutcontext);</div><div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(l-&gt;lastnumberdialed, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="keyword">sizeof</span>(l-&gt;lastnumberdialed));</div><div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;         }</div><div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a>(c, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(l-&gt;lastnumberdialed, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="keyword">sizeof</span>(l-&gt;lastnumberdialed));</div><div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;      }</div><div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;</div><div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a>;</div><div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;</div><div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a>(&amp;t, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7341024ae1e485aaad445b8d2504b446">skinny_newcall</a>, c)) {</div><div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create new call thread: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(c);</div><div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;      }</div><div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a>:</div><div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;      <span class="keywordflow">if</span> (!(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a>)) {</div><div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot set substate to SUBSTATE_RINGOUT from %s (on call-%u)\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;      }</div><div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> != <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a>) {</div><div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d1224352bf30cb08f222355450e4930">SKINNY_PROGRESS</a>);</div><div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;      }</div><div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;</div><div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;      <span class="keywordflow">if</span> (!d-&gt;earlyrtp) {</div><div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa0c8daef788c72c3901d6d93bd873b1c">SKINNY_ALERT</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;      }</div><div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae470ea8c2ed3420d624ea6f61b640a8a">SKINNY_RINGOUT</a>);</div><div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>) {</div><div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4c97330811978f9be42f29dd8e7763a9">KEYDEF_RINGOUTWITHTRANS</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae18cb03403da5513c2c6ac0c32c4c939">KEYDEF_RINGOUT</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;      }</div><div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a122fa20b73095a6195119dd979dfb6c1">transmit_dialednumber</a>(d, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4ef7afe5bbb4ad0e6b51a7fd9addf93">OCTAL_RINGOUT</a>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(sub);</div><div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a>;</div><div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a>:</div><div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;      connected_id = <a class="code" href="../../d5/d7b/channel_8h.html#abd6165fa9617e1bb5efee3befa3e963d">ast_channel_connected_effective_id</a>(c);</div><div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="../../d5/d7b/channel_8h.html#a39aac47fef1240391fd97e055522fd83">ast_party_id_presentation</a>(&amp;connected_id) &amp; <a class="code" href="../../de/d47/callerid_8h.html#aec2d69e281c81503bc532e107ca26f66">AST_PRES_RESTRICTION</a>) == <a class="code" href="../../de/d47/callerid_8h.html#a4b8463f8be514e1134291b2a9ddaeb35">AST_PRES_ALLOWED</a>) {</div><div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;         fromnum = <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>, connected_id.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, <span class="stringliteral">&quot;Unknown&quot;</span>);</div><div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;         fromnum = <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;      }</div><div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6bed741ef5e86581671d6c63ae9267c8">SKINNY_RINGIN</a>);</div><div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a529cdb7507128859a179f79e1966eb53">KEYDEF_RINGIN</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7008eb349a9ae2aa69c5856612583cc6">OCTAL_FROM</a>, fromnum, 0, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1338c8645d55040c615fe717b81b7460">send_displayprinotify</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7008eb349a9ae2aa69c5856612583cc6">OCTAL_FROM</a>, fromnum, 10, 5);</div><div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(sub);</div><div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a92de27dd35149317b1c4cf78025b5b23">SKINNY_LAMP_BLINK</a>);</div><div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6">transmit_ringer_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4278efdb24cd17e04eff48e39475dd4e">SKINNY_RING_INSIDE</a>);</div><div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;</div><div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;      <span class="keywordflow">if</span> (d-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>) {</div><div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;         l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;      }</div><div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;</div><div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> != <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> != <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>) {</div><div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;         <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(c, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(c, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>);</div><div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;      }</div><div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a>;</div><div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>:</div><div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6bed741ef5e86581671d6c63ae9267c8">SKINNY_RINGIN</a>);</div><div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa1ba3673377bfb3503a3d15ae745a1e4">SKINNY_CALLWAIT</a>);</div><div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a529cdb7507128859a179f79e1966eb53">KEYDEF_RINGIN</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a20647670601174b742f57764b0dd552e">OCTAL_CALLWAITING</a>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(sub);</div><div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a92de27dd35149317b1c4cf78025b5b23">SKINNY_LAMP_BLINK</a>);</div><div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab0051964ea7b68461644ee964e3add4e">SKINNY_CALLWAITTONE</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;</div><div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;      <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(c, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(c, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>);</div><div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>;</div><div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>:</div><div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a>) {</div><div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>);</div><div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;      }</div><div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>) {</div><div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#aada21a9f55151c285a1537613ff9197a">ast_queue_unhold</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae0cb986aeace802ace6a240d73c7335c">transmit_connect</a>(d, sub);</div><div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;      }</div><div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6">transmit_ringer_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecd793ced0012f548eaf003e4609e994">SKINNY_RING_OFF</a>);</div><div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(sub);</div><div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1b0b13fd37b0eec0ebbc6031c91d4662">SKINNY_CONNECTED</a>);</div><div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a058736ac02815389a1545c2d5d0a9451">OCTAL_CONNECTED</a>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aad5f46f88fa82da05103795046e110b7">KEYDEF_CONNECTED</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;      <span class="keywordflow">if</span> (!sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#afdd465471ea50755ff86f47ead660ea0">start_rtp</a>(sub);</div><div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;      }</div><div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a43949878e5a771ad7dd4319b8256fb48">aa_beep</a>) {</div><div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0bd25f9eb8750b4d0297991c2c14cda3">SKINNY_ZIP</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;      }</div><div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a892b2d4a6db65310c71e3cdc7bbf9b98">aa_mute</a>) {</div><div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5394a8927ae80be708b3416e0aa07a85">transmit_microphone_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a701494bb66426a27068ffa8aa05ba99a">SKINNY_MICOFF</a>);</div><div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;      }</div><div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>) {</div><div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe">AST_CONTROL_ANSWER</a>);</div><div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;      }</div><div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a>) {</div><div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a122fa20b73095a6195119dd979dfb6c1">transmit_dialednumber</a>(d, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;      }</div><div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;         <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;      }</div><div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>;</div><div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;      l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a434ca8d939945fa0bbefe5e076463f33">SUBSTATE_BUSY</a>:</div><div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;      <span class="keywordflow">if</span> (!(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a>)) {</div><div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot set substate to SUBSTATE_BUSY from %s (on call-%u)\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;      }</div><div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;</div><div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;      <span class="keywordflow">if</span> (!d-&gt;earlyrtp) {</div><div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#afe81f121e37b9b5a707f27f80e7f20f5">SKINNY_BUSYTONE</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;      }</div><div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(sub);</div><div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a068d6f987aefda74cc4eccf378f0e26f">SKINNY_BUSY</a>);</div><div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac94ef39ce5fe260e5d56db5848960206">OCTAL_BUSY</a>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a434ca8d939945fa0bbefe5e076463f33">SUBSTATE_BUSY</a>;</div><div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae03ddd6ebf41610db45a9d8ef3721b3a">SUBSTATE_CONGESTION</a>:</div><div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;      <span class="keywordflow">if</span> (!(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a>)) {</div><div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot set substate to SUBSTATE_CONGESTION from %s (on call-%u)\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;      }</div><div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;</div><div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;      <span class="keywordflow">if</span> (!d-&gt;earlyrtp) {</div><div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aceb6a87185d21366d7f3f21fd69cee90">SKINNY_REORDER</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;      }</div><div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(sub);</div><div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0d089cd7065341d1b915456ace035ac2">SKINNY_CONGESTION</a>);</div><div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <span class="stringliteral">&quot;Congestion&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae03ddd6ebf41610db45a9d8ef3721b3a">SUBSTATE_CONGESTION</a>;</div><div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a>:</div><div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> != <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a>) {</div><div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot set substate to SUBSTATE_PROGRESS from %s (on call-%u)\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;      }</div><div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;</div><div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;      <span class="keywordflow">if</span> (!d-&gt;earlyrtp) {</div><div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa0c8daef788c72c3901d6d93bd873b1c">SKINNY_ALERT</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;      }</div><div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a>(sub);</div><div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d1224352bf30cb08f222355450e4930">SKINNY_PROGRESS</a>);</div><div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a>(d, <span class="stringliteral">&quot;Call Progress&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a>;</div><div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>:</div><div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> != <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>) {</div><div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot set substate to SUBSTATE_HOLD from %s (on call-%u)\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a>), sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;      }</div><div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab2e0a6897707b1102ad453ea0963999f">ast_queue_hold</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, l-&gt;mohsuggest);</div><div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;</div><div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a>(d, l);</div><div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a875522082ab6d17f72cbf3ad88708a9b">transmit_closereceivechannel</a>(d, sub);</div><div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae4983e199d8ab27568a4e09f740379d1">transmit_stopmediatransmission</a>(d, sub);</div><div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;</div><div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4a2a093850ad1fe42d691104a8efcb5a">SKINNY_HOLD</a>);</div><div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7de4e252b70c1f9022529a7de2c16344">SKINNY_LAMP_WINK</a>);</div><div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1c1b2ec6acc543dbd96c917364d733e3">KEYDEF_ONHOLD</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>;</div><div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Was asked to change to nonexistant substate %d on Sub-%u\n&quot;</span>, state, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;   }</div><div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;}</div><div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;</div><div class="line"><a name="l05997"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd"> 5997</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">int</span> forcehangup)</div><div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;{</div><div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *activate_sub = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *tsub;</div><div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;</div><div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Dumping\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;</div><div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;   <span class="keywordflow">if</span> (!forcehangup &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>) {</div><div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;      l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;   }</div><div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;</div><div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;   <span class="keywordflow">if</span> (sub == l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>) {</div><div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;      d-&gt;hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>;</div><div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9d00b95f44b64f37d738f1ddc2ef972f">transmit_speaker_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0c90019de529b77fb06d587393ec42bf">SKINNY_SPEAKEROFF</a>);</div><div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>) {</div><div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;         activate_sub = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>;</div><div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>);</div><div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;         l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = activate_sub;</div><div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;         <span class="keywordflow">if</span> (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> != <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>) {</div><div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Sub-%u was related but not at SUBSTATE_HOLD\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;         }</div><div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>);</div><div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>);</div><div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, tsub, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;            <span class="keywordflow">if</span> (tsub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>) {</div><div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;               activate_sub = tsub;</div><div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;            }</div><div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;         }</div><div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;         <span class="keywordflow">if</span> (activate_sub) {</div><div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(activate_sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a>);</div><div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;         }</div><div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, tsub, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;            <span class="keywordflow">if</span> (tsub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>) {</div><div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;               activate_sub = tsub;</div><div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;            }</div><div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;         }</div><div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;         <span class="keywordflow">if</span> (activate_sub) {</div><div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(activate_sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>);</div><div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;         }</div><div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;      }</div><div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>);</div><div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;   }</div><div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;}</div><div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;</div><div class="line"><a name="l06049"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8"> 6049</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8">activatesub</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">int</span> <a class="code" href="../../d4/d88/structstate.html">state</a>)</div><div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;{</div><div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;</div><div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Activating, and deactivating sub %u\n&quot;</span>,</div><div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> ? l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> : 0);</div><div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;</div><div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;   <span class="keywordflow">if</span> (sub == l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>) {</div><div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, state);</div><div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;      <span class="keywordflow">if</span> (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>) {</div><div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;         <span class="keywordflow">if</span> (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a>) {</div><div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a>);</div><div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> != <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>) {</div><div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a>);</div><div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;         }</div><div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;      }</div><div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;      l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, state);</div><div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;   }</div><div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;}</div><div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;</div><div class="line"><a name="l06071"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547"> 6071</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">char</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>])</div><div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;{</div><div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;</div><div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">dialType</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#afa04f2ccb9addb25aecb45f46b392d17">DIALTYPE_NORMAL</a>) {</div><div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Dial %s and Activate\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="keyword">sizeof</span>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>));</div><div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8">activatesub</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a>);</div><div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">dialType</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a51420940ed1fee2467839518ae00413e">DIALTYPE_CFWD</a>) {</div><div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Set callforward(%d) to %s\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afba22a4c8379e0b1489d8aaf643333d5">getforward</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab04a8ea6a900e9b9327d8e896b61899b">set_callforwards</a>(l, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afba22a4c8379e0b1489d8aaf643333d5">getforward</a>);</div><div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(sub, 1);</div><div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa51e51361738b28e24f83d7ec6b4c0f3">transmit_cfwdstate</a>(d, l);</div><div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;CFwd enabled&quot;</span>, 10);</div><div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">dialType</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1953a4a0312393adccbe15719eb22065">DIALTYPE_XFER</a>) {</div><div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="keyword">sizeof</span>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>));</div><div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aeee81bb5489fb74182344ae1f89fb48c">skinny_transfer_blind</a>(sub);</div><div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;   }</div><div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;}</div><div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;</div><div class="line"><a name="l06092"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa9d48518ce398e46ebf39a3eff38c849"> 6092</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa9d48518ce398e46ebf39a3eff38c849">handle_hold_button</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;{</div><div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;   <span class="keywordflow">if</span> (!sub)</div><div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>) {</div><div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>);</div><div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8">activatesub</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>);</div><div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>) {</div><div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8">activatesub</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>);</div><div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>);</div><div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;      }</div><div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;   }</div><div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;}</div><div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;</div><div class="line"><a name="l06109"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af725e197a8e1179ddd97a81b592dbb93"> 6109</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af725e197a8e1179ddd97a81b592dbb93">handle_transfer_button</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>)</div><div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;{</div><div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *newsub;</div><div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;</div><div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;   <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;      <a class="code" href="../../d4/dc5/extconf_8c.html#a81d26348827b996085d4cb6be3e2c348">ast_verbose</a>(<span class="stringliteral">&quot;Transfer: No subchannel to transfer\n&quot;</span>);</div><div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;   }</div><div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;</div><div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;   l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;   d = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;</div><div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;   <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>) {</div><div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Device for line %s is not registered.\n&quot;</span>, l-&gt;name);</div><div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;   }</div><div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;</div><div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;   <span class="keywordflow">if</span> (!sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a>) {</div><div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;      <span class="comment">/* Another sub has not been created so this must be first XFER press */</span></div><div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;      <span class="keywordflow">if</span> (!(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>)) {</div><div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>);</div><div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;      }</div><div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;      c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;      <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;         newsub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;         <span class="comment">/* point the sub and newsub at each other so we know they are related */</span></div><div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;         newsub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">related</a> = newsub;</div><div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;         newsub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a04f1e042676be8f4763d8d5a9000b1e5">xferor</a> = 1;</div><div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(newsub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>);</div><div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;      }</div><div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;      <span class="comment">/* We already have a related sub so we can either complete XFER or go into BLINDXFER (or cancel BLINDXFER */</span></div><div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>) {</div><div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">dialType</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1953a4a0312393adccbe15719eb22065">DIALTYPE_XFER</a>) {</div><div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">dialType</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afa04f2ccb9addb25aecb45f46b392d17">DIALTYPE_NORMAL</a>;</div><div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">dialType</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1953a4a0312393adccbe15719eb22065">DIALTYPE_XFER</a>;</div><div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;         }</div><div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a557aa971164d442764950f482fa80215">skinny_transfer_attended</a>(sub);</div><div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;      }</div><div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;   }</div><div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;}</div><div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;</div><div class="line"><a name="l06160"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2528095c7a59760043ea6020c6c03d58"> 6160</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2528095c7a59760043ea6020c6c03d58">handle_callforward_button</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l, <span class="keyword">struct</span> <a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, <span class="keywordtype">int</span> cfwdtype)</div><div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;{</div><div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;</div><div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;   <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>) {</div><div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Device for line %s is not registered.\n&quot;</span>, l-&gt;name);</div><div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;   }</div><div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;</div><div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;   <span class="keywordflow">if</span> (!sub &amp;&amp; (l-&gt;cfwdtype &amp; cfwdtype)) {</div><div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab04a8ea6a900e9b9327d8e896b61899b">set_callforwards</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, cfwdtype);</div><div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;      <span class="keywordflow">if</span> (sub) {</div><div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(sub, 1);</div><div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;      }</div><div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa51e51361738b28e24f83d7ec6b4c0f3">transmit_cfwdstate</a>(d, l);</div><div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;CFwd disabled&quot;</span>, 10);</div><div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;      <span class="keywordflow">if</span> (!sub || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;         <span class="keywordflow">if</span> (!(c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>))) {</div><div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;         }</div><div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;         sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;         l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>);</div><div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;      }</div><div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afba22a4c8379e0b1489d8aaf643333d5">getforward</a> |= cfwdtype;</div><div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">dialType</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a51420940ed1fee2467839518ae00413e">DIALTYPE_CFWD</a>;</div><div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;   }</div><div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;}</div><div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;</div><div class="line"><a name="l06192"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae331d9ec23b9f9ed1f97b87be60b9fb8"> 6192</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae331d9ec23b9f9ed1f97b87be60b9fb8">handle_ip_port_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;{</div><div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;   <span class="comment">/* no response necessary */</span></div><div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;}</div><div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;</div><div class="line"><a name="l06198"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a41ff9aa527c91c35ae2d2d636c309582"> 6198</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a41ff9aa527c91c35ae2d2d636c309582">handle_keepalive_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;{</div><div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab5dcb5c2f3332dc732b5c18eae4969ef">not_used</a> = <a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(sched, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a>);</div><div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;</div><div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;   {</div><div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;      <span class="keywordtype">long</span> keepalive_diff;</div><div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;      keepalive_diff = (long) <a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), <a class="code" href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a>(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2ed89e10d65c4137d632cf97641df41a">last_keepalive</a>, <a class="code" href="../../de/df7/time_8h.html#aebf04439f206cc509472ce4b6da48a5a">ast_tv</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a>, 0)));</div><div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>|<a class="code" href="../../d0/d80/chan__skinny_8c.html#a01aa848ad39247c674889b31c19015e3">DEBUG_KEEPALIVE</a>, 3,</div><div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;         <span class="stringliteral">&quot;Keep_alive %d on %s, %.3fs %s\n&quot;</span>,</div><div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;            ++s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a0c8b0946b3ef893d0ec702480259032e">keepalive_count</a>,</div><div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;            (s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a> ? s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;name : <span class="stringliteral">&quot;unregistered&quot;</span>),</div><div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;            (<span class="keywordtype">float</span>) labs(keepalive_diff) / 1000,</div><div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;            (keepalive_diff &gt; 0 ? <span class="stringliteral">&quot;late&quot;</span> : <span class="stringliteral">&quot;early&quot;</span>));</div><div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;   }</div><div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;</div><div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a> = <a class="code" href="../../d7/d00/sched_8h.html#a7a43dcf8be6b2ed7f96f3867fbcb4082">ast_sched_add</a>(sched, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a>*3000, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad1230e2a8f68b65b1767bc34e407c88b">skinny_nokeepalive_cb</a>, s);</div><div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2ed89e10d65c4137d632cf97641df41a">last_keepalive</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a63014e35eb513761fb09a412b6514df7">transmit_keepaliveack</a>(s);</div><div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;}</div><div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;</div><div class="line"><a name="l06220"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1f86382ae84168245fb2f120af3747d4"> 6220</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1f86382ae84168245fb2f120af3747d4">handle_keypad_button_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;{</div><div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> f = { 0, };</div><div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;   <span class="keywordtype">char</span> dgt;</div><div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>;</div><div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;   <span class="keywordtype">int</span> lineInstance;</div><div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;   <span class="keywordtype">int</span> callReference;</div><div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;</div><div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;   digit = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23815068e4a04a658a8bd00aabab71fc">keypad</a>.<a class="code" href="../../de/d0c/structkeypad__button__message.html#a9ee7e63d91ac13e63dbad259aa1b52a6">button</a>);</div><div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;   lineInstance = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23815068e4a04a658a8bd00aabab71fc">keypad</a>.<a class="code" href="../../de/d0c/structkeypad__button__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a>);</div><div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;   callReference = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23815068e4a04a658a8bd00aabab71fc">keypad</a>.<a class="code" href="../../de/d0c/structkeypad__button__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>);</div><div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;</div><div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;   <span class="keywordflow">if</span> (lineInstance &amp;&amp; callReference) {</div><div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;      sub = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55">find_subchannel_by_instance_reference</a>(d, lineInstance, callReference);</div><div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;      sub = d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a70da1427655ecdaa64e57324e51f440b">activeline</a>-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>;</div><div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;   }</div><div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;</div><div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;   <span class="keywordflow">if</span> (!sub)</div><div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;</div><div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;   l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;</div><div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;   <span class="keywordflow">if</span> (digit == 14) {</div><div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;      dgt = <span class="charliteral">&#39;*&#39;</span>;</div><div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (digit == 15) {</div><div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;      dgt = <span class="charliteral">&#39;#&#39;</span>;</div><div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (digit &gt;= 0 &amp;&amp; digit &lt;= 9) {</div><div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;      dgt = <span class="charliteral">&#39;0&#39;</span> + <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>;</div><div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;      <span class="comment">/* digit=10-13 (A,B,C,D ?), or</span></div><div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;<span class="comment">       * digit is bad value</span></div><div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;<span class="comment">       * probably should not end up here, but set</span></div><div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;<span class="comment">       * value for backward compatibility, and log</span></div><div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;<span class="comment">       * a warning.</span></div><div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;      dgt = <span class="charliteral">&#39;0&#39;</span> + <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>;</div><div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported digit %d\n&quot;</span>, digit);</div><div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;   }</div><div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;</div><div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;   <span class="keywordflow">if</span> ((sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> &amp;&amp; <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) &lt;  <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>)) {</div><div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;      <span class="keywordflow">if</span> (-1 &lt; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> &amp;&amp; !<a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d0e2d2a102eeaa09594d004fec24f8b">skinny_sched_del</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a>, sub)) {</div><div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Got a digit and not timed out, so try dialing\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> = -1;</div><div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;         len = strlen(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;         <span class="keywordflow">if</span> (len == 0) {</div><div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a526c9d413d9b96dfea81eae19b0619b5">KEYDEF_DADFD</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>&amp;~<a class="code" href="../../d0/d80/chan__skinny_8c.html#a18ced9b5b209b2cbca7b9ee5c16ef9e1">KEYMASK_FORCEDIAL</a>);</div><div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;         }</div><div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;         <span class="keywordflow">if</span> (len &lt; <span class="keyword">sizeof</span>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>) - 1 &amp;&amp; dgt != <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab9f6af2c0142f36638e3cd7d240497dd">immed_dialchar</a>) {</div><div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>[<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] = dgt;</div><div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>[len + 1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;         }</div><div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;         <span class="keywordflow">if</span> (len == <span class="keyword">sizeof</span>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>) - 1 || dgt == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab9f6af2c0142f36638e3cd7d240497dd">immed_dialchar</a>) {</div><div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#aadfb4dbc65b363d775663843e970a551">skinny_dialer</a>(sub, 1);</div><div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#aadfb4dbc65b363d775663843e970a551">skinny_dialer</a>(sub, 0);</div><div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;         }</div><div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u  Got a digit already timedout, ignore\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;         <span class="comment">/* Timed out so the call is being progressed elsewhere, to late for digits */</span></div><div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;      }</div><div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a>, 3, <span class="stringliteral">&quot;Sub %u - Got a digit and sending as DTMF\n&quot;</span>, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;      f.<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = dgt;</div><div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;      f.<a class="code" href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">src</a> = <span class="stringliteral">&quot;skinny&quot;</span>;</div><div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) == 0) {</div><div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;            f.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a9b350360a64b55c7590f1ec03db480be">AST_FRAME_DTMF_BEGIN</a>;</div><div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, &amp;f);</div><div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;         }</div><div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;         <span class="comment">/* XXX MUST queue this frame to all lines in threeway call if threeway call is active */</span></div><div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;         f.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a98e65764bc963016c394bcc1bad6540b">AST_FRAME_DTMF_END</a>;</div><div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, &amp;f);</div><div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;         <span class="comment">/* XXX This seriously needs to be fixed */</span></div><div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(sub, list) &amp;&amp; <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(sub, list)-&gt;owner) {</div><div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) == 0) {</div><div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;               f.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a9b350360a64b55c7590f1ec03db480be">AST_FRAME_DTMF_BEGIN</a>;</div><div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;               <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(<a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(sub, list)-&gt;owner, &amp;f);</div><div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;            }</div><div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;            f.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a98e65764bc963016c394bcc1bad6540b">AST_FRAME_DTMF_END</a>;</div><div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(<a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(sub, list)-&gt;owner, &amp;f);</div><div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;         }</div><div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Got digit on %s, but not associated with channel\n&quot;</span>, l-&gt;name);</div><div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;      }</div><div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;   }</div><div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;}</div><div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;</div><div class="line"><a name="l06316"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad229f47d1b225da7a72688def1a3c95b"> 6316</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad229f47d1b225da7a72688def1a3c95b">handle_stimulus_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;{</div><div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;   <span class="comment">/*struct skinny_speeddial *sd;*/</span></div><div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;   <span class="keywordtype">int</span> instance;</div><div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;   <span class="keywordtype">int</span> callreference;</div><div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;   <span class="comment">/* This is only used in AST_DEVMODE, as an argument to SKINNY_DEBUG */</span></div><div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;   callreference = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aee5c3dbb8f03b80b242ed1b447d25886">stimulus</a>.<a class="code" href="../../df/d52/structstimulus__message.html#aa056c11f2f813407952d829437cec263">callreference</a>);</div><div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;</div><div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;   <span class="keyword">event</span> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aee5c3dbb8f03b80b242ed1b447d25886">stimulus</a>.<a class="code" href="../../df/d52/structstimulus__message.html#af793c4f4a8ade380472caa8035905848">stimulus</a>);</div><div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;   instance = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aee5c3dbb8f03b80b242ed1b447d25886">stimulus</a>.<a class="code" href="../../df/d52/structstimulus__message.html#a9343bb7a21618047055c833ea497d1fe">stimulusInstance</a>);</div><div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;</div><div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;   <span class="comment">/*  Note that this call should be using the passed in instance and callreference */</span></div><div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;   sub = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55">find_subchannel_by_instance_reference</a>(d, d-&gt;lastlineinstance, d-&gt;lastcallreference);</div><div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;</div><div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;   <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;      l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a>(d, d-&gt;lastlineinstance);</div><div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;      <span class="keywordflow">if</span> (!l) {</div><div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;      }</div><div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;      sub = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>;</div><div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;      l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;   }</div><div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;</div><div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;   <span class="keywordflow">switch</span>(event) {</div><div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a33435da098fa6baba656162b287d03ad">STIMULUS_REDIAL</a>:</div><div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_REDIAL from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;</div><div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;lastnumberdialed)) {</div><div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Attempted redial, but no previously dialed number found. Ignoring button.\n&quot;</span>);</div><div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;      }</div><div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;</div><div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;      c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;      <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;         sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;         l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(sub, l-&gt;lastnumberdialed);</div><div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;      }</div><div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5e78a80b19eee87e834b2f2b699c85f2">STIMULUS_SPEEDDIAL</a>:</div><div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;       {</div><div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;</div><div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_SPEEDDIAL from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;</div><div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;      <span class="keywordflow">if</span> (!(sd = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0be9e6c1ec02d36ff811d63a5b9ca022">find_speeddial_by_instance</a>(d, instance, 0))) {</div><div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;      }</div><div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;</div><div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;      <span class="keywordflow">if</span> (!sub || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)</div><div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;         c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;         c = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;</div><div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;      <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;         sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(sub, sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;      }</div><div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;       }</div><div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a68441ee5fadb36ee720812ba7f0ee460">STIMULUS_HOLD</a>:</div><div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_HOLD from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa9d48518ce398e46ebf39a3eff38c849">handle_hold_button</a>(sub);</div><div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab3db0778b0a139e240053a7996b4a9e4">STIMULUS_TRANSFER</a>:</div><div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_TRANSFER from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;      <span class="keywordflow">if</span> (l-&gt;transfer)</div><div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#af725e197a8e1179ddd97a81b592dbb93">handle_transfer_button</a>(sub);</div><div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Transfer disabled&quot;</span>, 10);</div><div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aef34632dd58c9bb98615297efcc1c964">STIMULUS_CONFERENCE</a>:</div><div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_CONFERENCE from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;      <span class="comment">/* XXX determine the best way to pull off a conference.  Meetme? */</span></div><div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#add30eeef22fe342e5e7e92354ece088e">STIMULUS_VOICEMAIL</a>:</div><div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_VOICEMAIL from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;</div><div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;      <span class="keywordflow">if</span> (!sub || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;         c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;         c = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;      }</div><div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;</div><div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;      <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;      }</div><div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;</div><div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;      sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;      <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a460583dd3b35299fa584b11304db2be3">SUBSTATE_UNSET</a> || sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>){</div><div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(sub, l-&gt;vmexten);</div><div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;      }</div><div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a43375044fa9c80f030190f7f2f507d9b">STIMULUS_CALLPARK</a>:</div><div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;      {</div><div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;      <span class="keywordtype">char</span> extout[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *, bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_CALLPARK from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;</div><div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d33/parking_8h.html#ae6064ecb9b802ce85e93ddfa7719c433">ast_parking_provider_registered</a>()) {</div><div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Call Park not available&quot;</span>, 10);</div><div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;      }</div><div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;</div><div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;      <span class="keywordflow">if</span> ((sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) &amp;&amp; (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) ==  <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>)) {</div><div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;         c = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(c);</div><div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;         bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(c);</div><div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(c);</div><div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;</div><div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;         <span class="keywordflow">if</span> (!bridge_channel) {</div><div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Call Park failed&quot;</span>, 10);</div><div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;         }</div><div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;</div><div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d33/parking_8h.html#a0162941475a84b9f0356343eab1e02dd">ast_parking_park_call</a>(bridge_channel, extout, <span class="keyword">sizeof</span>(extout))) {</div><div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> msg_prefix[] = <span class="stringliteral">&quot;Call Parked at: &quot;</span>;</div><div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a>[<span class="keyword">sizeof</span>(msg_prefix) + <span class="keyword">sizeof</span>(extout)];</div><div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;</div><div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;            snprintf(message, <span class="keyword">sizeof</span>(message), <span class="stringliteral">&quot;%s%s&quot;</span>, msg_prefix, extout);</div><div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, message, 10);</div><div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;         }</div><div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Call Park failed&quot;</span>, 10);</div><div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Call Park not available&quot;</span>, 10);</div><div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;      }</div><div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;      }</div><div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a01245cf7008ec6fc7a898f2add35d1bd">STIMULUS_DND</a>:</div><div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_DND from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;</div><div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;      <span class="comment">/* Do not disturb */</span></div><div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;      <span class="keywordflow">if</span> (l-&gt;dnd != 0){</div><div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Disabling DND on %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;         l-&gt;dnd = 0;</div><div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a01245cf7008ec6fc7a898f2add35d1bd">STIMULUS_DND</a>, 1, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a>);</div><div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;DnD disabled&quot;</span>, 10);</div><div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Enabling DND on %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;         l-&gt;dnd = 1;</div><div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a01245cf7008ec6fc7a898f2add35d1bd">STIMULUS_DND</a>, 1, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639">SKINNY_LAMP_OFF</a>);</div><div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;DnD enabled&quot;</span>, 10);</div><div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;      }</div><div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af3ac1b0d1c42719b924361fb782507e5">STIMULUS_FORWARDALL</a>:</div><div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_FORWARDALL from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2528095c7a59760043ea6020c6c03d58">handle_callforward_button</a>(l, sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>);</div><div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa9a56439f327c8e4795abdd03bfeca10">STIMULUS_FORWARDBUSY</a>:</div><div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_FORWARDBUSY from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2528095c7a59760043ea6020c6c03d58">handle_callforward_button</a>(l, sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>);</div><div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#acbcce2f0a7ce5f5734548811ba160923">STIMULUS_FORWARDNOANSWER</a>:</div><div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_FORWARDNOANSWER from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2528095c7a59760043ea6020c6c03d58">handle_callforward_button</a>(l, sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>);</div><div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aac6715ad310106017794df7beecb0b7e">STIMULUS_DISPLAY</a>:</div><div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;      <span class="comment">/* Not sure what this is */</span></div><div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_DISPLAY from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>:</div><div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received STIMULUS_LINE from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;</div><div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;      l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a>(d, instance);</div><div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;</div><div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;      <span class="keywordflow">if</span> (!l) {</div><div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;      }</div><div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;</div><div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;      d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a70da1427655ecdaa64e57324e51f440b">activeline</a> = l;</div><div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;</div><div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;      <span class="comment">/* turn the speaker on */</span></div><div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9d00b95f44b64f37d738f1ddc2ef972f">transmit_speaker_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a379fd834cea6549831c799ed002b52f7">SKINNY_SPEAKERON</a>);</div><div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6">transmit_ringer_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecd793ced0012f548eaf003e4609e994">SKINNY_RING_OFF</a>);</div><div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a>);</div><div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;</div><div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;      d-&gt;hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>;</div><div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;</div><div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;      <span class="keywordflow">if</span> (sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5">SKINNY_INCOMING</a>) {</div><div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>);</div><div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;         <span class="keywordflow">if</span> (sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Current subchannel [%s] already has owner\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;            c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;            <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c), <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>);</div><div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;            }</div><div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;         }</div><div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;      }</div><div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received UNKNOWN_STIMULUS(%d) from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;         event, d-&gt;name, instance, callreference);</div><div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;   }</div><div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Skinny/%s&quot;</span>, l-&gt;name);</div><div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;</div><div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;}</div><div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;</div><div class="line"><a name="l06546"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1186bffbea3bd1b7ff2af6a9ac9f6c7a"> 6546</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1186bffbea3bd1b7ff2af6a9ac9f6c7a">handle_offhook_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;{</div><div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;   <span class="keywordtype">int</span> instance;</div><div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;   <span class="keywordtype">int</span> reference;</div><div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;</div><div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;   instance = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a29a4718641ccff30ca7b21d7710c8bd3">offhook</a>.<a class="code" href="../../de/dd1/structoffhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>);</div><div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;   reference = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a29a4718641ccff30ca7b21d7710c8bd3">offhook</a>.<a class="code" href="../../de/dd1/structoffhook__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>);</div><div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;</div><div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;   <span class="keywordflow">if</span> (d-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>) {</div><div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Got offhook message when device (%s) already offhook\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;   }</div><div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;</div><div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;   <span class="keywordflow">if</span> (reference) {</div><div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;      sub = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55">find_subchannel_by_instance_reference</a>(d, instance, reference);</div><div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;      <span class="keywordflow">if</span> (sub) {</div><div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;         l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;      }</div><div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;   }</div><div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;   <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;      <span class="keywordflow">if</span> (instance) {</div><div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;         l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a>(d, instance);</div><div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;         l = d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a70da1427655ecdaa64e57324e51f440b">activeline</a>;</div><div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;      }</div><div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;      sub = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>;</div><div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;   }</div><div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;</div><div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6">transmit_ringer_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecd793ced0012f548eaf003e4609e994">SKINNY_RING_OFF</a>);</div><div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;   d-&gt;hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>;</div><div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;</div><div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Skinny/%s&quot;</span>, l-&gt;name);</div><div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;</div><div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;   <span class="keywordflow">if</span> (sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>) {</div><div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;   }</div><div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;</div><div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a>);</div><div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;</div><div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;   <span class="keywordflow">if</span> (sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5">SKINNY_INCOMING</a>) {</div><div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>);</div><div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;      <span class="comment">/* Not ideal, but let&#39;s send updated time at onhook and offhook, as it clears the display */</span></div><div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a>(d);</div><div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;</div><div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;      <span class="keywordflow">if</span> (sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Current sub [%s] already has owner\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;         c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;         <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c), <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>);</div><div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;         }</div><div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;      }</div><div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;   }</div><div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;}</div><div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;</div><div class="line"><a name="l06609"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a168480819789a822d423c3fd6387a493"> 6609</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a168480819789a822d423c3fd6387a493">handle_onhook_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;{</div><div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;   <span class="keywordtype">int</span> instance;</div><div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;   <span class="keywordtype">int</span> reference;</div><div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;</div><div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;   instance = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a1351994edcbe98ad38854153208d91d0">onhook</a>.<a class="code" href="../../d9/d36/structonhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>);</div><div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;   reference = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a1351994edcbe98ad38854153208d91d0">onhook</a>.<a class="code" href="../../d9/d36/structonhook__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>);</div><div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;</div><div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;   <span class="keywordflow">if</span> (instance &amp;&amp; reference) {</div><div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;      sub = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55">find_subchannel_by_instance_reference</a>(d, instance, reference);</div><div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;      <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;      }</div><div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;      l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;      l = d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a70da1427655ecdaa64e57324e51f440b">activeline</a>;</div><div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;      sub = l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>;</div><div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;      <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;      }</div><div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;   }</div><div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;</div><div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;   <span class="keywordflow">if</span> (d-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>) {</div><div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;      <span class="comment">/* Something else already put us back on hook */</span></div><div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;      <span class="comment">/* Not ideal, but let&#39;s send updated time anyway, as it clears the display */</span></div><div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a>(d);</div><div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;   }</div><div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;</div><div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;   <span class="keywordflow">if</span> (l-&gt;transfer &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a04f1e042676be8f4763d8d5a9000b1e5">xferor</a> &amp;&amp; <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) &gt;= <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a10482c2bc6340e09ed02b00bc0e3f433">AST_STATE_RING</a>) {</div><div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;      <span class="comment">/* We&#39;re allowed to transfer, we have two active calls and</span></div><div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;<span class="comment">         we made at least one of the calls.  Let&#39;s try and transfer */</span></div><div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#af725e197a8e1179ddd97a81b592dbb93">handle_transfer_button</a>(sub);</div><div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;   }</div><div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;</div><div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Skinny/%s&quot;</span>, l-&gt;name);</div><div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;</div><div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(sub, 0);</div><div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;</div><div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;   d-&gt;hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>;</div><div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;</div><div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;   <span class="comment">/* Not ideal, but let&#39;s send updated time at onhook and offhook, as it clears the display */</span></div><div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a>(d);</div><div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;</div><div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;}</div><div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;</div><div class="line"><a name="l06660"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6382ccdb9e04a0ce816a20a54a96700a"> 6660</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6382ccdb9e04a0ce816a20a54a96700a">handle_capabilities_res_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;{</div><div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;   uint32_t count = 0;</div><div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *<a class="code" href="../../d5/def/codec_8c.html#a26d06e92c695d54e16beb8070dc5461d">codecs</a> = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *codec_buf = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a>);</div><div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;</div><div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;</div><div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;   <span class="keywordflow">if</span> (!codecs) {</div><div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;   }</div><div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;</div><div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;   count = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a99fd8190ffcee05962cae3d8518033cc">caps</a>.<a class="code" href="../../d3/db0/structcapabilities__res__message.html#a86988a65e0d3ece7990c032c159786d6">count</a>);</div><div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;   <span class="keywordflow">if</span> (count &gt; <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa12950ed52268059264cbac73630a91a">SKINNY_MAX_CAPABILITIES</a>) {</div><div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;      count = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa12950ed52268059264cbac73630a91a">SKINNY_MAX_CAPABILITIES</a>;</div><div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Received more capabilities than we can handle (%d).  Ignoring the rest.\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa12950ed52268059264cbac73630a91a">SKINNY_MAX_CAPABILITIES</a>);</div><div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;   }</div><div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;</div><div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div><div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *acodec;</div><div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;      <span class="keywordtype">int</span> scodec = 0;</div><div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;      scodec = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a99fd8190ffcee05962cae3d8518033cc">caps</a>.<a class="code" href="../../d3/db0/structcapabilities__res__message.html#ac665dc2214c0a6f27c0b17f5d88032ea">caps</a>[i].<a class="code" href="../../d6/d32/structstation__capabilities.html#a86c2d4142c7f419d8d327bc261fa851f">codec</a>);</div><div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;      acodec = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa67a34c1ad43d40c76151aac0120bdc1">codec_skinny2ast</a>(scodec);</div><div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 4, <span class="stringliteral">&quot;Adding codec capability %s (%d)\n&quot;</span>, <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(acodec), scodec);</div><div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;      <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(codecs, acodec, 0);</div><div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;   }</div><div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;</div><div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#a43950f716385bc78a73de04acd6a7eb4">ast_format_cap_get_compatible</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, codecs, d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>);</div><div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 4, <span class="stringliteral">&quot;Device capability set to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, &amp;codec_buf));</div><div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list) {</div><div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;      <a class="code" href="../../d0/d3c/format__cap_8h.html#a43950f716385bc78a73de04acd6a7eb4">ast_format_cap_get_compatible</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>);</div><div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;   }</div><div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;</div><div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(codecs, -1);</div><div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;}</div><div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;</div><div class="line"><a name="l06703"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a987b03603d0ce69e4e50662c7c3fb744"> 6703</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a987b03603d0ce69e4e50662c7c3fb744">handle_button_template_req_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;{</div><div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d52/structskinny__serviceurl.html">skinny_serviceurl</a> *surl;</div><div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d8c/structbutton__definition__template.html">button_definition_template</a> btn[42];</div><div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;   <span class="keywordtype">int</span> lineInstance = 1;</div><div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;   <span class="keywordtype">int</span> speeddialInstance = 1;</div><div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;   <span class="keywordtype">int</span> serviceurlInstance = 1;</div><div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;   <span class="keywordtype">int</span> buttonCount = 0;</div><div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;</div><div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;   <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../db/df8/structbutton__template__res__message.html">button_template_res_message</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa0698f06ea990283d266b4fad44a49c1">BUTTON_TEMPLATE_RES_MESSAGE</a>)))</div><div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;</div><div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 3, <span class="stringliteral">&quot;Creating Button Template\n&quot;</span>);</div><div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;</div><div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;   memset(&amp;btn, 0, <span class="keyword">sizeof</span>(btn));</div><div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a777f6b11a8e0eb771de41dfe998bb570">get_button_template</a>(s, btn);</div><div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;</div><div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;   <span class="keywordflow">for</span> (i=0; i&lt;42; i++) {</div><div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;      <span class="keywordtype">int</span> btnSet = 0;</div><div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;      <span class="keywordflow">switch</span> (btn[i].<a class="code" href="../../d9/d8c/structbutton__definition__template.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a>) {</div><div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a79703f70916908d1d8a2cbb2c319a287">BT_CUST_LINE</a>:</div><div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;            <span class="comment">/* assume failure */</span></div><div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afaba3e566686d3d7a3f42c20aa5e882d">BT_NONE</a>;</div><div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = 0;</div><div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;</div><div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list) {</div><div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;               <span class="keywordflow">if</span> (l-&gt;instance == lineInstance) {</div><div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;                  <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;Adding button: %d, %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>, lineInstance);</div><div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;                  req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>;</div><div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;                  req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = lineInstance;</div><div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;                  lineInstance++;</div><div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;                  buttonCount++;</div><div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;                  btnSet = 1;</div><div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;               }</div><div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;            }</div><div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;</div><div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;            <span class="keywordflow">if</span> (!btnSet) {</div><div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, sd, list) {</div><div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;                  <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a> &amp;&amp; sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> == lineInstance) {</div><div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;                     <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;Adding button: %d, %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>, lineInstance);</div><div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;                     req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>;</div><div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;                     req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = lineInstance;</div><div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;                     lineInstance++;</div><div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;                     buttonCount++;</div><div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;                     btnSet = 1;</div><div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;                     <span class="keywordflow">break</span>;</div><div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;                  }</div><div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;               }</div><div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;            }</div><div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad25614879b5f61a397dd7e6afc94e315">BT_CUST_LINESPEEDDIAL</a>:</div><div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;            <span class="comment">/* assume failure */</span></div><div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afaba3e566686d3d7a3f42c20aa5e882d">BT_NONE</a>;</div><div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = 0;</div><div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;</div><div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list) {</div><div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;               <span class="keywordflow">if</span> (l-&gt;instance == lineInstance) {</div><div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;                  <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;Adding button: %d, %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>, lineInstance);</div><div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;                  req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>;</div><div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;                  req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = lineInstance;</div><div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;                  lineInstance++;</div><div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;                  buttonCount++;</div><div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;                  btnSet = 1;</div><div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;               }</div><div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;            }</div><div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;</div><div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;            <span class="keywordflow">if</span> (!btnSet) {</div><div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, sd, list) {</div><div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;                  <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a> &amp;&amp; sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> == lineInstance) {</div><div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;                     <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;Adding button: %d, %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>, lineInstance);</div><div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;                     req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>;</div><div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;                     req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = lineInstance;</div><div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;                     lineInstance++;</div><div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;                     buttonCount++;</div><div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;                     btnSet = 1;</div><div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;                     <span class="keywordflow">break</span>;</div><div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;                  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a> &amp;&amp; sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> == speeddialInstance) {</div><div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;                     <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;Adding button: %d, %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">BT_SPEEDDIAL</a>, speeddialInstance);</div><div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;                     req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">BT_SPEEDDIAL</a>;</div><div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;                     req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = speeddialInstance;</div><div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;                     speeddialInstance++;</div><div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;                     buttonCount++;</div><div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;                     btnSet = 1;</div><div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;                     <span class="keywordflow">break</span>;</div><div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;                  }</div><div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;               }</div><div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;            }</div><div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;</div><div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;            <span class="keywordflow">if</span> (!btnSet) {</div><div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aa781e5785521bd411b6aef84261ab788">serviceurls</a>, surl, list) {</div><div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;                  <span class="keywordflow">if</span> (surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> == serviceurlInstance) {</div><div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;                     <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;Adding button: %d, %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2fed5ffe5ad02c8583af168b3e1bd2ba">BT_SERVICEURL</a>, serviceurlInstance);</div><div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;                     req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2fed5ffe5ad02c8583af168b3e1bd2ba">BT_SERVICEURL</a>;</div><div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;                     req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = serviceurlInstance;</div><div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;                     serviceurlInstance++;</div><div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;                     buttonCount++;</div><div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;                     btnSet = 1;</div><div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;                     <span class="keywordflow">break</span>;</div><div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;                  }</div><div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;               }</div><div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;            }</div><div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>:</div><div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#afaba3e566686d3d7a3f42c20aa5e882d">BT_NONE</a>);</div><div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(0);</div><div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;</div><div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, list) {</div><div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;               <span class="keywordflow">if</span> (l-&gt;instance == lineInstance) {</div><div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;                  <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;Adding button: %d, %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>, lineInstance);</div><div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;                  req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a>;</div><div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;                  req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = lineInstance;</div><div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;                  lineInstance++;</div><div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;                  buttonCount++;</div><div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;                  btnSet = 1;</div><div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;               }</div><div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;            }</div><div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">BT_SPEEDDIAL</a>:</div><div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afaba3e566686d3d7a3f42c20aa5e882d">BT_NONE</a>;</div><div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = 0;</div><div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;</div><div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, sd, list) {</div><div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;               <span class="keywordflow">if</span> (!sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a> &amp;&amp; sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> == speeddialInstance) {</div><div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;                  <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;Adding button: %d, %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">BT_SPEEDDIAL</a>, speeddialInstance);</div><div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;                  req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">BT_SPEEDDIAL</a>;</div><div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;                  req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = speeddialInstance - 1;</div><div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;                  speeddialInstance++;</div><div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;                  buttonCount++;</div><div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;                  btnSet = 1;</div><div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;               }</div><div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;            }</div><div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#afaba3e566686d3d7a3f42c20aa5e882d">BT_NONE</a>:</div><div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;         <span class="keywordflow">default</span>:</div><div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 4, <span class="stringliteral">&quot;Adding button: %d, %d\n&quot;</span>, btn[i].buttonDefinition, 0);</div><div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">buttonDefinition</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(btn[i].buttonDefinition);</div><div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;            req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">definition</a>[i].<a class="code" href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">instanceNumber</a> = 0;</div><div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;            buttonCount++;</div><div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;            btnSet = 1;</div><div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;      }</div><div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;   }</div><div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;</div><div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#a8bfe0684eb73994b284e34cbab2ab7ec">buttonOffset</a> = 0;</div><div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#aa100098f03a37452cf695a63ec6cc205">buttonCount</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(buttonCount);</div><div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;   req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">buttontemplate</a>.<a class="code" href="../../db/df8/structbutton__template__res__message.html#a119c7a9d583c29cc7454bf18f9328527">totalButtonCount</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(buttonCount);</div><div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;</div><div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a>, 3, <span class="stringliteral">&quot;Transmitting BUTTON_TEMPLATE_RES_MESSAGE to %s, type %d\n&quot;</span>,</div><div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;      d-&gt;name, d-&gt;type);</div><div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a>(d, req);</div><div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;}</div><div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;</div><div class="line"><a name="l06865"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a0e967f0092b2ed2450643b9842a38ebe"> 6865</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e967f0092b2ed2450643b9842a38ebe">handle_open_receive_channel_ack_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;{</div><div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;   <span class="keyword">struct </span>sockaddr_in sin = { 0, };</div><div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;   <span class="keyword">struct </span>sockaddr_in us = { 0, };</div><div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> sin_tmp;</div><div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> us_tmp;</div><div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *tmpfmt;</div><div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;   uint32_t addr;</div><div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;   <span class="keywordtype">int</span> port;</div><div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>;</div><div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;   <span class="keywordtype">int</span> callid;</div><div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> framing;</div><div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;</div><div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;   status = (d-&gt;protocolversion&lt;17) ? <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a845fba63a352afd2df7846879b11b35a">openreceivechannelack_ip4</a>.<a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#ade20423e91627f07e610924cb0081623">status</a>) : <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a5292f1e5ade2bf5d4ee2335cb5d628e3">openreceivechannelack_ip6</a>.<a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#ade20423e91627f07e610924cb0081623">status</a>);</div><div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;</div><div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;   <span class="keywordflow">if</span> (status) {</div><div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received OPEN_RECEIVE_CHANNEL_ACK_MESSAGE from %s, status %d\n&quot;</span>,</div><div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;         d-&gt;name, status);</div><div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Open Receive Channel Failure\n&quot;</span>);</div><div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;   }</div><div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;</div><div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;   <span class="keywordflow">if</span> (d-&gt;protocolversion&lt;17) {</div><div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;      addr = req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a845fba63a352afd2df7846879b11b35a">openreceivechannelack_ip4</a>.<a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a597bb7df7851baf554b7310863015b2e">ipAddr</a>;</div><div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;      port = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a845fba63a352afd2df7846879b11b35a">openreceivechannelack_ip4</a>.<a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a83a04ad582de2b7d36b96f9db429c2c6">port</a>);</div><div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;      callid = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a845fba63a352afd2df7846879b11b35a">openreceivechannelack_ip4</a>.<a class="code" href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>);</div><div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;      memcpy(&amp;addr, &amp;req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a5292f1e5ade2bf5d4ee2335cb5d628e3">openreceivechannelack_ip6</a>.<a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#ac5a38fc25a4e37970a393d8e794b37c4">ipAddr</a>, <span class="keyword">sizeof</span>(addr));</div><div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;      port = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a5292f1e5ade2bf5d4ee2335cb5d628e3">openreceivechannelack_ip6</a>.<a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a83a04ad582de2b7d36b96f9db429c2c6">port</a>);</div><div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;      callid = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a5292f1e5ade2bf5d4ee2335cb5d628e3">openreceivechannelack_ip6</a>.<a class="code" href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>);</div><div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;   }</div><div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;</div><div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;   sin.sin_family = AF_INET;</div><div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;   sin.sin_addr.s_addr = addr;</div><div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;   sin.sin_port = htons(port);</div><div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;</div><div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received OPEN_RECEIVE_CHANNEL_ACK_MESSAGE from %s, status %d, callid %d, ip %s:%d\n&quot;</span>,</div><div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;      d-&gt;name, status, callid, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(sin.sin_addr), port);</div><div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;</div><div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;   sub = <a class="code" href="../../d0/d80/chan__skinny_8c.html#acaafecebc752534270c786c48539a9ee">find_subchannel_by_reference</a>(d, callid);</div><div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;</div><div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;   <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Open Receive Channel Failure - can&#39;t find sub for %d\n&quot;</span>, callid);</div><div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;   }</div><div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;</div><div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;   l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;</div><div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;   <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;      <a class="code" href="../../db/df1/netsock2_8h.html#ad68264a6784dc22570eda3cb447307f8">ast_sockaddr_from_sin</a>(&amp;sin_tmp, &amp;sin);</div><div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a90c48c7f24206e8822bf520dae0a2478">ast_rtp_instance_set_remote_address</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, &amp;sin_tmp);</div><div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a80baeff1bd121c3168ede2a955e9b3a2">ast_rtp_instance_get_local_address</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, &amp;us_tmp);</div><div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;      <a class="code" href="../../db/df1/netsock2_8h.html#aa60da39edcabcec05ca9219c7b290395">ast_sockaddr_to_sin</a>(&amp;us_tmp, &amp;us);</div><div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;      us.sin_addr.s_addr = us.sin_addr.s_addr ? us.sin_addr.s_addr : d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aff045cc68524670d4355f882c7ac6271">ourip</a>.s_addr;</div><div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;No RTP structure, this is very bad\n&quot;</span>);</div><div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;   }</div><div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;</div><div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 4, <span class="stringliteral">&quot;device ipaddr = %s:%d\n&quot;</span>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(sin.sin_addr), ntohs(sin.sin_port));</div><div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 4, <span class="stringliteral">&quot;asterisk ipaddr = %s:%d\n&quot;</span>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(us.sin_addr), ntohs(us.sin_port));</div><div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;</div><div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;   tmpfmt = <a class="code" href="../../d0/d3c/format__cap_8h.html#a5d2c52e9d892cd7c6488563cf00ba9bc">ast_format_cap_get_format</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, 0);</div><div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;   framing = <a class="code" href="../../d0/d3c/format__cap_8h.html#a0e882d4c863b74fd9cd6f7d94740bfe2">ast_format_cap_get_format_framing</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, tmpfmt);</div><div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;</div><div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 4, <span class="stringliteral">&quot;Setting payloadType to &#39;%s&#39; (%u ms)\n&quot;</span>, <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(tmpfmt), framing);</div><div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;</div><div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab1dc8844196e417a34c61c035b86dfce">transmit_startmediatransmission</a>(d, sub, us, tmpfmt, framing);</div><div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;</div><div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(tmpfmt, -1);</div><div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;</div><div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;}</div><div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;</div><div class="line"><a name="l06942"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6b153ba03b4ade85409b370040668b3a"> 6942</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b153ba03b4ade85409b370040668b3a">handle_enbloc_call_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;{</div><div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;</div><div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;   sub = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55">find_subchannel_by_instance_reference</a>(d, d-&gt;lastlineinstance, d-&gt;lastcallreference);</div><div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;</div><div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;   <span class="keywordflow">if</span> (!sub) {</div><div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;      l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a>(d, d-&gt;lastlineinstance);</div><div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;      <span class="keywordflow">if</span> (!l) {</div><div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;      }</div><div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;      l = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;   }</div><div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;</div><div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;   c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;</div><div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;   <span class="keywordflow">if</span>(!c) {</div><div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;      d-&gt;hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>;</div><div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;</div><div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;      sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(sub, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a8b760cddc80b9386b1ed58030b170a30">enbloccallmessage</a>.<a class="code" href="../../d3/df0/structenbloc__call__message.html#aaa9b00db6f95d4932ee8d3b825c73bca">calledParty</a>);</div><div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;   }</div><div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;</div><div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;}</div><div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;</div><div class="line"><a name="l06974"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a2c55bb9609ddde15bace5fe2d7962b43"> 6974</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2c55bb9609ddde15bace5fe2d7962b43">handle_soft_key_event_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;{</div><div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;   <span class="keywordtype">int</span> instance;</div><div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;   <span class="keywordtype">int</span> callreference;</div><div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;</div><div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;   <span class="keyword">event</span> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aac712770efa4df6178f5dd12bb346907">softkeyeventmessage</a>.<a class="code" href="../../dd/d3e/structsoft__key__event__message.html#a4358d46dc0a917c9906274cf85132904">softKeyEvent</a>);</div><div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;   instance = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aac712770efa4df6178f5dd12bb346907">softkeyeventmessage</a>.<a class="code" href="../../dd/d3e/structsoft__key__event__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>);</div><div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;   callreference = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aac712770efa4df6178f5dd12bb346907">softkeyeventmessage</a>.<a class="code" href="../../dd/d3e/structsoft__key__event__message.html#aa056c11f2f813407952d829437cec263">callreference</a>);</div><div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;</div><div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;   <span class="keywordflow">if</span> (instance) {</div><div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;      l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a>(d, instance);</div><div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;      <span class="keywordflow">if</span> (callreference) {</div><div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;         sub = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55">find_subchannel_by_instance_reference</a>(d, instance, callreference);</div><div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;         sub = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55">find_subchannel_by_instance_reference</a>(d, instance, d-&gt;lastcallreference);</div><div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;      }</div><div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;      l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a>(d, d-&gt;lastlineinstance);</div><div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;   }</div><div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;</div><div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;   <span class="keywordflow">if</span> (!l) {</div><div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,  <span class="stringliteral">&quot;Received Softkey Event: %d(%d/%d) but can&#39;t find line\n&quot;</span>, event, instance, callreference);</div><div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;   }</div><div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;</div><div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Skinny/%s&quot;</span>, l-&gt;name);</div><div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;</div><div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;   <span class="keywordflow">switch</span>(event) {</div><div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3ccec26212b7c55493ffa4865cbb88d">SOFTKEY_NONE</a>:</div><div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_NONE from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32dc8fa6b998e84ecd2dd709774e25e9">SOFTKEY_REDIAL</a>:</div><div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_REDIAL from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;</div><div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;lastnumberdialed)) {</div><div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Attempted redial, but no previously dialed number found. Ignoring button.\n&quot;</span>);</div><div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;      }</div><div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;</div><div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;      <span class="keywordflow">if</span> (!sub || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;         c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;         c = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;      }</div><div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;</div><div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;      <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;         sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(sub, l-&gt;lastnumberdialed);</div><div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;      }</div><div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aee0ce143cf0a49d49c86cabcf1c829cc">SOFTKEY_NEWCALL</a>:  <span class="comment">/* Actually the DIAL softkey */</span></div><div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_NEWCALL from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;</div><div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;      <span class="comment">/* New Call ALWAYS gets a new sub-channel */</span></div><div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;      c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;      sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;</div><div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;      <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8">activatesub</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a>);</div><div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;      }</div><div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab185c974c2da13dfd3d0fba53d1c4966">SOFTKEY_HOLD</a>:</div><div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_HOLD from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;</div><div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;      <span class="keywordflow">if</span> (sub) {</div><div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>);</div><div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">/* No sub, maybe an SLA call */</span></div><div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline;</div><div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;         <span class="keywordflow">if</span> ((subline = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afa1d29aab59113b0369978c165b29f65">find_subline_by_callid</a>(d, callreference))) {</div><div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">sub</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a>);</div><div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;         }</div><div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;      }</div><div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;</div><div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a>:</div><div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_TRNSFER from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;      <span class="keywordflow">if</span> (l-&gt;transfer)</div><div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#af725e197a8e1179ddd97a81b592dbb93">handle_transfer_button</a>(sub);</div><div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Transfer disabled&quot;</span>, 10);</div><div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;</div><div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5673732b39310cef6a6f21820d95be71">SOFTKEY_DND</a>:</div><div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_DND from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;</div><div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;      <span class="comment">/* Do not disturb */</span></div><div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;      <span class="keywordflow">if</span> (l-&gt;dnd != 0){</div><div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Disabling DND on %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;         l-&gt;dnd = 0;</div><div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a01245cf7008ec6fc7a898f2add35d1bd">STIMULUS_DND</a>, 1, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a>);</div><div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;DnD disabled&quot;</span>, 10);</div><div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Enabling DND on %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;         l-&gt;dnd = 1;</div><div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a01245cf7008ec6fc7a898f2add35d1bd">STIMULUS_DND</a>, 1, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639">SKINNY_LAMP_OFF</a>);</div><div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;DnD enabled&quot;</span>, 10);</div><div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;      }</div><div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0045f3127762983aa2efee3a41e37c40">SOFTKEY_CFWDALL</a>:</div><div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_CFWDALL from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2528095c7a59760043ea6020c6c03d58">handle_callforward_button</a>(l, sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a>);</div><div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a744ad78b0f1ed0a0f678528bc64b1b86">SOFTKEY_CFWDBUSY</a>:</div><div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_CFWDBUSY from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2528095c7a59760043ea6020c6c03d58">handle_callforward_button</a>(l, sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a>);</div><div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c6159fb829fb3916ace06ed837f7b04">SOFTKEY_CFWDNOANSWER</a>:</div><div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_CFWDNOANSWER from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2528095c7a59760043ea6020c6c03d58">handle_callforward_button</a>(l, sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a>);</div><div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8faf0f3196e7a21d01dbbb7719bf11e7">SOFTKEY_BKSPC</a>:</div><div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_BKSPC from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;      <span class="keywordflow">if</span> (-1 &lt; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> &amp;&amp; !<a class="code" href="../../d0/d80/chan__skinny_8c.html#a2d0e2d2a102eeaa09594d004fec24f8b">skinny_sched_del</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a>, sub)) {</div><div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;         <span class="keywordtype">size_t</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> = -1;</div><div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;         len = strlen(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;         <span class="keywordflow">if</span> (len &gt; 0) {</div><div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;            sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">exten</a>[len-1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;            <span class="keywordflow">if</span> (len == 1) {</div><div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a12616ab9d64a36f7c2f372084a3663c8">SKINNY_DIALTONE</a>, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32b4dedb91edf80328d5cda72166bf6e">KEYDEF_OFFHOOK</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;            }</div><div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2bc0fa239544a9b9aebb4aba6d3edacc">transmit_backspace</a>(d, l-&gt;instance, sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>);</div><div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;         }</div><div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;         sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">dialer_sched</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a18410f5b8349988e45ea06befa7ff163">skinny_sched_add</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa319ef1606201db158ce7195fb8eed45">gendigittimeout</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a7aad49354a0cd82f016e6692780e3669">skinny_dialer_cb</a>, sub);</div><div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;      }</div><div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a>:</div><div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_ENDCALL from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;</div><div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;      <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Skinny/%s&quot;</span>, l-&gt;name);</div><div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;</div><div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;      <span class="keywordflow">if</span> (sub) {</div><div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(sub, 1);</div><div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">/* No sub, maybe an SLA call */</span></div><div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline;</div><div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;         <span class="keywordflow">if</span> ((subline = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afa1d29aab59113b0369978c165b29f65">find_subline_by_callid</a>(d, callreference))) {</div><div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">sub</a>, 1);</div><div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;         }</div><div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;      }</div><div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;</div><div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;      d-&gt;hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>;</div><div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;</div><div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;      <span class="comment">/* Not ideal, but let&#39;s send updated time at onhook and offhook, as it clears the display */</span></div><div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a>(d);</div><div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;</div><div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af1726f9c94deb2725bdd8fabf57f1a53">SOFTKEY_RESUME</a>:</div><div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_RESUME from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;</div><div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;      <span class="keywordflow">if</span> (sub) {</div><div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8">activatesub</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>);</div><div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">/* No sub, maybe an inactive SLA call */</span></div><div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline;</div><div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;         subline = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afa1d29aab59113b0369978c165b29f65">find_subline_by_callid</a>(d, callreference);</div><div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;         c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, subline, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;         <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;            sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(sub, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;         }</div><div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;      }</div><div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3b3e11372b76c65944afdea7205fa209">SOFTKEY_ANSWER</a>:</div><div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_ANSWER from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;</div><div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6">transmit_ringer_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecd793ced0012f548eaf003e4609e994">SKINNY_RING_OFF</a>);</div><div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a>, l-&gt;instance, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a>);</div><div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;      <span class="keywordflow">if</span> (d-&gt;hookstate == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a>) {</div><div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9d00b95f44b64f37d738f1ddc2ef972f">transmit_speaker_mode</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a379fd834cea6549831c799ed002b52f7">SKINNY_SPEAKERON</a>);</div><div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;         d-&gt;hookstate = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a>;</div><div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;      }</div><div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;</div><div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;      <span class="keywordflow">if</span> (sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5">SKINNY_INCOMING</a>) {</div><div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8">activatesub</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>);</div><div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;      }</div><div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a62c9ec7d264add3d067520147bcf73ef">SOFTKEY_INFO</a>:</div><div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_INFO from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a50a64a17998ee0c20b7ea929f06f7371">SOFTKEY_CONFRN</a>:</div><div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_CONFRN from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;      <span class="comment">/* XXX determine the best way to pull off a conference.  Meetme? */</span></div><div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a572b1d3a412d0e3eec76ed6888d88885">SOFTKEY_PARK</a>:</div><div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;      {</div><div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;      <span class="keywordtype">char</span> extout[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *, bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_PARK from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;</div><div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d33/parking_8h.html#ae6064ecb9b802ce85e93ddfa7719c433">ast_parking_provider_registered</a>()) {</div><div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Call Park not available&quot;</span>, 10);</div><div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;      }</div><div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;</div><div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;      <span class="keywordflow">if</span> ((sub &amp;&amp; sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) &amp;&amp; (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) ==  <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>)) {</div><div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;         c = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(c);</div><div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;         bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(c);</div><div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(c);</div><div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;</div><div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;         <span class="keywordflow">if</span> (!bridge_channel) {</div><div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Call Park failed&quot;</span>, 10);</div><div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;         }</div><div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;</div><div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d33/parking_8h.html#a0162941475a84b9f0356343eab1e02dd">ast_parking_park_call</a>(bridge_channel, extout, <span class="keyword">sizeof</span>(extout))) {</div><div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> msg_prefix[] = <span class="stringliteral">&quot;Call Parked at: &quot;</span>;</div><div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a>[<span class="keyword">sizeof</span>(msg_prefix) + <span class="keyword">sizeof</span>(extout)];</div><div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;</div><div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;            snprintf(message, <span class="keyword">sizeof</span>(message), <span class="stringliteral">&quot;%s%s&quot;</span>, msg_prefix, extout);</div><div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, message, 10);</div><div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;         }</div><div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Call Park failed&quot;</span>, 10);</div><div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a>(d, <span class="stringliteral">&quot;Call Park not available&quot;</span>, 10);</div><div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;      }</div><div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;      }</div><div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aba3c2540666fbf54305aeaa2cfd85fef">SOFTKEY_JOIN</a>:</div><div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_JOIN from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;      <span class="comment">/* this is SLA territory, should not get here unless there is a meetme at subline */</span></div><div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;      {</div><div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline;</div><div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;         subline = <a class="code" href="../../d0/d80/chan__skinny_8c.html#afa1d29aab59113b0369978c165b29f65">find_subline_by_callid</a>(d, callreference);</div><div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;         c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, subline, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a>);</div><div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;         <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;            sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a>(sub, subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;         }</div><div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;      }</div><div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4b72ea00639536a0cc23d112890d4bc2">SOFTKEY_MEETME</a>:</div><div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;      <span class="comment">/* XXX How is this different from CONFRN? */</span></div><div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_MEETME from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa4f7a1e0fe94c644277ca765f1d5862c">SOFTKEY_PICKUP</a>:</div><div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_PICKUP from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#add8c1a6457db2951e7a1ca2395e3da62">SOFTKEY_GPICKUP</a>:</div><div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_GPICKUP from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;      <span class="keywordflow">if</span> (!sub || !sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;         c = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5">SKINNY_INCOMING</a>);</div><div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;         c = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>;</div><div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;      }</div><div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;</div><div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;      <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create channel for %s@%s\n&quot;</span>, l-&gt;name, d-&gt;name);</div><div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(c);</div><div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;         sub = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(c);</div><div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;         <a class="code" href="../../dd/dbc/pickup_8h.html#a4890be42c2add5f52028705d6bc02201">ast_pickup_call</a>(c);</div><div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;         <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> == c) {</div><div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(c);</div><div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a>(sub, 1);</div><div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(c);</div><div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a>(sub, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a>);</div><div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(c);</div><div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;         }</div><div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;      }</div><div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a792f88571e2f71a8bf48b6d5e36c1e7a">SOFTKEY_FORCEDIAL</a>:</div><div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_FORCEDIAL from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;         d-&gt;name, instance, callreference);</div><div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aadfb4dbc65b363d775663843e970a551">skinny_dialer</a>(sub, 1);</div><div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;</div><div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFTKEY_UNKNOWN(%d) from %s, inst %d, callref %d\n&quot;</span>,</div><div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;         event, d-&gt;name, instance, callreference);</div><div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;   }</div><div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;</div><div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;}</div><div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;</div><div class="line"><a name="l07285"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af4e0e1821262024a6a2c5dafe646c775"> 7285</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af4e0e1821262024a6a2c5dafe646c775">handle_message</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req, <span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;{</div><div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;</div><div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;   <span class="keywordflow">if</span> (!d &amp;&amp; !(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">e</a>) == <a class="code" href="../../d0/d80/chan__skinny_8c.html#aec789812d6cc0ff846fb308745e91531">REGISTER_MESSAGE</a> || <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">e</a>) == <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae2a02a450e18eeb46029c20efadd4ab3">ALARM_MESSAGE</a> || <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">e</a>) == <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e35a268fd7c3a1b2cb28c295c816160">KEEP_ALIVE_MESSAGE</a>)) {</div><div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Client sent message #%u without first registering.\n&quot;</span>, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">e</a>);</div><div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;   }</div><div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;</div><div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;   <span class="keywordflow">switch</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">e</a>)) {</div><div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e35a268fd7c3a1b2cb28c295c816160">KEEP_ALIVE_MESSAGE</a>:</div><div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received KEEP_ALIVE_MESSAGE from %s\n&quot;</span>, (d ? d-&gt;name : <span class="stringliteral">&quot;unregistered&quot;</span>));</div><div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a41ff9aa527c91c35ae2d2d636c309582">handle_keepalive_message</a>(req, s);</div><div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aec789812d6cc0ff846fb308745e91531">REGISTER_MESSAGE</a>:</div><div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received REGISTER_MESSAGE from %s, name %s, type %u, protovers %d\n&quot;</span>,</div><div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;         d-&gt;name, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aceb9d5d9b0983f8fb0e5523310274dc4">reg</a>.<a class="code" href="../../db/dc9/structregister__message.html#acd328517a6cf718155c2e6e22b671ca9">name</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aceb9d5d9b0983f8fb0e5523310274dc4">reg</a>.<a class="code" href="../../db/dc9/structregister__message.html#ad44b615021ed3ccb734fcaf583ef4a03">type</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#aceb9d5d9b0983f8fb0e5523310274dc4">reg</a>.<a class="code" href="../../db/dc9/structregister__message.html#a69ba4ce44c8b3df5af22db880cdb9c20">protocolVersion</a>));</div><div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3fe6385caa677e3d51eb12df891b0d4e">skinny_register</a>(req, s);</div><div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;         sleep(2);</div><div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;         res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3fe6385caa677e3d51eb12df891b0d4e">skinny_register</a>(req, s);</div><div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;      }</div><div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;      <span class="keywordflow">if</span> (res != 1) {</div><div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a84741dacf6740ec7b3a26de7f4b821d0">transmit_registerrej</a>(s);</div><div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;      }</div><div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab771766124f3d865c0f312bd0957bc5f">unauth_sessions</a>, -1);</div><div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Device &#39;%s&#39; successfully registered (protoVers %d)\n&quot;</span>, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;name, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;protocolversion);</div><div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad2bf0a4239564e8e10f81b669fc0dbd9">transmit_registerack</a>(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>);</div><div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a78885055feba24b7284f303aca8b950d">transmit_capabilitiesreq</a>(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>);</div><div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;      res = 0;</div><div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa1b2b6b1bab1095ef0753afc2582d29d">IP_PORT_MESSAGE</a>:</div><div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received IP_PORT_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae331d9ec23b9f9ed1f97b87be60b9fb8">handle_ip_port_message</a>(req, s);</div><div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1d5b89af9a01395da0daefcbcc8fd8bb">KEYPAD_BUTTON_MESSAGE</a>:</div><div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received KEYPAD_BUTTON_MESSAGE from %s, digit %u, inst %u, callref %u\n&quot;</span>,</div><div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;         d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23815068e4a04a658a8bd00aabab71fc">keypad</a>.<a class="code" href="../../de/d0c/structkeypad__button__message.html#a9ee7e63d91ac13e63dbad259aa1b52a6">button</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23815068e4a04a658a8bd00aabab71fc">keypad</a>.<a class="code" href="../../de/d0c/structkeypad__button__message.html#a3c8ec1b11804b48f666007331e0c90ba">lineInstance</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a23815068e4a04a658a8bd00aabab71fc">keypad</a>.<a class="code" href="../../de/d0c/structkeypad__button__message.html#a8c5b70179481930bfaef1fa8f6aaba74">callReference</a>));</div><div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1f86382ae84168245fb2f120af3747d4">handle_keypad_button_message</a>(req, s);</div><div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a67e29aa17c48ffce8b07634ac656c172">ENBLOC_CALL_MESSAGE</a>:</div><div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received ENBLOC_CALL_MESSAGE from %s, calledParty %s\n&quot;</span>,</div><div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;         d-&gt;name, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a8b760cddc80b9386b1ed58030b170a30">enbloccallmessage</a>.<a class="code" href="../../d3/df0/structenbloc__call__message.html#aaa9b00db6f95d4932ee8d3b825c73bca">calledParty</a>);</div><div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6b153ba03b4ade85409b370040668b3a">handle_enbloc_call_message</a>(req, s);</div><div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8caf5d84aafa52ecdd3a86a08620850c">STIMULUS_MESSAGE</a>:</div><div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;      <span class="comment">/* SKINNY_PACKETDEBUG handled in handle_stimulus_message */</span></div><div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad229f47d1b225da7a72688def1a3c95b">handle_stimulus_message</a>(req, s);</div><div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a258aee0512dcbdce20a4ec7c9174efec">OFFHOOK_MESSAGE</a>:</div><div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received OFFHOOK_MESSAGE from %s, inst %u, ref %u\n&quot;</span>,</div><div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;         d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a29a4718641ccff30ca7b21d7710c8bd3">offhook</a>.<a class="code" href="../../de/dd1/structoffhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a29a4718641ccff30ca7b21d7710c8bd3">offhook</a>.<a class="code" href="../../de/dd1/structoffhook__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>));</div><div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1186bffbea3bd1b7ff2af6a9ac9f6c7a">handle_offhook_message</a>(req, s);</div><div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a195491206014b7ee4a2950b8af3c8a82">ONHOOK_MESSAGE</a>:</div><div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received ONHOOK_MESSAGE from %s, inst %u, ref %u\n&quot;</span>,</div><div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;         d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a29a4718641ccff30ca7b21d7710c8bd3">offhook</a>.<a class="code" href="../../de/dd1/structoffhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>), <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a29a4718641ccff30ca7b21d7710c8bd3">offhook</a>.<a class="code" href="../../de/dd1/structoffhook__message.html#aa68938e371fea91ad4b64381877bd381">reference</a>));</div><div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a168480819789a822d423c3fd6387a493">handle_onhook_message</a>(req, s);</div><div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aff32b9bb805415bcfea5b23ebb62b661">CAPABILITIES_RES_MESSAGE</a>:</div><div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a>, 3, <span class="stringliteral">&quot;Received CAPABILITIES_RES_MESSAGE from %s, count %u, codec data\n&quot;</span>,</div><div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;         d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a99fd8190ffcee05962cae3d8518033cc">caps</a>.<a class="code" href="../../d3/db0/structcapabilities__res__message.html#a86988a65e0d3ece7990c032c159786d6">count</a>));</div><div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6382ccdb9e04a0ce816a20a54a96700a">handle_capabilities_res_message</a>(req, s);</div><div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a79d95555682062db176dfd2a5e9c0752">SPEED_DIAL_STAT_REQ_MESSAGE</a>:</div><div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SPEED_DIAL_STAT_REQ_MESSAGE from %s, sdNum %u\n&quot;</span>,</div><div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;         d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a883cd321c7b885c8eb325344e8a45e01">speeddialreq</a>.<a class="code" href="../../d1/d39/structspeed__dial__stat__req__message.html#acd27bc25ce21f3ab7dfe7d0c53763f04">speedDialNumber</a>));</div><div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;      <span class="keywordflow">if</span> ( (sd = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0be9e6c1ec02d36ff811d63a5b9ca022">find_speeddial_by_instance</a>(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a883cd321c7b885c8eb325344e8a45e01">speeddialreq</a>.<a class="code" href="../../d1/d39/structspeed__dial__stat__req__message.html#acd27bc25ce21f3ab7dfe7d0c53763f04">speedDialNumber</a>), 0)) ) {</div><div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a87a6254e3dc9cc6d51b58f4547b4c7b9">transmit_speeddialstatres</a>(d, sd);</div><div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;      }</div><div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a610dfde5df1301f6c347b10415678e0f">LINE_STATE_REQ_MESSAGE</a>:</div><div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received LINE_STATE_REQ_MESSAGE from %s, lineNum %u\n&quot;</span>,</div><div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;         d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac8bbcfcff4905989003310cb08dedc92">line</a>.<a class="code" href="../../db/d64/structline__state__req__message.html#a987293a1c8fcaf937487ecbe613f0c52">lineNumber</a>));</div><div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad3138cb1372ee0e7556dcc4eb5ce4b47">transmit_linestatres</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#ac8bbcfcff4905989003310cb08dedc92">line</a>.<a class="code" href="../../db/d64/structline__state__req__message.html#a987293a1c8fcaf937487ecbe613f0c52">lineNumber</a>));</div><div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad0232ebceef396ab30795eb9348d7cac">TIME_DATE_REQ_MESSAGE</a>:</div><div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received TIME_DATE_REQ_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a>(d);</div><div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2eafa2761d0f30c216c041a97cad9c30">BUTTON_TEMPLATE_REQ_MESSAGE</a>:</div><div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received BUTTON_TEMPLATE_REQ_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a987b03603d0ce69e4e50662c7c3fb744">handle_button_template_req_message</a>(req, s);</div><div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad4deebb4a9be4ed5eaf37f0ddb7ea361">VERSION_REQ_MESSAGE</a>:</div><div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received VERSION_REQ_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa771aff2ab5634781b0f95257accfd82">transmit_versionres</a>(d);</div><div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36c56f4d73172d09aaf26225c2446963">SERVER_REQUEST_MESSAGE</a>:</div><div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SERVER_REQUEST_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab459e5c176179dcd6df72ee4824ad05d">transmit_serverres</a>(d);</div><div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae2a02a450e18eeb46029c20efadd4ab3">ALARM_MESSAGE</a>:</div><div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;      <span class="comment">/* no response necessary */</span></div><div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received ALARM_MESSAGE from %s, alarm %s\n&quot;</span>,</div><div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;         d-&gt;name, req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a00a93cc2ecf0e10506731d164fd2e49d">alarm</a>.<a class="code" href="../../d7/d39/structalarm__message.html#a6e7842182520ec6229e0903bf023290c">displayMessage</a>);</div><div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a95a2cd4add7896f4feabe8dc6b0744b6">OPEN_RECEIVE_CHANNEL_ACK_MESSAGE</a>:</div><div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;      <span class="comment">/* SKINNY_PACKETDEBUG handled in handle_open_receive_channel_ack_message */</span></div><div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a0e967f0092b2ed2450643b9842a38ebe">handle_open_receive_channel_ack_message</a>(req, s);</div><div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a95a0727067965ab3ce6652eefaee5afc">SOFT_KEY_SET_REQ_MESSAGE</a>:</div><div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFT_KEY_SET_REQ_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aaebd37494fc87c15df52ef7243b47d98">transmit_softkeysetres</a>(d);</div><div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a>(d, 0, 0, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aab983751d9fb47d03d07a9e9dd2b4776">KEYDEF_ONHOOK</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a>);</div><div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8fdb22d136247b1f7980bbaf1ed2b7ce">SOFT_KEY_EVENT_MESSAGE</a>:</div><div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;      <span class="comment">/* SKINNY_PACKETDEBUG handled in handle_soft_key_event_message */</span></div><div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2c55bb9609ddde15bace5fe2d7962b43">handle_soft_key_event_message</a>(req, s);</div><div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a33d2f7a83eef8e9bd1b39f8e38c150f7">UNREGISTER_MESSAGE</a>:</div><div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received UNREGISTER_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Received UNREGISTER_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac61b30de0f14a38efdbefa8262be2ac6">end_session</a>(s);</div><div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aaa8ae193940da9236d260041a3a8a5c4">SOFT_KEY_TEMPLATE_REQ_MESSAGE</a>:</div><div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received SOFT_KEY_TEMPLATE_REQ_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab6e17c000d3132dc85c27b84dd8698a0">transmit_softkeytemplateres</a>(d);</div><div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9f3bcf87db314d362bb2ca29ed73c71c">HEADSET_STATUS_MESSAGE</a>:</div><div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;      <span class="comment">/* XXX umm...okay?  Why do I care? */</span></div><div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received HEADSET_STATUS_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#acffbaca19a4702b6ae9284d1902b67f9">REGISTER_AVAILABLE_LINES_MESSAGE</a>:</div><div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;      <span class="comment">/* XXX I have no clue what this is for, but my phone was sending it, so... */</span></div><div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received REGISTER_AVAILABLE_LINES_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a890704c8ebdf346f09945189e79d4a09">SERVICEURL_STATREQ_MESSAGE</a>:</div><div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;SERVICEURL_STATREQ_MESSAGE from %s\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad76e598e25826354e1ee83e49498ae29">transmit_serviceurlstat</a>(d, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>.<a class="code" href="../../d0/de2/unionskinny__data.html#a05958ed22dde8a2cb72dfd8fa965905d">serviceurlmessage</a>.<a class="code" href="../../d2/d6d/structserviceurl__stat__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">instance</a>));</div><div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a>, 3, <span class="stringliteral">&quot;Received UNKNOWN_MESSAGE(%x) from %s\n&quot;</span>, (<span class="keywordtype">unsigned</span>)<a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">e</a>), d-&gt;name);</div><div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;   }</div><div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;}</div><div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;</div><div class="line"><a name="l07426"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af628a56dd3c32bfbe40a5f03bbe2dae6"> 7426</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#af628a56dd3c32bfbe40a5f03bbe2dae6">destroy_session</a>(<span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s)</div><div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;{</div><div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;   <span class="keywordflow">if</span> (s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a> &gt; -1) {</div><div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;      close(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a>);</div><div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;   }</div><div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;</div><div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;   <span class="keywordflow">if</span> (s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>) {</div><div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;      s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab771766124f3d865c0f312bd0957bc5f">unauth_sessions</a>, -1);</div><div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;   }</div><div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;</div><div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;   <span class="keywordflow">if</span> (s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aa49d6a06775253352589280dc7f30018">t</a> != <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>) {</div><div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;      pthread_detach(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aa49d6a06775253352589280dc7f30018">t</a>);</div><div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;   }</div><div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;</div><div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(s);</div><div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;}</div><div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;</div><div class="line"><a name="l07448"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#adc6b3a48d28840cc2ac77fbf5ce3caba"> 7448</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#adc6b3a48d28840cc2ac77fbf5ce3caba">skinny_noauth_cb</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;{</div><div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s = (<span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *)data;</div><div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Skinny Client failed to authenticate in %d seconds (SCHED %d)\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae67c6f6c57f424ea50cc93c0748378ba">auth_timeout</a>, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a>);</div><div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a> = -1;</div><div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac61b30de0f14a38efdbefa8262be2ac6">end_session</a>(s);</div><div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;}</div><div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;</div><div class="line"><a name="l07457"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad1230e2a8f68b65b1767bc34e407c88b"> 7457</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad1230e2a8f68b65b1767bc34e407c88b">skinny_nokeepalive_cb</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *data)</div><div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;{</div><div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s = (<span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *)data;</div><div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Skinny Client failed to send keepalive in last %d seconds (SCHED %d)\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a>*3, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a>);</div><div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a> = -1;</div><div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac61b30de0f14a38efdbefa8262be2ac6">end_session</a>(s);</div><div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;}</div><div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;</div><div class="line"><a name="l07466"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afc2b5f078d7bf46331709ba4101491aa"> 7466</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#afc2b5f078d7bf46331709ba4101491aa">skinny_session_cleanup</a>(<span class="keywordtype">void</span> *data)</div><div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;{</div><div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s = (<span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *)data;</div><div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a> = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;</div><div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Ending Skinny session from %s at %s\n&quot;</span>, d ? d-&gt;name : <span class="stringliteral">&quot;unknown&quot;</span>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_addr));</div><div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;</div><div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;   <span class="keywordflow">if</span> (s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aceadbae8433ce428cb735b69f776c2e4">lockstate</a>) {</div><div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;   }</div><div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;</div><div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;   <span class="keywordflow">if</span> (-1 &lt; s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a>) {</div><div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab5dcb5c2f3332dc732b5c18eae4969ef">not_used</a> = <a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(sched, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a>);</div><div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;      s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a> = -1;</div><div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;   }</div><div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;   <span class="keywordflow">if</span> (-1 &lt; s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a>) {</div><div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab5dcb5c2f3332dc732b5c18eae4969ef">not_used</a> = <a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(sched, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a>);</div><div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;      s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a> = -1;</div><div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;   }</div><div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;</div><div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;   <span class="keywordflow">if</span> (d) {</div><div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, blob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;      d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;</div><div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, sd, <a class="code" href="../../d8/d0f/structskinny__speeddial.html#ae44f82cafaf59ef9c40cf447f8b8d262">list</a>) {</div><div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;         <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a70382561daaa758a201b7a711d566e24">stateid</a> &gt; -1)</div><div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#aa992580d26443e3306f7f08cf5908e7c">ast_extension_state_del</a>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a70382561daaa758a201b7a711d566e24">stateid</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;      }</div><div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../d8/d0f/structskinny__speeddial.html#ae44f82cafaf59ef9c40cf447f8b8d262">list</a>) {</div><div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;         <span class="keywordflow">if</span> (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a> != d) {</div><div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;         }</div><div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dc6fa9191c19396cfaa57113f5b4af2">ast_format_cap_remove_by_type</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a>);</div><div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, <span class="stringliteral">&quot;all&quot;</span>, 0);</div><div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;         l-&gt;instance = 0;</div><div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae456c964b75f4dff4d73df78f39db454">unregister_exten</a>(l);</div><div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;         <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549">AST_DEVICE_UNAVAILABLE</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Skinny/%s&quot;</span>, l-&gt;name);</div><div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;      }</div><div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;      <a class="code" href="../../d4/d61/endpoints_8h.html#a04bfc77dacce061c28fa31e2b86827e8">ast_endpoint_set_state</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea0c201502490a90f732b9946dc7545114">AST_ENDPOINT_OFFLINE</a>);</div><div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;      blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>, <span class="stringliteral">&quot;peer_status&quot;</span>, <span class="stringliteral">&quot;Unregistered&quot;</span>);</div><div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a>(), blob);</div><div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;   }</div><div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;</div><div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>);</div><div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>, s, <a class="code" href="../../d8/d0f/structskinny__speeddial.html#ae44f82cafaf59ef9c40cf447f8b8d262">list</a>);</div><div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>);</div><div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;</div><div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#af628a56dd3c32bfbe40a5f03bbe2dae6">destroy_session</a>(s);</div><div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;}</div><div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;</div><div class="line"><a name="l07518"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af510539c1c905045fd1145c0e631c123"> 7518</a></span>&#160;<span class="preprocessor">#define PACKET_TIMEOUT 10000</span></div><div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;</div><div class="line"><a name="l07520"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a34b032f1a0422e2024f822aaaaf8283a"> 7520</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a34b032f1a0422e2024f822aaaaf8283a">skinny_session</a>(<span class="keywordtype">void</span> *data)</div><div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;{</div><div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;   <span class="keywordtype">int</span> bytesread;</div><div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/da2/structskinny__req.html">skinny_req</a> *req = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s = data;</div><div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;</div><div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;   <span class="keywordtype">int</span> dlen = 0;</div><div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;   <span class="keywordtype">int</span> eventmessage = 0;</div><div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;   <span class="keyword">struct </span>pollfd fds[1];</div><div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;</div><div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Starting Skinny session from %s\n&quot;</span>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_addr));</div><div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;</div><div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;   pthread_cleanup_push(<a class="code" href="../../d0/d80/chan__skinny_8c.html#afc2b5f078d7bf46331709ba4101491aa">skinny_session_cleanup</a>, s);</div><div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;</div><div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ad80305b5e16da9c2675d5f057bd69386">start</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2ed89e10d65c4137d632cf97641df41a">last_keepalive</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a0c8b0946b3ef893d0ec702480259032e">keepalive_count</a> = 0;</div><div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aceadbae8433ce428cb735b69f776c2e4">lockstate</a> = 0;</div><div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;</div><div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>);</div><div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>, s, list);</div><div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>);</div><div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;</div><div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a> = <a class="code" href="../../d7/d00/sched_8h.html#a7a43dcf8be6b2ed7f96f3867fbcb4082">ast_sched_add</a>(sched, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae67c6f6c57f424ea50cc93c0748378ba">auth_timeout</a>*1000, <a class="code" href="../../d0/d80/chan__skinny_8c.html#adc6b3a48d28840cc2ac77fbf5ce3caba">skinny_noauth_cb</a>, s);</div><div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;   s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a> = <a class="code" href="../../d7/d00/sched_8h.html#a7a43dcf8be6b2ed7f96f3867fbcb4082">ast_sched_add</a>(sched, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a>*3000, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad1230e2a8f68b65b1767bc34e407c88b">skinny_nokeepalive_cb</a>, s);</div><div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;</div><div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;</div><div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;      fds[0].fd = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a>;</div><div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;      fds[0].events = POLLIN;</div><div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;      fds[0].revents = 0;</div><div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;      res = <a class="code" href="../../d4/dfb/poll-compat_8h.html#a5a0c58fa8311e94cd0ed34382aa822f9">ast_poll</a>(fds, 1, -1); <span class="comment">/* block */</span></div><div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;      <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> != EINTR) {</div><div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Select returned error: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Ending Skinny session from %s (bad input)\n&quot;</span>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_addr));</div><div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;         }</div><div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;      }</div><div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;</div><div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;      <span class="keywordflow">if</span> (!fds[0].revents) {</div><div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;      }</div><div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Reading header\n&quot;</span>);</div><div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;</div><div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;      <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af113e81b9ed86ff1591580de9d8b1d52">SKINNY_MAX_PACKET</a>))) {</div><div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocated memorey for skinny_req.\n&quot;</span>);</div><div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;      }</div><div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;</div><div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;      s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aceadbae8433ce428cb735b69f776c2e4">lockstate</a> = 1;</div><div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;</div><div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;      <span class="keywordflow">if</span> ((res = read(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, req, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a61a919d439daa2a587713f7bc615734c">skinny_header_size</a>)) != <a class="code" href="../../d0/d80/chan__skinny_8c.html#a61a919d439daa2a587713f7bc615734c">skinny_header_size</a>) {</div><div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;         <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Header read() returned error: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to read header. Only found %d bytes.\n&quot;</span>, res);</div><div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;         }</div><div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;      }</div><div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;</div><div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;      eventmessage = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">e</a>);</div><div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;      <span class="keywordflow">if</span> (eventmessage &lt; 0) {</div><div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Event Message is NULL from socket %d, This is bad\n&quot;</span>, s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a>);</div><div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;      }</div><div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;</div><div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;      dlen = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a>(req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>) - 4;</div><div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;      <span class="keywordflow">if</span> (dlen &lt; 0) {</div><div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Skinny Client sent invalid data.\n&quot;</span>);</div><div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;      }</div><div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;      <span class="keywordflow">if</span> (dlen &gt; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#af113e81b9ed86ff1591580de9d8b1d52">SKINNY_MAX_PACKET</a> - <a class="code" href="../../d0/d80/chan__skinny_8c.html#a61a919d439daa2a587713f7bc615734c">skinny_header_size</a>)) {</div><div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Skinny packet too large (%d bytes), max length(%d bytes)\n&quot;</span>, dlen+8, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af113e81b9ed86ff1591580de9d8b1d52">SKINNY_MAX_PACKET</a>);</div><div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;      }</div><div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;</div><div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Read header: Message ID: 0x%04x,  %d bytes in packet\n&quot;</span>, eventmessage, dlen);</div><div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;</div><div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;      bytesread = 0;</div><div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;      <span class="keywordflow">while</span> (bytesread &lt; dlen) {</div><div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Waiting %dms for %d bytes of %d\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af510539c1c905045fd1145c0e631c123">PACKET_TIMEOUT</a>, dlen - bytesread, dlen);</div><div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;         fds[0].revents = 0;</div><div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;         res = <a class="code" href="../../d4/dfb/poll-compat_8h.html#a5a0c58fa8311e94cd0ed34382aa822f9">ast_poll</a>(fds, 1, <a class="code" href="../../d0/d80/chan__skinny_8c.html#af510539c1c905045fd1145c0e631c123">PACKET_TIMEOUT</a>);</div><div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;         <span class="keywordflow">if</span> (res &lt;= 0) {</div><div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;            <span class="keywordflow">if</span> (res == 0) {</div><div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Poll timed out waiting for %d bytes\n&quot;</span>, dlen - bytesread);</div><div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Poll failed waiting for %d bytes: %s\n&quot;</span>,</div><div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;                  dlen - bytesread, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;            }</div><div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Ending Skinny session from %s (bad input)\n&quot;</span>, <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>.sin_addr));</div><div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;            res = -1;</div><div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;</div><div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;         }</div><div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;         <span class="keywordflow">if</span> (!fds[0].revents) {</div><div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;         }</div><div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;</div><div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;         res = read(s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, ((<span class="keywordtype">char</span>*)&amp;req-&gt;<a class="code" href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">data</a>)+bytesread, dlen-bytesread);</div><div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;         <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Data read() returned error: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;         }</div><div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;         bytesread += res;</div><div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Read %d bytes.  %d of %d now read\n&quot;</span>, res, bytesread, dlen);</div><div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;      }</div><div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;</div><div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;      s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aceadbae8433ce428cb735b69f776c2e4">lockstate</a> = 0;</div><div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;      <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;      }</div><div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;</div><div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;      pthread_setcancelstate(PTHREAD_CANCEL_DISABLE, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;      res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#af4e0e1821262024a6a2c5dafe646c775">handle_message</a>(req, s);</div><div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;      pthread_setcancelstate(PTHREAD_CANCEL_ENABLE, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;</div><div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;      <span class="keywordflow">if</span> (req) {</div><div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(req);</div><div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;         req = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;      }</div><div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;   }</div><div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;</div><div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Skinny Session returned: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;   <span class="keywordflow">if</span> (req) {</div><div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(req);</div><div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;   }</div><div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;</div><div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;   pthread_cleanup_pop(1);</div><div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;</div><div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;}</div><div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;</div><div class="line"><a name="l07657"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#afb67d0042be5e8bd0d96b62379856fe2"> 7657</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#afb67d0042be5e8bd0d96b62379856fe2">accept_thread</a>(<span class="keywordtype">void</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a1229bdedff51a0fc453b7c482cd8dd49">ignore</a>)</div><div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;{</div><div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;   <span class="keywordtype">int</span> as;</div><div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;   <span class="keyword">struct </span>sockaddr_in sin;</div><div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;   socklen_t sinlen;</div><div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s;</div><div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;   <span class="keywordtype">int</span> arg = 1;</div><div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;</div><div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;      sinlen = <span class="keyword">sizeof</span>(<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>);</div><div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;      as = accept(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a>, (<span class="keyword">struct</span> sockaddr *)&amp;sin, &amp;sinlen);</div><div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;      <span class="keywordflow">if</span> (as &lt; 0) {</div><div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Accept returned -1: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;      }</div><div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;</div><div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab771766124f3d865c0f312bd0957bc5f">unauth_sessions</a>, +1) &gt;= <a class="code" href="../../d0/d80/chan__skinny_8c.html#a612b5ef8f2e99eb2e95f8002301173d4">auth_limit</a>) {</div><div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;         close(as);</div><div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab771766124f3d865c0f312bd0957bc5f">unauth_sessions</a>, -1);</div><div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;      }</div><div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;</div><div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;      <span class="keywordflow">if</span> (setsockopt(as, IPPROTO_TCP, TCP_NODELAY, (<span class="keywordtype">char</span> *) &amp;arg, <span class="keyword">sizeof</span>(arg)) &lt; 0) {</div><div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to set TCP_NODELAY on Skinny TCP connection: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;      }</div><div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;</div><div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;      <span class="keywordflow">if</span> (!(s = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a>)))) {</div><div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;         close(as);</div><div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab771766124f3d865c0f312bd0957bc5f">unauth_sessions</a>, -1);</div><div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;      }</div><div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;</div><div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;      memcpy(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">sin</a>, &amp;sin, <span class="keyword">sizeof</span>(sin));</div><div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160;      s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = as;</div><div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;      s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">auth_timeout_sched</a> = -1;</div><div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;      s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">keepalive_timeout_sched</a> = -1;</div><div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;</div><div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a>(&amp;s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aa49d6a06775253352589280dc7f30018">t</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a34b032f1a0422e2024f822aaaaf8283a">skinny_session</a>, s)) {</div><div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160;         s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aa49d6a06775253352589280dc7f30018">t</a> = <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>;</div><div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#af628a56dd3c32bfbe40a5f03bbe2dae6">destroy_session</a>(s);</div><div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;      }</div><div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;   }</div><div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab015edc90c82d15e00916f5ef094a24b">DEBUG_THREAD</a>, 3, <span class="stringliteral">&quot;Killing accept thread\n&quot;</span>);</div><div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;   close(as);</div><div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;}</div><div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;</div><div class="line"><a name="l07705"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1e690afcba3679a7fd5129ee3dd13015"> 7705</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1e690afcba3679a7fd5129ee3dd13015">skinny_devicestate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *data)</div><div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;{</div><div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;</div><div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;   tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;</div><div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;   l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2a4f825b302983d41ab43a9e3387da4b">find_line_by_name</a>(tmp);</div><div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;</div><div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1ae95d3d12c225bb40b497687b3e9dc1">get_devicestate</a>(l);</div><div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;}</div><div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;</div><div class="line"><a name="l07717"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a7d5dd463398f60d25e49d35e6ccd84ab"> 7717</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7d5dd463398f60d25e49d35e6ccd84ab">skinny_request</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keyword">struct</span> <a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *cap, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *assignedids, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *requestor, <span class="keyword">const</span> <span class="keywordtype">char</span> *dest, <span class="keywordtype">int</span> *cause)</div><div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;{</div><div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *tmpc = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>[256];</div><div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;</div><div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../d0/d3c/format__cap_8h.html#a9b2d6490b222d436f5f6a8296d36c13f">ast_format_cap_has_type</a>(cap, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a>))) {</div><div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *codec_buf = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a>);</div><div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Asked to get a channel of unsupported format &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(cap, &amp;codec_buf));</div><div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;   }</div><div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;</div><div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(tmp, dest, <span class="keyword">sizeof</span>(tmp));</div><div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(tmp)) {</div><div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Skinny channels require a device\n&quot;</span>);</div><div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;   }</div><div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;   l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a2a4f825b302983d41ab43a9e3387da4b">find_line_by_name</a>(tmp);</div><div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160;   <span class="keywordflow">if</span> (!l) {</div><div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;      subline = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8b13b4f3379b67594f69bc4ecc798b48">find_subline_by_name</a>(tmp);</div><div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;      <span class="keywordflow">if</span> (!subline) {</div><div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;No available lines on: %s\n&quot;</span>, dest);</div><div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;      }</div><div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;      l = subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a>;</div><div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;   }</div><div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;skinny_request(%s)\n&quot;</span>, tmp);</div><div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;   tmpc = <a class="code" href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a>(l, subline, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, assignedids, requestor, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5">SKINNY_INCOMING</a>);</div><div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;   <span class="keywordflow">if</span> (!tmpc) {</div><div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to make channel for &#39;%s&#39;\n&quot;</span>, tmp);</div><div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (subline) {</div><div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(tmpc);</div><div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;      subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">sub</a> = <a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;      subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#afe53c414731fb76550befd5146b6bc26">calldirection</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5">SKINNY_INCOMING</a>;</div><div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;      subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a51fc472c725e95f474519f1aa7f4bb90">substate</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a460583dd3b35299fa584b11304db2be3">SUBSTATE_UNSET</a>;</div><div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;      subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a> = sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">callid</a>;</div><div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;      sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540">subline</a> = <a class="code" href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540">subline</a>;</div><div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;   }</div><div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;   <span class="keywordflow">return</span> tmpc;</div><div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;}</div><div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;</div><div class="line"><a name="l07759"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ae3837bf7d2100903b0651f5b22e289e9"> 7759</a></span>&#160;<span class="preprocessor">#define TYPE_GENERAL 1</span></div><div class="line"><a name="l07760"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b"> 7760</a></span>&#160;<span class="preprocessor">#define TYPE_DEF_DEVICE 2</span></div><div class="line"><a name="l07761"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d"> 7761</a></span>&#160;<span class="preprocessor">#define TYPE_DEF_LINE   4</span></div><div class="line"><a name="l07762"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd"> 7762</a></span>&#160;<span class="preprocessor">#define TYPE_DEVICE  8</span></div><div class="line"><a name="l07763"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372"> 7763</a></span>&#160;<span class="preprocessor">#define TYPE_LINE 16</span></div><div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;</div><div class="line"><a name="l07765"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6"> 7765</a></span>&#160;<span class="preprocessor">#define CLINE_OPTS   ((struct skinny_line_options *)item)</span></div><div class="line"><a name="l07766"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3"> 7766</a></span>&#160;<span class="preprocessor">#define CLINE     ((struct skinny_line *)item)</span></div><div class="line"><a name="l07767"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab"> 7767</a></span>&#160;<span class="preprocessor">#define CDEV_OPTS ((struct skinny_device_options *)item)</span></div><div class="line"><a name="l07768"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73"> 7768</a></span>&#160;<span class="preprocessor">#define CDEV      ((struct skinny_device *)item)</span></div><div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;</div><div class="line"><a name="l07770"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a290744d808f70a1932e3916b0db16acb"> 7770</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#a290744d808f70a1932e3916b0db16acb">config_parse_variables</a>(<span class="keywordtype">int</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">void</span> *<a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>, <span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *vptr)</div><div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;{</div><div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v;</div><div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160;   <span class="keywordtype">int</span> lineInstance = 1;</div><div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;   <span class="keywordtype">int</span> speeddialInstance = 1;</div><div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;   <span class="keywordtype">int</span> serviceUrlInstance = 1;</div><div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;</div><div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;   <span class="keywordflow">while</span>(vptr) {</div><div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;      v = vptr;</div><div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;      vptr = vptr-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>;</div><div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;</div><div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;      <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3837bf7d2100903b0651f5b22e289e9">TYPE_GENERAL</a>)) {</div><div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;         <span class="keywordtype">char</span> newcontexts[<a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a>];</div><div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160;         <span class="keywordtype">char</span> oldcontexts[<a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a>];</div><div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;         <span class="keywordtype">char</span> *stringp, *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, *oldregcontext;</div><div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d14/abstract__jb_8h.html#ae50ad081bd2ae6b58bcfc4687916c586">ast_jb_read_conf</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)) {</div><div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;            v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>;</div><div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;         }</div><div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;bindaddr&quot;</span>)) {</div><div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;            <span class="keywordflow">if</span> (!(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa0f575fa3882aa394cc287edba645a35">hp</a> = <a class="code" href="../../d5/d60/utils_8h.html#ad3b63ee1041593219ef0765b28d70442">ast_gethostbyname</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e435aef83f14da6d3d5ec44f821558e">ahp</a>))) {</div><div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid address: %s\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;               memcpy(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_addr, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa0f575fa3882aa394cc287edba645a35">hp</a>-&gt;h_addr, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_addr));</div><div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;            }</div><div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;keepalive&quot;</span>)) {</div><div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;authtimeout&quot;</span>)) {</div><div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;</div><div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;            <span class="keywordflow">if</span> (timeout &lt; 1) {</div><div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid authtimeout value &#39;%s&#39;, using default value\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae67c6f6c57f424ea50cc93c0748378ba">auth_timeout</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac03a7756e5b40fb80fede65fcb4d6bc4">DEFAULT_AUTH_TIMEOUT</a>;</div><div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae67c6f6c57f424ea50cc93c0748378ba">auth_timeout</a> = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>;</div><div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;            }</div><div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;authlimit&quot;</span>)) {</div><div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;            <span class="keywordtype">int</span> limit = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;</div><div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;            <span class="keywordflow">if</span> (limit &lt; 1) {</div><div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid authlimit value &#39;%s&#39;, using default value\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a612b5ef8f2e99eb2e95f8002301173d4">auth_limit</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a223061feae4223b5e04874e2c5bc6c98">DEFAULT_AUTH_LIMIT</a>;</div><div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a612b5ef8f2e99eb2e95f8002301173d4">auth_limit</a> = limit;</div><div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;            }</div><div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;regcontext&quot;</span>)) {</div><div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(newcontexts, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(newcontexts));</div><div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;            stringp = newcontexts;</div><div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;            <span class="comment">/* Initialize copy of current global_regcontext for later use in removing stale contexts */</span></div><div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(oldcontexts, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>, <span class="keyword">sizeof</span>(oldcontexts));</div><div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;            oldregcontext = oldcontexts;</div><div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;            <span class="comment">/* Let&#39;s remove any contexts that are no longer defined in regcontext */</span></div><div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa1ca2cdc74f2438ac4aa7e1f9200518a">cleanup_stale_contexts</a>(stringp, oldregcontext);</div><div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;            <span class="comment">/* Create contexts if they don&#39;t exist already */</span></div><div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;            <span class="keywordflow">while</span> ((context = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;&amp;&quot;</span>))) {</div><div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a17ed4e86c02577dfabab4ab53195236d">used_context</a>, context, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a17ed4e86c02577dfabab4ab53195236d">used_context</a>));</div><div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;               <a class="code" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, context, <span class="stringliteral">&quot;Skinny&quot;</span>);</div><div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;            }</div><div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a>));</div><div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;vmexten&quot;</span>)) {</div><div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">vmexten</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">vmexten</a>));</div><div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;immeddialkey&quot;</span>)) {</div><div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;            <span class="keywordflow">if</span> (!strcmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>,<span class="stringliteral">&quot;#&quot;</span>)) {</div><div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab9f6af2c0142f36638e3cd7d240497dd">immed_dialchar</a> = <span class="charliteral">&#39;#&#39;</span>;</div><div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>,<span class="stringliteral">&quot;*&quot;</span>)) {</div><div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab9f6af2c0142f36638e3cd7d240497dd">immed_dialchar</a> = <span class="charliteral">&#39;*&#39;</span>;</div><div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid immeddialkey &#39;%s&#39; at line %d, only # or * accepted. Immeddial key disabled\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;            }</div><div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;</div><div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;dateformat&quot;</span>)) {</div><div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;            memcpy(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d44486240bfa969fd6cf04fab65c097">date_format</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4d44486240bfa969fd6cf04fab65c097">date_format</a>));</div><div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;tos&quot;</span>)) {</div><div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d59/acl_8h.html#a49d1eefe77636e2a63ad013afa0fc3b5">ast_str2tos</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.tos))</div><div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid tos value at line %d, refer to QoS documentation\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;tos_audio&quot;</span>)) {</div><div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d59/acl_8h.html#a49d1eefe77636e2a63ad013afa0fc3b5">ast_str2tos</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.tos_audio))</div><div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid tos_audio value at line %d, refer to QoS documentation\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;tos_video&quot;</span>)) {</div><div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d59/acl_8h.html#a49d1eefe77636e2a63ad013afa0fc3b5">ast_str2tos</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.tos_video))</div><div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid tos_video value at line %d, refer to QoS documentation\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;cos&quot;</span>)) {</div><div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d59/acl_8h.html#ad364a9241e15fc0dbec0ffcb88f64671">ast_str2cos</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.cos))</div><div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid cos value at line %d, refer to QoS documentation\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;cos_audio&quot;</span>)) {</div><div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d59/acl_8h.html#ad364a9241e15fc0dbec0ffcb88f64671">ast_str2cos</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.cos_audio))</div><div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid cos_audio value at line %d, refer to QoS documentation\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;cos_video&quot;</span>)) {</div><div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d59/acl_8h.html#ad364a9241e15fc0dbec0ffcb88f64671">ast_str2cos</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.cos_video))</div><div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid cos_video value at line %d, refer to QoS documentation\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;bindport&quot;</span>)) {</div><div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;            <span class="keywordflow">if</span> (sscanf(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%5d&quot;</span>, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7821b54b29c7b74aba79884f13b3ec03">ourport</a>) == 1) {</div><div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_port = htons(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a7821b54b29c7b74aba79884f13b3ec03">ourport</a>);</div><div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid bindport &#39;%s&#39; at line %d of %s\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>);</div><div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;            }</div><div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;allow&quot;</span>)) {</div><div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a>(default_cap, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, 1);</div><div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;disallow&quot;</span>)) {</div><div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a>(default_cap, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, 0);</div><div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07887"></a><span class="lineno"> 7887</span>&#160;         }</div><div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;      }</div><div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160;</div><div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;transfer&quot;</span>)) {</div><div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;transfer = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;transfer = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;         }</div><div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;callwaiting&quot;</span>)) {</div><div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;callwaiting = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;callwaiting = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;         }</div><div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;directmedia&quot;</span>) || !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;canreinvite&quot;</span>)) {</div><div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;directmedia = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;         }</div><div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;nat&quot;</span>)) {</div><div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;nat = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;         }</div><div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;context&quot;</span>)) {</div><div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;context, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;context));</div><div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;         }</div><div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;      }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;vmexten&quot;</span>)) {</div><div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;vmexten, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;vmexten));</div><div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;vmexten, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;vmexten));</div><div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;         }</div><div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;mwiblink&quot;</span>)) {</div><div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;mwiblink = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;mwiblink = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;         }</div><div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;linelabel&quot;</span>)) {</div><div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;label, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;label));</div><div class="line"><a name="l07940"></a><span class="lineno"> 7940</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;         }</div><div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;callerid&quot;</span>)) {</div><div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;            <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;asreceived&quot;</span>)) {</div><div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;cid_num[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;cid_name[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160;               <a class="code" href="../../de/d47/callerid_8h.html#af33ee38631fe79ab21d91bcd0634903a">ast_callerid_split</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;cid_name, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;cid_name), <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;cid_num, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;cid_num));</div><div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160;            }</div><div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;         }</div><div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;amaflags&quot;</span>)) {</div><div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160;            <span class="keywordtype">int</span> tempamaflags = <a class="code" href="../../d5/d7b/channel_8h.html#acd7d6e4cf3615bf47af84d2e3e47c302">ast_channel_string2amaflag</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160;            <span class="keywordflow">if</span> (tempamaflags &lt; 0) {</div><div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid AMA flags: %s at line %d\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;amaflags = tempamaflags;</div><div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;            }</div><div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160;         }</div><div class="line"><a name="l07962"></a><span class="lineno"> 7962</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;regexten&quot;</span>)) {</div><div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;regexten, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;regexten));</div><div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160;         }</div><div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;language&quot;</span>)) {</div><div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;language, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;language));</div><div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;         }</div><div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;accountcode&quot;</span>)) {</div><div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;accountcode, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;accountcode));</div><div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;         }</div><div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;mohinterpret&quot;</span>) || !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;musiconhold&quot;</span>)) {</div><div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;mohinterpret, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;mohinterpret));</div><div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;         }</div><div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;mohsuggest&quot;</span>)) {</div><div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;mohsuggest, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;mohsuggest));</div><div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;         }</div><div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;callgroup&quot;</span>)) {</div><div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;callgroup = <a class="code" href="../../d5/d7b/channel_8h.html#aee83e23058d0a4111fda1f506cbda107">ast_get_group</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;         }</div><div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;pickupgroup&quot;</span>)) {</div><div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;pickupgroup = <a class="code" href="../../d5/d7b/channel_8h.html#aee83e23058d0a4111fda1f506cbda107">ast_get_group</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160;         }</div><div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;namedcallgroup&quot;</span>)) {</div><div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;named_callgroups = <a class="code" href="../../d5/d7b/channel_8h.html#afd7c527ec74e66bcc02de0aeb361d804">ast_get_namedgroups</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;         }</div><div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;namedpickupgroup&quot;</span>)) {</div><div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;named_pickupgroups = <a class="code" href="../../d5/d7b/channel_8h.html#afd7c527ec74e66bcc02de0aeb361d804">ast_get_namedgroups</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160;         }</div><div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;immediate&quot;</span>)) {</div><div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;immediate = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;         }</div><div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;cancallforward&quot;</span>)) {</div><div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;cancallforward = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;         }</div><div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;callfwdtimeout&quot;</span>)) {</div><div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;callfwdtimeout = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;         }</div><div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;mailbox&quot;</span>)) {</div><div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08024"></a><span class="lineno"> 8024</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;mailbox, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;mailbox));</div><div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;         }</div><div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;parkinglot&quot;</span>)) {</div><div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;parkinglot, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;parkinglot));</div><div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;         }</div><div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;hasvoicemail&quot;</span>)) {</div><div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>) &amp;&amp; <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;mailbox)) {</div><div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;               <span class="comment">/*</span></div><div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;<span class="comment">                * hasvoicemail is a users.conf legacy voicemail enable method.</span></div><div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;<span class="comment">                * hasvoicemail is only going to work for app_voicemail mailboxes.</span></div><div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;<span class="comment">                */</span></div><div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;               <span class="keywordflow">if</span> (strchr(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;name, <span class="charliteral">&#39;@&#39;</span>)) {</div><div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;                  <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;mailbox, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;name, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;mailbox));</div><div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;                  snprintf(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;mailbox, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;mailbox), <span class="stringliteral">&quot;%s@default&quot;</span>,</div><div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160;                     <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;name);</div><div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;               }</div><div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;            }</div><div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;         }</div><div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;threewaycalling&quot;</span>)) {</div><div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;threewaycalling = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;         }</div><div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;setvar&quot;</span>)) {</div><div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;chanvars = <a class="code" href="../../d0/d80/chan__skinny_8c.html#aeb7b46c1c2ecae89c0bb53a53f5684d2">add_var</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;chanvars);</div><div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;         }</div><div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;earlyrtp&quot;</span>)) {</div><div class="line"><a name="l08059"></a><span class="lineno"> 8059</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;earlyrtp = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;         }</div><div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;host&quot;</span>)) {</div><div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08065"></a><span class="lineno"> 8065</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> CDEV_addr_tmp;</div><div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160;</div><div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160;            CDEV_addr_tmp.<a class="code" href="../../d3/db3/structast__sockaddr.html#aceb44bfc6a3800d7f419367afb25fe79">ss</a>.ss_family = AF_INET;</div><div class="line"><a name="l08068"></a><span class="lineno"> 8068</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d59/acl_8h.html#a79fc6597452f2ed6fb136cb2149a6e2c">ast_get_ip</a>(&amp;CDEV_addr_tmp, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)) {</div><div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Bad IP &#39;%s&#39; at line %d.\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160;            }</div><div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160;            <a class="code" href="../../db/df1/netsock2_8h.html#aa60da39edcabcec05ca9219c7b290395">ast_sockaddr_to_sin</a>(&amp;CDEV_addr_tmp,</div><div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160;                      &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;addr);</div><div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08074"></a><span class="lineno"> 8074</span>&#160;         }</div><div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;port&quot;</span>)) {</div><div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a>)) {</div><div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;addr.sin_port = htons(atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;         }</div><div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;device&quot;</span>)) {</div><div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;id, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;id));</div><div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160;         }</div><div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;permit&quot;</span>) || !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;deny&quot;</span>)) {</div><div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;            <span class="keywordtype">int</span> acl_error = 0;</div><div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;</div><div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;ha = <a class="code" href="../../d5/d59/acl_8h.html#ae839a9c2465be4e9a560dda668a65b9b">ast_append_ha</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;ha, &amp;acl_error);</div><div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160;            <span class="keywordflow">if</span> (acl_error) {</div><div class="line"><a name="l08091"></a><span class="lineno"> 8091</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid ACL &#39;%s&#39; on line &#39;%d&#39;. Deleting device\n&quot;</span>,</div><div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;                     v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;prune = 1;</div><div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160;            }</div><div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160;         }</div><div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;allow&quot;</span>)) {</div><div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;confcap, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, 1);</div><div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160;         }</div><div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;confcap, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, 1);</div><div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08105"></a><span class="lineno"> 8105</span>&#160;         }</div><div class="line"><a name="l08106"></a><span class="lineno"> 8106</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;disallow&quot;</span>)) {</div><div class="line"><a name="l08107"></a><span class="lineno"> 8107</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;confcap, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, 0);</div><div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160;         }</div><div class="line"><a name="l08111"></a><span class="lineno"> 8111</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;confcap, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, 0);</div><div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08114"></a><span class="lineno"> 8114</span>&#160;         }</div><div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;version&quot;</span>)) {</div><div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a> | <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;version_id, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a>-&gt;version_id));</div><div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160;         }</div><div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;line&quot;</span>)) {</div><div class="line"><a name="l08121"></a><span class="lineno"> 8121</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>, l, <a class="code" href="../../d2/db5/structskinny__line.html#aecc3e0d55543576db3f9175bd400ff39">all</a>) {</div><div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;               <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, l-&gt;name) &amp;&amp; !l-&gt;prune) {</div><div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;</div><div class="line"><a name="l08126"></a><span class="lineno"> 8126</span>&#160;                  <span class="comment">/* FIXME: temp solution about line conflicts */</span></div><div class="line"><a name="l08127"></a><span class="lineno"> 8127</span>&#160;                  <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;                  <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l2;</div><div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;                  <span class="keywordtype">int</span> lineinuse = 0;</div><div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160;                  <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>) {</div><div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;                     <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l2, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>) {</div><div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160;                        <span class="keywordflow">if</span> (l2 == l &amp;&amp; strcasecmp(d-&gt;id, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;id)) {</div><div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160;                           <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Line %s already used by %s. Not connecting to %s.\n&quot;</span>, l-&gt;name, d-&gt;name, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;name);</div><div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;                           lineinuse++;</div><div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;                        }</div><div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160;                     }</div><div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;                  }</div><div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;                  <span class="keywordflow">if</span> (!lineinuse) {</div><div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160;                     <span class="keywordflow">if</span> (!<a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;lines)) {</div><div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160;                        <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;activeline = l;</div><div class="line"><a name="l08141"></a><span class="lineno"> 8141</span>&#160;                     }</div><div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160;                     lineInstance++;</div><div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;                     <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;lines, l, <a class="code" href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">list</a>);</div><div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;                     l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">device</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>;</div><div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160;                  }</div><div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l08147"></a><span class="lineno"> 8147</span>&#160;               }</div><div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160;            }</div><div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08150"></a><span class="lineno"> 8150</span>&#160;         }</div><div class="line"><a name="l08151"></a><span class="lineno"> 8151</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;subline&quot;</span>)) {</div><div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d1/de2/structskinny__subline.html">skinny_subline</a> *subline;</div><div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d6/dbc/structskinny__container.html">skinny_container</a> *<a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[256];</div><div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160;            <span class="keywordtype">char</span> *stringp = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, *stname, *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>;</div><div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;</div><div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160;            <span class="keywordflow">if</span> (!(subline = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*subline)))) {</div><div class="line"><a name="l08159"></a><span class="lineno"> 8159</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate memory for subline %s. Ignoring subline.\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;            }</div><div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160;            <span class="keywordflow">if</span> (!(container = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*container)))) {</div><div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate memory for subline %s container. Ignoring subline.\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;               <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(subline);</div><div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160;            }</div><div class="line"><a name="l08167"></a><span class="lineno"> 8167</span>&#160;</div><div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buf, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160;            exten = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;@&quot;</span>);</div><div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(exten), <span class="keyword">sizeof</span>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a78d4847658b695383d849efd12399b38">exten</a>));</div><div class="line"><a name="l08171"></a><span class="lineno"> 8171</span>&#160;            stname = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;exten, <span class="stringliteral">&quot;_&quot;</span>);</div><div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ab0c4e877f2cb630c4fba9fe22e498479">stname</a>, <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(stname), <span class="keyword">sizeof</span>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ab0c4e877f2cb630c4fba9fe22e498479">stname</a>));</div><div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a0ad8152e984daf5d46937d52a04d3cde">lnname</a>, <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(exten), <span class="keyword">sizeof</span>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a0ad8152e984daf5d46937d52a04d3cde">lnname</a>));</div><div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;            context = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a3777dbae63a15da001b2baa317a25149">name</a>, <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(stringp), <span class="keyword">sizeof</span>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#a3777dbae63a15da001b2baa317a25149">name</a>));</div><div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(context), <span class="keyword">sizeof</span>(subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>));</div><div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;</div><div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160;            subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>;</div><div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;            subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">sub</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;</div><div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;            container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab6834c7da233db764539d15f5bae198f">SKINNY_SUBLINECONTAINER</a>;</div><div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160;            container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#a735984d41155bc1032e09bece8f8d66d">data</a> = subline;</div><div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;            subline-&gt;<a class="code" href="../../d1/de2/structskinny__subline.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a> = <a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a>-&gt;sublines, subline, list);</div><div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08186"></a><span class="lineno"> 8186</span>&#160;         }</div><div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;dialoutcontext&quot;</span>)) {</div><div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08189"></a><span class="lineno"> 8189</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;dialoutcontext, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;dialoutcontext));</div><div class="line"><a name="l08190"></a><span class="lineno"> 8190</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160;         }</div><div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;dialoutexten&quot;</span>)) {</div><div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>)) {</div><div class="line"><a name="l08194"></a><span class="lineno"> 8194</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;dialoutexten, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a>-&gt;dialoutexten));</div><div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160;         }</div><div class="line"><a name="l08197"></a><span class="lineno"> 8197</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;speeddial&quot;</span>)) {</div><div class="line"><a name="l08198"></a><span class="lineno"> 8198</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l08200"></a><span class="lineno"> 8200</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d6/dbc/structskinny__container.html">skinny_container</a> *<a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l08201"></a><span class="lineno"> 8201</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[256];</div><div class="line"><a name="l08202"></a><span class="lineno"> 8202</span>&#160;            <span class="keywordtype">char</span> *stringp = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, *label;</div><div class="line"><a name="l08203"></a><span class="lineno"> 8203</span>&#160;</div><div class="line"><a name="l08204"></a><span class="lineno"> 8204</span>&#160;            <span class="keywordflow">if</span> (!(sd = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*sd)))) {</div><div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate memory for speeddial %s. Ignoring speeddial.\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l08206"></a><span class="lineno"> 8206</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160;            }</div><div class="line"><a name="l08208"></a><span class="lineno"> 8208</span>&#160;            <span class="keywordflow">if</span> (!(container = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*container)))) {</div><div class="line"><a name="l08209"></a><span class="lineno"> 8209</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate memory for speeddial %s container. Ignoring speeddial.\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l08210"></a><span class="lineno"> 8210</span>&#160;               <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sd);</div><div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160;            }</div><div class="line"><a name="l08213"></a><span class="lineno"> 8213</span>&#160;</div><div class="line"><a name="l08214"></a><span class="lineno"> 8214</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buf, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l08215"></a><span class="lineno"> 8215</span>&#160;            exten = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l08216"></a><span class="lineno"> 8216</span>&#160;            <span class="keywordflow">if</span> ((context = strchr(exten, <span class="charliteral">&#39;@&#39;</span>))) {</div><div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160;               *context++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160;            }</div><div class="line"><a name="l08219"></a><span class="lineno"> 8219</span>&#160;            label = stringp;</div><div class="line"><a name="l08220"></a><span class="lineno"> 8220</span>&#160;            <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l08221"></a><span class="lineno"> 8221</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">exten</a>, exten, <span class="keyword">sizeof</span>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">exten</a>));</div><div class="line"><a name="l08222"></a><span class="lineno"> 8222</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(context)) {</div><div class="line"><a name="l08223"></a><span class="lineno"> 8223</span>&#160;               sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a> = 1;</div><div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160;               sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> = lineInstance++;</div><div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, context, <span class="keyword">sizeof</span>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>));</div><div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160;               sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">isHint</a> = 0;</div><div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;               sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> = speeddialInstance++;</div><div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160;               sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160;            }</div><div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">label</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(label, exten), <span class="keyword">sizeof</span>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">label</a>));</div><div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;            sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#aea7cfebdbc484f2d086c9218129a141a">parent</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>;</div><div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160;            container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a01b2bb8685c96de7d81859e2fa0051df">SKINNY_SDCONTAINER</a>;</div><div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160;            container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#a735984d41155bc1032e09bece8f8d66d">data</a> = sd;</div><div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;            sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a> = <a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;speeddials, sd, list);</div><div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160;         }</div><div class="line"><a name="l08239"></a><span class="lineno"> 8239</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;serviceurl&quot;</span>)) {</div><div class="line"><a name="l08240"></a><span class="lineno"> 8240</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08241"></a><span class="lineno"> 8241</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d3/d52/structskinny__serviceurl.html">skinny_serviceurl</a> *surl;</div><div class="line"><a name="l08242"></a><span class="lineno"> 8242</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[256];</div><div class="line"><a name="l08243"></a><span class="lineno"> 8243</span>&#160;            <span class="keywordtype">char</span> *stringp = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, *serviceUrl, *<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a055fded1ef981ae1960598ea019e0476">displayName</a>;</div><div class="line"><a name="l08244"></a><span class="lineno"> 8244</span>&#160;            <span class="keywordflow">if</span> (!(surl = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*surl)))) {</div><div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate memory for serviceurl %s. Ignoring service URL.\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08247"></a><span class="lineno"> 8247</span>&#160;            }</div><div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buf, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;            displayName = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160;            <span class="keywordflow">if</span> (stringp) {</div><div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;               serviceUrl = stringp;</div><div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a3d7ec0af596552058e460f64646bf5b8">url</a>, <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(serviceUrl), <span class="keyword">sizeof</span>(surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a3d7ec0af596552058e460f64646bf5b8">url</a>));</div><div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a055fded1ef981ae1960598ea019e0476">displayName</a>, displayName, <span class="keyword">sizeof</span>(surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a055fded1ef981ae1960598ea019e0476">displayName</a>));</div><div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;               surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a6fd216872447cfe5f757d2ce47fea6fb">instance</a> = serviceUrlInstance++;</div><div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;               surl-&gt;<a class="code" href="../../d3/d52/structskinny__serviceurl.html#a70701ca9c2641bcb1740286273a0473a">device</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>;</div><div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;serviceurls, surl, <a class="code" href="../../d3/d52/structskinny__serviceurl.html#a386b1ceb8439324f21a98f520321c24b">list</a>);</div><div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;               <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(surl);</div><div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Badly formed option for service URL in %s. Ignoring service URL.\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160;            }</div><div class="line"><a name="l08261"></a><span class="lineno"> 8261</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;         }</div><div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;addon&quot;</span>)) {</div><div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160;         <span class="keywordflow">if</span> (type &amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>)) {</div><div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../dc/d11/structskinny__addon.html">skinny_addon</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>;</div><div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160;            <span class="keywordflow">if</span> (!(a = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*a)))) {</div><div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate memory for addon %s. Ignoring addon.\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l08268"></a><span class="lineno"> 8268</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160;               <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;a-&gt;<a class="code" href="../../dc/d11/structskinny__addon.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(a-&gt;<a class="code" href="../../dc/d11/structskinny__addon.html#a33e6e7edca48ac1ff105d85011dfc454">type</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(a-&gt;<a class="code" href="../../dc/d11/structskinny__addon.html#a33e6e7edca48ac1ff105d85011dfc454">type</a>));</div><div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a>-&gt;addons, a, <a class="code" href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">list</a>);</div><div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160;            }</div><div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08275"></a><span class="lineno"> 8275</span>&#160;         }</div><div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160;</div><div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Don&#39;t know keyword &#39;%s&#39; at line %d\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160;      }</div><div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid category used: %s at line %d\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160;   }</div><div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;}</div><div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;</div><div class="line"><a name="l08285"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#af7fc256a5120f42598d936ab979d302f"> 8285</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#af7fc256a5120f42598d936ab979d302f">config_line</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *lname, <span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v)</div><div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160;{</div><div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l, *temp;</div><div class="line"><a name="l08288"></a><span class="lineno"> 8288</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a> = 0;</div><div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dbc/structskinny__container.html">skinny_container</a> *<a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l08290"></a><span class="lineno"> 8290</span>&#160;</div><div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Configuring skinny line %s.\n&quot;</span>, lname);</div><div class="line"><a name="l08292"></a><span class="lineno"> 8292</span>&#160;</div><div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160;   <span class="comment">/* We find the old line and remove it just before the new</span></div><div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;<span class="comment">      line is created */</span></div><div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08296"></a><span class="lineno"> 8296</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>, temp, all) {</div><div class="line"><a name="l08297"></a><span class="lineno"> 8297</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(lname, temp-&gt;name) &amp;&amp; temp-&gt;prune) {</div><div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;         update = 1;</div><div class="line"><a name="l08299"></a><span class="lineno"> 8299</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160;      }</div><div class="line"><a name="l08301"></a><span class="lineno"> 8301</span>&#160;   }</div><div class="line"><a name="l08302"></a><span class="lineno"> 8302</span>&#160;</div><div class="line"><a name="l08303"></a><span class="lineno"> 8303</span>&#160;   <span class="keywordflow">if</span> (!(l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab264cdcf333d318a73bbb35c734e2acd">skinny_line_alloc</a>())) {</div><div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Unable to allocate memory for line %s.\n&quot;</span>, lname);</div><div class="line"><a name="l08305"></a><span class="lineno"> 8305</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160;   }</div><div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;   <span class="keywordflow">if</span> (!(container = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*container)))) {</div><div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate memory for line %s container.\n&quot;</span>, lname);</div><div class="line"><a name="l08310"></a><span class="lineno"> 8310</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a534c6987ccc3a01cbbdc12543f551a40">skinny_line_destroy</a>(l);</div><div class="line"><a name="l08311"></a><span class="lineno"> 8311</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08312"></a><span class="lineno"> 8312</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08313"></a><span class="lineno"> 8313</span>&#160;   }</div><div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160;</div><div class="line"><a name="l08315"></a><span class="lineno"> 8315</span>&#160;   container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae249c0e277cfa32192406b19fd675d6c">SKINNY_LINECONTAINER</a>;</div><div class="line"><a name="l08316"></a><span class="lineno"> 8316</span>&#160;   container-&gt;<a class="code" href="../../d6/dbc/structskinny__container.html#a735984d41155bc1032e09bece8f8d66d">data</a> = l;</div><div class="line"><a name="l08317"></a><span class="lineno"> 8317</span>&#160;   l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a> = <a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l08318"></a><span class="lineno"> 8318</span>&#160;</div><div class="line"><a name="l08319"></a><span class="lineno"> 8319</span>&#160;   memcpy(l, default_line, <span class="keyword">sizeof</span>(*default_line));</div><div class="line"><a name="l08320"></a><span class="lineno"> 8320</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l08321"></a><span class="lineno"> 8321</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(l-&gt;name, lname, <span class="keyword">sizeof</span>(l-&gt;name));</div><div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#a70a1555431677c29824be37afa5112e2">ast_format_cap_append_from_cap</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, default_cap, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a>);</div><div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>, l, all);</div><div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160;</div><div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l08326"></a><span class="lineno"> 8326</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;</div><div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a290744d808f70a1932e3916b0db16acb">config_parse_variables</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a>, l, v);</div><div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160;</div><div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;mailbox)) {</div><div class="line"><a name="l08331"></a><span class="lineno"> 8331</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Setting mailbox &#39;%s&#39; on line %s\n&quot;</span>, l-&gt;mailbox, l-&gt;name);</div><div class="line"><a name="l08332"></a><span class="lineno"> 8332</span>&#160;      l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d">mwi_event_sub</a> = <a class="code" href="../../dc/d33/mwi_8h.html#ad83d6c9c09755c8b274a8f07fb2c64f7">ast_mwi_subscribe_pool</a>(l-&gt;mailbox, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a8921df965ea3d7dec54ab143ea1463bc">mwi_event_cb</a>, l);</div><div class="line"><a name="l08333"></a><span class="lineno"> 8333</span>&#160;   }</div><div class="line"><a name="l08334"></a><span class="lineno"> 8334</span>&#160;</div><div class="line"><a name="l08335"></a><span class="lineno"> 8335</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">vmexten</a>) &amp;&amp; <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(l-&gt;vmexten)) {</div><div class="line"><a name="l08336"></a><span class="lineno"> 8336</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(l-&gt;vmexten, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">vmexten</a>, <span class="keyword">sizeof</span>(l-&gt;vmexten));</div><div class="line"><a name="l08337"></a><span class="lineno"> 8337</span>&#160;   }</div><div class="line"><a name="l08338"></a><span class="lineno"> 8338</span>&#160;</div><div class="line"><a name="l08339"></a><span class="lineno"> 8339</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l08340"></a><span class="lineno"> 8340</span>&#160;</div><div class="line"><a name="l08341"></a><span class="lineno"> 8341</span>&#160;   <span class="comment">/* We do not want to unlink or free the line yet, it needs</span></div><div class="line"><a name="l08342"></a><span class="lineno"> 8342</span>&#160;<span class="comment">      to be available to detect a device reconfig when we load the</span></div><div class="line"><a name="l08343"></a><span class="lineno"> 8343</span>&#160;<span class="comment">      devices.  Old lines will be pruned after the reload completes */</span></div><div class="line"><a name="l08344"></a><span class="lineno"> 8344</span>&#160;</div><div class="line"><a name="l08345"></a><span class="lineno"> 8345</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;%s config for line &#39;%s&#39;\n&quot;</span>, update ? <span class="stringliteral">&quot;Updated&quot;</span> : (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3f33857933c786a6cbf62a75e214bcf6">skinnyreload</a> ? <span class="stringliteral">&quot;Reloaded&quot;</span> : <span class="stringliteral">&quot;Created&quot;</span>), l-&gt;name);</div><div class="line"><a name="l08346"></a><span class="lineno"> 8346</span>&#160;</div><div class="line"><a name="l08347"></a><span class="lineno"> 8347</span>&#160;   <span class="keywordflow">return</span> l;</div><div class="line"><a name="l08348"></a><span class="lineno"> 8348</span>&#160;}</div><div class="line"><a name="l08349"></a><span class="lineno"> 8349</span>&#160;</div><div class="line"><a name="l08350"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a6054476b05c0d6694c867269e4a0b429"> 8350</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a6054476b05c0d6694c867269e4a0b429">config_device</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dname, <span class="keyword">struct</span> <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v)</div><div class="line"><a name="l08351"></a><span class="lineno"> 8351</span>&#160;{</div><div class="line"><a name="l08352"></a><span class="lineno"> 8352</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>, *temp;</div><div class="line"><a name="l08353"></a><span class="lineno"> 8353</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l, *ltemp;</div><div class="line"><a name="l08354"></a><span class="lineno"> 8354</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l08355"></a><span class="lineno"> 8355</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a> = 0;</div><div class="line"><a name="l08356"></a><span class="lineno"> 8356</span>&#160;</div><div class="line"><a name="l08357"></a><span class="lineno"> 8357</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Configuring skinny device %s.\n&quot;</span>, dname);</div><div class="line"><a name="l08358"></a><span class="lineno"> 8358</span>&#160;</div><div class="line"><a name="l08359"></a><span class="lineno"> 8359</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08360"></a><span class="lineno"> 8360</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, temp, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l08361"></a><span class="lineno"> 8361</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(dname, temp-&gt;name) &amp;&amp; temp-&gt;prune) {</div><div class="line"><a name="l08362"></a><span class="lineno"> 8362</span>&#160;         update = 1;</div><div class="line"><a name="l08363"></a><span class="lineno"> 8363</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l08364"></a><span class="lineno"> 8364</span>&#160;      }</div><div class="line"><a name="l08365"></a><span class="lineno"> 8365</span>&#160;   }</div><div class="line"><a name="l08366"></a><span class="lineno"> 8366</span>&#160;</div><div class="line"><a name="l08367"></a><span class="lineno"> 8367</span>&#160;   <span class="keywordflow">if</span> (!(d = <a class="code" href="../../d0/d80/chan__skinny_8c.html#af04603de29d6cb0402cff61df2a18878">skinny_device_alloc</a>(dname))) {</div><div class="line"><a name="l08368"></a><span class="lineno"> 8368</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Unable to allocate memory for device %s.\n&quot;</span>, dname);</div><div class="line"><a name="l08369"></a><span class="lineno"> 8369</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08370"></a><span class="lineno"> 8370</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08371"></a><span class="lineno"> 8371</span>&#160;   }</div><div class="line"><a name="l08372"></a><span class="lineno"> 8372</span>&#160;   memcpy(d, default_device, <span class="keyword">sizeof</span>(*default_device));</div><div class="line"><a name="l08373"></a><span class="lineno"> 8373</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l08374"></a><span class="lineno"> 8374</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(d-&gt;name, dname, <span class="keyword">sizeof</span>(d-&gt;name));</div><div class="line"><a name="l08375"></a><span class="lineno"> 8375</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#a70a1555431677c29824be37afa5112e2">ast_format_cap_append_from_cap</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">confcap</a>, default_cap, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a>);</div><div class="line"><a name="l08376"></a><span class="lineno"> 8376</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>);</div><div class="line"><a name="l08377"></a><span class="lineno"> 8377</span>&#160;</div><div class="line"><a name="l08378"></a><span class="lineno"> 8378</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l08379"></a><span class="lineno"> 8379</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08380"></a><span class="lineno"> 8380</span>&#160;</div><div class="line"><a name="l08381"></a><span class="lineno"> 8381</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a290744d808f70a1932e3916b0db16acb">config_parse_variables</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a>, d, v);</div><div class="line"><a name="l08382"></a><span class="lineno"> 8382</span>&#160;</div><div class="line"><a name="l08383"></a><span class="lineno"> 8383</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>)) {</div><div class="line"><a name="l08384"></a><span class="lineno"> 8384</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;A Skinny device must have at least one line!\n&quot;</span>);</div><div class="line"><a name="l08385"></a><span class="lineno"> 8385</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l08386"></a><span class="lineno"> 8386</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08387"></a><span class="lineno"> 8387</span>&#160;   }</div><div class="line"><a name="l08388"></a><span class="lineno"> 8388</span>&#160;   <span class="keywordflow">if</span> (<span class="comment">/*d-&gt;addr.sin_addr.s_addr &amp;&amp; */</span>!ntohs(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#afdf3b1ca80400cc6bd5bfe2bb1cb7e65">addr</a>.sin_port)) {</div><div class="line"><a name="l08389"></a><span class="lineno"> 8389</span>&#160;      d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#afdf3b1ca80400cc6bd5bfe2bb1cb7e65">addr</a>.sin_port = htons(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aeffadc396b98efd62e385678a8c1cf62">DEFAULT_SKINNY_PORT</a>);</div><div class="line"><a name="l08390"></a><span class="lineno"> 8390</span>&#160;   }</div><div class="line"><a name="l08391"></a><span class="lineno"> 8391</span>&#160;</div><div class="line"><a name="l08392"></a><span class="lineno"> 8392</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3f33857933c786a6cbf62a75e214bcf6">skinnyreload</a>){</div><div class="line"><a name="l08393"></a><span class="lineno"> 8393</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08394"></a><span class="lineno"> 8394</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, temp, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l08395"></a><span class="lineno"> 8395</span>&#160;         <span class="keywordflow">if</span> (strcasecmp(d-&gt;id, temp-&gt;id) || !temp-&gt;prune || !temp-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>) {</div><div class="line"><a name="l08396"></a><span class="lineno"> 8396</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08397"></a><span class="lineno"> 8397</span>&#160;         }</div><div class="line"><a name="l08398"></a><span class="lineno"> 8398</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l08399"></a><span class="lineno"> 8399</span>&#160;         d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a> = temp-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>;</div><div class="line"><a name="l08400"></a><span class="lineno"> 8400</span>&#160;         d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a> = <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l08401"></a><span class="lineno"> 8401</span>&#160;         d-&gt;hookstate = temp-&gt;hookstate;</div><div class="line"><a name="l08402"></a><span class="lineno"> 8402</span>&#160;</div><div class="line"><a name="l08403"></a><span class="lineno"> 8403</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>);</div><div class="line"><a name="l08404"></a><span class="lineno"> 8404</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>){</div><div class="line"><a name="l08405"></a><span class="lineno"> 8405</span>&#160;</div><div class="line"><a name="l08406"></a><span class="lineno"> 8406</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;temp-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>);</div><div class="line"><a name="l08407"></a><span class="lineno"> 8407</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;temp-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, ltemp, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l08408"></a><span class="lineno"> 8408</span>&#160;               <span class="keywordflow">if</span> (strcasecmp(l-&gt;name, ltemp-&gt;name)) {</div><div class="line"><a name="l08409"></a><span class="lineno"> 8409</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08410"></a><span class="lineno"> 8410</span>&#160;               }</div><div class="line"><a name="l08411"></a><span class="lineno"> 8411</span>&#160;               <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;ltemp-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l08412"></a><span class="lineno"> 8412</span>&#160;               l-&gt;instance = ltemp-&gt;instance;</div><div class="line"><a name="l08413"></a><span class="lineno"> 8413</span>&#160;               <span class="keywordflow">if</span> (l == temp-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a70da1427655ecdaa64e57324e51f440b">activeline</a>) {</div><div class="line"><a name="l08414"></a><span class="lineno"> 8414</span>&#160;                  d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a70da1427655ecdaa64e57324e51f440b">activeline</a> = l;</div><div class="line"><a name="l08415"></a><span class="lineno"> 8415</span>&#160;               }</div><div class="line"><a name="l08416"></a><span class="lineno"> 8416</span>&#160;               <span class="keywordflow">if</span> (!<a class="code" href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a>(&amp;ltemp-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>)) {</div><div class="line"><a name="l08417"></a><span class="lineno"> 8417</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l08418"></a><span class="lineno"> 8418</span>&#160;                  l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a> = ltemp-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>;</div><div class="line"><a name="l08419"></a><span class="lineno"> 8419</span>&#160;                  l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a> = ltemp-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">activesub</a>;</div><div class="line"><a name="l08420"></a><span class="lineno"> 8420</span>&#160;                  <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, sub, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l08421"></a><span class="lineno"> 8421</span>&#160;                     sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">line</a> = l;</div><div class="line"><a name="l08422"></a><span class="lineno"> 8422</span>&#160;                  }</div><div class="line"><a name="l08423"></a><span class="lineno"> 8423</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l08424"></a><span class="lineno"> 8424</span>&#160;               }</div><div class="line"><a name="l08425"></a><span class="lineno"> 8425</span>&#160;               <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;ltemp-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l08426"></a><span class="lineno"> 8426</span>&#160;            }</div><div class="line"><a name="l08427"></a><span class="lineno"> 8427</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;temp-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>);</div><div class="line"><a name="l08428"></a><span class="lineno"> 8428</span>&#160;         }</div><div class="line"><a name="l08429"></a><span class="lineno"> 8429</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>);</div><div class="line"><a name="l08430"></a><span class="lineno"> 8430</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l08431"></a><span class="lineno"> 8431</span>&#160;      }</div><div class="line"><a name="l08432"></a><span class="lineno"> 8432</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08433"></a><span class="lineno"> 8433</span>&#160;   }</div><div class="line"><a name="l08434"></a><span class="lineno"> 8434</span>&#160;</div><div class="line"><a name="l08435"></a><span class="lineno"> 8435</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l08436"></a><span class="lineno"> 8436</span>&#160;</div><div class="line"><a name="l08437"></a><span class="lineno"> 8437</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;%s config for device &#39;%s&#39;\n&quot;</span>, update ? <span class="stringliteral">&quot;Updated&quot;</span> : (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3f33857933c786a6cbf62a75e214bcf6">skinnyreload</a> ? <span class="stringliteral">&quot;Reloaded&quot;</span> : <span class="stringliteral">&quot;Created&quot;</span>), d-&gt;name);</div><div class="line"><a name="l08438"></a><span class="lineno"> 8438</span>&#160;</div><div class="line"><a name="l08439"></a><span class="lineno"> 8439</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l08440"></a><span class="lineno"> 8440</span>&#160;</div><div class="line"><a name="l08441"></a><span class="lineno"> 8441</span>&#160;}</div><div class="line"><a name="l08442"></a><span class="lineno"> 8442</span>&#160;</div><div class="line"><a name="l08443"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#adcba01fd94435658f19c16a842d33330"> 8443</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#adcba01fd94435658f19c16a842d33330">config_load</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l08444"></a><span class="lineno"> 8444</span>&#160;{</div><div class="line"><a name="l08445"></a><span class="lineno"> 8445</span>&#160;   <span class="keywordtype">int</span> on = 1;</div><div class="line"><a name="l08446"></a><span class="lineno"> 8446</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l08447"></a><span class="lineno"> 8447</span>&#160;   <span class="keywordtype">char</span> *cat;</div><div class="line"><a name="l08448"></a><span class="lineno"> 8448</span>&#160;   <span class="keywordtype">int</span> oldport = ntohs(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_port);</div><div class="line"><a name="l08449"></a><span class="lineno"> 8449</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { 0 };</div><div class="line"><a name="l08450"></a><span class="lineno"> 8450</span>&#160;</div><div class="line"><a name="l08451"></a><span class="lineno"> 8451</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Configuring skinny from %s\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>);</div><div class="line"><a name="l08452"></a><span class="lineno"> 8452</span>&#160;</div><div class="line"><a name="l08453"></a><span class="lineno"> 8453</span>&#160;   <span class="keywordflow">if</span> (gethostname(<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd883a715000d3dd9e65f40e6585f644">ourhost</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd883a715000d3dd9e65f40e6585f644">ourhost</a>))) {</div><div class="line"><a name="l08454"></a><span class="lineno"> 8454</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to get hostname, Skinny disabled.\n&quot;</span>);</div><div class="line"><a name="l08455"></a><span class="lineno"> 8455</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08456"></a><span class="lineno"> 8456</span>&#160;   }</div><div class="line"><a name="l08457"></a><span class="lineno"> 8457</span>&#160;   cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>, config_flags);</div><div class="line"><a name="l08458"></a><span class="lineno"> 8458</span>&#160;</div><div class="line"><a name="l08459"></a><span class="lineno"> 8459</span>&#160;   <span class="comment">/* We *must* have a config file otherwise stop immediately */</span></div><div class="line"><a name="l08460"></a><span class="lineno"> 8460</span>&#160;   <span class="keywordflow">if</span> (!cfg || cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l08461"></a><span class="lineno"> 8461</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Unable to load config %s, Skinny disabled.\n&quot;</span>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>);</div><div class="line"><a name="l08462"></a><span class="lineno"> 8462</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l08463"></a><span class="lineno"> 8463</span>&#160;   }</div><div class="line"><a name="l08464"></a><span class="lineno"> 8464</span>&#160;</div><div class="line"><a name="l08465"></a><span class="lineno"> 8465</span>&#160;   memset(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>));</div><div class="line"><a name="l08466"></a><span class="lineno"> 8466</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#ab9f6af2c0142f36638e3cd7d240497dd">immed_dialchar</a> = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l08467"></a><span class="lineno"> 8467</span>&#160;   memset(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">vmexten</a>, <span class="charliteral">&#39;\0&#39;</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">vmexten</a>));</div><div class="line"><a name="l08468"></a><span class="lineno"> 8468</span>&#160;</div><div class="line"><a name="l08469"></a><span class="lineno"> 8469</span>&#160;</div><div class="line"><a name="l08470"></a><span class="lineno"> 8470</span>&#160;   <span class="comment">/* Copy the default jb config over global_jbconf */</span></div><div class="line"><a name="l08471"></a><span class="lineno"> 8471</span>&#160;   memcpy(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>, &amp;default_jbconf, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a>));</div><div class="line"><a name="l08472"></a><span class="lineno"> 8472</span>&#160;</div><div class="line"><a name="l08473"></a><span class="lineno"> 8473</span>&#160;   <span class="comment">/* load the general section */</span></div><div class="line"><a name="l08474"></a><span class="lineno"> 8474</span>&#160;   cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>);</div><div class="line"><a name="l08475"></a><span class="lineno"> 8475</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a290744d808f70a1932e3916b0db16acb">config_parse_variables</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ae3837bf7d2100903b0651f5b22e289e9">TYPE_GENERAL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>));</div><div class="line"><a name="l08476"></a><span class="lineno"> 8476</span>&#160;</div><div class="line"><a name="l08477"></a><span class="lineno"> 8477</span>&#160;   <span class="keywordflow">if</span> (ntohl(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_addr.s_addr)) {</div><div class="line"><a name="l08478"></a><span class="lineno"> 8478</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1d084b82cb21102ba46ea60d3cd9c085">__ourip</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_addr;</div><div class="line"><a name="l08479"></a><span class="lineno"> 8479</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l08480"></a><span class="lineno"> 8480</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa0f575fa3882aa394cc287edba645a35">hp</a> = <a class="code" href="../../d5/d60/utils_8h.html#ad3b63ee1041593219ef0765b28d70442">ast_gethostbyname</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd883a715000d3dd9e65f40e6585f644">ourhost</a>, &amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a9e435aef83f14da6d3d5ec44f821558e">ahp</a>);</div><div class="line"><a name="l08481"></a><span class="lineno"> 8481</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d80/chan__skinny_8c.html#aa0f575fa3882aa394cc287edba645a35">hp</a>) {</div><div class="line"><a name="l08482"></a><span class="lineno"> 8482</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to get our IP address, Skinny disabled\n&quot;</span>);</div><div class="line"><a name="l08483"></a><span class="lineno"> 8483</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l08484"></a><span class="lineno"> 8484</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08485"></a><span class="lineno"> 8485</span>&#160;      }</div><div class="line"><a name="l08486"></a><span class="lineno"> 8486</span>&#160;      memcpy(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1d084b82cb21102ba46ea60d3cd9c085">__ourip</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa0f575fa3882aa394cc287edba645a35">hp</a>-&gt;h_addr, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1d084b82cb21102ba46ea60d3cd9c085">__ourip</a>));</div><div class="line"><a name="l08487"></a><span class="lineno"> 8487</span>&#160;   }</div><div class="line"><a name="l08488"></a><span class="lineno"> 8488</span>&#160;   <span class="keywordflow">if</span> (!ntohs(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_port)) {</div><div class="line"><a name="l08489"></a><span class="lineno"> 8489</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_port = htons(<a class="code" href="../../d0/d80/chan__skinny_8c.html#aeffadc396b98efd62e385678a8c1cf62">DEFAULT_SKINNY_PORT</a>);</div><div class="line"><a name="l08490"></a><span class="lineno"> 8490</span>&#160;   }</div><div class="line"><a name="l08491"></a><span class="lineno"> 8491</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_family = AF_INET;</div><div class="line"><a name="l08492"></a><span class="lineno"> 8492</span>&#160;</div><div class="line"><a name="l08493"></a><span class="lineno"> 8493</span>&#160;   <span class="comment">/* load the lines sections */</span></div><div class="line"><a name="l08494"></a><span class="lineno"> 8494</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a290744d808f70a1932e3916b0db16acb">config_parse_variables</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a>, default_line, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;lines&quot;</span>));</div><div class="line"><a name="l08495"></a><span class="lineno"> 8495</span>&#160;   cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, <span class="stringliteral">&quot;lines&quot;</span>);</div><div class="line"><a name="l08496"></a><span class="lineno"> 8496</span>&#160;   <span class="keywordflow">while</span> (cat &amp;&amp; strcasecmp(cat, <span class="stringliteral">&quot;general&quot;</span>) &amp;&amp; strcasecmp(cat, <span class="stringliteral">&quot;devices&quot;</span>)) {</div><div class="line"><a name="l08497"></a><span class="lineno"> 8497</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#af7fc256a5120f42598d936ab979d302f">config_line</a>(cat, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, cat));</div><div class="line"><a name="l08498"></a><span class="lineno"> 8498</span>&#160;      cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, cat);</div><div class="line"><a name="l08499"></a><span class="lineno"> 8499</span>&#160;   }</div><div class="line"><a name="l08500"></a><span class="lineno"> 8500</span>&#160;</div><div class="line"><a name="l08501"></a><span class="lineno"> 8501</span>&#160;   <span class="comment">/* load the devices sections */</span></div><div class="line"><a name="l08502"></a><span class="lineno"> 8502</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a290744d808f70a1932e3916b0db16acb">config_parse_variables</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a>, default_device, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;devices&quot;</span>));</div><div class="line"><a name="l08503"></a><span class="lineno"> 8503</span>&#160;   cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, <span class="stringliteral">&quot;devices&quot;</span>);</div><div class="line"><a name="l08504"></a><span class="lineno"> 8504</span>&#160;   <span class="keywordflow">while</span> (cat &amp;&amp; strcasecmp(cat, <span class="stringliteral">&quot;general&quot;</span>) &amp;&amp; strcasecmp(cat, <span class="stringliteral">&quot;lines&quot;</span>)) {</div><div class="line"><a name="l08505"></a><span class="lineno"> 8505</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a6054476b05c0d6694c867269e4a0b429">config_device</a>(cat, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, cat));</div><div class="line"><a name="l08506"></a><span class="lineno"> 8506</span>&#160;      cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, cat);</div><div class="line"><a name="l08507"></a><span class="lineno"> 8507</span>&#160;   }</div><div class="line"><a name="l08508"></a><span class="lineno"> 8508</span>&#160;</div><div class="line"><a name="l08509"></a><span class="lineno"> 8509</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87">netlock</a>);</div><div class="line"><a name="l08510"></a><span class="lineno"> 8510</span>&#160;   <span class="keywordflow">if</span> ((<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a> &gt; -1) &amp;&amp; (ntohs(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>.sin_port) != oldport)) {</div><div class="line"><a name="l08511"></a><span class="lineno"> 8511</span>&#160;      close(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a>);</div><div class="line"><a name="l08512"></a><span class="lineno"> 8512</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a> = -1;</div><div class="line"><a name="l08513"></a><span class="lineno"> 8513</span>&#160;   }</div><div class="line"><a name="l08514"></a><span class="lineno"> 8514</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a> &lt; 0) {</div><div class="line"><a name="l08515"></a><span class="lineno"> 8515</span>&#160;      <a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a> = socket(AF_INET, SOCK_STREAM, 0);</div><div class="line"><a name="l08516"></a><span class="lineno"> 8516</span>&#160;      <span class="keywordflow">if</span>(setsockopt(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a>, SOL_SOCKET, SO_REUSEADDR, &amp;on, <span class="keyword">sizeof</span>(on)) == -1) {</div><div class="line"><a name="l08517"></a><span class="lineno"> 8517</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Set Socket Options failed: errno %d, %s\n&quot;</span>, <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l08518"></a><span class="lineno"> 8518</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l08519"></a><span class="lineno"> 8519</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87">netlock</a>);</div><div class="line"><a name="l08520"></a><span class="lineno"> 8520</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08521"></a><span class="lineno"> 8521</span>&#160;      }</div><div class="line"><a name="l08522"></a><span class="lineno"> 8522</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a> &lt; 0) {</div><div class="line"><a name="l08523"></a><span class="lineno"> 8523</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create Skinny socket: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l08524"></a><span class="lineno"> 8524</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l08525"></a><span class="lineno"> 8525</span>&#160;         <span class="keywordflow">if</span> (bind(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a>, (<span class="keyword">struct</span> sockaddr *)&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a>, <span class="keyword">sizeof</span>(bindaddr)) &lt; 0) {</div><div class="line"><a name="l08526"></a><span class="lineno"> 8526</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to bind to %s:%d: %s\n&quot;</span>,</div><div class="line"><a name="l08527"></a><span class="lineno"> 8527</span>&#160;                  <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(bindaddr.sin_addr), ntohs(bindaddr.sin_port),</div><div class="line"><a name="l08528"></a><span class="lineno"> 8528</span>&#160;                     strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l08529"></a><span class="lineno"> 8529</span>&#160;            close(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a>);</div><div class="line"><a name="l08530"></a><span class="lineno"> 8530</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a> = -1;</div><div class="line"><a name="l08531"></a><span class="lineno"> 8531</span>&#160;            <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l08532"></a><span class="lineno"> 8532</span>&#160;            <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87">netlock</a>);</div><div class="line"><a name="l08533"></a><span class="lineno"> 8533</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08534"></a><span class="lineno"> 8534</span>&#160;         }</div><div class="line"><a name="l08535"></a><span class="lineno"> 8535</span>&#160;         <span class="keywordflow">if</span> (listen(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac92b1ca5df61c89413c2588028c01ef8">DEFAULT_SKINNY_BACKLOG</a>)) {</div><div class="line"><a name="l08536"></a><span class="lineno"> 8536</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to start listening to %s:%d: %s\n&quot;</span>,</div><div class="line"><a name="l08537"></a><span class="lineno"> 8537</span>&#160;                  <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(bindaddr.sin_addr), ntohs(bindaddr.sin_port),</div><div class="line"><a name="l08538"></a><span class="lineno"> 8538</span>&#160;                     strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l08539"></a><span class="lineno"> 8539</span>&#160;               close(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a>);</div><div class="line"><a name="l08540"></a><span class="lineno"> 8540</span>&#160;               <a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a> = -1;</div><div class="line"><a name="l08541"></a><span class="lineno"> 8541</span>&#160;               <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l08542"></a><span class="lineno"> 8542</span>&#160;               <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87">netlock</a>);</div><div class="line"><a name="l08543"></a><span class="lineno"> 8543</span>&#160;               <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08544"></a><span class="lineno"> 8544</span>&#160;         }</div><div class="line"><a name="l08545"></a><span class="lineno"> 8545</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Skinny listening on %s:%d\n&quot;</span>,</div><div class="line"><a name="l08546"></a><span class="lineno"> 8546</span>&#160;               <a class="code" href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a>(bindaddr.sin_addr), ntohs(bindaddr.sin_port));</div><div class="line"><a name="l08547"></a><span class="lineno"> 8547</span>&#160;         <a class="code" href="../../db/df1/netsock2_8h.html#a9e06776a6cd2ae9f2780a445053a6864">ast_set_qos</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.tos, <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a>.cos, <span class="stringliteral">&quot;Skinny&quot;</span>);</div><div class="line"><a name="l08548"></a><span class="lineno"> 8548</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6">accept_t</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#afb67d0042be5e8bd0d96b62379856fe2">accept_thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l08549"></a><span class="lineno"> 8549</span>&#160;      }</div><div class="line"><a name="l08550"></a><span class="lineno"> 8550</span>&#160;   }</div><div class="line"><a name="l08551"></a><span class="lineno"> 8551</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87">netlock</a>);</div><div class="line"><a name="l08552"></a><span class="lineno"> 8552</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l08553"></a><span class="lineno"> 8553</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l08554"></a><span class="lineno"> 8554</span>&#160;}</div><div class="line"><a name="l08555"></a><span class="lineno"> 8555</span>&#160;</div><div class="line"><a name="l08556"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa9daeada19a92710d428551482cb20f9"> 8556</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa9daeada19a92710d428551482cb20f9">delete_devices</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l08557"></a><span class="lineno"> 8557</span>&#160;{</div><div class="line"><a name="l08558"></a><span class="lineno"> 8558</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l08559"></a><span class="lineno"> 8559</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l08560"></a><span class="lineno"> 8560</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l08561"></a><span class="lineno"> 8561</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d11/structskinny__addon.html">skinny_addon</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>;</div><div class="line"><a name="l08562"></a><span class="lineno"> 8562</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d52/structskinny__serviceurl.html">skinny_serviceurl</a> *surl;</div><div class="line"><a name="l08563"></a><span class="lineno"> 8563</span>&#160;</div><div class="line"><a name="l08564"></a><span class="lineno"> 8564</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08565"></a><span class="lineno"> 8565</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08566"></a><span class="lineno"> 8566</span>&#160;</div><div class="line"><a name="l08567"></a><span class="lineno"> 8567</span>&#160;   <span class="comment">/* Delete all devices */</span></div><div class="line"><a name="l08568"></a><span class="lineno"> 8568</span>&#160;   <span class="keywordflow">while</span> ((d = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, <a class="code" href="../../d3/d52/structskinny__serviceurl.html#a386b1ceb8439324f21a98f520321c24b">list</a>))) {</div><div class="line"><a name="l08569"></a><span class="lineno"> 8569</span>&#160;      <span class="comment">/* Delete all lines for this device */</span></div><div class="line"><a name="l08570"></a><span class="lineno"> 8570</span>&#160;      <span class="keywordflow">while</span> ((l = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, <a class="code" href="../../d3/d52/structskinny__serviceurl.html#a386b1ceb8439324f21a98f520321c24b">list</a>))) {</div><div class="line"><a name="l08571"></a><span class="lineno"> 8571</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>, l, all);</div><div class="line"><a name="l08572"></a><span class="lineno"> 8572</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../d3/d52/structskinny__serviceurl.html#a386b1ceb8439324f21a98f520321c24b">list</a>);</div><div class="line"><a name="l08573"></a><span class="lineno"> 8573</span>&#160;         l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a534c6987ccc3a01cbbdc12543f551a40">skinny_line_destroy</a>(l);</div><div class="line"><a name="l08574"></a><span class="lineno"> 8574</span>&#160;      }</div><div class="line"><a name="l08575"></a><span class="lineno"> 8575</span>&#160;      <span class="comment">/* Delete all speeddials for this device */</span></div><div class="line"><a name="l08576"></a><span class="lineno"> 8576</span>&#160;      <span class="keywordflow">while</span> ((sd = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, <a class="code" href="../../d3/d52/structskinny__serviceurl.html#a386b1ceb8439324f21a98f520321c24b">list</a>))) {</div><div class="line"><a name="l08577"></a><span class="lineno"> 8577</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sd-&gt;<a class="code" href="../../d8/d0f/structskinny__speeddial.html#af3f800a0a8df8a1cd55b45ab566cbbd7">container</a>);</div><div class="line"><a name="l08578"></a><span class="lineno"> 8578</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sd);</div><div class="line"><a name="l08579"></a><span class="lineno"> 8579</span>&#160;      }</div><div class="line"><a name="l08580"></a><span class="lineno"> 8580</span>&#160;      <span class="comment">/* Delete all serviceurls for this device */</span></div><div class="line"><a name="l08581"></a><span class="lineno"> 8581</span>&#160;      <span class="keywordflow">while</span> ((surl = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aa781e5785521bd411b6aef84261ab788">serviceurls</a>, <a class="code" href="../../d3/d52/structskinny__serviceurl.html#a386b1ceb8439324f21a98f520321c24b">list</a>))) {</div><div class="line"><a name="l08582"></a><span class="lineno"> 8582</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(surl);</div><div class="line"><a name="l08583"></a><span class="lineno"> 8583</span>&#160;      }</div><div class="line"><a name="l08584"></a><span class="lineno"> 8584</span>&#160;      <span class="comment">/* Delete all addons for this device */</span></div><div class="line"><a name="l08585"></a><span class="lineno"> 8585</span>&#160;      <span class="keywordflow">while</span> ((a = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6aa3a053fbe7a339fa9f7d2d4ecd44e9">addons</a>, <a class="code" href="../../d3/d52/structskinny__serviceurl.html#a386b1ceb8439324f21a98f520321c24b">list</a>))) {</div><div class="line"><a name="l08586"></a><span class="lineno"> 8586</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(a);</div><div class="line"><a name="l08587"></a><span class="lineno"> 8587</span>&#160;      }</div><div class="line"><a name="l08588"></a><span class="lineno"> 8588</span>&#160;      d = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a69f7813c801cadcd6a54ba113dc0a1b4">skinny_device_destroy</a>(d);</div><div class="line"><a name="l08589"></a><span class="lineno"> 8589</span>&#160;   }</div><div class="line"><a name="l08590"></a><span class="lineno"> 8590</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08591"></a><span class="lineno"> 8591</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08592"></a><span class="lineno"> 8592</span>&#160;}</div><div class="line"><a name="l08593"></a><span class="lineno"> 8593</span>&#160;</div><div class="line"><a name="l08594"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#aa53f60b698c21b4f290b5defcf53ef9b"> 8594</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa53f60b698c21b4f290b5defcf53ef9b">skinny_reload</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l08595"></a><span class="lineno"> 8595</span>&#160;{</div><div class="line"><a name="l08596"></a><span class="lineno"> 8596</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l08597"></a><span class="lineno"> 8597</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l08598"></a><span class="lineno"> 8598</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a> *sd;</div><div class="line"><a name="l08599"></a><span class="lineno"> 8599</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d11/structskinny__addon.html">skinny_addon</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>;</div><div class="line"><a name="l08600"></a><span class="lineno"> 8600</span>&#160;</div><div class="line"><a name="l08601"></a><span class="lineno"> 8601</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3f33857933c786a6cbf62a75e214bcf6">skinnyreload</a>) {</div><div class="line"><a name="l08602"></a><span class="lineno"> 8602</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Chan_skinny is already reloading.\n&quot;</span>);</div><div class="line"><a name="l08603"></a><span class="lineno"> 8603</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08604"></a><span class="lineno"> 8604</span>&#160;   }</div><div class="line"><a name="l08605"></a><span class="lineno"> 8605</span>&#160;</div><div class="line"><a name="l08606"></a><span class="lineno"> 8606</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3f33857933c786a6cbf62a75e214bcf6">skinnyreload</a> = 1;</div><div class="line"><a name="l08607"></a><span class="lineno"> 8607</span>&#160;</div><div class="line"><a name="l08608"></a><span class="lineno"> 8608</span>&#160;   <span class="comment">/* Mark all devices and lines as candidates to be pruned */</span></div><div class="line"><a name="l08609"></a><span class="lineno"> 8609</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08610"></a><span class="lineno"> 8610</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">list</a>) {</div><div class="line"><a name="l08611"></a><span class="lineno"> 8611</span>&#160;      d-&gt;prune = 1;</div><div class="line"><a name="l08612"></a><span class="lineno"> 8612</span>&#160;   }</div><div class="line"><a name="l08613"></a><span class="lineno"> 8613</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08614"></a><span class="lineno"> 8614</span>&#160;</div><div class="line"><a name="l08615"></a><span class="lineno"> 8615</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08616"></a><span class="lineno"> 8616</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>, l, all) {</div><div class="line"><a name="l08617"></a><span class="lineno"> 8617</span>&#160;      l-&gt;prune = 1;</div><div class="line"><a name="l08618"></a><span class="lineno"> 8618</span>&#160;   }</div><div class="line"><a name="l08619"></a><span class="lineno"> 8619</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08620"></a><span class="lineno"> 8620</span>&#160;</div><div class="line"><a name="l08621"></a><span class="lineno"> 8621</span>&#160;        <a class="code" href="../../d0/d80/chan__skinny_8c.html#adcba01fd94435658f19c16a842d33330">config_load</a>();</div><div class="line"><a name="l08622"></a><span class="lineno"> 8622</span>&#160;</div><div class="line"><a name="l08623"></a><span class="lineno"> 8623</span>&#160;   <span class="comment">/* Remove any devices that no longer exist in the config */</span></div><div class="line"><a name="l08624"></a><span class="lineno"> 8624</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08625"></a><span class="lineno"> 8625</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">list</a>) {</div><div class="line"><a name="l08626"></a><span class="lineno"> 8626</span>&#160;      <span class="keywordflow">if</span> (!d-&gt;prune) {</div><div class="line"><a name="l08627"></a><span class="lineno"> 8627</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l08628"></a><span class="lineno"> 8628</span>&#160;      }</div><div class="line"><a name="l08629"></a><span class="lineno"> 8629</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Removing device &#39;%s&#39;\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l08630"></a><span class="lineno"> 8630</span>&#160;      <span class="comment">/* Delete all lines for this device.</span></div><div class="line"><a name="l08631"></a><span class="lineno"> 8631</span>&#160;<span class="comment">         We do not want to free the line here, that</span></div><div class="line"><a name="l08632"></a><span class="lineno"> 8632</span>&#160;<span class="comment">         will happen below. */</span></div><div class="line"><a name="l08633"></a><span class="lineno"> 8633</span>&#160;      <span class="keywordflow">while</span> ((l = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, <a class="code" href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">list</a>))) {</div><div class="line"><a name="l08634"></a><span class="lineno"> 8634</span>&#160;         <span class="keywordflow">if</span> (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d">mwi_event_sub</a>) {</div><div class="line"><a name="l08635"></a><span class="lineno"> 8635</span>&#160;            l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d">mwi_event_sub</a> = <a class="code" href="../../dc/d33/mwi_8h.html#a82c6cbb5215eec5348715e4824f5f575">ast_mwi_unsubscribe</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d">mwi_event_sub</a>);</div><div class="line"><a name="l08636"></a><span class="lineno"> 8636</span>&#160;         }</div><div class="line"><a name="l08637"></a><span class="lineno"> 8637</span>&#160;      }</div><div class="line"><a name="l08638"></a><span class="lineno"> 8638</span>&#160;      <span class="comment">/* Delete all speeddials for this device */</span></div><div class="line"><a name="l08639"></a><span class="lineno"> 8639</span>&#160;      <span class="keywordflow">while</span> ((sd = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">speeddials</a>, <a class="code" href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">list</a>))) {</div><div class="line"><a name="l08640"></a><span class="lineno"> 8640</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sd);</div><div class="line"><a name="l08641"></a><span class="lineno"> 8641</span>&#160;      }</div><div class="line"><a name="l08642"></a><span class="lineno"> 8642</span>&#160;      <span class="comment">/* Delete all addons for this device */</span></div><div class="line"><a name="l08643"></a><span class="lineno"> 8643</span>&#160;      <span class="keywordflow">while</span> ((a = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6aa3a053fbe7a339fa9f7d2d4ecd44e9">addons</a>, <a class="code" href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">list</a>))) {</div><div class="line"><a name="l08644"></a><span class="lineno"> 8644</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(a);</div><div class="line"><a name="l08645"></a><span class="lineno"> 8645</span>&#160;      }</div><div class="line"><a name="l08646"></a><span class="lineno"> 8646</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">list</a>);</div><div class="line"><a name="l08647"></a><span class="lineno"> 8647</span>&#160;      d = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a69f7813c801cadcd6a54ba113dc0a1b4">skinny_device_destroy</a>(d);</div><div class="line"><a name="l08648"></a><span class="lineno"> 8648</span>&#160;   }</div><div class="line"><a name="l08649"></a><span class="lineno"> 8649</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l08650"></a><span class="lineno"> 8650</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>);</div><div class="line"><a name="l08651"></a><span class="lineno"> 8651</span>&#160;</div><div class="line"><a name="l08652"></a><span class="lineno"> 8652</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08653"></a><span class="lineno"> 8653</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>, l, all) {</div><div class="line"><a name="l08654"></a><span class="lineno"> 8654</span>&#160;      <span class="keywordflow">if</span> (l-&gt;prune) {</div><div class="line"><a name="l08655"></a><span class="lineno"> 8655</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(all);</div><div class="line"><a name="l08656"></a><span class="lineno"> 8656</span>&#160;         l = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a534c6987ccc3a01cbbdc12543f551a40">skinny_line_destroy</a>(l);</div><div class="line"><a name="l08657"></a><span class="lineno"> 8657</span>&#160;      }</div><div class="line"><a name="l08658"></a><span class="lineno"> 8658</span>&#160;   }</div><div class="line"><a name="l08659"></a><span class="lineno"> 8659</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l08660"></a><span class="lineno"> 8660</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../df/d58/structlines.html">lines</a>);</div><div class="line"><a name="l08661"></a><span class="lineno"> 8661</span>&#160;</div><div class="line"><a name="l08662"></a><span class="lineno"> 8662</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../dd/d5e/structdevices.html">devices</a>, d, <a class="code" href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">list</a>) {</div><div class="line"><a name="l08663"></a><span class="lineno"> 8663</span>&#160;      <span class="comment">/* Do a soft reset to re-register the devices after</span></div><div class="line"><a name="l08664"></a><span class="lineno"> 8664</span>&#160;<span class="comment">         cleaning up the removed devices and lines */</span></div><div class="line"><a name="l08665"></a><span class="lineno"> 8665</span>&#160;      <span class="keywordflow">if</span> (d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">session</a>) {</div><div class="line"><a name="l08666"></a><span class="lineno"> 8666</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Restarting device &#39;%s&#39;\n&quot;</span>, d-&gt;name);</div><div class="line"><a name="l08667"></a><span class="lineno"> 8667</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#a438aa458007ed6ee184241b872aafdb2">transmit_reset</a>(d, 1);</div><div class="line"><a name="l08668"></a><span class="lineno"> 8668</span>&#160;      }</div><div class="line"><a name="l08669"></a><span class="lineno"> 8669</span>&#160;   }</div><div class="line"><a name="l08670"></a><span class="lineno"> 8670</span>&#160;</div><div class="line"><a name="l08671"></a><span class="lineno"> 8671</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3f33857933c786a6cbf62a75e214bcf6">skinnyreload</a> = 0;</div><div class="line"><a name="l08672"></a><span class="lineno"> 8672</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08673"></a><span class="lineno"> 8673</span>&#160;}</div><div class="line"><a name="l08674"></a><span class="lineno"> 8674</span>&#160;<span class="comment"></span></div><div class="line"><a name="l08675"></a><span class="lineno"> 8675</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l08676"></a><span class="lineno"> 8676</span>&#160;<span class="comment"> * \brief Load the module</span></div><div class="line"><a name="l08677"></a><span class="lineno"> 8677</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l08678"></a><span class="lineno"> 8678</span>&#160;<span class="comment"> * Module loading including tests for configuration or dependencies.</span></div><div class="line"><a name="l08679"></a><span class="lineno"> 8679</span>&#160;<span class="comment"> * This function can return AST_MODULE_LOAD_FAILURE, AST_MODULE_LOAD_DECLINE,</span></div><div class="line"><a name="l08680"></a><span class="lineno"> 8680</span>&#160;<span class="comment"> * or AST_MODULE_LOAD_SUCCESS. If a dependency or environment variable fails</span></div><div class="line"><a name="l08681"></a><span class="lineno"> 8681</span>&#160;<span class="comment"> * tests return AST_MODULE_LOAD_FAILURE. If the module can not load the</span></div><div class="line"><a name="l08682"></a><span class="lineno"> 8682</span>&#160;<span class="comment"> * configuration file or other non-critical problem return</span></div><div class="line"><a name="l08683"></a><span class="lineno"> 8683</span>&#160;<span class="comment"> * AST_MODULE_LOAD_DECLINE. On success return AST_MODULE_LOAD_SUCCESS.</span></div><div class="line"><a name="l08684"></a><span class="lineno"> 8684</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l08685"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9"> 8685</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l08686"></a><span class="lineno"> 8686</span>&#160;{</div><div class="line"><a name="l08687"></a><span class="lineno"> 8687</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l08688"></a><span class="lineno"> 8688</span>&#160;</div><div class="line"><a name="l08689"></a><span class="lineno"> 8689</span>&#160;   <span class="keywordflow">if</span> (!(default_cap = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>))) {</div><div class="line"><a name="l08690"></a><span class="lineno"> 8690</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l08691"></a><span class="lineno"> 8691</span>&#160;   }</div><div class="line"><a name="l08692"></a><span class="lineno"> 8692</span>&#160;   <span class="keywordflow">if</span> (!(skinny_tech.<a class="code" href="../../d4/d85/structast__channel__tech.html#a0f943c30fc292bd35c9619493661920f">capabilities</a> = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>))) {</div><div class="line"><a name="l08693"></a><span class="lineno"> 8693</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(default_cap, -1);</div><div class="line"><a name="l08694"></a><span class="lineno"> 8694</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l08695"></a><span class="lineno"> 8695</span>&#160;   }</div><div class="line"><a name="l08696"></a><span class="lineno"> 8696</span>&#160;</div><div class="line"><a name="l08697"></a><span class="lineno"> 8697</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#a0c30a7fc5698f5e075cfe620cddfc7f1">ast_format_cap_append_by_type</a>(skinny_tech.<a class="code" href="../../d4/d85/structast__channel__tech.html#a0f943c30fc292bd35c9619493661920f">capabilities</a>, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a>);</div><div class="line"><a name="l08698"></a><span class="lineno"> 8698</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(default_cap, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>, 0);</div><div class="line"><a name="l08699"></a><span class="lineno"> 8699</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(default_cap, <a class="code" href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a>, 0);</div><div class="line"><a name="l08700"></a><span class="lineno"> 8700</span>&#160;</div><div class="line"><a name="l08701"></a><span class="lineno"> 8701</span>&#160;   <span class="keywordflow">for</span> (; res &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(soft_key_template_default); res++) {</div><div class="line"><a name="l08702"></a><span class="lineno"> 8702</span>&#160;      soft_key_template_default[res].<a class="code" href="../../d9/dc0/structsoft__key__template__definition.html#a4358d46dc0a917c9906274cf85132904">softKeyEvent</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a>(soft_key_template_default[res].softKeyEvent);</div><div class="line"><a name="l08703"></a><span class="lineno"> 8703</span>&#160;   }</div><div class="line"><a name="l08704"></a><span class="lineno"> 8704</span>&#160;   <span class="comment">/* load and parse config */</span></div><div class="line"><a name="l08705"></a><span class="lineno"> 8705</span>&#160;   res = <a class="code" href="../../d0/d80/chan__skinny_8c.html#adcba01fd94435658f19c16a842d33330">config_load</a>();</div><div class="line"><a name="l08706"></a><span class="lineno"> 8706</span>&#160;   <span class="keywordflow">if</span> (res == -1) {</div><div class="line"><a name="l08707"></a><span class="lineno"> 8707</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(skinny_tech.<a class="code" href="../../d4/d85/structast__channel__tech.html#a0f943c30fc292bd35c9619493661920f">capabilities</a>, -1);</div><div class="line"><a name="l08708"></a><span class="lineno"> 8708</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(default_cap, -1);</div><div class="line"><a name="l08709"></a><span class="lineno"> 8709</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l08710"></a><span class="lineno"> 8710</span>&#160;   }</div><div class="line"><a name="l08711"></a><span class="lineno"> 8711</span>&#160;</div><div class="line"><a name="l08712"></a><span class="lineno"> 8712</span>&#160;   sched = <a class="code" href="../../d7/d00/sched_8h.html#a5baecc149aeabdbef9b3ed6780c1c4a6">ast_sched_context_create</a>();</div><div class="line"><a name="l08713"></a><span class="lineno"> 8713</span>&#160;   <span class="keywordflow">if</span> (!sched) {</div><div class="line"><a name="l08714"></a><span class="lineno"> 8714</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(skinny_tech.<a class="code" href="../../d4/d85/structast__channel__tech.html#a0f943c30fc292bd35c9619493661920f">capabilities</a>, -1);</div><div class="line"><a name="l08715"></a><span class="lineno"> 8715</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(default_cap, -1);</div><div class="line"><a name="l08716"></a><span class="lineno"> 8716</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create schedule context\n&quot;</span>);</div><div class="line"><a name="l08717"></a><span class="lineno"> 8717</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l08718"></a><span class="lineno"> 8718</span>&#160;   }</div><div class="line"><a name="l08719"></a><span class="lineno"> 8719</span>&#160;</div><div class="line"><a name="l08720"></a><span class="lineno"> 8720</span>&#160;   <span class="comment">/* Make sure we can register our skinny channel type */</span></div><div class="line"><a name="l08721"></a><span class="lineno"> 8721</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#ab5f3776fda943e52820ceeee5835c1b4">ast_channel_register</a>(&amp;skinny_tech)) {</div><div class="line"><a name="l08722"></a><span class="lineno"> 8722</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(default_cap, -1);</div><div class="line"><a name="l08723"></a><span class="lineno"> 8723</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(skinny_tech.<a class="code" href="../../d4/d85/structast__channel__tech.html#a0f943c30fc292bd35c9619493661920f">capabilities</a>, -1);</div><div class="line"><a name="l08724"></a><span class="lineno"> 8724</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to register channel class &#39;Skinny&#39;\n&quot;</span>);</div><div class="line"><a name="l08725"></a><span class="lineno"> 8725</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l08726"></a><span class="lineno"> 8726</span>&#160;   }</div><div class="line"><a name="l08727"></a><span class="lineno"> 8727</span>&#160;</div><div class="line"><a name="l08728"></a><span class="lineno"> 8728</span>&#160;   <a class="code" href="../../d5/dde/rtp__engine_8h.html#ac2fd3e9ee89436cbf6b2ac374bab711b">ast_rtp_glue_register</a>(&amp;skinny_rtp_glue);</div><div class="line"><a name="l08729"></a><span class="lineno"> 8729</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(cli_skinny, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(cli_skinny));</div><div class="line"><a name="l08730"></a><span class="lineno"> 8730</span>&#160;</div><div class="line"><a name="l08731"></a><span class="lineno"> 8731</span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;SKINNYdevices&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a> | <a class="code" href="../../db/d45/manager_8h.html#a0b1b4140c2836696a6950e92ab48a580">EVENT_FLAG_REPORTING</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a19dd4f20ea170713fc94f3d787e453ec">manager_skinny_show_devices</a>);</div><div class="line"><a name="l08732"></a><span class="lineno"> 8732</span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;SKINNYshowdevice&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a> | <a class="code" href="../../db/d45/manager_8h.html#a0b1b4140c2836696a6950e92ab48a580">EVENT_FLAG_REPORTING</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a603b2c3fc96fb332fef1787046574afd">manager_skinny_show_device</a>);</div><div class="line"><a name="l08733"></a><span class="lineno"> 8733</span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;SKINNYlines&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a> | <a class="code" href="../../db/d45/manager_8h.html#a0b1b4140c2836696a6950e92ab48a580">EVENT_FLAG_REPORTING</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a1ac9ad552f6392f35b494cb0cf075fe6">manager_skinny_show_lines</a>);</div><div class="line"><a name="l08734"></a><span class="lineno"> 8734</span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;SKINNYshowline&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a> | <a class="code" href="../../db/d45/manager_8h.html#a0b1b4140c2836696a6950e92ab48a580">EVENT_FLAG_REPORTING</a>, <a class="code" href="../../d0/d80/chan__skinny_8c.html#a665787ef574f276e9a42fcfc3db4dbb4">manager_skinny_show_line</a>);</div><div class="line"><a name="l08735"></a><span class="lineno"> 8735</span>&#160;</div><div class="line"><a name="l08736"></a><span class="lineno"> 8736</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d00/sched_8h.html#a8ae97d1549b62cfbfc78bd92efe48005">ast_sched_start_thread</a>(sched)) {</div><div class="line"><a name="l08737"></a><span class="lineno"> 8737</span>&#160;      <a class="code" href="../../d7/d00/sched_8h.html#a862f869d056628b38e09042f21b54413">ast_sched_context_destroy</a>(sched);</div><div class="line"><a name="l08738"></a><span class="lineno"> 8738</span>&#160;      sched = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08739"></a><span class="lineno"> 8739</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a53b708b7fc71dcbcd33acae0ad4d7ef8">ast_channel_unregister</a>(&amp;skinny_tech);</div><div class="line"><a name="l08740"></a><span class="lineno"> 8740</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(default_cap, -1);</div><div class="line"><a name="l08741"></a><span class="lineno"> 8741</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(skinny_tech.<a class="code" href="../../d4/d85/structast__channel__tech.html#a0f943c30fc292bd35c9619493661920f">capabilities</a>, -1);</div><div class="line"><a name="l08742"></a><span class="lineno"> 8742</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l08743"></a><span class="lineno"> 8743</span>&#160;   }</div><div class="line"><a name="l08744"></a><span class="lineno"> 8744</span>&#160;</div><div class="line"><a name="l08745"></a><span class="lineno"> 8745</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l08746"></a><span class="lineno"> 8746</span>&#160;}</div><div class="line"><a name="l08747"></a><span class="lineno"> 8747</span>&#160;</div><div class="line"><a name="l08748"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad09fa931f468002152a3cc2d5ce25eae"> 8748</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l08749"></a><span class="lineno"> 8749</span>&#160;{</div><div class="line"><a name="l08750"></a><span class="lineno"> 8750</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d98/structskinnysession.html">skinnysession</a> *s;</div><div class="line"><a name="l08751"></a><span class="lineno"> 8751</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/db3/structskinny__device.html">skinny_device</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l08752"></a><span class="lineno"> 8752</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/db5/structskinny__line.html">skinny_line</a> *l;</div><div class="line"><a name="l08753"></a><span class="lineno"> 8753</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a> *<a class="code" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>;</div><div class="line"><a name="l08754"></a><span class="lineno"> 8754</span>&#160;   pthread_t tempthread;</div><div class="line"><a name="l08755"></a><span class="lineno"> 8755</span>&#160;</div><div class="line"><a name="l08756"></a><span class="lineno"> 8756</span>&#160;   <a class="code" href="../../d5/dde/rtp__engine_8h.html#afe951ef8ac0fe6aae0db42ce12bb3791">ast_rtp_glue_unregister</a>(&amp;skinny_rtp_glue);</div><div class="line"><a name="l08757"></a><span class="lineno"> 8757</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a53b708b7fc71dcbcd33acae0ad4d7ef8">ast_channel_unregister</a>(&amp;skinny_tech);</div><div class="line"><a name="l08758"></a><span class="lineno"> 8758</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(skinny_tech.<a class="code" href="../../d4/d85/structast__channel__tech.html#a0f943c30fc292bd35c9619493661920f">capabilities</a>);</div><div class="line"><a name="l08759"></a><span class="lineno"> 8759</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(cli_skinny, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(cli_skinny));</div><div class="line"><a name="l08760"></a><span class="lineno"> 8760</span>&#160;</div><div class="line"><a name="l08761"></a><span class="lineno"> 8761</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;SKINNYdevices&quot;</span>);</div><div class="line"><a name="l08762"></a><span class="lineno"> 8762</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;SKINNYshowdevice&quot;</span>);</div><div class="line"><a name="l08763"></a><span class="lineno"> 8763</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;SKINNYlines&quot;</span>);</div><div class="line"><a name="l08764"></a><span class="lineno"> 8764</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;SKINNYshowline&quot;</span>);</div><div class="line"><a name="l08765"></a><span class="lineno"> 8765</span>&#160;</div><div class="line"><a name="l08766"></a><span class="lineno"> 8766</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87">netlock</a>);</div><div class="line"><a name="l08767"></a><span class="lineno"> 8767</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6">accept_t</a> &amp;&amp; (<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6">accept_t</a> != <a class="code" href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a>)) {</div><div class="line"><a name="l08768"></a><span class="lineno"> 8768</span>&#160;      pthread_cancel(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6">accept_t</a>);</div><div class="line"><a name="l08769"></a><span class="lineno"> 8769</span>&#160;      pthread_kill(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6">accept_t</a>, SIGURG);</div><div class="line"><a name="l08770"></a><span class="lineno"> 8770</span>&#160;      pthread_join(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6">accept_t</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l08771"></a><span class="lineno"> 8771</span>&#160;   }</div><div class="line"><a name="l08772"></a><span class="lineno"> 8772</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6">accept_t</a> = <a class="code" href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a>;</div><div class="line"><a name="l08773"></a><span class="lineno"> 8773</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87">netlock</a>);</div><div class="line"><a name="l08774"></a><span class="lineno"> 8774</span>&#160;</div><div class="line"><a name="l08775"></a><span class="lineno"> 8775</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>);</div><div class="line"><a name="l08776"></a><span class="lineno"> 8776</span>&#160;   <span class="comment">/* Destroy all the interfaces and free their memory */</span></div><div class="line"><a name="l08777"></a><span class="lineno"> 8777</span>&#160;   <span class="keywordflow">while</span>((s = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>))) {</div><div class="line"><a name="l08778"></a><span class="lineno"> 8778</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, blob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l08779"></a><span class="lineno"> 8779</span>&#160;</div><div class="line"><a name="l08780"></a><span class="lineno"> 8780</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>);</div><div class="line"><a name="l08781"></a><span class="lineno"> 8781</span>&#160;      d = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">device</a>;</div><div class="line"><a name="l08782"></a><span class="lineno"> 8782</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">lines</a>, l, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>){</div><div class="line"><a name="l08783"></a><span class="lineno"> 8783</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l08784"></a><span class="lineno"> 8784</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">sub</a>, sub, <a class="code" href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">list</a>) {</div><div class="line"><a name="l08785"></a><span class="lineno"> 8785</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a>(sub);</div><div class="line"><a name="l08786"></a><span class="lineno"> 8786</span>&#160;            <span class="keywordflow">if</span> (sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l08787"></a><span class="lineno"> 8787</span>&#160;               <a class="code" href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a>(sub-&gt;<a class="code" href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4aeeafae6abd77156800ec76b0ff7d3867">AST_SOFTHANGUP_APPUNLOAD</a>);</div><div class="line"><a name="l08788"></a><span class="lineno"> 8788</span>&#160;            }</div><div class="line"><a name="l08789"></a><span class="lineno"> 8789</span>&#160;            <a class="code" href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a>(sub);</div><div class="line"><a name="l08790"></a><span class="lineno"> 8790</span>&#160;         }</div><div class="line"><a name="l08791"></a><span class="lineno"> 8791</span>&#160;         <span class="keywordflow">if</span> (l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d">mwi_event_sub</a>) {</div><div class="line"><a name="l08792"></a><span class="lineno"> 8792</span>&#160;            l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d">mwi_event_sub</a> = <a class="code" href="../../dc/d33/mwi_8h.html#acf8d474c4029156d9c49a4ddea50d01b">ast_mwi_unsubscribe_and_join</a>(l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d">mwi_event_sub</a>);</div><div class="line"><a name="l08793"></a><span class="lineno"> 8793</span>&#160;         }</div><div class="line"><a name="l08794"></a><span class="lineno"> 8794</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;l-&gt;<a class="code" href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">lock</a>);</div><div class="line"><a name="l08795"></a><span class="lineno"> 8795</span>&#160;         <a class="code" href="../../d0/d80/chan__skinny_8c.html#ae456c964b75f4dff4d73df78f39db454">unregister_exten</a>(l);</div><div class="line"><a name="l08796"></a><span class="lineno"> 8796</span>&#160;      }</div><div class="line"><a name="l08797"></a><span class="lineno"> 8797</span>&#160;      <a class="code" href="../../d4/d61/endpoints_8h.html#a04bfc77dacce061c28fa31e2b86827e8">ast_endpoint_set_state</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea0c201502490a90f732b9946dc7545114">AST_ENDPOINT_OFFLINE</a>);</div><div class="line"><a name="l08798"></a><span class="lineno"> 8798</span>&#160;      blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>, <span class="stringliteral">&quot;peer_status&quot;</span>, <span class="stringliteral">&quot;Unregistered&quot;</span>);</div><div class="line"><a name="l08799"></a><span class="lineno"> 8799</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a>(d-&gt;<a class="code" href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">endpoint</a>, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a>(), blob);</div><div class="line"><a name="l08800"></a><span class="lineno"> 8800</span>&#160;      tempthread = s-&gt;<a class="code" href="../../db/d98/structskinnysession.html#aa49d6a06775253352589280dc7f30018">t</a>;</div><div class="line"><a name="l08801"></a><span class="lineno"> 8801</span>&#160;      pthread_cancel(tempthread);</div><div class="line"><a name="l08802"></a><span class="lineno"> 8802</span>&#160;      pthread_join(tempthread, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l08803"></a><span class="lineno"> 8803</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>);</div><div class="line"><a name="l08804"></a><span class="lineno"> 8804</span>&#160;   }</div><div class="line"><a name="l08805"></a><span class="lineno"> 8805</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d0a/structsessions.html">sessions</a>);</div><div class="line"><a name="l08806"></a><span class="lineno"> 8806</span>&#160;</div><div class="line"><a name="l08807"></a><span class="lineno"> 8807</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa9daeada19a92710d428551482cb20f9">delete_devices</a>();</div><div class="line"><a name="l08808"></a><span class="lineno"> 8808</span>&#160;</div><div class="line"><a name="l08809"></a><span class="lineno"> 8809</span>&#160;   close(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a>);</div><div class="line"><a name="l08810"></a><span class="lineno"> 8810</span>&#160;   <span class="keywordflow">if</span> (sched) {</div><div class="line"><a name="l08811"></a><span class="lineno"> 8811</span>&#160;      <a class="code" href="../../d7/d00/sched_8h.html#a862f869d056628b38e09042f21b54413">ast_sched_context_destroy</a>(sched);</div><div class="line"><a name="l08812"></a><span class="lineno"> 8812</span>&#160;   }</div><div class="line"><a name="l08813"></a><span class="lineno"> 8813</span>&#160;</div><div class="line"><a name="l08814"></a><span class="lineno"> 8814</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a08abc5aa22cce4a793000a796b791076">ast_context_destroy_by_name</a>(<a class="code" href="../../d0/d80/chan__skinny_8c.html#a17ed4e86c02577dfabab4ab53195236d">used_context</a>, <span class="stringliteral">&quot;Skinny&quot;</span>);</div><div class="line"><a name="l08815"></a><span class="lineno"> 8815</span>&#160;</div><div class="line"><a name="l08816"></a><span class="lineno"> 8816</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(default_cap, -1);</div><div class="line"><a name="l08817"></a><span class="lineno"> 8817</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08818"></a><span class="lineno"> 8818</span>&#160;}</div><div class="line"><a name="l08819"></a><span class="lineno"> 8819</span>&#160;</div><div class="line"><a name="l08820"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#ad1982509765f4870f1f63412a53ea668"> 8820</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l08821"></a><span class="lineno"> 8821</span>&#160;{</div><div class="line"><a name="l08822"></a><span class="lineno"> 8822</span>&#160;   <a class="code" href="../../d0/d80/chan__skinny_8c.html#aa53f60b698c21b4f290b5defcf53ef9b">skinny_reload</a>();</div><div class="line"><a name="l08823"></a><span class="lineno"> 8823</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08824"></a><span class="lineno"> 8824</span>&#160;}</div><div class="line"><a name="l08825"></a><span class="lineno"> 8825</span>&#160;</div><div class="line"><a name="l08826"></a><span class="lineno"> 8826</span>&#160;<a class="code" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO</a>(<a class="code" href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a>, <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a>, <span class="stringliteral">&quot;Skinny Client Control Protocol (Skinny)&quot;</span>,</div><div class="line"><a name="l08827"></a><span class="lineno"> 8827</span>&#160;   .support_level = <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800">AST_MODULE_SUPPORT_EXTENDED</a>,</div><div class="line"><a name="l08828"></a><span class="lineno"> 8828</span>&#160;   .load = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>,</div><div class="line"><a name="l08829"></a><span class="lineno"> 8829</span>&#160;   .unload = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>,</div><div class="line"><a name="l08830"></a><span class="lineno"> 8830</span>&#160;   .<a class="code" href="../../d0/d80/chan__skinny_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> = <a class="code" href="../../d0/d80/chan__skinny_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>,</div><div class="line"><a name="l08831"></a><span class="lineno"> 8831</span>&#160;   .load_pri = <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a34af570c4f482ece06a6b20720d56650">AST_MODPRI_CHANNEL_DRIVER</a>,</div><div class="line"><a name="l08832"></a><span class="lineno"><a class="line" href="../../d0/d80/chan__skinny_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae"> 8832</a></span>&#160;);</div><div class="ttc" id="chan__skinny_8c_html_a8dd826d1782563f838ed10bfcabe2e05"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8dd826d1782563f838ed10bfcabe2e05">SKINNY_DEVICE_7931</a></div><div class="ttdeci">#define SKINNY_DEVICE_7931</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01260">chan_skinny.c:1260</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab6da3e1e98802660151ac05e707473ca"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab6da3e1e98802660151ac05e707473ca">soft_key_default_connwithconf</a></div><div class="ttdeci">static const uint8_t soft_key_default_connwithconf[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00979">chan_skinny.c:979</a></div></div>
<div class="ttc" id="structserviceurl__stat__message_html_a055fded1ef981ae1960598ea019e0476"><div class="ttname"><a href="../../d2/d6d/structserviceurl__stat__message.html#a055fded1ef981ae1960598ea019e0476">serviceurl_stat_message::displayName</a></div><div class="ttdeci">char displayName[40]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01109">chan_skinny.c:1109</a></div></div>
<div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="structskinny__req_html_a87a58180d0bd467e0e1ca4c0cc824a69"><div class="ttname"><a href="../../dc/da2/structskinny__req.html#a87a58180d0bd467e0e1ca4c0cc824a69">skinny_req::data</a></div><div class="ttdeci">union skinny_data data</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01216">chan_skinny.c:1216</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a51fc472c725e95f474519f1aa7f4bb90"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a51fc472c725e95f474519f1aa7f4bb90">skinny_subchannel::substate</a></div><div class="ttdeci">int substate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01403">chan_skinny.c:1403</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad2488ba493987c5230f95cb86958dc76"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad2488ba493987c5230f95cb86958dc76">START_TONE_MESSAGE</a></div><div class="ttdeci">#define START_TONE_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00419">chan_skinny.c:419</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">include/asterisk/frame.h:293</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a122fa20b73095a6195119dd979dfb6c1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a122fa20b73095a6195119dd979dfb6c1">transmit_dialednumber</a></div><div class="ttdeci">static void transmit_dialednumber(struct skinny_device *d, const char *text, int instance, int callid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02989">chan_skinny.c:2989</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3fbdb1592046e116139e880514947a37"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3fbdb1592046e116139e880514947a37">OCTAL_TRANSFER</a></div><div class="ttdeci">#define OCTAL_TRANSFER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00763">chan_skinny.c:763</a></div></div>
<div class="ttc" id="sched_8h_html_a8ae97d1549b62cfbfc78bd92efe48005"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a8ae97d1549b62cfbfc78bd92efe48005">ast_sched_start_thread</a></div><div class="ttdeci">int ast_sched_start_thread(struct ast_sched_context *con)</div><div class="ttdoc">Start a thread for processing scheduler entries. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00195">sched.c:195</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af19bea0fea4bb4d017667827fe7b4970"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af19bea0fea4bb4d017667827fe7b4970">lines</a></div><div class="ttdeci">static struct lines lines</div></div>
<div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="structskinny__subline_html_a2f1ff9993605e9134bc66eb29b479838"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#a2f1ff9993605e9134bc66eb29b479838">skinny_subline::extenstate</a></div><div class="ttdeci">int extenstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01517">chan_skinny.c:1517</a></div></div>
<div class="ttc" id="threadstorage_8h_html_ac268c0a8272ec11e73269392507fb1a6"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ac268c0a8272ec11e73269392507fb1a6">AST_THREADSTORAGE</a></div><div class="ttdeci">#define AST_THREADSTORAGE(name)</div><div class="ttdoc">Define a thread storage variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00084">threadstorage.h:84</a></div></div>
<div class="ttc" id="channel_8h_html_a30bcf0418189567bc84ff32034f79f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a30bcf0418189567bc84ff32034f79f28">ast_queue_hangup</a></div><div class="ttdeci">int ast_queue_hangup(struct ast_channel *chan)</div><div class="ttdoc">Queue a hangup frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01150">channel.c:1150</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="format__cache_8h_html_a563a4f351a86128f8a40757c9456ec4e"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a563a4f351a86128f8a40757c9456ec4e">ast_format_g726</a></div><div class="ttdeci">struct ast_format * ast_format_g726</div><div class="ttdoc">Built-in cached g726 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00116">format_cache.c:116</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a777f6b11a8e0eb771de41dfe998bb570"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a777f6b11a8e0eb771de41dfe998bb570">get_button_template</a></div><div class="ttdeci">static void * get_button_template(struct skinnysession *s, struct button_definition_template *btn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01731">chan_skinny.c:1731</a></div></div>
<div class="ttc" id="unionskinny__data_html_a72600783648a844a5e45e185f42e00c4"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a72600783648a844a5e45e185f42e00c4">skinny_data::softkeytemplate</a></div><div class="ttdeci">struct soft_key_template_res_message softkeytemplate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01175">chan_skinny.c:1175</a></div></div>
<div class="ttc" id="structast__sockaddr_html_aceb44bfc6a3800d7f419367afb25fe79"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html#aceb44bfc6a3800d7f419367afb25fe79">ast_sockaddr::ss</a></div><div class="ttdeci">struct sockaddr_storage ss</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00098">netsock2.h:98</a></div></div>
<div class="ttc" id="structalarm__message_html_a6e7842182520ec6229e0903bf023290c"><div class="ttname"><a href="../../d7/d39/structalarm__message.html#a6e7842182520ec6229e0903bf023290c">alarm_message::displayMessage</a></div><div class="ttdeci">char displayMessage[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00371">chan_skinny.c:371</a></div></div>
<div class="ttc" id="structast__party__id_html"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html">ast_party_id</a></div><div class="ttdoc">Information needed to identify an endpoint in a call. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00339">channel.h:339</a></div></div>
<div class="ttc" id="chan__sip_8c_html_a14a9662e09deed264497073732fb014a"><div class="ttname"><a href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a></div><div class="ttdeci">enum sip_cc_notify_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfe/chan__sip_8c_source.html#l00959">chan_sip.c:959</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a34af570c4f482ece06a6b20720d56650"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a34af570c4f482ece06a6b20720d56650">AST_MODPRI_CHANNEL_DRIVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00327">module.h:327</a></div></div>
<div class="ttc" id="indications_8h_html"><div class="ttname"><a href="../../d2/d0f/indications_8h.html">indications.h</a></div><div class="ttdoc">Tone Indication Support. </div></div>
<div class="ttc" id="structkeypad__button__message_html_a9ee7e63d91ac13e63dbad259aa1b52a6"><div class="ttname"><a href="../../de/d0c/structkeypad__button__message.html#a9ee7e63d91ac13e63dbad259aa1b52a6">keypad_button_message::button</a></div><div class="ttdeci">uint32_t button</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00306">chan_skinny.c:306</a></div></div>
<div class="ttc" id="channel_8h_html_ae9542942f37422e284dd5c8a3fa7c7b6"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae9542942f37422e284dd5c8a3fa7c7b6">ast_channel_pickupgroup_set</a></div><div class="ttdeci">void ast_channel_pickupgroup_set(struct ast_channel *chan, ast_group_t value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01086">channel_internal_api.c:1086</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a666157a09f886de9effc7d648ad7dde8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a666157a09f886de9effc7d648ad7dde8">SOFTKEY_TRNSFER</a></div><div class="ttdeci">#define SOFTKEY_TRNSFER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00713">chan_skinny.c:713</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192">AST_EXTENSION_DEACTIVATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00063">pbx.h:63</a></div></div>
<div class="ttc" id="pbx_8h_html_ac778ac642def88a06e5d59e11a964c43"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ac778ac642def88a06e5d59e11a964c43">ast_get_hint</a></div><div class="ttdeci">int ast_get_hint(char *hint, int hintsize, char *name, int namesize, struct ast_channel *c, const char *context, const char *exten)</div><div class="ttdoc">If an extension hint exists, return non-zero. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04141">pbx.c:4141</a></div></div>
<div class="ttc" id="structopen__receive__channel__message_html"><div class="ttname"><a href="../../d1/df8/structopen__receive__channel__message.html">open_receive_channel_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00665">chan_skinny.c:665</a></div></div>
<div class="ttc" id="app__alarmreceiver_8c_html_ac2c887b7f7b359bfdda8a128980f5081"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a></div><div class="ttdeci">char digit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00131">app_alarmreceiver.c:131</a></div></div>
<div class="ttc" id="channel_8h_html_a88d833a56ea7de33e230281c5c12b75d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a88d833a56ea7de33e230281c5c12b75d">ast_set_callerid</a></div><div class="ttdeci">void ast_set_callerid(struct ast_channel *chan, const char *cid_num, const char *cid_name, const char *cid_ani)</div><div class="ttdoc">Set caller ID number, name and ANI and generate AMI event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07434">channel.c:7434</a></div></div>
<div class="ttc" id="pbx_8h_html_ac359af75b9494f50904583d2168a7577"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ac359af75b9494f50904583d2168a7577">ast_matchmore_extension</a></div><div class="ttdeci">int ast_matchmore_extension(struct ast_channel *c, const char *context, const char *exten, int priority, const char *callerid)</div><div class="ttdoc">Looks to see if adding anything to this extension might match something. (exists ^ canmatch) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04199">pbx.c:4199</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4a2a093850ad1fe42d691104a8efcb5a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4a2a093850ad1fe42d691104a8efcb5a">SKINNY_HOLD</a></div><div class="ttdeci">#define SKINNY_HOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01293">chan_skinny.c:1293</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea6b7416bea92d3bc5ee8e36f0a484cdc1"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea6b7416bea92d3bc5ee8e36f0a484cdc1">AST_DEVICE_ONHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00061">devicestate.h:61</a></div></div>
<div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00036">format.h:36</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9d8917de8bd8db34d01551b0cca0b9ee"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9d8917de8bd8db34d01551b0cca0b9ee">OCTAL_DND</a></div><div class="ttdeci">#define OCTAL_DND</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00822">chan_skinny.c:822</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a21bbc062b4e4c70b3789ef050b73174f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a21bbc062b4e4c70b3789ef050b73174f">SKINNY_DEVICE_7960</a></div><div class="ttdeci">#define SKINNY_DEVICE_7960</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01249">chan_skinny.c:1249</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a69fd1eb9d7eaa8b1497da3a1923a0fa6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a69fd1eb9d7eaa8b1497da3a1923a0fa6">soft_key_default_SLAhold</a></div><div class="ttdeci">static const uint8_t soft_key_default_SLAhold[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01004">chan_skinny.c:1004</a></div></div>
<div class="ttc" id="unionskinny__data_html_adae35bf10c81ee2c9a08a0edff0f669a"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#adae35bf10c81ee2c9a08a0edff0f669a">skinny_data::displaypromptstatusvar</a></div><div class="ttdeci">struct display_prompt_status_message_variable displaypromptstatusvar</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01204">chan_skinny.c:1204</a></div></div>
<div class="ttc" id="structskinny__subline_html_af3f800a0a8df8a1cd55b45ab566cbbd7"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#af3f800a0a8df8a1cd55b45ab566cbbd7">skinny_subline::container</a></div><div class="ttdeci">struct skinny_container * container</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01502">chan_skinny.c:1502</a></div></div>
<div class="ttc" id="musiconhold_8h_html"><div class="ttname"><a href="../../dc/d07/musiconhold_8h.html">musiconhold.h</a></div><div class="ttdoc">Music on hold handling. </div></div>
<div class="ttc" id="chan__skinny_8c_html_a46d7abedaf706e8b5e7da97d9e97344b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a46d7abedaf706e8b5e7da97d9e97344b">skinny_call</a></div><div class="ttdeci">static int skinny_call(struct ast_channel *ast, const char *dest, int timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04918">chan_skinny.c:4918</a></div></div>
<div class="ttc" id="cli_8h_html_a5c4130cf8f1e93acfdd84416cebf1aef"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a5c4130cf8f1e93acfdd84416cebf1aef">AST_CLI_DEFINE</a></div><div class="ttdeci">#define AST_CLI_DEFINE(fn, txt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00197">cli.h:197</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a21b1a714ce28f8040c3cbbd56e4da876"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a21b1a714ce28f8040c3cbbd56e4da876">skinny_get_rtp_peer</a></div><div class="ttdeci">static enum ast_rtp_glue_result skinny_get_rtp_peer(struct ast_channel *c, struct ast_rtp_instance **instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03607">chan_skinny.c:3607</a></div></div>
<div class="ttc" id="structstop__media__transmission__message_html_ae7a8ce78da6117ddd5e98de15f85af23"><div class="ttname"><a href="../../d6/de5/structstop__media__transmission__message.html#ae7a8ce78da6117ddd5e98de15f85af23">stop_media_transmission_message::passThruPartyId</a></div><div class="ttdeci">uint32_t passThruPartyId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00495">chan_skinny.c:495</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a223061feae4223b5e04874e2c5bc6c98"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a223061feae4223b5e04874e2c5bc6c98">DEFAULT_AUTH_LIMIT</a></div><div class="ttdeci">#define DEFAULT_AUTH_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00190">chan_skinny.c:190</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3e242bbd1d0380d88fbde9b937e336ee"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3e242bbd1d0380d88fbde9b937e336ee">DEBUG_PACKET</a></div><div class="ttdeci">#define DEBUG_PACKET</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00150">chan_skinny.c:150</a></div></div>
<div class="ttc" id="format__cache_8h_html_a771306b3301213eb2f0a409d3d0f42df"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771306b3301213eb2f0a409d3d0f42df">ast_format_g723</a></div><div class="ttdeci">struct ast_format * ast_format_g723</div><div class="ttdoc">Built-in cached g723.1 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00151">format_cache.c:151</a></div></div>
<div class="ttc" id="structserviceurl__statreq__message_html"><div class="ttname"><a href="../../d0/dde/structserviceurl__statreq__message.html">serviceurl_statreq_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00406">chan_skinny.c:406</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8921df965ea3d7dec54ab143ea1463bc"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8921df965ea3d7dec54ab143ea1463bc">mwi_event_cb</a></div><div class="ttdeci">static void mwi_event_cb(void *userdata, struct stasis_subscription *sub, struct stasis_message *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03554">chan_skinny.c:3554</a></div></div>
<div class="ttc" id="structast__party__number_html_ab50d783982593ef993ea0b68f7ad8b80"><div class="ttname"><a href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">ast_party_number::str</a></div><div class="ttdeci">char * str</div><div class="ttdoc">Subscriber phone number (Malloced) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00292">channel.h:292</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1953a4a0312393adccbe15719eb22065"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1953a4a0312393adccbe15719eb22065">DIALTYPE_XFER</a></div><div class="ttdeci">#define DIALTYPE_XFER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01386">chan_skinny.c:1386</a></div></div>
<div class="ttc" id="structset__microphone__message_html_a6b29e4f37f4482274af785ad5ffe96a7"><div class="ttname"><a href="../../db/df8/structset__microphone__message.html#a6b29e4f37f4482274af785ad5ffe96a7">set_microphone_message::mode</a></div><div class="ttdeci">uint32_t mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00457">chan_skinny.c:457</a></div></div>
<div class="ttc" id="structserviceurl__stat__message_html"><div class="ttname"><a href="../../d2/d6d/structserviceurl__stat__message.html">serviceurl_stat_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01106">chan_skinny.c:1106</a></div></div>
<div class="ttc" id="structline__stat__res__message_html_a987293a1c8fcaf937487ecbe613f0c52"><div class="ttname"><a href="../../d6/d52/structline__stat__res__message.html#a987293a1c8fcaf937487ecbe613f0c52">line_stat_res_message::lineNumber</a></div><div class="ttdeci">uint32_t lineNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00542">chan_skinny.c:542</a></div></div>
<div class="ttc" id="structskinny__device_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#adf04f66344e3fb0a6f6a69bf39d19902">skinny_device::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01582">chan_skinny.c:1582</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l08820">chan_skinny.c:8820</a></div></div>
<div class="ttc" id="structset__lamp__message_html_afecdde89163215e9c3f609f583ca43a7"><div class="ttname"><a href="../../d5/d21/structset__lamp__message.html#afecdde89163215e9c3f609f583ca43a7">set_lamp_message::deviceStimulus</a></div><div class="ttdeci">uint32_t deviceStimulus</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00446">chan_skinny.c:446</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a78885055feba24b7284f303aca8b950d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a78885055feba24b7284f303aca8b950d">transmit_capabilitiesreq</a></div><div class="ttdeci">static void transmit_capabilitiesreq(struct skinny_device *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03363">chan_skinny.c:3363</a></div></div>
<div class="ttc" id="structskinny__container_html"><div class="ttname"><a href="../../d6/dbc/structskinny__container.html">skinny_container</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01549">chan_skinny.c:1549</a></div></div>
<div class="ttc" id="structclear__prompt__message_html_a8c5b70179481930bfaef1fa8f6aaba74"><div class="ttname"><a href="../../d4/d25/structclear__prompt__message.html#a8c5b70179481930bfaef1fa8f6aaba74">clear_prompt_message::callReference</a></div><div class="ttdeci">uint32_t callReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01083">chan_skinny.c:1083</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1330941685fd5dc9308d2f91dd7b70d1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1330941685fd5dc9308d2f91dd7b70d1">complete_skinny_show_device</a></div><div class="ttdeci">static char * complete_skinny_show_device(const char *line, const char *word, int pos, int state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03918">chan_skinny.c:3918</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7300c46280f93b446c8e13b404f55e36"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7300c46280f93b446c8e13b404f55e36">SKINNY_CX_RECVONLY</a></div><div class="ttdeci">#define SKINNY_CX_RECVONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01333">chan_skinny.c:1333</a></div></div>
<div class="ttc" id="structast__channel__tech_html_a8ff938fb2f815be425fd2859a21e6d61"><div class="ttname"><a href="../../d4/d85/structast__channel__tech.html#a8ff938fb2f815be425fd2859a21e6d61">ast_channel_tech::type</a></div><div class="ttdeci">const char *const type</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00630">channel.h:630</a></div></div>
<div class="ttc" id="structopen__receive__channel__message_html_a1f7eaad8cc185c3307255e95e7eb238e"><div class="ttname"><a href="../../d1/df8/structopen__receive__channel__message.html#a1f7eaad8cc185c3307255e95e7eb238e">open_receive_channel_message::echo</a></div><div class="ttdeci">uint32_t echo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00670">chan_skinny.c:670</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae505ae7afb3f0534273e5b55988926bf"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae505ae7afb3f0534273e5b55988926bf">_skinny_show_device</a></div><div class="ttdeci">static char * _skinny_show_device(int type, int fd, struct mansession *s, const struct message *m, int argc, const char *const *argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04192">chan_skinny.c:4192</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa51e51361738b28e24f83d7ec6b4c0f3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa51e51361738b28e24f83d7ec6b4c0f3">transmit_cfwdstate</a></div><div class="ttdeci">static void transmit_cfwdstate(struct skinny_device *d, struct skinny_line *l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03103">chan_skinny.c:3103</a></div></div>
<div class="ttc" id="lock_8h_html"><div class="ttname"><a href="../../dd/d42/lock_8h.html">lock.h</a></div><div class="ttdoc">Asterisk locking-related definitions: </div></div>
<div class="ttc" id="structselect__soft__keys__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../d8/d2e/structselect__soft__keys__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">select_soft_keys_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01057">chan_skinny.c:1057</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac2d42f7be13c532b6a70d50f1b8983d2"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a></div><div class="ttdeci">void astman_append(struct mansession *s, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03080">manager.c:3080</a></div></div>
<div class="ttc" id="stasis__channels_8h_html"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html">stasis_channels.h</a></div></div>
<div class="ttc" id="asterisk_8h_html"><div class="ttname"><a href="../../db/db2/asterisk_8h.html">asterisk.h</a></div><div class="ttdoc">Asterisk main include file. File version handling, generic pbx functions. </div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a12616ab9d64a36f7c2f372084a3663c8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a12616ab9d64a36f7c2f372084a3663c8">SKINNY_DIALTONE</a></div><div class="ttdeci">#define SKINNY_DIALTONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01305">chan_skinny.c:1305</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2eafa2761d0f30c216c041a97cad9c30"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2eafa2761d0f30c216c041a97cad9c30">BUTTON_TEMPLATE_REQ_MESSAGE</a></div><div class="ttdeci">#define BUTTON_TEMPLATE_REQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00364">chan_skinny.c:364</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip4_html_ae7a8ce78da6117ddd5e98de15f85af23"><div class="ttname"><a href="../../d2/d39/structstart__media__transmission__message__ip4.html#ae7a8ce78da6117ddd5e98de15f85af23">start_media_transmission_message_ip4::passThruPartyId</a></div><div class="ttdeci">uint32_t passThruPartyId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00470">chan_skinny.c:470</a></div></div>
<div class="ttc" id="mwi_8h_html_a82c6cbb5215eec5348715e4824f5f575"><div class="ttname"><a href="../../dc/d33/mwi_8h.html#a82c6cbb5215eec5348715e4824f5f575">ast_mwi_unsubscribe</a></div><div class="ttdeci">void * ast_mwi_unsubscribe(struct ast_mwi_subscriber *sub)</div><div class="ttdoc">Unsubscribe from the stasis topic and MWI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00249">mwi.c:249</a></div></div>
<div class="ttc" id="format__cap_8h_html_a3aaa13500c7e4dd3dad8e4c6afccbed3"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a3aaa13500c7e4dd3dad8e4c6afccbed3">ast_format_cap_get_framing</a></div><div class="ttdeci">unsigned int ast_format_cap_get_framing(const struct ast_format_cap *cap)</div><div class="ttdoc">Get the global framing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00438">format_cap.c:438</a></div></div>
<div class="ttc" id="structskinny__device_html_a6c6c2b6adbe74acc944bc0c55b16c8f4"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#a6c6c2b6adbe74acc944bc0c55b16c8f4">skinny_device::ha</a></div><div class="ttdeci">struct ast_ha * ha</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01585">chan_skinny.c:1585</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acf20ac274bd69aa9979a390eafa9eaae"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acf20ac274bd69aa9979a390eafa9eaae">OCTAL_GPICKUP</a></div><div class="ttdeci">#define OCTAL_GPICKUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00777">chan_skinny.c:777</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad78ece34f886398c83a2ccf05d31499b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad78ece34f886398c83a2ccf05d31499b">TYPE_DEF_DEVICE</a></div><div class="ttdeci">#define TYPE_DEF_DEVICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07760">chan_skinny.c:7760</a></div></div>
<div class="ttc" id="bridge_8h_html_aec45146e91e4d8bc2a7d2cf083c4dac0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aec45146e91e4d8bc2a7d2cf083c4dac0">ast_bridge_transfer_attended</a></div><div class="ttdeci">enum ast_transfer_result ast_bridge_transfer_attended(struct ast_channel *to_transferee, struct ast_channel *to_transfer_target)</div><div class="ttdoc">Attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04729">bridge.c:4729</a></div></div>
<div class="ttc" id="unionskinny__data_html_aeccc27699eb18669c1753cc2fd3ba382"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#aeccc27699eb18669c1753cc2fd3ba382">skinny_data::buttontemplate</a></div><div class="ttdeci">struct button_template_res_message buttontemplate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01163">chan_skinny.c:1163</a></div></div>
<div class="ttc" id="linkedlists_8h_html_acdb4f56da6b3071d02dcce20072852b0"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#acdb4f56da6b3071d02dcce20072852b0">AST_LIST_HEAD</a></div><div class="ttdeci">#define AST_LIST_HEAD(name, type)</div><div class="ttdoc">Defines a structure to be used to hold a list of specified type. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00172">linkedlists.h:172</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="structregister__message_html_a69ddb9c845da426f636d9dd0dbed4e7e"><div class="ttname"><a href="../../db/dc9/structregister__message.html#a69ddb9c845da426f636d9dd0dbed4e7e">register_message::ip</a></div><div class="ttdeci">uint32_t ip</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00293">chan_skinny.c:293</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6bed741ef5e86581671d6c63ae9267c8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6bed741ef5e86581671d6c63ae9267c8">SKINNY_RINGIN</a></div><div class="ttdeci">#define SKINNY_RINGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01289">chan_skinny.c:1289</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6054476b05c0d6694c867269e4a0b429"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6054476b05c0d6694c867269e4a0b429">config_device</a></div><div class="ttdeci">static struct skinny_device * config_device(const char *dname, struct ast_variable *v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l08350">chan_skinny.c:8350</a></div></div>
<div class="ttc" id="channel_8h_html_a60f9d2b0ab8b7a839902313321163b28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a60f9d2b0ab8b7a839902313321163b28">ast_queue_control</a></div><div class="ttdeci">int ast_queue_control(struct ast_channel *chan, enum ast_control_frame_type control)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01231">channel.c:1231</a></div></div>
<div class="ttc" id="structast__rtp__glue_html"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html">ast_rtp_glue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00720">rtp_engine.h:720</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af510539c1c905045fd1145c0e631c123"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af510539c1c905045fd1145c0e631c123">PACKET_TIMEOUT</a></div><div class="ttdeci">#define PACKET_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07518">chan_skinny.c:7518</a></div></div>
<div class="ttc" id="unionskinny__data_html_aab36685c6e9d5c3e2c01d568f2304663"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#aab36685c6e9d5c3e2c01d568f2304663">skinny_data::regack</a></div><div class="ttdeci">struct register_ack_message regack</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01159">chan_skinny.c:1159</a></div></div>
<div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="unionskinny__data_html_a439767f912c8dce1e74fb1c3c45ee17b"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a439767f912c8dce1e74fb1c3c45ee17b">skinny_data::regrej</a></div><div class="ttdeci">struct register_rej_message regrej</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01160">chan_skinny.c:1160</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6c341d198f3726cac8d9e26d4fdb8c58"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6c341d198f3726cac8d9e26d4fdb8c58">STOP_TONE_MESSAGE</a></div><div class="ttdeci">#define STOP_TONE_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00427">chan_skinny.c:427</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ae8f2cd460fdc81e0a774434fa002e4bf"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ae8f2cd460fdc81e0a774434fa002e4bf">AST_CONTROL_FLASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00286">include/asterisk/frame.h:286</a></div></div>
<div class="ttc" id="structdisplay__prompt__status__message_html_abdf697e332017cc49abf0735c2eae589"><div class="ttname"><a href="../../da/d1e/structdisplay__prompt__status__message.html#abdf697e332017cc49abf0735c2eae589">display_prompt_status_message::messageTimeout</a></div><div class="ttdeci">uint32_t messageTimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01073">chan_skinny.c:1073</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa8c4fd39788d87301b7b97543537a12c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa8c4fd39788d87301b7b97543537a12c">START_MEDIA_TRANSMISSION_MESSAGE</a></div><div class="ttdeci">#define START_MEDIA_TRANSMISSION_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00460">chan_skinny.c:460</a></div></div>
<div class="ttc" id="structast__tm_html_aefbab7d1223d156a8cfaaf3ff170540b"><div class="ttname"><a href="../../d5/d84/structast__tm.html#aefbab7d1223d156a8cfaaf3ff170540b">ast_tm::tm_usec</a></div><div class="ttdeci">int tm_usec</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00048">localtime.h:48</a></div></div>
<div class="ttc" id="structalarm__message_html_a828489cf2ab29edf8bf8cc9cbd2ecff4"><div class="ttname"><a href="../../d7/d39/structalarm__message.html#a828489cf2ab29edf8bf8cc9cbd2ecff4">alarm_message::alarmSeverity</a></div><div class="ttdeci">uint32_t alarmSeverity</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00370">chan_skinny.c:370</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_ab88c871dd5c164b7a0a6af5e7e12d16f"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#ab88c871dd5c164b7a0a6af5e7e12d16f">ast_rtp_instance_set_channel_id</a></div><div class="ttdeci">void ast_rtp_instance_set_channel_id(struct ast_rtp_instance *instance, const char *uniqueid)</div><div class="ttdoc">Set the channel that owns this RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00553">rtp_engine.c:553</a></div></div>
<div class="ttc" id="callerid_8h_html_af33ee38631fe79ab21d91bcd0634903a"><div class="ttname"><a href="../../de/d47/callerid_8h.html#af33ee38631fe79ab21d91bcd0634903a">ast_callerid_split</a></div><div class="ttdeci">int ast_callerid_split(const char *src, char *name, int namelen, char *num, int numlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd5/callerid_8c_source.html#l01092">callerid.c:1092</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a379fd834cea6549831c799ed002b52f7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a379fd834cea6549831c799ed002b52f7">SKINNY_SPEAKERON</a></div><div class="ttdeci">#define SKINNY_SPEAKERON</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01280">chan_skinny.c:1280</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afb67d0042be5e8bd0d96b62379856fe2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afb67d0042be5e8bd0d96b62379856fe2">accept_thread</a></div><div class="ttdeci">static void * accept_thread(void *ignore)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07657">chan_skinny.c:7657</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aee3cbe69978806b2ccea81e6931e5f06"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aee3cbe69978806b2ccea81e6931e5f06">SOFT_KEY_SET_RES_MESSAGE</a></div><div class="ttdeci">#define SOFT_KEY_SET_RES_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01040">chan_skinny.c:1040</a></div></div>
<div class="ttc" id="structforward__stat__message_html_aeea300cffcc2fdbb4fbd2130b23f127c"><div class="ttname"><a href="../../d9/d05/structforward__stat__message.html#aeea300cffcc2fdbb4fbd2130b23f127c">forward_stat_message::fwdall</a></div><div class="ttdeci">uint32_t fwdall</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00525">chan_skinny.c:525</a></div></div>
<div class="ttc" id="structversion__res__message_html_a2eaaed79d5d4970bf38f17ccbfdbb035"><div class="ttname"><a href="../../d0/d43/structversion__res__message.html#a2eaaed79d5d4970bf38f17ccbfdbb035">version_res_message::version</a></div><div class="ttdeci">char version[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00625">chan_skinny.c:625</a></div></div>
<div class="ttc" id="structsoft__key__event__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../dd/d3e/structsoft__key__event__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">soft_key_event_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00396">chan_skinny.c:396</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a058736ac02815389a1545c2d5d0a9451"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a058736ac02815389a1545c2d5d0a9451">OCTAL_CONNECTED</a></div><div class="ttdeci">#define OCTAL_CONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00783">chan_skinny.c:783</a></div></div>
<div class="ttc" id="structcall__info__message_html_a8f62c05987b8a452f1208a72a43e643e"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#a8f62c05987b8a452f1208a72a43e643e">call_info_message::callingParty</a></div><div class="ttdeci">char callingParty[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00502">chan_skinny.c:502</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a952cb4671cb09f19e6279fa610af3074"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a952cb4671cb09f19e6279fa610af3074">SUBSTATE_RINGIN</a></div><div class="ttdeci">#define SUBSTATE_RINGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01375">chan_skinny.c:1375</a></div></div>
<div class="ttc" id="structserviceurl__stat__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../d2/d6d/structserviceurl__stat__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">serviceurl_stat_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01107">chan_skinny.c:1107</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2cf2ea66eb12030fe401f0f68fa2623d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2cf2ea66eb12030fe401f0f68fa2623d">SKINNY_DEVICE_7921</a></div><div class="ttdeci">#define SKINNY_DEVICE_7921</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01261">chan_skinny.c:1261</a></div></div>
<div class="ttc" id="structskinny__addon_html_a797daf7f1011de17c1991c0c9da75fd2"><div class="ttname"><a href="../../dc/d11/structskinny__addon.html#a797daf7f1011de17c1991c0c9da75fd2">skinny_addon::list</a></div><div class="ttdeci">struct skinny_addon::@142 list</div></div>
<div class="ttc" id="structskinny__subchannel_html_a6bd0cf0fd16363c2d4ca320a4847471e"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a6bd0cf0fd16363c2d4ca320a4847471e">skinny_subchannel::origtonum</a></div><div class="ttdeci">char * origtonum</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01411">chan_skinny.c:1411</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa319ef1606201db158ce7195fb8eed45"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa319ef1606201db158ce7195fb8eed45">gendigittimeout</a></div><div class="ttdeci">static int gendigittimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01360">chan_skinny.c:1360</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad1230e2a8f68b65b1767bc34e407c88b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad1230e2a8f68b65b1767bc34e407c88b">skinny_nokeepalive_cb</a></div><div class="ttdeci">static int skinny_nokeepalive_cb(const void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07457">chan_skinny.c:7457</a></div></div>
<div class="ttc" id="unionskinny__data_html_a845fba63a352afd2df7846879b11b35a"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a845fba63a352afd2df7846879b11b35a">skinny_data::openreceivechannelack_ip4</a></div><div class="ttdeci">struct open_receive_channel_ack_message_ip4 openreceivechannelack_ip4</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01194">chan_skinny.c:1194</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab740e9adfd62344315e02e25c0ff13af"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab740e9adfd62344315e02e25c0ff13af">register_exten</a></div><div class="ttdeci">static void register_exten(struct skinny_line *l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02209">chan_skinny.c:2209</a></div></div>
<div class="ttc" id="channel_8h_html_aa62371d642974c67a0c0efa77d54fcbda54130226ec87f80c48ee98aa5cc9168c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbda54130226ec87f80c48ee98aa5cc9168c">AST_CHAN_TP_WANTSJITTER</a></div><div class="ttdoc">Channels have this property if they can accept input with jitter; i.e. most VoIP channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00961">channel.h:961</a></div></div>
<div class="ttc" id="unionskinny__data_html_a23815068e4a04a658a8bd00aabab71fc"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a23815068e4a04a658a8bd00aabab71fc">skinny_data::keypad</a></div><div class="ttdeci">struct keypad_button_message keypad</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01181">chan_skinny.c:1181</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_adc6b3a48d28840cc2ac77fbf5ce3caba"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#adc6b3a48d28840cc2ac77fbf5ce3caba">skinny_noauth_cb</a></div><div class="ttdeci">static int skinny_noauth_cb(const void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07448">chan_skinny.c:7448</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2181f1d209288ce7edad5fc7bc07a9c1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2181f1d209288ce7edad5fc7bc07a9c1">LINE_STAT_RES_MESSAGE</a></div><div class="ttdeci">#define LINE_STAT_RES_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00540">chan_skinny.c:540</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a18ced9b5b209b2cbca7b9ee5c16ef9e1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a18ced9b5b209b2cbca7b9ee5c16ef9e1">KEYMASK_FORCEDIAL</a></div><div class="ttdeci">#define KEYMASK_FORCEDIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00754">chan_skinny.c:754</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a63a93c5a25ffd9e1bda74ceb9f603c7d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a63a93c5a25ffd9e1bda74ceb9f603c7d">_skinny_show_lines</a></div><div class="ttdeci">static char * _skinny_show_lines(int fd, int *total, struct mansession *s, const struct message *m, int argc, const char *const *argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04324">chan_skinny.c:4324</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a62c9ec7d264add3d067520147bcf73ef"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a62c9ec7d264add3d067520147bcf73ef">SOFTKEY_INFO</a></div><div class="ttdeci">#define SOFTKEY_INFO</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00721">chan_skinny.c:721</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_adcb4a92a7c8fd3bcde19ecc417a3e8a3"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#adcb4a92a7c8fd3bcde19ecc417a3e8a3">ast_rtp_instance_change_source</a></div><div class="ttdeci">void ast_rtp_instance_change_source(struct ast_rtp_instance *instance)</div><div class="ttdoc">Indicate a new source of audio has dropped in and the ssrc should change. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02160">rtp_engine.c:2160</a></div></div>
<div class="ttc" id="callerid_8h_html"><div class="ttname"><a href="../../de/d47/callerid_8h.html">callerid.h</a></div><div class="ttdoc">CallerID (and other GR30) management and generation Includes code and algorithms from the Zapata libr...</div></div>
<div class="ttc" id="channel_8h_html_afac6d7d115c1edfe3ad8a8c7fa5d59d1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afac6d7d115c1edfe3ad8a8c7fa5d59d1">ast_channel_set_writeformat</a></div><div class="ttdeci">void ast_channel_set_writeformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00840">channel_internal_api.c:840</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab264cdcf333d318a73bbb35c734e2acd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab264cdcf333d318a73bbb35c734e2acd">skinny_line_alloc</a></div><div class="ttdeci">static struct skinny_line * skinny_line_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01674">chan_skinny.c:1674</a></div></div>
<div class="ttc" id="unionskinny__data_html_a05958ed22dde8a2cb72dfd8fa965905d"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a05958ed22dde8a2cb72dfd8fa965905d">skinny_data::serviceurlmessage</a></div><div class="ttdeci">struct serviceurl_stat_message serviceurlmessage</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01205">chan_skinny.c:1205</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a34ac3ccebc219c59daa7eb0275fcd54d"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a34ac3ccebc219c59daa7eb0275fcd54d">AST_CONTROL_RADIO_UNKEY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00290">include/asterisk/frame.h:290</a></div></div>
<div class="ttc" id="unionskinny__data_html_a8b760cddc80b9386b1ed58030b170a30"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a8b760cddc80b9386b1ed58030b170a30">skinny_data::enbloccallmessage</a></div><div class="ttdeci">struct enbloc_call_message enbloccallmessage</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01200">chan_skinny.c:1200</a></div></div>
<div class="ttc" id="structskinny__subline_html_ab0c4e877f2cb630c4fba9fe22e498479"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#ab0c4e877f2cb630c4fba9fe22e498479">skinny_subline::stname</a></div><div class="ttdeci">char stname[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01509">chan_skinny.c:1509</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6dda9bfd92b53228536a58dd59a53fe9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6dda9bfd92b53228536a58dd59a53fe9">transmit_displaypromptstatusvar</a></div><div class="ttdeci">static void transmit_displaypromptstatusvar(struct skinny_device *d, const char *text, const char *extratext, int t, int instance, int callid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02936">chan_skinny.c:2936</a></div></div>
<div class="ttc" id="parking_8h_html"><div class="ttname"><a href="../../d2/d33/parking_8h.html">parking.h</a></div><div class="ttdoc">Call Parking API. </div></div>
<div class="ttc" id="chan__skinny_8c_html_afd883a715000d3dd9e65f40e6585f644"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afd883a715000d3dd9e65f40e6585f644">ourhost</a></div><div class="ttdeci">static char ourhost[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01232">chan_skinny.c:1232</a></div></div>
<div class="ttc" id="structskinnysession_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../db/d98/structskinnysession.html#adf04f66344e3fb0a6f6a69bf39d19902">skinnysession::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01615">chan_skinny.c:1615</a></div></div>
<div class="ttc" id="structast__party__connected__line_html_a8791d240f8a9c2dc271a1c8542cfe8cc"><div class="ttname"><a href="../../dc/d9e/structast__party__connected__line.html#a8791d240f8a9c2dc271a1c8542cfe8cc">ast_party_connected_line::id</a></div><div class="ttdeci">struct ast_party_id id</div><div class="ttdoc">Connected party ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00459">channel.h:459</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_abd023ecbb37425538840baebe63365b5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#abd023ecbb37425538840baebe63365b5">CALL_INFO_MESSAGE_VARIABLE</a></div><div class="ttdeci">#define CALL_INFO_MESSAGE_VARIABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01127">chan_skinny.c:1127</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html_a62744aa03cd35aa3b6955f8ff972edb2"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html#a62744aa03cd35aa3b6955f8ff972edb2">definetimedate_message::milliseconds</a></div><div class="ttdeci">uint32_t milliseconds</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00557">chan_skinny.c:557</a></div></div>
<div class="ttc" id="structline__state__req__message_html"><div class="ttname"><a href="../../db/d64/structline__state__req__message.html">line_state_req_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00359">chan_skinny.c:359</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a9d49074e0655a086adb6bcc670b06f23"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a9d49074e0655a086adb6bcc670b06f23">skinny_subchannel::blindxfer</a></div><div class="ttdeci">int blindxfer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01401">chan_skinny.c:1401</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390af699fa9e173afdd4c1fea90ee892330e"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af699fa9e173afdd4c1fea90ee892330e">AST_CONTROL_MASQUERADE_NOTIFY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00311">include/asterisk/frame.h:311</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="structskinny__subline_html_aae236180a9c6c3975e6dc94fa6850f40"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#aae236180a9c6c3975e6dc94fa6850f40">skinny_subline::list</a></div><div class="ttdeci">struct skinny_subline::@139 list</div></div>
<div class="ttc" id="structskinny__device_html_ab149adca8343d19ea6f397a4b6aec804"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#ab149adca8343d19ea6f397a4b6aec804">skinny_device::list</a></div><div class="ttdeci">struct skinny_device::@147 list</div></div>
<div class="ttc" id="module_8h_html_ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800">AST_MODULE_SUPPORT_EXTENDED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00122">module.h:122</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="structset__ringer__message_html_a562d73948591ea69ac50c6db50f3a54e"><div class="ttname"><a href="../../d8/dfe/structset__ringer__message.html#a562d73948591ea69ac50c6db50f3a54e">set_ringer_message::unknown2</a></div><div class="ttdeci">uint32_t unknown2</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00438">chan_skinny.c:438</a></div></div>
<div class="ttc" id="endpoints_8h_html_a6d7a27b4849c075f31991c8ca796ccf2"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a6d7a27b4849c075f31991c8ca796ccf2">ast_endpoint_create</a></div><div class="ttdeci">struct ast_endpoint * ast_endpoint_create(const char *tech, const char *resource)</div><div class="ttdoc">Create an endpoint struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00319">main/endpoints.c:319</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a92de27dd35149317b1c4cf78025b5b23"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a92de27dd35149317b1c4cf78025b5b23">SKINNY_LAMP_BLINK</a></div><div class="ttdeci">#define SKINNY_LAMP_BLINK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01320">chan_skinny.c:1320</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a792f88571e2f71a8bf48b6d5e36c1e7a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a792f88571e2f71a8bf48b6d5e36c1e7a">SOFTKEY_FORCEDIAL</a></div><div class="ttdeci">#define SOFTKEY_FORCEDIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00730">chan_skinny.c:730</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip6_html_a83a04ad582de2b7d36b96f9db429c2c6"><div class="ttname"><a href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a83a04ad582de2b7d36b96f9db429c2c6">open_receive_channel_ack_message_ip6::port</a></div><div class="ttdeci">uint32_t port</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00387">chan_skinny.c:387</a></div></div>
<div class="ttc" id="structdisplay__prinotify__message_html"><div class="ttname"><a href="../../d1/dea/structdisplay__prinotify__message.html">display_prinotify_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01116">chan_skinny.c:1116</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2d8d5920e90ccbad7832926becdadb29"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2d8d5920e90ccbad7832926becdadb29">default_jbconf</a></div><div class="ttdeci">static struct ast_jb_conf default_jbconf</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00254">chan_skinny.c:254</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0d089cd7065341d1b915456ace035ac2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0d089cd7065341d1b915456ace035ac2">SKINNY_CONGESTION</a></div><div class="ttdeci">#define SKINNY_CONGESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01292">chan_skinny.c:1292</a></div></div>
<div class="ttc" id="structskinnysession_html_a0c8b0946b3ef893d0ec702480259032e"><div class="ttname"><a href="../../db/d98/structskinnysession.html#a0c8b0946b3ef893d0ec702480259032e">skinnysession::keepalive_count</a></div><div class="ttdeci">int keepalive_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01626">chan_skinny.c:1626</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7b9ecaa4bb1481a9a5666e91c88a3968"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7b9ecaa4bb1481a9a5666e91c88a3968">find_line_by_instance</a></div><div class="ttdeci">static struct skinny_line * find_line_by_instance(struct skinny_device *d, int instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01882">chan_skinny.c:1882</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae67c6f6c57f424ea50cc93c0748378ba"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae67c6f6c57f424ea50cc93c0748378ba">auth_timeout</a></div><div class="ttdeci">static int auth_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00202">chan_skinny.c:202</a></div></div>
<div class="ttc" id="structcall__info__message_html_ad44b615021ed3ccb734fcaf583ef4a03"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#ad44b615021ed3ccb734fcaf583ef4a03">call_info_message::type</a></div><div class="ttdeci">uint32_t type</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00507">chan_skinny.c:507</a></div></div>
<div class="ttc" id="structregister__message_html_a69ba4ce44c8b3df5af22db880cdb9c20"><div class="ttname"><a href="../../db/dc9/structregister__message.html#a69ba4ce44c8b3df5af22db880cdb9c20">register_message::protocolVersion</a></div><div class="ttdeci">uint8_t protocolVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00297">chan_skinny.c:297</a></div></div>
<div class="ttc" id="devicestate_8h_html"><div class="ttname"><a href="../../da/da2/devicestate_8h.html">devicestate.h</a></div><div class="ttdoc">Device state management. </div></div>
<div class="ttc" id="codec__g726_8c_html_a8c58a1d1fd9436ff5145385d3ef7a430"><div class="ttname"><a href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a></div><div class="ttdeci">static void update(int code_size, int y, int wi, int fi, int dq, int sr, int dqsez, struct g726_state *state_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d89/codec__g726_8c_source.html#l00367">codec_g726.c:367</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a844a39ac2662cbc0d7eaa6122ac5ae71a48e1eb3a3d96993b9754643d9ec3c950"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a48e1eb3a3d96993b9754643d9ec3c950">SKINNY_CODEC_H261</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00182">chan_skinny.c:182</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5e78a80b19eee87e834b2f2b699c85f2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5e78a80b19eee87e834b2f2b699c85f2">STIMULUS_SPEEDDIAL</a></div><div class="ttdeci">#define STIMULUS_SPEEDDIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00574">chan_skinny.c:574</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9e35a268fd7c3a1b2cb28c295c816160"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9e35a268fd7c3a1b2cb28c295c816160">KEEP_ALIVE_MESSAGE</a></div><div class="ttdeci">#define KEEP_ALIVE_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00285">chan_skinny.c:285</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad3ef1afdcb3cc2dc465820495d6a3826"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad3ef1afdcb3cc2dc465820495d6a3826">CLEAR_DISPLAY_MESSAGE</a></div><div class="ttdeci">#define CLEAR_DISPLAY_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00634">chan_skinny.c:634</a></div></div>
<div class="ttc" id="structenbloc__call__message_html"><div class="ttname"><a href="../../d3/df0/structenbloc__call__message.html">enbloc_call_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00313">chan_skinny.c:313</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html_a55a5fa57878363d803833666ddf3c16f"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html#a55a5fa57878363d803833666ddf3c16f">definetimedate_message::month</a></div><div class="ttdeci">uint32_t month</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00551">chan_skinny.c:551</a></div></div>
<div class="ttc" id="structskinny__device_html_a730a1864781691273d9f28b5ad1dadfd"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#a730a1864781691273d9f28b5ad1dadfd">skinny_device::session</a></div><div class="ttdeci">struct skinnysession * session</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01586">chan_skinny.c:1586</a></div></div>
<div class="ttc" id="chanvars_8h_html_a8e0081172db71c5021d20706c50d959c"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a></div><div class="ttdeci">const char * ast_var_value(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00080">chanvars.c:80</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a10482c2bc6340e09ed02b00bc0e3f433"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a10482c2bc6340e09ed02b00bc0e3f433">AST_STATE_RING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00040">channelstate.h:40</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structast__party__id_html_aab4036618469f3fa9ab26a22726ba2db"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">ast_party_id::name</a></div><div class="ttdeci">struct ast_party_name name</div><div class="ttdoc">Subscriber name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00341">channel.h:341</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a18410f5b8349988e45ea06befa7ff163"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a18410f5b8349988e45ea06befa7ff163">skinny_sched_add</a></div><div class="ttdeci">static int skinny_sched_add(int when, ast_sched_cb callback, struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02029">chan_skinny.c:2029</a></div></div>
<div class="ttc" id="channel_8h_html_a53b708b7fc71dcbcd33acae0ad4d7ef8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a53b708b7fc71dcbcd33acae0ad4d7ef8">ast_channel_unregister</a></div><div class="ttdeci">void ast_channel_unregister(const struct ast_channel_tech *tech)</div><div class="ttdoc">Unregister a channel technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00570">channel.c:570</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac1db4bfd5d17f22afbc4bf80d6337d54"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac1db4bfd5d17f22afbc4bf80d6337d54">SKINNY_DEVICE_12</a></div><div class="ttdeci">#define SKINNY_DEVICE_12</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01246">chan_skinny.c:1246</a></div></div>
<div class="ttc" id="structskinny__device_html_aad78dcd53e5bd3e0d6a9098a462e98f6"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#aad78dcd53e5bd3e0d6a9098a462e98f6">skinny_device::endpoint</a></div><div class="ttdeci">struct ast_endpoint * endpoint</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01590">chan_skinny.c:1590</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1041d2c4aa7a5e6f54efdc452178975d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1041d2c4aa7a5e6f54efdc452178975d">TYPE_DEF_LINE</a></div><div class="ttdeci">#define TYPE_DEF_LINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07761">chan_skinny.c:7761</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1d084b82cb21102ba46ea60d3cd9c085"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1d084b82cb21102ba46ea60d3cd9c085">__ourip</a></div><div class="ttdeci">static struct in_addr __ourip</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01234">chan_skinny.c:1234</a></div></div>
<div class="ttc" id="pbx_8h_html_aa992580d26443e3306f7f08cf5908e7c"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa992580d26443e3306f7f08cf5908e7c">ast_extension_state_del</a></div><div class="ttdeci">int ast_extension_state_del(int id, ast_state_cb_type change_cb)</div><div class="ttdoc">Deletes a state change watcher by ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03858">pbx.c:3858</a></div></div>
<div class="ttc" id="structskinny__serviceurl_html_a055fded1ef981ae1960598ea019e0476"><div class="ttname"><a href="../../d3/d52/structskinny__serviceurl.html#a055fded1ef981ae1960598ea019e0476">skinny_serviceurl::displayName</a></div><div class="ttdeci">char displayName[40]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01539">chan_skinny.c:1539</a></div></div>
<div class="ttc" id="structast__rtp__instance_html"><div class="ttname"><a href="../../df/d7a/structast__rtp__instance.html">ast_rtp_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00189">rtp_engine.c:189</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structstart__tone__message_html_a255ac0cfa2a98311b2aa3976bdfacf98"><div class="ttname"><a href="../../d0/d00/structstart__tone__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">start_tone_message::space</a></div><div class="ttdeci">uint32_t space</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00422">chan_skinny.c:422</a></div></div>
<div class="ttc" id="structast__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../df/d3c/structast__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00075">channel_internal_api.c:75</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad229f47d1b225da7a72688def1a3c95b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad229f47d1b225da7a72688def1a3c95b">handle_stimulus_message</a></div><div class="ttdeci">static int handle_stimulus_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06316">chan_skinny.c:6316</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html_aa4bd38811c26969cc4d8cd6723199530"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html#aa4bd38811c26969cc4d8cd6723199530">definetimedate_message::minute</a></div><div class="ttdeci">uint32_t minute</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00555">chan_skinny.c:555</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad8df2c3ad5f2c671df1db4a34c912b8d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad8df2c3ad5f2c671df1db4a34c912b8d">SUBSTATE_CALLWAIT</a></div><div class="ttdeci">#define SUBSTATE_CALLWAIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01380">chan_skinny.c:1380</a></div></div>
<div class="ttc" id="unionskinny__data_html_a31da68884fbffe3a0099f5e4121b9d76"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a31da68884fbffe3a0099f5e4121b9d76">skinny_data::forwardstat</a></div><div class="ttdeci">struct forward_stat_message forwardstat</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01201">chan_skinny.c:1201</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acf9ff0dcbbb7c545417a22affaddc03a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acf9ff0dcbbb7c545417a22affaddc03a">SELECT_SOFT_KEYS_MESSAGE</a></div><div class="ttdeci">#define SELECT_SOFT_KEYS_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01055">chan_skinny.c:1055</a></div></div>
<div class="ttc" id="channel_8h_html_aada21a9f55151c285a1537613ff9197a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aada21a9f55151c285a1537613ff9197a">ast_queue_unhold</a></div><div class="ttdeci">int ast_queue_unhold(struct ast_channel *chan)</div><div class="ttdoc">Queue an unhold frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01216">channel.c:1216</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad6f89a0cd879820f0fbc2c8c10bb591f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad6f89a0cd879820f0fbc2c8c10bb591f">CALLSTATE2STR_BUFSIZE</a></div><div class="ttdeci">#define CALLSTATE2STR_BUFSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00279">chan_skinny.c:279</a></div></div>
<div class="ttc" id="structskinny__line_html_a03ff9a583c87301702ce0a465aed7567"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#a03ff9a583c87301702ce0a465aed7567">skinny_line::confcap</a></div><div class="ttdeci">struct ast_format_cap * confcap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01477">chan_skinny.c:1477</a></div></div>
<div class="ttc" id="dsp_8h_html"><div class="ttname"><a href="../../d3/d08/dsp_8h.html">dsp.h</a></div><div class="ttdoc">Convenient Signal Processing routines. </div></div>
<div class="ttc" id="chan__skinny_8c_html_a51a39bc8c586ab38852ab19c08317094"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a51a39bc8c586ab38852ab19c08317094">OCTAL_IDIVERT</a></div><div class="ttdeci">#define OCTAL_IDIVERT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00839">chan_skinny.c:839</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aac6715ad310106017794df7beecb0b7e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aac6715ad310106017794df7beecb0b7e">STIMULUS_DISPLAY</a></div><div class="ttdeci">#define STIMULUS_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00580">chan_skinny.c:580</a></div></div>
<div class="ttc" id="unionskinny__data_html_a3751b807b8ae3a843e2a57d1963a8b4f"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a3751b807b8ae3a843e2a57d1963a8b4f">skinny_data::setspeaker</a></div><div class="ttdeci">struct set_speaker_message setspeaker</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01187">chan_skinny.c:1187</a></div></div>
<div class="ttc" id="chanvars_8h_html_a356a31cd608ec07d3668dcd589be49d8"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a></div><div class="ttdeci">const char * ast_var_name(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00060">chanvars.c:60</a></div></div>
<div class="ttc" id="channel_8h_html_aa2df58e77751b741b6891afe210b5b8c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa2df58e77751b741b6891afe210b5b8c">ast_channel_set_rawwriteformat</a></div><div class="ttdeci">void ast_channel_set_rawwriteformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00832">channel_internal_api.c:832</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html_abe8daceb8998c00e1ef01ddc509e07ef"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html#abe8daceb8998c00e1ef01ddc509e07ef">call_info_message_variable::calldetails</a></div><div class="ttdeci">char calldetails[MAXCALLINFOSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01137">chan_skinny.c:1137</a></div></div>
<div class="ttc" id="structactivate__call__plane__message_html_a3c8ec1b11804b48f666007331e0c90ba"><div class="ttname"><a href="../../d0/da0/structactivate__call__plane__message.html#a3c8ec1b11804b48f666007331e0c90ba">activate_call_plane_message::lineInstance</a></div><div class="ttdeci">uint32_t lineInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01094">chan_skinny.c:1094</a></div></div>
<div class="ttc" id="structforward__stat__message_html_a5cedc24a4c8a47b4b07509728c9991e8"><div class="ttname"><a href="../../d9/d05/structforward__stat__message.html#a5cedc24a4c8a47b4b07509728c9991e8">forward_stat_message::fwdnoanswer</a></div><div class="ttdeci">uint32_t fwdnoanswer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00529">chan_skinny.c:529</a></div></div>
<div class="ttc" id="structdisplay__prompt__status__message__variable_html_ad44680c11c9e03d3dab6ec7cfd0b04a8"><div class="ttname"><a href="../../dc/db4/structdisplay__prompt__status__message__variable.html#ad44680c11c9e03d3dab6ec7cfd0b04a8">display_prompt_status_message_variable::unknown</a></div><div class="ttdeci">uint32_t unknown</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01149">chan_skinny.c:1149</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a796a2b1cb16e90a040ebce724672041f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a796a2b1cb16e90a040ebce724672041f">DISPLAY_PRINOTIFY_MESSAGE_VARIABLE</a></div><div class="ttdeci">#define DISPLAY_PRINOTIFY_MESSAGE_VARIABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01140">chan_skinny.c:1140</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0376aa2503a185437fab8cb0b7d674fb"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a></div><div class="ttdeci">struct ast_rtp_codecs * ast_rtp_instance_get_codecs(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the codecs structure of an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00727">rtp_engine.c:727</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af1726f9c94deb2725bdd8fabf57f1a53"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af1726f9c94deb2725bdd8fabf57f1a53">SOFTKEY_RESUME</a></div><div class="ttdeci">#define SOFTKEY_RESUME</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00719">chan_skinny.c:719</a></div></div>
<div class="ttc" id="pickup_8h_html"><div class="ttname"><a href="../../dd/dbc/pickup_8h.html">pickup.h</a></div><div class="ttdoc">Call Pickup API. </div></div>
<div class="ttc" id="chan__skinny_8c_html_ae40517f2290aaf18acf058abb998173e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae40517f2290aaf18acf058abb998173e">handle_skinny_show_devices</a></div><div class="ttdeci">static char * handle_skinny_show_devices(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04175">chan_skinny.c:4175</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga58c3e3da5d31739cafaee1df6ddf9342"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga58c3e3da5d31739cafaee1df6ddf9342">astman_send_list_complete_start</a></div><div class="ttdeci">void astman_send_list_complete_start(struct mansession *s, const struct message *m, const char *event_name, int count)</div><div class="ttdoc">Start the list complete event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03237">manager.c:3237</a></div></div>
<div class="ttc" id="format__cache_8h_html_a568c3f5838b53c38f11996dbe5ff5785"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a></div><div class="ttdeci">struct ast_format * ast_format_ulaw</div><div class="ttdoc">Built-in cached ulaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00086">format_cache.c:86</a></div></div>
<div class="ttc" id="structast__module__info_html"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html">ast_module_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00336">module.h:336</a></div></div>
<div class="ttc" id="structdisplay__prinotify__message_html_a90249de64da5ae5d7acd34da7ea1b857"><div class="ttname"><a href="../../d1/dea/structdisplay__prinotify__message.html#a90249de64da5ae5d7acd34da7ea1b857">display_prinotify_message::priority</a></div><div class="ttdeci">uint32_t priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01118">chan_skinny.c:1118</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa129a836246c18217cf6b402e79fcfc9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa129a836246c18217cf6b402e79fcfc9">codec_ast2skinny</a></div><div class="ttdeci">static int codec_ast2skinny(const struct ast_format *astcodec)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02129">chan_skinny.c:2129</a></div></div>
<div class="ttc" id="structclear__prinotify__message_html_a90249de64da5ae5d7acd34da7ea1b857"><div class="ttname"><a href="../../dc/ded/structclear__prinotify__message.html#a90249de64da5ae5d7acd34da7ea1b857">clear_prinotify_message::priority</a></div><div class="ttdeci">uint32_t priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01124">chan_skinny.c:1124</a></div></div>
<div class="ttc" id="structast__cli__entry_html"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a></div><div class="ttdoc">descriptor for a cli entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00171">cli.h:171</a></div></div>
<div class="ttc" id="structkeypad__button__message_html_a3c8ec1b11804b48f666007331e0c90ba"><div class="ttname"><a href="../../de/d0c/structkeypad__button__message.html#a3c8ec1b11804b48f666007331e0c90ba">keypad_button_message::lineInstance</a></div><div class="ttdeci">uint32_t lineInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00307">chan_skinny.c:307</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="structselect__soft__keys__message_html_ad25df21c508e777301c2d307ee3d07af"><div class="ttname"><a href="../../d8/d2e/structselect__soft__keys__message.html#ad25df21c508e777301c2d307ee3d07af">select_soft_keys_message::validKeyMask</a></div><div class="ttdeci">uint32_t validKeyMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01060">chan_skinny.c:1060</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ace98399ecb0878548205910c2e9eae54"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ace98399ecb0878548205910c2e9eae54">OCTAL_CFWDBUSY</a></div><div class="ttdeci">#define OCTAL_CFWDBUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00765">chan_skinny.c:765</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a63b744d9de3913b89d002761073a0879"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a63b744d9de3913b89d002761073a0879">DIALED_NUMBER_MESSAGE</a></div><div class="ttdeci">#define DIALED_NUMBER_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01097">chan_skinny.c:1097</a></div></div>
<div class="ttc" id="pbx_8h_html_a9a937fbb3b5f4e68880a9c5714a29ce5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a9a937fbb3b5f4e68880a9c5714a29ce5">ast_pbx_start</a></div><div class="ttdeci">enum ast_pbx_result ast_pbx_start(struct ast_channel *c)</div><div class="ttdoc">Create a new thread and start the PBX. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04712">pbx.c:4712</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af628a56dd3c32bfbe40a5f03bbe2dae6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af628a56dd3c32bfbe40a5f03bbe2dae6">destroy_session</a></div><div class="ttdeci">static void destroy_session(struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07426">chan_skinny.c:7426</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structdialed__number__message_html"><div class="ttname"><a href="../../d1/d77/structdialed__number__message.html">dialed_number_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01098">chan_skinny.c:1098</a></div></div>
<div class="ttc" id="unionskinny__data_html_acfcbe2888df992727f690e1fbccd4e74"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#acfcbe2888df992727f690e1fbccd4e74">skinny_data::starttone</a></div><div class="ttdeci">struct start_tone_message starttone</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01169">chan_skinny.c:1169</a></div></div>
<div class="ttc" id="format__cap_8h_html_a035f4aa78f172a18311bfa15dd232c6f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a></div><div class="ttdeci">#define AST_FORMAT_CAP_NAMES_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00326">format_cap.h:326</a></div></div>
<div class="ttc" id="unionskinny__data_html_ab39e2139ac39eb022bbe54356481ec1d"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#ab39e2139ac39eb022bbe54356481ec1d">skinny_data::version</a></div><div class="ttdeci">struct version_res_message version</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01162">chan_skinny.c:1162</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a71535bf985a1a06d548fd73a0a0ec32c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a71535bf985a1a06d548fd73a0a0ec32c">tdesc</a></div><div class="ttdeci">static const char tdesc[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00170">chan_skinny.c:170</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af86655829b427b64de9f2d5ea43d8c9b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af86655829b427b64de9f2d5ea43d8c9b">skinny_debugs</a></div><div class="ttdeci">static char * skinny_debugs(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03704">chan_skinny.c:3704</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2e749660fda8587e74d25b70e5b5504d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2e749660fda8587e74d25b70e5b5504d">CONTROL2STR_BUFSIZE</a></div><div class="ttdeci">#define CONTROL2STR_BUFSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00273">chan_skinny.c:273</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a156f09c32102fa036620ad75c3ee4fbf"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a></div><div class="ttdeci">static struct test_val d</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00049">test_linkedlists.c:49</a></div></div>
<div class="ttc" id="channel_8h_html_a39aac47fef1240391fd97e055522fd83"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a39aac47fef1240391fd97e055522fd83">ast_party_id_presentation</a></div><div class="ttdeci">int ast_party_id_presentation(const struct ast_party_id *id)</div><div class="ttdoc">Determine the overall presentation value for the given party. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01821">channel.c:1821</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7">AST_EXTENSION_REMOVED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00062">pbx.h:62</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a8adb8595b8127cbea2118fada1ef8782"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a8adb8595b8127cbea2118fada1ef8782">skinny_subchannel::rtp</a></div><div class="ttdeci">struct ast_rtp_instance * rtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01390">chan_skinny.c:1390</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_ae50ad081bd2ae6b58bcfc4687916c586"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#ae50ad081bd2ae6b58bcfc4687916c586">ast_jb_read_conf</a></div><div class="ttdeci">int ast_jb_read_conf(struct ast_jb_conf *conf, const char *varname, const char *value)</div><div class="ttdoc">Sets jitterbuffer configuration property. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00545">abstract_jb.c:545</a></div></div>
<div class="ttc" id="structdevices_html"><div class="ttname"><a href="../../dd/d5e/structdevices.html">devices</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d51/chan__mobile_8c_source.html#l00172">chan_mobile.c:172</a></div></div>
<div class="ttc" id="structstimulus__message_html_aa056c11f2f813407952d829437cec263"><div class="ttname"><a href="../../df/d52/structstimulus__message.html#aa056c11f2f813407952d829437cec263">stimulus_message::callreference</a></div><div class="ttdeci">uint32_t callreference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00321">chan_skinny.c:321</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="structstop__media__transmission__message_html_aad8282aaef639f3310f833e9b44a541e"><div class="ttname"><a href="../../d6/de5/structstop__media__transmission__message.html#aad8282aaef639f3310f833e9b44a541e">stop_media_transmission_message::conferenceId</a></div><div class="ttdeci">uint32_t conferenceId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00494">chan_skinny.c:494</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acffbaca19a4702b6ae9284d1902b67f9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acffbaca19a4702b6ae9284d1902b67f9">REGISTER_AVAILABLE_LINES_MESSAGE</a></div><div class="ttdeci">#define REGISTER_AVAILABLE_LINES_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00403">chan_skinny.c:403</a></div></div>
<div class="ttc" id="structast__variable_html_a501b314f49b3a9ff6e7be599d94686ee"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">ast_variable::lineno</a></div><div class="ttdeci">int lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">include/asterisk/config.h:95</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9cbbcecc07b73fed5ed3045684fd56b0"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9cbbcecc07b73fed5ed3045684fd56b0">transmit_response</a></div><div class="ttdeci">static void transmit_response(struct skinny_device *d, struct skinny_req *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02418">chan_skinny.c:2418</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab015edc90c82d15e00916f5ef094a24b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab015edc90c82d15e00916f5ef094a24b">DEBUG_THREAD</a></div><div class="ttdeci">#define DEBUG_THREAD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00154">chan_skinny.c:154</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5673732b39310cef6a6f21820d95be71"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5673732b39310cef6a6f21820d95be71">SOFTKEY_DND</a></div><div class="ttdeci">#define SOFTKEY_DND</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00728">chan_skinny.c:728</a></div></div>
<div class="ttc" id="structsoft__key__set__res__message_html_a9e0609aa98d8027663e88c42524a391f"><div class="ttname"><a href="../../d4/d70/structsoft__key__set__res__message.html#a9e0609aa98d8027663e88c42524a391f">soft_key_set_res_message::softKeySetOffset</a></div><div class="ttdeci">uint32_t softKeySetOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01048">chan_skinny.c:1048</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af29a8ef9f4bbcc04e455e3002498e3d7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af29a8ef9f4bbcc04e455e3002498e3d7">soft_key_default_ringin</a></div><div class="ttdeci">static const uint8_t soft_key_default_ringin[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00946">chan_skinny.c:946</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip4_html_aad8282aaef639f3310f833e9b44a541e"><div class="ttname"><a href="../../d2/d39/structstart__media__transmission__message__ip4.html#aad8282aaef639f3310f833e9b44a541e">start_media_transmission_message_ip4::conferenceId</a></div><div class="ttdeci">uint32_t conferenceId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00469">chan_skinny.c:469</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe">AST_CONTROL_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00281">include/asterisk/frame.h:281</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2d0e2d2a102eeaa09594d004fec24f8b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2d0e2d2a102eeaa09594d004fec24f8b">skinny_sched_del</a></div><div class="ttdeci">static int skinny_sched_del(int sched_id, struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02022">chan_skinny.c:2022</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a9ff41b61938f3d4dc4c82db103e7914ca9f63c95936712cfd6ec65555f1a27053"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca9f63c95936712cfd6ec65555f1a27053">AST_RTP_PROPERTY_RTCP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00123">rtp_engine.h:123</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9af539d2dccccf8963f64f712844fbab"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9af539d2dccccf8963f64f712844fbab">CDEV_OPTS</a></div><div class="ttdeci">#define CDEV_OPTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07767">chan_skinny.c:7767</a></div></div>
<div class="ttc" id="structskinnysession_html_a2283377702df44dda5ac462cadc272eb"><div class="ttname"><a href="../../db/d98/structskinnysession.html#a2283377702df44dda5ac462cadc272eb">skinnysession::keepalive_timeout_sched</a></div><div class="ttdeci">int keepalive_timeout_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01624">chan_skinny.c:1624</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4ae851d94958aab0ec8c3410f7e2a15d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4ae851d94958aab0ec8c3410f7e2a15d">SKINNY_DEVICE_7962</a></div><div class="ttdeci">#define SKINNY_DEVICE_7962</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01263">chan_skinny.c:1263</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8d3e1cf87f11aa2224c262921e893240"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8d3e1cf87f11aa2224c262921e893240">transmit_definetimedate</a></div><div class="ttdeci">static void transmit_definetimedate(struct skinny_device *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03190">chan_skinny.c:3190</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a00675bfb8c64b2be86297fe4cba51fa2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a00675bfb8c64b2be86297fe4cba51fa2">AST_CONTROL_RING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00279">include/asterisk/frame.h:279</a></div></div>
<div class="ttc" id="structskinny__req_html_a96bbf959016e4411c9e6b9812a8be60a"><div class="ttname"><a href="../../dc/da2/structskinny__req.html#a96bbf959016e4411c9e6b9812a8be60a">skinny_req::len</a></div><div class="ttdeci">uint32_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01213">chan_skinny.c:1213</a></div></div>
<div class="ttc" id="structsoft__key__event__message_html_a4358d46dc0a917c9906274cf85132904"><div class="ttname"><a href="../../dd/d3e/structsoft__key__event__message.html#a4358d46dc0a917c9906274cf85132904">soft_key_event_message::softKeyEvent</a></div><div class="ttdeci">uint32_t softKeyEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00395">chan_skinny.c:395</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html_a897ed87b95b7a37afeeb935ca0b2366b"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html#a897ed87b95b7a37afeeb935ca0b2366b">definetimedate_message::day</a></div><div class="ttdeci">uint32_t day</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00553">chan_skinny.c:553</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="structbutton__definition_html_a9354e42b02d44b23794884f29cc25d78"><div class="ttname"><a href="../../d5/d71/structbutton__definition.html#a9354e42b02d44b23794884f29cc25d78">button_definition::instanceNumber</a></div><div class="ttdeci">uint8_t instanceNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00563">chan_skinny.c:563</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3">AST_EXTENSION_UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00067">pbx.h:67</a></div></div>
<div class="ttc" id="localtime_8h_html_ae9fbda728350a9a5b9c09b29214d718e"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a></div><div class="ttdeci">struct ast_tm * ast_localtime(const struct timeval *timep, struct ast_tm *p_tm, const char *zone)</div><div class="ttdoc">Timezone-independent version of localtime_r(3). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l01739">localtime.c:1739</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660addb60fd97b55a4aea24f992e30fe3c84"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660addb60fd97b55a4aea24f992e30fe3c84">AST_STATE_RESERVED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00037">channelstate.h:37</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae1d3d9cf25a4f0d5646d72f5444dbb92"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae1d3d9cf25a4f0d5646d72f5444dbb92">SUBSTATE_OFFHOOK</a></div><div class="ttdeci">#define SUBSTATE_OFFHOOK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01372">chan_skinny.c:1372</a></div></div>
<div class="ttc" id="structast__state__cb__info_html_a3a7a902ef9b30b78b595eeee1485090f"><div class="ttname"><a href="../../df/d4c/structast__state__cb__info.html#a3a7a902ef9b30b78b595eeee1485090f">ast_state_cb_info::reason</a></div><div class="ttdeci">enum ast_state_cb_update_reason reason</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00103">pbx.h:103</a></div></div>
<div class="ttc" id="unionskinny__data_html_acba9e2f34856abe22d4e05ba56da52c9"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#acba9e2f34856abe22d4e05ba56da52c9">skinny_data::startmedia_ip6</a></div><div class="ttdeci">struct start_media_transmission_message_ip6 startmedia_ip6</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01191">chan_skinny.c:1191</a></div></div>
<div class="ttc" id="structdisplay__prompt__status__message__variable_html_a1cf8aa5494a17ee9ec1e09949a46a4a6"><div class="ttname"><a href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a1cf8aa5494a17ee9ec1e09949a46a4a6">display_prompt_status_message_variable::promptMessage</a></div><div class="ttdeci">char promptMessage[MAXCALLINFOSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01152">chan_skinny.c:1152</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_a0078d2e3ae10f15d7634c01199f33d4f"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#a0078d2e3ae10f15d7634c01199f33d4f">skinny_speeddial::laststate</a></div><div class="ttdeci">int laststate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01529">chan_skinny.c:1529</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a032655a31a1da3ff3a8853e8511d9dd9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a032655a31a1da3ff3a8853e8511d9dd9">SKINNY_DEVICE_SCCPGATEWAY_AN</a></div><div class="ttdeci">#define SKINNY_DEVICE_SCCPGATEWAY_AN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01277">chan_skinny.c:1277</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a733134b7afc2e7cd8481d089d2880bf6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a733134b7afc2e7cd8481d089d2880bf6">CLINE_OPTS</a></div><div class="ttdeci">#define CLINE_OPTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07765">chan_skinny.c:7765</a></div></div>
<div class="ttc" id="structreset__message_html_a7a8191f03b981d7fd9ea45a66270833b"><div class="ttname"><a href="../../d0/dbe/structreset__message.html#a7a8191f03b981d7fd9ea45a66270833b">reset_message::resetType</a></div><div class="ttdeci">uint32_t resetType</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00659">chan_skinny.c:659</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_ab71294e675bc01eb29e9fd13b3839759"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#ab71294e675bc01eb29e9fd13b3839759">ast_rtp_instance_set_qos</a></div><div class="ttdeci">int ast_rtp_instance_set_qos(struct ast_rtp_instance *instance, int tos, int cos, const char *desc)</div><div class="ttdoc">Set QoS parameters on an RTP session. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02169">rtp_engine.c:2169</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1186bffbea3bd1b7ff2af6a9ac9f6c7a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1186bffbea3bd1b7ff2af6a9ac9f6c7a">handle_offhook_message</a></div><div class="ttdeci">static int handle_offhook_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06546">chan_skinny.c:6546</a></div></div>
<div class="ttc" id="structskinny__device_html_aa781e5785521bd411b6aef84261ab788"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#aa781e5785521bd411b6aef84261ab788">skinny_device::serviceurls</a></div><div class="ttdeci">struct skinny_device::@145 serviceurls</div></div>
<div class="ttc" id="chan__skinny_8c_html_ad5a3074858d7493097d940e0be4365f3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad5a3074858d7493097d940e0be4365f3">CLINE</a></div><div class="ttdeci">#define CLINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07766">chan_skinny.c:7766</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a84741dacf6740ec7b3a26de7f4b821d0"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a84741dacf6740ec7b3a26de7f4b821d0">transmit_registerrej</a></div><div class="ttdeci">static void transmit_registerrej(struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02423">chan_skinny.c:2423</a></div></div>
<div class="ttc" id="structsoft__key__template__res__message_html_a8db1b287e91a13a96808f529a4dc49e9"><div class="ttname"><a href="../../d0/d60/structsoft__key__template__res__message.html#a8db1b287e91a13a96808f529a4dc49e9">soft_key_template_res_message::softKeyCount</a></div><div class="ttdeci">uint32_t softKeyCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01035">chan_skinny.c:1035</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acfb45c382a52256b57620a7340c20a69"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acfb45c382a52256b57620a7340c20a69">SERVER_RES_MESSAGE</a></div><div class="ttdeci">#define SERVER_RES_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00646">chan_skinny.c:646</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a87cb097a21ab7712c27aa9e3b3a1ef69"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a87cb097a21ab7712c27aa9e3b3a1ef69">ast_rtp_instance_write</a></div><div class="ttdeci">int ast_rtp_instance_write(struct ast_rtp_instance *instance, struct ast_frame *frame)</div><div class="ttdoc">Send a frame out over RTP. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00568">rtp_engine.c:568</a></div></div>
<div class="ttc" id="structcall__info__message_html_ab896d88e09a770904adb218aaf9b635f"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#ab896d88e09a770904adb218aaf9b635f">call_info_message::calledPartyName</a></div><div class="ttdeci">char calledPartyName[40]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00503">chan_skinny.c:503</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa0c8daef788c72c3901d6d93bd873b1c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa0c8daef788c72c3901d6d93bd873b1c">SKINNY_ALERT</a></div><div class="ttdeci">#define SKINNY_ALERT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01307">chan_skinny.c:1307</a></div></div>
<div class="ttc" id="structstasis__subscription_html"><div class="ttname"><a href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00681">stasis.c:681</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aee0ce143cf0a49d49c86cabcf1c829cc"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aee0ce143cf0a49d49c86cabcf1c829cc">SOFTKEY_NEWCALL</a></div><div class="ttdeci">#define SOFTKEY_NEWCALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00711">chan_skinny.c:711</a></div></div>
<div class="ttc" id="structset__ringer__message_html"><div class="ttname"><a href="../../d8/dfe/structset__ringer__message.html">set_ringer_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00435">chan_skinny.c:435</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa67baa68e813caec6b66dac51d58f1f2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa67baa68e813caec6b66dac51d58f1f2">skinny_fixup</a></div><div class="ttdeci">static int skinny_fixup(struct ast_channel *oldchan, struct ast_channel *newchan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05123">chan_skinny.c:5123</a></div></div>
<div class="ttc" id="unionskinny__data_html_aceb9d5d9b0983f8fb0e5523310274dc4"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#aceb9d5d9b0983f8fb0e5523310274dc4">skinny_data::reg</a></div><div class="ttdeci">struct register_message reg</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01158">chan_skinny.c:1158</a></div></div>
<div class="ttc" id="structclear__prompt__message_html"><div class="ttname"><a href="../../d4/d25/structclear__prompt__message.html">clear_prompt_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01081">chan_skinny.c:1081</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_adb686911ee241c6792cd9b069a366301"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#adb686911ee241c6792cd9b069a366301">device2str_threadbuf</a></div><div class="ttdeci">static struct ast_threadstorage device2str_threadbuf</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00269">chan_skinny.c:269</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_ac2fd3e9ee89436cbf6b2ac374bab711b"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#ac2fd3e9ee89436cbf6b2ac374bab711b">ast_rtp_glue_register</a></div><div class="ttdeci">#define ast_rtp_glue_register(glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00847">rtp_engine.h:847</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#adf04f66344e3fb0a6f6a69bf39d19902">skinny_speeddial::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01522">chan_skinny.c:1522</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_ac3e175c9d195ee6447cf9550e27a9e6b"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#ac3e175c9d195ee6447cf9550e27a9e6b">skinny_subchannel::line</a></div><div class="ttdeci">struct skinny_line * line</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01416">chan_skinny.c:1416</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_adee653440be98ee00c14b22cc5de381d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#adee653440be98ee00c14b22cc5de381d">handle_skinny_message_clear</a></div><div class="ttdeci">static char * handle_skinny_message_clear(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdoc">Handle clearing messages to devices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04722">chan_skinny.c:4722</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af5c47ae0f0932f1d461f5b7b4cc0b095"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af5c47ae0f0932f1d461f5b7b4cc0b095">STIMULUS_LINE</a></div><div class="ttdeci">#define STIMULUS_LINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00581">chan_skinny.c:581</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ae234825bcb65b88c0554b995ff1b8ba6"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a></div><div class="ttdeci">#define AST_LIST_NEXT(elm, field)</div><div class="ttdoc">Returns the next entry in the list after the given entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00438">linkedlists.h:438</a></div></div>
<div class="ttc" id="structserver__identifier_html_a24f34926c446be4afb4b2fef4538e524"><div class="ttname"><a href="../../d9/df0/structserver__identifier.html#a24f34926c446be4afb4b2fef4538e524">server_identifier::serverName</a></div><div class="ttdeci">char serverName[48]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00648">chan_skinny.c:648</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4d44486240bfa969fd6cf04fab65c097"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4d44486240bfa969fd6cf04fab65c097">date_format</a></div><div class="ttdeci">static char date_format[6]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00209">chan_skinny.c:209</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip4_html_ada112a060915d95bc25fb2917272914f"><div class="ttname"><a href="../../d2/d39/structstart__media__transmission__message__ip4.html#ada112a060915d95bc25fb2917272914f">start_media_transmission_message_ip4::packetSize</a></div><div class="ttdeci">uint32_t packetSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00473">chan_skinny.c:473</a></div></div>
<div class="ttc" id="unionskinny__data_html_a2c1c09cd3cb77663c2963dd040506edd"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a2c1c09cd3cb77663c2963dd040506edd">skinny_data::softkeysets</a></div><div class="ttdeci">struct soft_key_set_res_message softkeysets</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01174">chan_skinny.c:1174</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1b0b13fd37b0eec0ebbc6031c91d4662"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1b0b13fd37b0eec0ebbc6031c91d4662">SKINNY_CONNECTED</a></div><div class="ttdeci">#define SKINNY_CONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01290">chan_skinny.c:1290</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549">AST_DEVICE_UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00058">devicestate.h:58</a></div></div>
<div class="ttc" id="unionskinny__data_html_aa2c88f018f286fe417fe6d5da2f98d7d"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#aa2c88f018f286fe417fe6d5da2f98d7d">skinny_data::callstate</a></div><div class="ttdeci">struct call_state_message callstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01180">chan_skinny.c:1180</a></div></div>
<div class="ttc" id="unionskinny__data_html_a6e736b9cb16ec299bd33005a41fc4884"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a6e736b9cb16ec299bd33005a41fc4884">skinny_data::closereceivechannel</a></div><div class="ttdeci">struct close_receive_channel_message closereceivechannel</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01196">chan_skinny.c:1196</a></div></div>
<div class="ttc" id="structskinny__serviceurl_html_a6fd216872447cfe5f757d2ce47fea6fb"><div class="ttname"><a href="../../d3/d52/structskinny__serviceurl.html#a6fd216872447cfe5f757d2ce47fea6fb">skinny_serviceurl::instance</a></div><div class="ttdeci">int instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01537">chan_skinny.c:1537</a></div></div>
<div class="ttc" id="structstimulus__message_html_af793c4f4a8ade380472caa8035905848"><div class="ttname"><a href="../../df/d52/structstimulus__message.html#af793c4f4a8ade380472caa8035905848">stimulus_message::stimulus</a></div><div class="ttdeci">uint32_t stimulus</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00319">chan_skinny.c:319</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5fac0c713656df7ee579325a7755da46"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5fac0c713656df7ee579325a7755da46">BT_CALLPARK</a></div><div class="ttdeci">#define BT_CALLPARK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00606">chan_skinny.c:606</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6cd59fd0c6c79219d38f437a485ce844"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6cd59fd0c6c79219d38f437a485ce844">SKINNY_CFWD_BUSY</a></div><div class="ttdeci">#define SKINNY_CFWD_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01328">chan_skinny.c:1328</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad4ef7afe5bbb4ad0e6b51a7fd9addf93"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad4ef7afe5bbb4ad0e6b51a7fd9addf93">OCTAL_RINGOUT</a></div><div class="ttdeci">#define OCTAL_RINGOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00781">chan_skinny.c:781</a></div></div>
<div class="ttc" id="unionskinny__data_html_a2d5eae5cb69465289c72e06c47d3ba01"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a2d5eae5cb69465289c72e06c47d3ba01">skinny_data::dialednumber</a></div><div class="ttdeci">struct dialed_number_message dialednumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01198">chan_skinny.c:1198</a></div></div>
<div class="ttc" id="structcall__info__message_html_a9906d0bb5d40918d1886cfeadab8a2ba"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#a9906d0bb5d40918d1886cfeadab8a2ba">call_info_message::originalCalledParty</a></div><div class="ttdeci">char originalCalledParty[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00509">chan_skinny.c:509</a></div></div>
<div class="ttc" id="structsched_html"><div class="ttname"><a href="../../d0/da0/structsched.html">sched</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00076">sched.c:76</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3c2e0be4f403b5bfff44305732acacf8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3c2e0be4f403b5bfff44305732acacf8">activatesub</a></div><div class="ttdeci">static void activatesub(struct skinny_subchannel *sub, int state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06049">chan_skinny.c:6049</a></div></div>
<div class="ttc" id="unionskinny__data_html_a0622af8a74c6dd3ce12a70c2013f3744"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a0622af8a74c6dd3ce12a70c2013f3744">skinny_data::linestat</a></div><div class="ttdeci">struct line_stat_res_message linestat</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01173">chan_skinny.c:1173</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_a6fd216872447cfe5f757d2ce47fea6fb"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#a6fd216872447cfe5f757d2ce47fea6fb">skinny_speeddial::instance</a></div><div class="ttdeci">int instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01527">chan_skinny.c:1527</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#a78d4847658b695383d849efd12399b38">skinny_speeddial::exten</a></div><div class="ttdeci">char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01526">chan_skinny.c:1526</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab0051964ea7b68461644ee964e3add4e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab0051964ea7b68461644ee964e3add4e">SKINNY_CALLWAITTONE</a></div><div class="ttdeci">#define SKINNY_CALLWAITTONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01309">chan_skinny.c:1309</a></div></div>
<div class="ttc" id="stasis_8h_html_a9356e8a29344ca4eac93088198ccff89"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_message_type(const struct stasis_message *msg)</div><div class="ttdoc">Get the message type for a stasis_message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00187">stasis_message.c:187</a></div></div>
<div class="ttc" id="structast__assigned__ids_html"><div class="ttname"><a href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a></div><div class="ttdoc">Structure to pass both assignedid values to channel drivers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00605">channel.h:605</a></div></div>
<div class="ttc" id="structskinny__device__options_html"><div class="ttname"><a href="../../d5/de0/structskinny__device__options.html">skinny_device_options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01598">chan_skinny.c:1598</a></div></div>
<div class="ttc" id="acl_8h_html_aa5049380ffb26d76d2f236d886964aac"><div class="ttname"><a href="../../d5/d59/acl_8h.html#aa5049380ffb26d76d2f236d886964aac">ast_apply_ha</a></div><div class="ttdeci">enum ast_acl_sense ast_apply_ha(const struct ast_ha *ha, const struct ast_sockaddr *addr)</div><div class="ttdoc">Apply a set of rules to a given IP address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l00808">acl.c:808</a></div></div>
<div class="ttc" id="channel_8h_html_a9824ec754695fd10c2ad3ca929afba34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9824ec754695fd10c2ad3ca929afba34">ast_channel_callgroup_set</a></div><div class="ttdeci">void ast_channel_callgroup_set(struct ast_channel *chan, ast_group_t value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01078">channel_internal_api.c:1078</a></div></div>
<div class="ttc" id="unionskinny__data_html_a684ad1caea9173fbc13ab7be0ae45d9b"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a684ad1caea9173fbc13ab7be0ae45d9b">skinny_data::stopmedia</a></div><div class="ttdeci">struct stop_media_transmission_message stopmedia</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01192">chan_skinny.c:1192</a></div></div>
<div class="ttc" id="structstation__capabilities_html_a86c2d4142c7f419d8d327bc261fa851f"><div class="ttname"><a href="../../d6/d32/structstation__capabilities.html#a86c2d4142c7f419d8d327bc261fa851f">station_capabilities::codec</a></div><div class="ttdeci">uint32_t codec</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00338">chan_skinny.c:338</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afe35ecd523687f3986c140c1638790a2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afe35ecd523687f3986c140c1638790a2">soft_key_default_unknown</a></div><div class="ttdeci">static const uint8_t soft_key_default_unknown[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01000">chan_skinny.c:1000</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8faf0f3196e7a21d01dbbb7719bf11e7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8faf0f3196e7a21d01dbbb7719bf11e7">SOFTKEY_BKSPC</a></div><div class="ttdeci">#define SOFTKEY_BKSPC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00717">chan_skinny.c:717</a></div></div>
<div class="ttc" id="structset__ringer__message_html_a1946df298d8390034825068792632dbb"><div class="ttname"><a href="../../d8/dfe/structset__ringer__message.html#a1946df298d8390034825068792632dbb">set_ringer_message::unknown1</a></div><div class="ttdeci">uint32_t unknown1</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00437">chan_skinny.c:437</a></div></div>
<div class="ttc" id="structast__party__name_html_ab50d783982593ef993ea0b68f7ad8b80"><div class="ttname"><a href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">ast_party_name::str</a></div><div class="ttdeci">char * str</div><div class="ttdoc">Subscriber name (Malloced) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00265">channel.h:265</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab438a1fad34555ea5581261b9fa3008c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab438a1fad34555ea5581261b9fa3008c">complete_skinny_debug</a></div><div class="ttdeci">static char * complete_skinny_debug(const char *line, const char *word, int pos, int state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03762">chan_skinny.c:3762</a></div></div>
<div class="ttc" id="structskinnysession_html_add02b47ccdba2203fd3d2ae04d6180ea"><div class="ttname"><a href="../../db/d98/structskinnysession.html#add02b47ccdba2203fd3d2ae04d6180ea">skinnysession::outbuf</a></div><div class="ttdeci">char outbuf[SKINNY_MAX_PACKET]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01619">chan_skinny.c:1619</a></div></div>
<div class="ttc" id="structsoft__key__definitions_html"><div class="ttname"><a href="../../df/de2/structsoft__key__definitions.html">soft_key_definitions</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00912">chan_skinny.c:912</a></div></div>
<div class="ttc" id="unionskinny__data_html_a5292f1e5ade2bf5d4ee2335cb5d628e3"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a5292f1e5ade2bf5d4ee2335cb5d628e3">skinny_data::openreceivechannelack_ip6</a></div><div class="ttdeci">struct open_receive_channel_ack_message_ip6 openreceivechannelack_ip6</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01195">chan_skinny.c:1195</a></div></div>
<div class="ttc" id="structskinny__line_html_abd898fe753a2e8bf568493ac7f0053ee"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#abd898fe753a2e8bf568493ac7f0053ee">skinny_line::sublines</a></div><div class="ttdeci">struct skinny_line::@136 sublines</div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="channel_8h_html_ac5686beb47ec95ccb0996ab1b596e559"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac5686beb47ec95ccb0996ab1b596e559">ast_channel_amaflags2string</a></div><div class="ttdeci">const char * ast_channel_amaflags2string(enum ama_flags flags)</div><div class="ttdoc">Convert the enum representation of an AMA flag to a string representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04418">channel.c:4418</a></div></div>
<div class="ttc" id="structsched__id_html"><div class="ttname"><a href="../../d1/dab/structsched__id.html">sched_id</a></div><div class="ttdoc">Scheduler ID holder. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00070">sched.c:70</a></div></div>
<div class="ttc" id="structbutton__template__res__message_html_a8bfe0684eb73994b284e34cbab2ab7ec"><div class="ttname"><a href="../../db/df8/structbutton__template__res__message.html#a8bfe0684eb73994b284e34cbab2ab7ec">button_template_res_message::buttonOffset</a></div><div class="ttdeci">uint32_t buttonOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00617">chan_skinny.c:617</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a5a24176e8066b727463907da4903bb8e"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a5a24176e8066b727463907da4903bb8e">AST_CONTROL_TAKEOFFHOOK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00283">include/asterisk/frame.h:283</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a10c715ff96a500b77ddc4442fa17cf55"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a10c715ff96a500b77ddc4442fa17cf55">find_subchannel_by_instance_reference</a></div><div class="ttdeci">static struct skinny_subchannel * find_subchannel_by_instance_reference(struct skinny_device *d, int instance, int reference)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02039">chan_skinny.c:2039</a></div></div>
<div class="ttc" id="structast__format_html"><div class="ttname"><a href="../../d0/d98/structast__format.html">ast_format</a></div><div class="ttdoc">Definition of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00043">format.c:43</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afbbc518dc26fb40ffa988eac6396f8de"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afbbc518dc26fb40ffa988eac6396f8de">OCTAL_PICKUP</a></div><div class="ttdeci">#define OCTAL_PICKUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00776">chan_skinny.c:776</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a611fe6435b7000d0c0f9f308de202ba3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a611fe6435b7000d0c0f9f308de202ba3">OCTAL_HOLD</a></div><div class="ttdeci">#define OCTAL_HOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00762">chan_skinny.c:762</a></div></div>
<div class="ttc" id="structast__state__cb__info_html"><div class="ttname"><a href="../../df/d4c/structast__state__cb__info.html">ast_state_cb_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00102">pbx.h:102</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01117">bridge.h:1117</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_ada540a5f25f7302dc1a3d17ccfa59b10"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#ada540a5f25f7302dc1a3d17ccfa59b10">skinny_subchannel::nat</a></div><div class="ttdeci">int nat</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01399">chan_skinny.c:1399</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a7a6b6fb79c15404797f6c29b22d490eb"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a7a6b6fb79c15404797f6c29b22d490eb">skinny_subchannel::dialType</a></div><div class="ttdeci">int dialType</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01409">chan_skinny.c:1409</a></div></div>
<div class="ttc" id="structstation__capabilities_html_a40463b645a8340db77d51cbbacf2a9ee"><div class="ttname"><a href="../../d6/d32/structstation__capabilities.html#a40463b645a8340db77d51cbbacf2a9ee">station_capabilities::frames</a></div><div class="ttdeci">uint32_t frames</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00339">chan_skinny.c:339</a></div></div>
<div class="ttc" id="structstimulus__message_html_a9343bb7a21618047055c833ea497d1fe"><div class="ttname"><a href="../../df/d52/structstimulus__message.html#a9343bb7a21618047055c833ea497d1fe">stimulus_message::stimulusInstance</a></div><div class="ttdeci">uint32_t stimulusInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00320">chan_skinny.c:320</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a73c8243c4af2fae81ddd15e650203a58"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a73c8243c4af2fae81ddd15e650203a58">KEYDEF_CONNWITHCONF</a></div><div class="ttdeci">#define KEYDEF_CONNWITHCONF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00701">chan_skinny.c:701</a></div></div>
<div class="ttc" id="channel_8h_html_a0d78cf79bf535beab2c8928f68632c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a0d78cf79bf535beab2c8928f68632c2e">ast_channel_named_pickupgroups_set</a></div><div class="ttdeci">void ast_channel_named_pickupgroups_set(struct ast_channel *chan, struct ast_namedgroups *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01103">channel_internal_api.c:1103</a></div></div>
<div class="ttc" id="structline__stat__res__message_html_a54c4c4fcc87cdc8712a6b9808f7e4215"><div class="ttname"><a href="../../d6/d52/structline__stat__res__message.html#a54c4c4fcc87cdc8712a6b9808f7e4215">line_stat_res_message::lineDisplayName</a></div><div class="ttdeci">char lineDisplayName[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00544">chan_skinny.c:544</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a026894645364d25ec3e91575d9748cb9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a026894645364d25ec3e91575d9748cb9">transmit_response_bysession</a></div><div class="ttdeci">static int transmit_response_bysession(struct skinnysession *s, struct skinny_req *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02377">chan_skinny.c:2377</a></div></div>
<div class="ttc" id="format__cap_8h_html_a0c30a7fc5698f5e075cfe620cddfc7f1"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a0c30a7fc5698f5e075cfe620cddfc7f1">ast_format_cap_append_by_type</a></div><div class="ttdeci">int ast_format_cap_append_by_type(struct ast_format_cap *cap, enum ast_media_type type)</div><div class="ttdoc">Add all codecs Asterisk knows about for a specific type to the capabilities structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00216">format_cap.c:216</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html_a3080582051acdac2e28c1e6101951c26"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html#a3080582051acdac2e28c1e6101951c26">call_info_message_variable::unknown3</a></div><div class="ttdeci">uint32_t unknown3</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01134">chan_skinny.c:1134</a></div></div>
<div class="ttc" id="test__config_8c_html_aecdc7cbd5dfa76493c0212caa55d706c"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a></div><div class="ttdeci">static struct aco_type item</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l01463">test_config.c:1463</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html_a26d5bae76d83086900174b266fd2cd82"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html#a26d5bae76d83086900174b266fd2cd82">definetimedate_message::hour</a></div><div class="ttdeci">uint32_t hour</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00554">chan_skinny.c:554</a></div></div>
<div class="ttc" id="structmedia__qualifier_html_af22582b468205e3b1c3681dc5c28aa6b"><div class="ttname"><a href="../../d6/df7/structmedia__qualifier.html#af22582b468205e3b1c3681dc5c28aa6b">media_qualifier::vad</a></div><div class="ttdeci">uint32_t vad</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00463">chan_skinny.c:463</a></div></div>
<div class="ttc" id="structskinny__line_html_a2efc6bdb9c9890f335d6c66e1285cd5d"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#a2efc6bdb9c9890f335d6c66e1285cd5d">skinny_line::mwi_event_sub</a></div><div class="ttdeci">struct ast_mwi_subscriber * mwi_event_sub</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01469">chan_skinny.c:1469</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac03a7756e5b40fb80fede65fcb4d6bc4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac03a7756e5b40fb80fede65fcb4d6bc4">DEFAULT_AUTH_TIMEOUT</a></div><div class="ttdeci">#define DEFAULT_AUTH_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00189">chan_skinny.c:189</a></div></div>
<div class="ttc" id="structmedia__qualifier_html_a9b36626dc275b826b3249e374a34e89b"><div class="ttname"><a href="../../d6/df7/structmedia__qualifier.html#a9b36626dc275b826b3249e374a34e89b">media_qualifier::packets</a></div><div class="ttdeci">uint32_t packets</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00464">chan_skinny.c:464</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a240fa2ebaa98bd76495b1cefde05660a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a240fa2ebaa98bd76495b1cefde05660a">control2str</a></div><div class="ttdeci">static char * control2str(int ind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05183">chan_skinny.c:5183</a></div></div>
<div class="ttc" id="structsoft__key__definitions_html_ada8f9c34ea6de0264c2d808acf540ad2"><div class="ttname"><a href="../../df/de2/structsoft__key__definitions.html#ada8f9c34ea6de0264c2d808acf540ad2">soft_key_definitions::count</a></div><div class="ttdeci">const int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00915">chan_skinny.c:915</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a612b5ef8f2e99eb2e95f8002301173d4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a612b5ef8f2e99eb2e95f8002301173d4">auth_limit</a></div><div class="ttdeci">static int auth_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00203">chan_skinny.c:203</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00162">rtp_engine.h:162</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a77a80ba99f861709ca9b68528c3341be"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a77a80ba99f861709ca9b68528c3341be">KEYMASK_ALL</a></div><div class="ttdeci">#define KEYMASK_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00732">chan_skinny.c:732</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab185c974c2da13dfd3d0fba53d1c4966"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab185c974c2da13dfd3d0fba53d1c4966">SOFTKEY_HOLD</a></div><div class="ttdeci">#define SOFTKEY_HOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00712">chan_skinny.c:712</a></div></div>
<div class="ttc" id="format__cap_8h_html_aefb7d3623f4d8a582168e7aaf509459c"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aefb7d3623f4d8a582168e7aaf509459c">ast_format_cap_count</a></div><div class="ttdeci">size_t ast_format_cap_count(const struct ast_format_cap *cap)</div><div class="ttdoc">Get the number of formats present within the capabilities structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00395">format_cap.c:395</a></div></div>
<div class="ttc" id="endpoints_8h_html_a04bfc77dacce061c28fa31e2b86827e8"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a04bfc77dacce061c28fa31e2b86827e8">ast_endpoint_set_state</a></div><div class="ttdeci">void ast_endpoint_set_state(struct ast_endpoint *endpoint, enum ast_endpoint_state state)</div><div class="ttdoc">Updates the state of the given endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00407">main/endpoints.c:407</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a14da74571081caf219c70f4dc49499d8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a14da74571081caf219c70f4dc49499d8">SKINNY_DEVICE_7920</a></div><div class="ttdeci">#define SKINNY_DEVICE_7920</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01270">chan_skinny.c:1270</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a60a505427fdd444c262281da8d1eb251"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a60a505427fdd444c262281da8d1eb251">skinny_senddigit_begin</a></div><div class="ttdeci">static int skinny_senddigit_begin(struct ast_channel *ast, char digit)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05135">chan_skinny.c:5135</a></div></div>
<div class="ttc" id="structcall__info__message_html_ad0242c30736ce0106e4e87b36eec15cc"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#ad0242c30736ce0106e4e87b36eec15cc">call_info_message::lastRedirectingReason</a></div><div class="ttdeci">uint32_t lastRedirectingReason</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00513">chan_skinny.c:513</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a53ad496d6da260000dc29655a3c18ff6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a53ad496d6da260000dc29655a3c18ff6">OCTAL_ANSWER</a></div><div class="ttdeci">#define OCTAL_ANSWER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00770">chan_skinny.c:770</a></div></div>
<div class="ttc" id="structcall__state__message_html_a3c8ec1b11804b48f666007331e0c90ba"><div class="ttname"><a href="../../d2/ded/structcall__state__message.html#a3c8ec1b11804b48f666007331e0c90ba">call_state_message::lineInstance</a></div><div class="ttdeci">uint32_t lineInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01066">chan_skinny.c:1066</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a5344deefcbdcca938001314e81ea195a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a5344deefcbdcca938001314e81ea195a">AST_CONTROL_REDIRECTING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00300">include/asterisk/frame.h:300</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acc14fb0f0a85307f390ff9dc63133fd3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acc14fb0f0a85307f390ff9dc63133fd3">transmit_callinfo</a></div><div class="ttdeci">static void transmit_callinfo(struct skinny_device *d, int instance, int callid, char *fromname, char *fromnum, char *toname, char *tonum, int calldirection, char *origtonum, char *origtoname)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02465">chan_skinny.c:2465</a></div></div>
<div class="ttc" id="structforward__stat__message_html_a1c3cbe199ec696d90ca356b34a79d55a"><div class="ttname"><a href="../../d9/d05/structforward__stat__message.html#a1c3cbe199ec696d90ca356b34a79d55a">forward_stat_message::fwdbusy</a></div><div class="ttdeci">uint32_t fwdbusy</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00527">chan_skinny.c:527</a></div></div>
<div class="ttc" id="structsoft__key__set__definition_html"><div class="ttname"><a href="../../d8/d6b/structsoft__key__set__definition.html">soft_key_set_definition</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01042">chan_skinny.c:1042</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4a1884cde93e53bef32ca85c194a1d05"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a></div><div class="ttdeci">#define AST_LIST_EMPTY(head)</div><div class="ttdoc">Checks whether the specified list contains any entries. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00449">linkedlists.h:449</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afb27a398e598ed3454176b129c7df4ca"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afb27a398e598ed3454176b129c7df4ca">callstate2str_threadbuf</a></div><div class="ttdeci">static struct ast_threadstorage callstate2str_threadbuf</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00278">chan_skinny.c:278</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad76e598e25826354e1ee83e49498ae29"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad76e598e25826354e1ee83e49498ae29">transmit_serviceurlstat</a></div><div class="ttdeci">static void transmit_serviceurlstat(struct skinny_device *d, int instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03389">chan_skinny.c:3389</a></div></div>
<div class="ttc" id="structclear__display__message_html_a255ac0cfa2a98311b2aa3976bdfacf98"><div class="ttname"><a href="../../db/d49/structclear__display__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">clear_display_message::space</a></div><div class="ttdeci">uint32_t space</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00636">chan_skinny.c:636</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875">AST_CONTROL_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00282">include/asterisk/frame.h:282</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="structcapabilities__res__message_html_ac665dc2214c0a6f27c0b17f5d88032ea"><div class="ttname"><a href="../../d3/db0/structcapabilities__res__message.html#ac665dc2214c0a6f27c0b17f5d88032ea">capabilities_res_message::caps</a></div><div class="ttdeci">struct station_capabilities caps[SKINNY_MAX_CAPABILITIES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00350">chan_skinny.c:350</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7341024ae1e485aaad445b8d2504b446"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7341024ae1e485aaad445b8d2504b446">skinny_newcall</a></div><div class="ttdeci">static void * skinny_newcall(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04823">chan_skinny.c:4823</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac7c647097c3d56b2632df943946e7c53"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac7c647097c3d56b2632df943946e7c53">substate2str_threadbuf</a></div><div class="ttdeci">static struct ast_threadstorage substate2str_threadbuf</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00275">chan_skinny.c:275</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a669bfc638ff207829d2e063533bcd7e8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a669bfc638ff207829d2e063533bcd7e8">SKINNY_DEVICE_7975</a></div><div class="ttdeci">#define SKINNY_DEVICE_7975</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01268">chan_skinny.c:1268</a></div></div>
<div class="ttc" id="channel_8h_html_ab5f3776fda943e52820ceeee5835c1b4"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab5f3776fda943e52820ceeee5835c1b4">ast_channel_register</a></div><div class="ttdeci">int ast_channel_register(const struct ast_channel_tech *tech)</div><div class="ttdoc">Register a channel technology (a new channel driver) Called by a channel module to register the kind ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00539">channel.c:539</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6aeb19612127b1e5b27bbaf1950b922d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6aeb19612127b1e5b27bbaf1950b922d">handle_skinny_show_device</a></div><div class="ttdeci">static char * handle_skinny_show_device(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdoc">Show device information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04308">chan_skinny.c:4308</a></div></div>
<div class="ttc" id="app__queue_8c_html_a5633b1433389cec21ade3811bbe9ca5b"><div class="ttname"><a href="../../da/dfb/app__queue_8c.html#a5633b1433389cec21ade3811bbe9ca5b">text</a></div><div class="ttdeci">char * text</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/app__queue_8c_source.html#l01508">app_queue.c:1508</a></div></div>
<div class="ttc" id="structforward__stat__message_html_a2a34e8a2d2777cf9b7ca0596732befd2"><div class="ttname"><a href="../../d9/d05/structforward__stat__message.html#a2a34e8a2d2777cf9b7ca0596732befd2">forward_stat_message::fwdallnum</a></div><div class="ttdeci">char fwdallnum[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00526">chan_skinny.c:526</a></div></div>
<div class="ttc" id="strings_8h_html_a7fc844c12b769ccded05e7514036e241"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a></div><div class="ttdeci">#define ast_str_alloca(init_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00800">strings.h:800</a></div></div>
<div class="ttc" id="format_8h_html_a082f0fca94b18ba466f6e28d3ccb2fc8"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a></div><div class="ttdeci">const char * ast_format_get_name(const struct ast_format *format)</div><div class="ttdoc">Get the name associated with a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00334">format.c:334</a></div></div>
<div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="extconf_8c_html_a81d26348827b996085d4cb6be3e2c348"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#a81d26348827b996085d4cb6be3e2c348">ast_verbose</a></div><div class="ttdeci">void ast_verbose(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02207">extconf.c:2207</a></div></div>
<div class="ttc" id="unionskinny__data_html_aaa71639d4715a03ba89b940efb207a6c"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#aaa71639d4715a03ba89b940efb207a6c">skinny_data::displaypromptstatus</a></div><div class="ttdeci">struct display_prompt_status_message displaypromptstatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01166">chan_skinny.c:1166</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a717fbb6c33d3e97eda9e83439fcfc9f6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a717fbb6c33d3e97eda9e83439fcfc9f6">BT_FORWARDALL</a></div><div class="ttdeci">#define BT_FORWARDALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00596">chan_skinny.c:596</a></div></div>
<div class="ttc" id="structskinny__subline_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#a78d4847658b695383d849efd12399b38">skinny_subline::exten</a></div><div class="ttdeci">char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01508">chan_skinny.c:1508</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="unionskinny__data_html_a77702a509517291eaa6e1e919179233b"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a77702a509517291eaa6e1e919179233b">skinny_data::activatecallplane</a></div><div class="ttdeci">struct activate_call_plane_message activatecallplane</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01183">chan_skinny.c:1183</a></div></div>
<div class="ttc" id="structenbloc__call__message_html_aaa9b00db6f95d4932ee8d3b825c73bca"><div class="ttname"><a href="../../d3/df0/structenbloc__call__message.html#aaa9b00db6f95d4932ee8d3b825c73bca">enbloc_call_message::calledParty</a></div><div class="ttdeci">char calledParty[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00314">chan_skinny.c:314</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a438aa458007ed6ee184241b872aafdb2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a438aa458007ed6ee184241b872aafdb2">transmit_reset</a></div><div class="ttdeci">static void transmit_reset(struct skinny_device *d, int fullrestart)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03303">chan_skinny.c:3303</a></div></div>
<div class="ttc" id="structskinny__device_html_a970f3be80cbd08a1591eb8588f3cd54b"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#a970f3be80cbd08a1591eb8588f3cd54b">skinny_device::cap</a></div><div class="ttdeci">struct ast_format_cap * cap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01588">chan_skinny.c:1588</a></div></div>
<div class="ttc" id="structspeed__dial__stat__res__message_html_acd27bc25ce21f3ab7dfe7d0c53763f04"><div class="ttname"><a href="../../dd/d11/structspeed__dial__stat__res__message.html#acd27bc25ce21f3ab7dfe7d0c53763f04">speed_dial_stat_res_message::speedDialNumber</a></div><div class="ttdeci">uint32_t speedDialNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00535">chan_skinny.c:535</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a6f85ba232050ff932d804b62e6e848cd"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a6f85ba232050ff932d804b62e6e848cd">ast_rtp_codecs_set_framing</a></div><div class="ttdeci">void ast_rtp_codecs_set_framing(struct ast_rtp_codecs *codecs, unsigned int framing)</div><div class="ttdoc">Set the framing used for a set of codecs. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l01558">rtp_engine.c:1558</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1fc4646ed08dd658e9bfeb2d56f12d3a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1fc4646ed08dd658e9bfeb2d56f12d3a">htolel</a></div><div class="ttdeci">#define htolel(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00222">chan_skinny.c:222</a></div></div>
<div class="ttc" id="structskinny__line_html_a70701ca9c2641bcb1740286273a0473a"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#a70701ca9c2641bcb1740286273a0473a">skinny_line::device</a></div><div class="ttdeci">struct skinny_device * device</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01475">chan_skinny.c:1475</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aad84a156f8b9295691bb77ea45dfdce4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aad84a156f8b9295691bb77ea45dfdce4">soft_key_template_default</a></div><div class="ttdeci">static struct soft_key_template_definition soft_key_template_default[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00888">chan_skinny.c:888</a></div></div>
<div class="ttc" id="structskinny__line_html_ae5e68fb86600e9f1e67bb18aaa19f78a"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#ae5e68fb86600e9f1e67bb18aaa19f78a">skinny_line::lock</a></div><div class="ttdeci">SKINNY_LINE_OPTIONS ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01467">chan_skinny.c:1467</a></div></div>
<div class="ttc" id="unionskinny__data_html_add5d6dea275e110fc365fe66953b27a8"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#add5d6dea275e110fc365fe66953b27a8">skinny_data::bkspmessage</a></div><div class="ttdeci">struct bksp_req_message bkspmessage</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01202">chan_skinny.c:1202</a></div></div>
<div class="ttc" id="structforward__stat__message_html_ad53edfe4cc9f758d9ed850e79e478209"><div class="ttname"><a href="../../d9/d05/structforward__stat__message.html#ad53edfe4cc9f758d9ed850e79e478209">forward_stat_message::fwdnoanswernum</a></div><div class="ttdeci">char fwdnoanswernum[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00530">chan_skinny.c:530</a></div></div>
<div class="ttc" id="acl_8h_html_a49d1eefe77636e2a63ad013afa0fc3b5"><div class="ttname"><a href="../../d5/d59/acl_8h.html#a49d1eefe77636e2a63ad013afa0fc3b5">ast_str2tos</a></div><div class="ttdeci">int ast_str2tos(const char *value, unsigned int *tos)</div><div class="ttdoc">Convert a string to the appropriate TOS value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l00967">acl.c:967</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3bb0cce3c6fbeabf3fa67e0a316cf535"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3bb0cce3c6fbeabf3fa67e0a316cf535">SKINNY_DEVICE_7937</a></div><div class="ttdeci">#define SKINNY_DEVICE_7937</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01264">chan_skinny.c:1264</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae5dc85a5d8ede916fd4c3f50ff488cd1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae5dc85a5d8ede916fd4c3f50ff488cd1">SKINNY_LINE_OPTIONS</a></div><div class="ttdeci">#define SKINNY_LINE_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01420">chan_skinny.c:1420</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1e5e3d08eff5e2357e75c01e127e7922"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a></div><div class="ttdeci">char * ast_category_browse(struct ast_config *config, const char *prev_name)</div><div class="ttdoc">Browse categories. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03328">extconf.c:3328</a></div></div>
<div class="ttc" id="unionskinny__data_html_ac6a060847a0ae4c9ce457a22c4df61fa"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#ac6a060847a0ae4c9ce457a22c4df61fa">skinny_data::definetimedate</a></div><div class="ttdeci">struct definetimedate_message definetimedate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01168">chan_skinny.c:1168</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac61b30de0f14a38efdbefa8262be2ac6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac61b30de0f14a38efdbefa8262be2ac6">end_session</a></div><div class="ttdeci">static void end_session(struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02336">chan_skinny.c:2336</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a61a919d439daa2a587713f7bc615734c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a61a919d439daa2a587713f7bc615734c">skinny_header_size</a></div><div class="ttdeci">static int skinny_header_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01222">chan_skinny.c:1222</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2d1224352bf30cb08f222355450e4930"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2d1224352bf30cb08f222355450e4930">SKINNY_PROGRESS</a></div><div class="ttdeci">#define SKINNY_PROGRESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01297">chan_skinny.c:1297</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afdd465471ea50755ff86f47ead660ea0"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afdd465471ea50755ff86f47ead660ea0">start_rtp</a></div><div class="ttdeci">static void start_rtp(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04753">chan_skinny.c:4753</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__channel_html_a8f64897c7ccc5c13f276d1d07c4e7095"><div class="ttname"><a href="../../df/d3c/structast__channel.html#a8f64897c7ccc5c13f276d1d07c4e7095">ast_channel::data</a></div><div class="ttdeci">const char * data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00083">channel_internal_api.c:83</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa67a34c1ad43d40c76151aac0120bdc1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa67a34c1ad43d40c76151aac0120bdc1">codec_skinny2ast</a></div><div class="ttdeci">static struct ast_format * codec_skinny2ast(enum skinny_codecs skinnycodec)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02105">chan_skinny.c:2105</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip4_html_aaf0b83c81dec67533a9edcf9f4c3c760"><div class="ttname"><a href="../../d2/d39/structstart__media__transmission__message__ip4.html#aaf0b83c81dec67533a9edcf9f4c3c760">start_media_transmission_message_ip4::payloadType</a></div><div class="ttdeci">uint32_t payloadType</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00474">chan_skinny.c:474</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html_ab20b0c7772544cf5d318507f34231fbe"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html#ab20b0c7772544cf5d318507f34231fbe">definetimedate_message::timestamp</a></div><div class="ttdeci">uint32_t timestamp</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00558">chan_skinny.c:558</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a20185c5e569b4f8b26e80fc4f32ce216"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a20185c5e569b4f8b26e80fc4f32ce216">SKINNY_DEVICE_OPTIONS</a></div><div class="ttdeci">#define SKINNY_DEVICE_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01561">chan_skinny.c:1561</a></div></div>
<div class="ttc" id="structcall__info__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">call_info_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00505">chan_skinny.c:505</a></div></div>
<div class="ttc" id="structforward__stat__message_html_a987293a1c8fcaf937487ecbe613f0c52"><div class="ttname"><a href="../../d9/d05/structforward__stat__message.html#a987293a1c8fcaf937487ecbe613f0c52">forward_stat_message::lineNumber</a></div><div class="ttdeci">uint32_t lineNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00524">chan_skinny.c:524</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa6752ab977ca12d5f27c6c6970dae085"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa6752ab977ca12d5f27c6c6970dae085">skinny_indicate</a></div><div class="ttdeci">static int skinny_indicate(struct ast_channel *ast, int ind, const void *data, size_t datalen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05297">chan_skinny.c:5297</a></div></div>
<div class="ttc" id="io_8h_html"><div class="ttname"><a href="../../dc/dac/io_8h.html">io.h</a></div><div class="ttdoc">I/O Management (derived from Cheops-NG) </div></div>
<div class="ttc" id="chan__skinny_8c_html_adcba01fd94435658f19c16a842d33330"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#adcba01fd94435658f19c16a842d33330">config_load</a></div><div class="ttdeci">static int config_load(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l08443">chan_skinny.c:8443</a></div></div>
<div class="ttc" id="threadstorage_8h_html"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html">threadstorage.h</a></div><div class="ttdoc">Definitions to aid in the use of thread local storage. </div></div>
<div class="ttc" id="chan__skinny_8c_html_ae2a02a450e18eeb46029c20efadd4ab3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae2a02a450e18eeb46029c20efadd4ab3">ALARM_MESSAGE</a></div><div class="ttdeci">#define ALARM_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00368">chan_skinny.c:368</a></div></div>
<div class="ttc" id="format__cache_8h_html_ad02ea989608ad5180d04cb0c4e75294c"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#ad02ea989608ad5180d04cb0c4e75294c">ast_format_g722</a></div><div class="ttdeci">struct ast_format * ast_format_g722</div><div class="ttdoc">Built-in cached g722 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00111">format_cache.c:111</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac86178f50162e13fc455e3c3aa8d24b6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac86178f50162e13fc455e3c3aa8d24b6">DISPLAY_PROMPT_STATUS_MESSAGE_VARIABLE</a></div><div class="ttdeci">#define DISPLAY_PROMPT_STATUS_MESSAGE_VARIABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01147">chan_skinny.c:1147</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9c4c1972f2abf119ed32017093861213"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9c4c1972f2abf119ed32017093861213">OCTAL_RESUME</a></div><div class="ttdeci">#define OCTAL_RESUME</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00769">chan_skinny.c:769</a></div></div>
<div class="ttc" id="structskinny__line_html_a040f76b1cd9a7d2442611e105c605695"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#a040f76b1cd9a7d2442611e105c605695">skinny_line::newmsgs</a></div><div class="ttdeci">int newmsgs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01479">chan_skinny.c:1479</a></div></div>
<div class="ttc" id="unionskinny__data_html_a0f8fb34867e607e388414b68163a7ab9"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a0f8fb34867e607e388414b68163a7ab9">skinny_data::setmicrophone</a></div><div class="ttdeci">struct set_microphone_message setmicrophone</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01188">chan_skinny.c:1188</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a33d2f7a83eef8e9bd1b39f8e38c150f7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a33d2f7a83eef8e9bd1b39f8e38c150f7">UNREGISTER_MESSAGE</a></div><div class="ttdeci">#define UNREGISTER_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00400">chan_skinny.c:400</a></div></div>
<div class="ttc" id="structcapabilities__res__message_html"><div class="ttname"><a href="../../d3/db0/structcapabilities__res__message.html">capabilities_res_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00348">chan_skinny.c:348</a></div></div>
<div class="ttc" id="abstract__jb_8h_html"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html">abstract_jb.h</a></div><div class="ttdoc">Common implementation-independent jitterbuffer stuff. </div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structsoft__key__set__res__message_html_ab19f86d91e65941777c4e0c5a840fdae"><div class="ttname"><a href="../../d4/d70/structsoft__key__set__res__message.html#ab19f86d91e65941777c4e0c5a840fdae">soft_key_set_res_message::softKeySetDefinition</a></div><div class="ttdeci">struct soft_key_set_definition softKeySetDefinition[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01051">chan_skinny.c:1051</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a></div><div class="ttdeci">ast_transfer_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01115">bridge.h:1115</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae9b6fcdb72411c824c32c66735bc441c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae9b6fcdb72411c824c32c66735bc441c">push_callinfo</a></div><div class="ttdeci">static void push_callinfo(struct skinny_subline *subline, struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02603">chan_skinny.c:2603</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a610dfde5df1301f6c347b10415678e0f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a610dfde5df1301f6c347b10415678e0f">LINE_STATE_REQ_MESSAGE</a></div><div class="ttdeci">#define LINE_STATE_REQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00358">chan_skinny.c:358</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa36e72b77f1b80881cd0a9fcca66ce19"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a></div><div class="ttdeci">#define AST_LIST_REMOVE(head, elm, field)</div><div class="ttdoc">Removes a specific entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00855">linkedlists.h:855</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6c4119bfe726809a67361ef8873aebb1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6c4119bfe726809a67361ef8873aebb1">BT_SPEEDDIAL</a></div><div class="ttdeci">#define BT_SPEEDDIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00593">chan_skinny.c:593</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8122a36b30f8a86ffe3a06548fa8903c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8122a36b30f8a86ffe3a06548fa8903c">transmit_displaynotify</a></div><div class="ttdeci">static void transmit_displaynotify(struct skinny_device *d, const char *text, int t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02820">chan_skinny.c:2820</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4e1cd9416902608f4249e5ecd8caf578"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4e1cd9416902608f4249e5ecd8caf578">SKINNY_LAMP_FLASH</a></div><div class="ttdeci">#define SKINNY_LAMP_FLASH</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01319">chan_skinny.c:1319</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a433816a4c8748c37ec6ff4d6fe0430aa"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a433816a4c8748c37ec6ff4d6fe0430aa">SKINNY_DEVICE_7905</a></div><div class="ttdeci">#define SKINNY_DEVICE_7905</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01269">chan_skinny.c:1269</a></div></div>
<div class="ttc" id="structspeed__dial__stat__res__message_html_a2e227f2e07370c68d9abeaca3dc883fb"><div class="ttname"><a href="../../dd/d11/structspeed__dial__stat__res__message.html#a2e227f2e07370c68d9abeaca3dc883fb">speed_dial_stat_res_message::speedDialDirNumber</a></div><div class="ttdeci">char speedDialDirNumber[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00536">chan_skinny.c:536</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a195b2c39c09113953814aa800dd06e7f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a195b2c39c09113953814aa800dd06e7f">AST_CONTROL_WINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00287">include/asterisk/frame.h:287</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a526c9d413d9b96dfea81eae19b0619b5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a526c9d413d9b96dfea81eae19b0619b5">KEYDEF_DADFD</a></div><div class="ttdeci">#define KEYDEF_DADFD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00700">chan_skinny.c:700</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3c6159fb829fb3916ace06ed837f7b04"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3c6159fb829fb3916ace06ed837f7b04">SOFTKEY_CFWDNOANSWER</a></div><div class="ttdeci">#define SOFTKEY_CFWDNOANSWER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00716">chan_skinny.c:716</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">call_info_message_variable::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01129">chan_skinny.c:1129</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="http_8c_html_af9b32121c4ad80b0887a3d73fd24de5f"><div class="ttname"><a href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a></div><div class="ttdeci">const char * ext</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00147">http.c:147</a></div></div>
<div class="ttc" id="structskinnysession_html"><div class="ttname"><a href="../../db/d98/structskinnysession.html">skinnysession</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01613">chan_skinny.c:1613</a></div></div>
<div class="ttc" id="structskinny__subline_html"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html">skinny_subline</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01501">chan_skinny.c:1501</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="musiconhold_8h_html_a52fead32f69533450f3c05b2e6960149"><div class="ttname"><a href="../../dc/d07/musiconhold_8h.html#a52fead32f69533450f3c05b2e6960149">ast_moh_stop</a></div><div class="ttdeci">void ast_moh_stop(struct ast_channel *chan)</div><div class="ttdoc">Turn off music on hold on a given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07876">channel.c:7876</a></div></div>
<div class="ttc" id="structast__mwi__subscriber_html"><div class="ttname"><a href="../../de/d41/structast__mwi__subscriber.html">ast_mwi_subscriber</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00219">mwi.c:219</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_abe6753ebe7fd05e1561f837b71f81372"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#abe6753ebe7fd05e1561f837b71f81372">TYPE_LINE</a></div><div class="ttdeci">#define TYPE_LINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07763">chan_skinny.c:7763</a></div></div>
<div class="ttc" id="unionskinny__data_html_a29a4718641ccff30ca7b21d7710c8bd3"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a29a4718641ccff30ca7b21d7710c8bd3">skinny_data::offhook</a></div><div class="ttdeci">struct offhook_message offhook</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01185">chan_skinny.c:1185</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip6_html_a255ac0cfa2a98311b2aa3976bdfacf98"><div class="ttname"><a href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a255ac0cfa2a98311b2aa3976bdfacf98">open_receive_channel_ack_message_ip6::space</a></div><div class="ttdeci">uint32_t space</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00385">chan_skinny.c:385</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7af1a229503a9bef7747f704271515d6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7af1a229503a9bef7747f704271515d6">skinnydebug</a></div><div class="ttdeci">static int skinnydebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00146">chan_skinny.c:146</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afd3be8e865f060b68db4d7c966489e0a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afd3be8e865f060b68db4d7c966489e0a">firstdigittimeout</a></div><div class="ttdeci">static int firstdigittimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01357">chan_skinny.c:1357</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip4_html"><div class="ttname"><a href="../../de/db6/structopen__receive__channel__ack__message__ip4.html">open_receive_channel_ack_message_ip4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00377">chan_skinny.c:377</a></div></div>
<div class="ttc" id="structskinny__serviceurl_html"><div class="ttname"><a href="../../d3/d52/structskinny__serviceurl.html">skinny_serviceurl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01536">chan_skinny.c:1536</a></div></div>
<div class="ttc" id="structast__tm_html_a994c4f4519ba57e186580d21cc86f9e5"><div class="ttname"><a href="../../d5/d84/structast__tm.html#a994c4f4519ba57e186580d21cc86f9e5">ast_tm::tm_year</a></div><div class="ttdeci">int tm_year</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00041">localtime.h:41</a></div></div>
<div class="ttc" id="structopen__receive__channel__message_html_a9b36626dc275b826b3249e374a34e89b"><div class="ttname"><a href="../../d1/df8/structopen__receive__channel__message.html#a9b36626dc275b826b3249e374a34e89b">open_receive_channel_message::packets</a></div><div class="ttdeci">uint32_t packets</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00668">chan_skinny.c:668</a></div></div>
<div class="ttc" id="structskinny__serviceurl_html_a70701ca9c2641bcb1740286273a0473a"><div class="ttname"><a href="../../d3/d52/structskinny__serviceurl.html#a70701ca9c2641bcb1740286273a0473a">skinny_serviceurl::device</a></div><div class="ttdeci">struct skinny_device * device</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01541">chan_skinny.c:1541</a></div></div>
<div class="ttc" id="structcall__info__message_html_a34632365a3c39125e0bdafc01503c191"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#a34632365a3c39125e0bdafc01503c191">call_info_message::callingPartyName</a></div><div class="ttdeci">char callingPartyName[40]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00501">chan_skinny.c:501</a></div></div>
<div class="ttc" id="unionskinny__data_html_a23a2176cab0bee9f41d7b1af10f8f6cd"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a23a2176cab0bee9f41d7b1af10f8f6cd">skinny_data::speeddial</a></div><div class="ttdeci">struct speed_dial_stat_res_message speeddial</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01171">chan_skinny.c:1171</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a844a39ac2662cbc0d7eaa6122ac5ae71ac9f09a33a0a55d0ae8035371435217bd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac9f09a33a0a55d0ae8035371435217bd">SKINNY_CODEC_ALAW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00176">chan_skinny.c:176</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab1dc8844196e417a34c61c035b86dfce"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab1dc8844196e417a34c61c035b86dfce">transmit_startmediatransmission</a></div><div class="ttdeci">static void transmit_startmediatransmission(struct skinny_device *d, struct skinny_subchannel *sub, struct sockaddr_in dest, struct ast_format *format, unsigned int framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03035">chan_skinny.c:3035</a></div></div>
<div class="ttc" id="structskinny__subline_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#ac25ea00ee3f082df06e0cf468cbde240">skinny_subline::context</a></div><div class="ttdeci">char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01507">chan_skinny.c:1507</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad7eb02cd7bbbf8559c8af0322e7560ed"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad7eb02cd7bbbf8559c8af0322e7560ed">OCTAL_MEETME</a></div><div class="ttdeci">#define OCTAL_MEETME</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00775">chan_skinny.c:775</a></div></div>
<div class="ttc" id="format__cache_8h_html_a7c28268f53182d9b82ddd6a4e7c91fa2"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a7c28268f53182d9b82ddd6a4e7c91fa2">ast_format_none</a></div><div class="ttdeci">struct ast_format * ast_format_none</div><div class="ttdoc">Built-in &quot;null&quot; format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00251">format_cache.c:251</a></div></div>
<div class="ttc" id="structast__rtp__glue_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_rtp_glue::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00722">rtp_engine.h:722</a></div></div>
<div class="ttc" id="structdisplay__prinotify__message__variable_html_ab5627d8d8b095c198e2523c44ca380ac"><div class="ttname"><a href="../../dc/d7e/structdisplay__prinotify__message__variable.html#ab5627d8d8b095c198e2523c44ca380ac">display_prinotify_message_variable::timeout</a></div><div class="ttdeci">uint32_t timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01142">chan_skinny.c:1142</a></div></div>
<div class="ttc" id="structserver__res__message_html"><div class="ttname"><a href="../../dd/d7b/structserver__res__message.html">server_res_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00651">chan_skinny.c:651</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a5664ba9ada8edc9a6112efdd609a8216"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a5664ba9ada8edc9a6112efdd609a8216">skinny_subchannel::callid</a></div><div class="ttdeci">unsigned int callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01392">chan_skinny.c:1392</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390af9665e40f4c9ef6fcfc3e179c6986c41"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af9665e40f4c9ef6fcfc3e179c6986c41">AST_CONTROL_PVT_CAUSE_CODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00310">include/asterisk/frame.h:310</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa1ca2cdc74f2438ac4aa7e1f9200518a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa1ca2cdc74f2438ac4aa7e1f9200518a">cleanup_stale_contexts</a></div><div class="ttdeci">static void cleanup_stale_contexts(char *new, char *old)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02187">chan_skinny.c:2187</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3f33857933c786a6cbf62a75e214bcf6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3f33857933c786a6cbf62a75e214bcf6">skinnyreload</a></div><div class="ttdeci">static int skinnyreload</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01228">chan_skinny.c:1228</a></div></div>
<div class="ttc" id="structast__cli__args_html_a2a7a1aa13a4f14075411123a4495593c"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">ast_cli_args::line</a></div><div class="ttdeci">const char * line</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00162">cli.h:162</a></div></div>
<div class="ttc" id="structskinny__line_html_af1a546dcc75e70c92fed8bdf9cd06108"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#af1a546dcc75e70c92fed8bdf9cd06108">skinny_line::sub</a></div><div class="ttdeci">struct skinny_line::@135 sub</div></div>
<div class="ttc" id="structskinny__serviceurl_html_a386b1ceb8439324f21a98f520321c24b"><div class="ttname"><a href="../../d3/d52/structskinny__serviceurl.html#a386b1ceb8439324f21a98f520321c24b">skinny_serviceurl::list</a></div><div class="ttdeci">struct skinny_serviceurl::@141 list</div></div>
<div class="ttc" id="structregister__ack__message_html_a80e8d2b07d4ba102a31aea2fe00730b1"><div class="ttname"><a href="../../d5/dfd/structregister__ack__message.html#a80e8d2b07d4ba102a31aea2fe00730b1">register_ack_message::secondaryKeepAlive</a></div><div class="ttdeci">uint32_t secondaryKeepAlive</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00415">chan_skinny.c:415</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a66496dc99061becc829b16fb6a77b932"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a66496dc99061becc829b16fb6a77b932">BT_HOLD</a></div><div class="ttdeci">#define BT_HOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00594">chan_skinny.c:594</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_add8c1a6457db2951e7a1ca2395e3da62"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#add8c1a6457db2951e7a1ca2395e3da62">SOFTKEY_GPICKUP</a></div><div class="ttdeci">#define SOFTKEY_GPICKUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00727">chan_skinny.c:727</a></div></div>
<div class="ttc" id="structcall__info__message_html_aa68938e371fea91ad4b64381877bd381"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#aa68938e371fea91ad4b64381877bd381">call_info_message::reference</a></div><div class="ttdeci">uint32_t reference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00506">chan_skinny.c:506</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa4f7a1e0fe94c644277ca765f1d5862c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa4f7a1e0fe94c644277ca765f1d5862c">SOFTKEY_PICKUP</a></div><div class="ttdeci">#define SOFTKEY_PICKUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00726">chan_skinny.c:726</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1e690afcba3679a7fd5129ee3dd13015"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1e690afcba3679a7fd5129ee3dd13015">skinny_devicestate</a></div><div class="ttdeci">static int skinny_devicestate(const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07705">chan_skinny.c:7705</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="structselect__soft__keys__message_html"><div class="ttname"><a href="../../d8/d2e/structselect__soft__keys__message.html">select_soft_keys_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01056">chan_skinny.c:1056</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a90b8b765d7701285c46cd5b10f116605"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a90b8b765d7701285c46cd5b10f116605">handle_skinny_reset</a></div><div class="ttdeci">static char * handle_skinny_reset(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03964">chan_skinny.c:3964</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_adb22dc7c9c0af667f244ba501ecfa322"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#adb22dc7c9c0af667f244ba501ecfa322">_skinny_show_line</a></div><div class="ttdeci">static char * _skinny_show_line(int type, int fd, struct mansession *s, const struct message *m, int argc, const char *const *argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04443">chan_skinny.c:4443</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip6_html"><div class="ttname"><a href="../../dc/d3f/structstart__media__transmission__message__ip6.html">start_media_transmission_message_ip6</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00479">chan_skinny.c:479</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="structalarm__message_html_a5ab6b72d81c896f4c469856a79b86575"><div class="ttname"><a href="../../d7/d39/structalarm__message.html#a5ab6b72d81c896f4c469856a79b86575">alarm_message::alarmParam2</a></div><div class="ttdeci">uint32_t alarmParam2</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00373">chan_skinny.c:373</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af30802e0b186701ede732aa55d3e0efe"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af30802e0b186701ede732aa55d3e0efe">OCTAL_CONFRN</a></div><div class="ttdeci">#define OCTAL_CONFRN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00772">chan_skinny.c:772</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a32e92b48b0a2031591b276ad3c795424"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a32e92b48b0a2031591b276ad3c795424">SUBSTATE_DIALING</a></div><div class="ttdeci">#define SUBSTATE_DIALING</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01382">chan_skinny.c:1382</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a744ad78b0f1ed0a0f678528bc64b1b86"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a744ad78b0f1ed0a0f678528bc64b1b86">SOFTKEY_CFWDBUSY</a></div><div class="ttdeci">#define SOFTKEY_CFWDBUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00715">chan_skinny.c:715</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a77b3d102d05720db559c40b9d419ca72"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a77b3d102d05720db559c40b9d419ca72">complete_skinny_devices</a></div><div class="ttdeci">static char * complete_skinny_devices(const char *word, int state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03904">chan_skinny.c:3904</a></div></div>
<div class="ttc" id="pbx_8h_html_a721c6ba091102f155a586e09b2a526bf"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a721c6ba091102f155a586e09b2a526bf">ast_context_remove_extension</a></div><div class="ttdeci">int ast_context_remove_extension(const char *context, const char *extension, int priority, const char *registrar)</div><div class="ttdoc">Simply remove extension from context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04952">pbx.c:4952</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a99699195fcfae2b3bb37af6bab5baba2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a99699195fcfae2b3bb37af6bab5baba2">dbgcli_buf</a></div><div class="ttdeci">char dbgcli_buf[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00147">chan_skinny.c:147</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html_a45625939c10a213179064cf1afda449b"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html#a45625939c10a213179064cf1afda449b">call_info_message_variable::unknown4</a></div><div class="ttdeci">uint32_t unknown4</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01135">chan_skinny.c:1135</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7630050c845c27631b8c88529c069fb6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7630050c845c27631b8c88529c069fb6">_transmit_displayprinotifyvar</a></div><div class="ttdeci">static void _transmit_displayprinotifyvar(struct skinny_device *d, const char *text, const char *extratext, int timeout, int priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02872">chan_skinny.c:2872</a></div></div>
<div class="ttc" id="stringfields_8h_html"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html">stringfields.h</a></div></div>
<div class="ttc" id="utils_8h_html"><div class="ttname"><a href="../../d5/d60/utils_8h.html">utils.h</a></div><div class="ttdoc">Utility functions. </div></div>
<div class="ttc" id="chan__skinny_8c_html_ae3ccec26212b7c55493ffa4865cbb88d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae3ccec26212b7c55493ffa4865cbb88d">SOFTKEY_NONE</a></div><div class="ttdeci">#define SOFTKEY_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00709">chan_skinny.c:709</a></div></div>
<div class="ttc" id="channel_8h_html_a092d4e67b0bda0f99b02a1534ee75408"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a092d4e67b0bda0f99b02a1534ee75408">ast_print_group</a></div><div class="ttdeci">char * ast_print_group(char *buf, int buflen, ast_group_t group)</div><div class="ttdoc">Print call and pickup groups into buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08133">channel.c:8133</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a50b7fe33bba67b74dd7b746539e81000"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a50b7fe33bba67b74dd7b746539e81000">AST_CONTROL_PROCEEDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00292">include/asterisk/frame.h:292</a></div></div>
<div class="ttc" id="structast__cli__entry_html_a1bd7a8575ca2650132d636d65dcda2f6"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">ast_cli_entry::args</a></div><div class="ttdeci">int args</div><div class="ttdoc">This gets set in ast_cli_register() </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00185">cli.h:185</a></div></div>
<div class="ttc" id="format__cache_8h_html_aaeda14ddafc8c3d2efb20ece9ab29b36"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#aaeda14ddafc8c3d2efb20ece9ab29b36">ast_format_h261</a></div><div class="ttdeci">struct ast_format * ast_format_h261</div><div class="ttdoc">Built-in cached h261 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00166">format_cache.c:166</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae4983e199d8ab27568a4e09f740379d1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae4983e199d8ab27568a4e09f740379d1">transmit_stopmediatransmission</a></div><div class="ttdeci">static void transmit_stopmediatransmission(struct skinny_device *d, struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03020">chan_skinny.c:3020</a></div></div>
<div class="ttc" id="structoffhook__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../de/dd1/structoffhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">offhook_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00326">chan_skinny.c:326</a></div></div>
<div class="ttc" id="pbx_8h_html_a08abc5aa22cce4a793000a796b791076"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a08abc5aa22cce4a793000a796b791076">ast_context_destroy_by_name</a></div><div class="ttdeci">int ast_context_destroy_by_name(const char *context, const char *registrar)</div><div class="ttdoc">Destroy a context by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08244">pbx.c:8244</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac6a9f3498f9afffecfd78c485af41556"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a></div><div class="ttdeci">const char * astman_get_header(const struct message *m, char *var)</div><div class="ttdoc">Get header from mananger transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02820">manager.c:2820</a></div></div>
<div class="ttc" id="structskinnysession_html_a70701ca9c2641bcb1740286273a0473a"><div class="ttname"><a href="../../db/d98/structskinnysession.html#a70701ca9c2641bcb1740286273a0473a">skinnysession::device</a></div><div class="ttdeci">struct skinny_device * device</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01620">chan_skinny.c:1620</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a62fe3f5742eb03458a14f2dd241d093a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a62fe3f5742eb03458a14f2dd241d093a">SKINNY_DEVICE_SCCPGATEWAY_BRI</a></div><div class="ttdeci">#define SKINNY_DEVICE_SCCPGATEWAY_BRI</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01278">chan_skinny.c:1278</a></div></div>
<div class="ttc" id="module_8h_html_a15896c26e51e8162df5eb9a0124c841f"><div class="ttname"><a href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a></div><div class="ttdeci">#define ast_module_unref(mod)</div><div class="ttdoc">Release a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00469">module.h:469</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a987b03603d0ce69e4e50662c7c3fb744"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a987b03603d0ce69e4e50662c7c3fb744">handle_button_template_req_message</a></div><div class="ttdeci">static int handle_button_template_req_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06703">chan_skinny.c:6703</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad451e16121f4d06792f2069b7f80ec3e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad451e16121f4d06792f2069b7f80ec3e">skinny_cfwd_cb</a></div><div class="ttdeci">static int skinny_cfwd_cb(const void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04907">chan_skinny.c:4907</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html_a6304cef6765c691d6ba64ad62ace69c8"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html#a6304cef6765c691d6ba64ad62ace69c8">call_info_message_variable::calldirection</a></div><div class="ttdeci">uint32_t calldirection</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01131">chan_skinny.c:1131</a></div></div>
<div class="ttc" id="channel_8h_html_aaced431562223538a94e0e69cf94151a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a></div><div class="ttdeci">struct ast_format * ast_channel_readformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00856">channel_internal_api.c:856</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#ac25ea00ee3f082df06e0cf468cbde240">skinny_speeddial::context</a></div><div class="ttdeci">char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01525">chan_skinny.c:1525</a></div></div>
<div class="ttc" id="structsoft__key__template__res__message_html_ad6fd242c4e813675148ea902f327e4f1"><div class="ttname"><a href="../../d0/d60/structsoft__key__template__res__message.html#ad6fd242c4e813675148ea902f327e4f1">soft_key_template_res_message::softKeyTemplateDefinition</a></div><div class="ttdeci">struct soft_key_template_definition softKeyTemplateDefinition[32]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01037">chan_skinny.c:1037</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_adc662dd104b4c72d7f0128f6fab448ba"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#adc662dd104b4c72d7f0128f6fab448ba">callstate2str</a></div><div class="ttdeci">static char * callstate2str(int ind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02342">chan_skinny.c:2342</a></div></div>
<div class="ttc" id="structbutton__template__res__message_html"><div class="ttname"><a href="../../db/df8/structbutton__template__res__message.html">button_template_res_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00616">chan_skinny.c:616</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip6_html_aad8282aaef639f3310f833e9b44a541e"><div class="ttname"><a href="../../dc/d3f/structstart__media__transmission__message__ip6.html#aad8282aaef639f3310f833e9b44a541e">start_media_transmission_message_ip6::conferenceId</a></div><div class="ttdeci">uint32_t conferenceId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00480">chan_skinny.c:480</a></div></div>
<div class="ttc" id="structregister__message_html_ad44b615021ed3ccb734fcaf583ef4a03"><div class="ttname"><a href="../../db/dc9/structregister__message.html#ad44b615021ed3ccb734fcaf583ef4a03">register_message::type</a></div><div class="ttdeci">uint32_t type</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00294">chan_skinny.c:294</a></div></div>
<div class="ttc" id="cli_8h_html_a2a43f82ed19e84f386787154f2f22fc9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a2a43f82ed19e84f386787154f2f22fc9">ast_cli_complete</a></div><div class="ttdeci">char * ast_cli_complete(const char *word, const char *const choices[], int pos)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/main_2cli_8c_source.html#l01811">main/cli.c:1811</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00301">include/asterisk/frame.h:301</a></div></div>
<div class="ttc" id="format__cap_8h_html_a4fadd3c35438f866e29eddc68283bce6"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a4fadd3c35438f866e29eddc68283bce6">ast_format_cap_iscompatible_format</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cap_iscompatible_format(const struct ast_format_cap *cap, const struct ast_format *format)</div><div class="ttdoc">Find if ast_format is within the capabilities of the ast_format_cap object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00583">format_cap.c:583</a></div></div>
<div class="ttc" id="utils_8h_html_a595e2f8aa398f4bd21e381c3211235fe"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a></div><div class="ttdeci">#define ast_pthread_create_background(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00567">utils.h:567</a></div></div>
<div class="ttc" id="format__cap_8h_html_a26c6676e9f2dd9535ea0d5bbd45f98b6"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a></div><div class="ttdeci">int ast_format_cap_update_by_allow_disallow(struct ast_format_cap *cap, const char *list, int allowing)</div><div class="ttdoc">Parse an &quot;allow&quot; or &quot;deny&quot; list and modify a format capabilities structure accordingly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00320">format_cap.c:320</a></div></div>
<div class="ttc" id="channel_8h_html_af0566a4937a5bb1323825e4ef89c0e5a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af0566a4937a5bb1323825e4ef89c0e5a">ast_channel_tech_set</a></div><div class="ttdeci">void ast_channel_tech_set(struct ast_channel *chan, const struct ast_channel_tech *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00773">channel_internal_api.c:773</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5f79a841c8232e56197ca904bcb03e3a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5f79a841c8232e56197ca904bcb03e3a">OCTAL_ENTRNUM</a></div><div class="ttdeci">#define OCTAL_ENTRNUM</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00791">chan_skinny.c:791</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9f3bcf87db314d362bb2ca29ed73c71c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9f3bcf87db314d362bb2ca29ed73c71c">HEADSET_STATUS_MESSAGE</a></div><div class="ttdeci">#define HEADSET_STATUS_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00402">chan_skinny.c:402</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a63014e35eb513761fb09a412b6514df7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a63014e35eb513761fb09a412b6514df7">transmit_keepaliveack</a></div><div class="ttdeci">static void transmit_keepaliveack(struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03320">chan_skinny.c:3320</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac1e82c5502fb2ccc665c0dff7163abec"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac1e82c5502fb2ccc665c0dff7163abec">skinny_locksub</a></div><div class="ttdeci">static void skinny_locksub(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02008">chan_skinny.c:2008</a></div></div>
<div class="ttc" id="structstop__tone__message_html_aa68938e371fea91ad4b64381877bd381"><div class="ttname"><a href="../../df/d76/structstop__tone__message.html#aa68938e371fea91ad4b64381877bd381">stop_tone_message::reference</a></div><div class="ttdeci">uint32_t reference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00430">chan_skinny.c:430</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9e4a5b612101b227ea903b83bd9a863a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9e4a5b612101b227ea903b83bd9a863a">skinny_write</a></div><div class="ttdeci">static int skinny_write(struct ast_channel *ast, struct ast_frame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05091">chan_skinny.c:5091</a></div></div>
<div class="ttc" id="channel_8h_html_acd7d6e4cf3615bf47af84d2e3e47c302"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acd7d6e4cf3615bf47af84d2e3e47c302">ast_channel_string2amaflag</a></div><div class="ttdeci">enum ama_flags ast_channel_string2amaflag(const char *flag)</div><div class="ttdoc">Convert a string to a detail record AMA flag. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04405">channel.c:4405</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9">AST_EXTENSION_ONHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00069">pbx.h:69</a></div></div>
<div class="ttc" id="structast__jb__conf_html_ab5d708c3e3489b6fd1f92b19939c18e8"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">ast_jb_conf::resync_threshold</a></div><div class="ttdeci">long resync_threshold</div><div class="ttdoc">Resynchronization threshold of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00076">abstract_jb.h:76</a></div></div>
<div class="ttc" id="structregister__message_html_a255ac0cfa2a98311b2aa3976bdfacf98"><div class="ttname"><a href="../../db/dc9/structregister__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">register_message::space</a></div><div class="ttdeci">uint32_t space</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00296">chan_skinny.c:296</a></div></div>
<div class="ttc" id="structcall__info__message_html_aaa9b00db6f95d4932ee8d3b825c73bca"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#aaa9b00db6f95d4932ee8d3b825c73bca">call_info_message::calledParty</a></div><div class="ttdeci">char calledParty[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00504">chan_skinny.c:504</a></div></div>
<div class="ttc" id="structast__ha_html"><div class="ttname"><a href="../../dc/d1d/structast__ha.html">ast_ha</a></div><div class="ttdoc">internal representation of ACL entries In principle user applications would have no need for this...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d59/acl_8h_source.html#l00051">acl.h:51</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_abac98cb3e71fd56c03f4dcf58a5f9edf"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#abac98cb3e71fd56c03f4dcf58a5f9edf">soft_key_default_SLAconnectednotactive</a></div><div class="ttdeci">static const uint8_t soft_key_default_SLAconnectednotactive[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01010">chan_skinny.c:1010</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6b153ba03b4ade85409b370040668b3a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6b153ba03b4ade85409b370040668b3a">handle_enbloc_call_message</a></div><div class="ttdeci">static int handle_enbloc_call_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06942">chan_skinny.c:6942</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a534c6987ccc3a01cbbdc12543f551a40"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a534c6987ccc3a01cbbdc12543f551a40">skinny_line_destroy</a></div><div class="ttdeci">static struct skinny_line * skinny_line_destroy(struct skinny_line *l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01691">chan_skinny.c:1691</a></div></div>
<div class="ttc" id="structast__endpoint_html"><div class="ttname"><a href="../../d4/df2/structast__endpoint.html">ast_endpoint</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00054">main/endpoints.c:54</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1c1b2ec6acc543dbd96c917364d733e3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1c1b2ec6acc543dbd96c917364d733e3">KEYDEF_ONHOLD</a></div><div class="ttdeci">#define KEYDEF_ONHOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00696">chan_skinny.c:696</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8227b4051ba16df5db68f28486a42ccd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8227b4051ba16df5db68f28486a42ccd">dumpsub</a></div><div class="ttdeci">static void dumpsub(struct skinny_subchannel *sub, int forcehangup)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05997">chan_skinny.c:5997</a></div></div>
<div class="ttc" id="structserver__res__message_html_a696fd8eaa59bbf6a3b8c4d20c3a39ee0"><div class="ttname"><a href="../../dd/d7b/structserver__res__message.html#a696fd8eaa59bbf6a3b8c4d20c3a39ee0">server_res_message::serverIpAddr</a></div><div class="ttdeci">uint32_t serverIpAddr[5]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00654">chan_skinny.c:654</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac51b83cebe667d7da9acbd85ba9438bf"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac51b83cebe667d7da9acbd85ba9438bf">MAXDISPLAYNOTIFYSTR</a></div><div class="ttdeci">#define MAXDISPLAYNOTIFYSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01113">chan_skinny.c:1113</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae249c0e277cfa32192406b19fd675d6c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae249c0e277cfa32192406b19fd675d6c">SKINNY_LINECONTAINER</a></div><div class="ttdeci">#define SKINNY_LINECONTAINER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01545">chan_skinny.c:1545</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa0698f06ea990283d266b4fad44a49c1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa0698f06ea990283d266b4fad44a49c1">BUTTON_TEMPLATE_RES_MESSAGE</a></div><div class="ttdeci">#define BUTTON_TEMPLATE_RES_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00561">chan_skinny.c:561</a></div></div>
<div class="ttc" id="structskinny__device_html_a70da1427655ecdaa64e57324e51f440b"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#a70da1427655ecdaa64e57324e51f440b">skinny_device::activeline</a></div><div class="ttdeci">struct skinny_line * activeline</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01587">chan_skinny.c:1587</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html">config.h</a></div><div class="ttdoc">Configuration File Parser. </div></div>
<div class="ttc" id="structast__state__cb__info_html_a6f3d8aa9a90b701e81dad4cc4a56be67"><div class="ttname"><a href="../../df/d4c/structast__state__cb__info.html#a6f3d8aa9a90b701e81dad4cc4a56be67">ast_state_cb_info::exten_state</a></div><div class="ttdeci">enum ast_extension_states exten_state</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00104">pbx.h:104</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a24514343553b05c66e5b7d16e2df45cc"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a24514343553b05c66e5b7d16e2df45cc">matchdigittimeout</a></div><div class="ttdeci">static int matchdigittimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01363">chan_skinny.c:1363</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae306befb4a743eb3e38f3f2bb2dbd59f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae306befb4a743eb3e38f3f2bb2dbd59f">SKINNY_DEVICE_7971</a></div><div class="ttdeci">#define SKINNY_DEVICE_7971</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01254">chan_skinny.c:1254</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a17ed4e86c02577dfabab4ab53195236d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a17ed4e86c02577dfabab4ab53195236d">used_context</a></div><div class="ttdeci">static char used_context[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00207">chan_skinny.c:207</a></div></div>
<div class="ttc" id="structsoft__key__template__res__message_html"><div class="ttname"><a href="../../d0/d60/structsoft__key__template__res__message.html">soft_key_template_res_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01033">chan_skinny.c:1033</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_accf94247104a4dad10a909e2ae2a73fd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#accf94247104a4dad10a909e2ae2a73fd">skinny_new</a></div><div class="ttdeci">static struct ast_channel * skinny_new(struct skinny_line *l, struct skinny_subline *subline, int state, const struct ast_assigned_ids *assignedids, const struct ast_channel *requestor, int direction)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05371">chan_skinny.c:5371</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip6_html_ada112a060915d95bc25fb2917272914f"><div class="ttname"><a href="../../dc/d3f/structstart__media__transmission__message__ip6.html#ada112a060915d95bc25fb2917272914f">start_media_transmission_message_ip6::packetSize</a></div><div class="ttdeci">uint32_t packetSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00485">chan_skinny.c:485</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a79703f70916908d1d8a2cbb2c319a287"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a79703f70916908d1d8a2cbb2c319a287">BT_CUST_LINE</a></div><div class="ttdeci">#define BT_CUST_LINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00614">chan_skinny.c:614</a></div></div>
<div class="ttc" id="structcall__state__message_html_a02033745eb42ba576e671f4a24c39c48"><div class="ttname"><a href="../../d2/ded/structcall__state__message.html#a02033745eb42ba576e671f4a24c39c48">call_state_message::callState</a></div><div class="ttdeci">uint32_t callState</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01065">chan_skinny.c:1065</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af3ac1b0d1c42719b924361fb782507e5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af3ac1b0d1c42719b924361fb782507e5">STIMULUS_FORWARDALL</a></div><div class="ttdeci">#define STIMULUS_FORWARDALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00577">chan_skinny.c:577</a></div></div>
<div class="ttc" id="structskinny__subline_html_ad7db5ac917208487a2d37d4f5fb8ba62"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#ad7db5ac917208487a2d37d4f5fb8ba62">skinny_subline::sub</a></div><div class="ttdeci">struct skinny_subchannel * sub</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01504">chan_skinny.c:1504</a></div></div>
<div class="ttc" id="manager_8h_html_a420f0f755e1c3378b45ca7f6f0669ffa"><div class="ttname"><a href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a></div><div class="ttdeci">#define EVENT_FLAG_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00071">manager.h:71</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acc3e276fa79c2b4a0c67a5a588540439"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acc3e276fa79c2b4a0c67a5a588540439">complete_skinny_reset</a></div><div class="ttdeci">static char * complete_skinny_reset(const char *line, const char *word, int pos, int state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03923">chan_skinny.c:3923</a></div></div>
<div class="ttc" id="structskinny__line_html_af3f800a0a8df8a1cd55b45ab566cbbd7"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#af3f800a0a8df8a1cd55b45ab566cbbd7">skinny_line::container</a></div><div class="ttdeci">struct skinny_container * container</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01468">chan_skinny.c:1468</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="structonhook__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../d9/d36/structonhook__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">onhook_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00332">chan_skinny.c:332</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html">definetimedate_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00549">chan_skinny.c:549</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structskinny__addon_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../dc/d11/structskinny__addon.html#adf04f66344e3fb0a6f6a69bf39d19902">skinny_addon::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01555">chan_skinny.c:1555</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aea5308550d9d24974ceb40dd660b2fd9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aea5308550d9d24974ceb40dd660b2fd9">default_device</a></div><div class="ttdeci">static struct skinny_device_options * default_device</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01609">chan_skinny.c:1609</a></div></div>
<div class="ttc" id="structskinny__line_html_aedffa4337f76fdcdc808e16affbafd04"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#aedffa4337f76fdcdc808e16affbafd04">skinny_line::activesub</a></div><div class="ttdeci">struct skinny_subchannel * activesub</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01470">chan_skinny.c:1470</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a197292bfde7a2846f7c698f8f3162cb0"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a197292bfde7a2846f7c698f8f3162cb0">DEBUG_AUDIO</a></div><div class="ttdeci">#define DEBUG_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00151">chan_skinny.c:151</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a28cd8e9f9005e25624f993d6edd46755"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a28cd8e9f9005e25624f993d6edd46755">AST_CONTROL_OFFHOOK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00284">include/asterisk/frame.h:284</a></div></div>
<div class="ttc" id="channel_8h_html_a921a2d48faa9ed99a59d33e7aefa7888"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a921a2d48faa9ed99a59d33e7aefa7888">ast_channel_set_rawreadformat</a></div><div class="ttdeci">void ast_channel_set_rawreadformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00828">channel_internal_api.c:828</a></div></div>
<div class="ttc" id="structskinnysession_html_ac7cbd331d33fcd5a6f81a257975e4cd5"><div class="ttname"><a href="../../db/d98/structskinnysession.html#ac7cbd331d33fcd5a6f81a257975e4cd5">skinnysession::sin</a></div><div class="ttdeci">struct sockaddr_in sin</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01617">chan_skinny.c:1617</a></div></div>
<div class="ttc" id="structskinny__subline_html_ac3e175c9d195ee6447cf9550e27a9e6b"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#ac3e175c9d195ee6447cf9550e27a9e6b">skinny_subline::line</a></div><div class="ttdeci">struct skinny_line * line</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01503">chan_skinny.c:1503</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a62cd08cec7e430e139db507e041f3461"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a62cd08cec7e430e139db507e041f3461">send_displaypromptstatus</a></div><div class="ttdeci">static void send_displaypromptstatus(struct skinny_device *d, const char *text, const char *extratext, int t, int instance, int callid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02965">chan_skinny.c:2965</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8a678ba2da3542aefebf876d6849ad6a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8a678ba2da3542aefebf876d6849ad6a">REGISTER_REJ_MESSAGE</a></div><div class="ttdeci">#define REGISTER_REJ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00641">chan_skinny.c:641</a></div></div>
<div class="ttc" id="structskinnysession_html_ad80305b5e16da9c2675d5f057bd69386"><div class="ttname"><a href="../../db/d98/structskinnysession.html#ad80305b5e16da9c2675d5f057bd69386">skinnysession::start</a></div><div class="ttdeci">struct timeval start</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01616">chan_skinny.c:1616</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aadfb4dbc65b363d775663843e970a551"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aadfb4dbc65b363d775663843e970a551">skinny_dialer</a></div><div class="ttdeci">static void skinny_dialer(struct skinny_subchannel *sub, int timedout)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04858">chan_skinny.c:4858</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad268131a568c152eb33100f6ce020586"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad268131a568c152eb33100f6ce020586">OCTAL_CFWDALL</a></div><div class="ttdeci">#define OCTAL_CFWDALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00764">chan_skinny.c:764</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a3978338bfe35df207f003782e428fb0c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a3978338bfe35df207f003782e428fb0c">ast_rtp_instance_stop</a></div><div class="ttdeci">void ast_rtp_instance_stop(struct ast_rtp_instance *instance)</div><div class="ttdoc">Stop an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02183">rtp_engine.c:2183</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a009e81151b19671f42b5e84ab6a619f4"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a009e81151b19671f42b5e84ab6a619f4">AST_CONTROL_SRCUPDATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00297">include/asterisk/frame.h:297</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_abc0af116eb82cd2fef2601d565c64ecc"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#abc0af116eb82cd2fef2601d565c64ecc">KEEP_ALIVE_ACK_MESSAGE</a></div><div class="ttdeci">#define KEEP_ALIVE_ACK_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00662">chan_skinny.c:662</a></div></div>
<div class="ttc" id="pbx_8h_html_a2e3c5fe3db1ee8cd78f2bf58c9416aa4"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a></div><div class="ttdeci">struct ast_context * ast_context_find(const char *name)</div><div class="ttdoc">Find a context. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04174">extconf.c:4174</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="format_8h_html_a738c58eca291b71de4422e95bff27400"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cmp(const struct ast_format *format1, const struct ast_format *format2)</div><div class="ttdoc">Compare two formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00201">format.c:201</a></div></div>
<div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00038">format.h:38</a></div></div>
<div class="ttc" id="structstop__tone__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../df/d76/structstop__tone__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">stop_tone_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00429">chan_skinny.c:429</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad73ed1504b54b773683ef36cfc453440"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad73ed1504b54b773683ef36cfc453440">qos</a></div><div class="ttdeci">static struct @132 qos</div></div>
<div class="ttc" id="devicestate_8h_html_a62a8e6bc4b82dd797e505688f9f29bff"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a></div><div class="ttdeci">int ast_devstate_changed(enum ast_device_state state, enum ast_devstate_cache cachable, const char *fmt,...)</div><div class="ttdoc">Tells Asterisk the State for Device is changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00510">devicestate.c:510</a></div></div>
<div class="ttc" id="structcall__info__message_html_a7548702b6da21b433d5305849b21e181"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#a7548702b6da21b433d5305849b21e181">call_info_message::originalCalledPartyName</a></div><div class="ttdeci">char originalCalledPartyName[40]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00508">chan_skinny.c:508</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1ff5f7d1d41bc8f06fc676e62f11839f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1ff5f7d1d41bc8f06fc676e62f11839f">default_line_struct</a></div><div class="ttdeci">static struct skinny_line_options default_line_struct</div></div>
<div class="ttc" id="structast__module__info_html_a1aff0615d43e1dfa5c72c1c7d1c6d709"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">ast_module_info::self</a></div><div class="ttdeci">struct ast_module * self</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00342">module.h:342</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a6c3bc21b5c24c99cd06f88105366407f"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a6c3bc21b5c24c99cd06f88105366407f">skinny_subchannel::vrtp</a></div><div class="ttdeci">struct ast_rtp_instance * vrtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01391">chan_skinny.c:1391</a></div></div>
<div class="ttc" id="bridge_8h_html_a982e0e652b9f03abf1ec584c137791a3"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3">ast_bridge_transfer_blind</a></div><div class="ttdeci">enum ast_transfer_result ast_bridge_transfer_blind(int is_external, struct ast_channel *transferer, const char *exten, const char *context, transfer_channel_cb new_channel_cb, void *user_data)</div><div class="ttdoc">Blind transfer target to the extension and context provided. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04477">bridge.c:4477</a></div></div>
<div class="ttc" id="callerid_8h_html_a1c25633b1ed63682c95ec613d7cbe559"><div class="ttname"><a href="../../de/d47/callerid_8h.html#a1c25633b1ed63682c95ec613d7cbe559">ast_callerid_merge</a></div><div class="ttdeci">char * ast_callerid_merge(char *buf, int bufsiz, const char *name, const char *num, const char *unknown)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd5/callerid_8c_source.html#l01073">callerid.c:1073</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6e99a595511d5057826b95311fa49465"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6e99a595511d5057826b95311fa49465">default_line</a></div><div class="ttdeci">static struct skinny_line_options * default_line</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01497">chan_skinny.c:1497</a></div></div>
<div class="ttc" id="structregister__message_html_a544f40ab65ea4cec6ca3409b70c189d6"><div class="ttname"><a href="../../db/dc9/structregister__message.html#a544f40ab65ea4cec6ca3409b70c189d6">register_message::maxStreams</a></div><div class="ttdeci">uint32_t maxStreams</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00295">chan_skinny.c:295</a></div></div>
<div class="ttc" id="structast__party__caller_html_aeeb8c05290fd113bd0d1a3129898fd49"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html#aeeb8c05290fd113bd0d1a3129898fd49">ast_party_caller::ani</a></div><div class="ttdeci">struct ast_party_id ani</div><div class="ttdoc">Automatic Number Identification (ANI) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00428">channel.h:428</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7e0e27e5cfd1c478aa77a0cdc0f2b73a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7e0e27e5cfd1c478aa77a0cdc0f2b73a">SUBSTATE2STR_BUFSIZE</a></div><div class="ttdeci">#define SUBSTATE2STR_BUFSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00276">chan_skinny.c:276</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a890704c8ebdf346f09945189e79d4a09"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a890704c8ebdf346f09945189e79d4a09">SERVICEURL_STATREQ_MESSAGE</a></div><div class="ttdeci">#define SERVICEURL_STATREQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00405">chan_skinny.c:405</a></div></div>
<div class="ttc" id="structclose__receive__channel__message_html"><div class="ttname"><a href="../../d8/d78/structclose__receive__channel__message.html">close_receive_channel_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00676">chan_skinny.c:676</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00302">include/asterisk/frame.h:302</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aab811d3a4b1b82a685a59c95a451bc56"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aab811d3a4b1b82a685a59c95a451bc56">BT_CONFERENCE</a></div><div class="ttdeci">#define BT_CONFERENCE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00605">chan_skinny.c:605</a></div></div>
<div class="ttc" id="structskinny__device_html_ae868bc1a499690a02fc8052577229df9"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#ae868bc1a499690a02fc8052577229df9">skinny_device::first</a></div><div class="ttdeci">SKINNY_DEVICE_OPTIONS struct type * first</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01580">chan_skinny.c:1580</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa53f60b698c21b4f290b5defcf53ef9b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa53f60b698c21b4f290b5defcf53ef9b">skinny_reload</a></div><div class="ttdeci">static int skinny_reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l08594">chan_skinny.c:8594</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa9263b2b877126867940d57b86a8132d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa9263b2b877126867940d57b86a8132d">handle_skinny_reload</a></div><div class="ttdeci">static char * handle_skinny_reload(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03883">chan_skinny.c:3883</a></div></div>
<div class="ttc" id="channel_8h_html"><div class="ttname"><a href="../../d5/d7b/channel_8h.html">channel.h</a></div><div class="ttdoc">General Asterisk PBX channel definitions. </div></div>
<div class="ttc" id="structregister__ack__message_html_aa7c63ac4bd47bf61251998dd8c9b63ea"><div class="ttname"><a href="../../d5/dfd/structregister__ack__message.html#aa7c63ac4bd47bf61251998dd8c9b63ea">register_ack_message::keepAlive</a></div><div class="ttdeci">uint32_t keepAlive</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00412">chan_skinny.c:412</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a614267de4fb2ff491da643f89a9018ef"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a614267de4fb2ff491da643f89a9018ef">substate2str</a></div><div class="ttdeci">static char * substate2str(int ind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05524">chan_skinny.c:5524</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af0cc4efad88bd767f3cf2eacc27723bc"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af0cc4efad88bd767f3cf2eacc27723bc">skinny_rtp_glue</a></div><div class="ttdeci">static struct ast_rtp_glue skinny_rtp_glue</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03696">chan_skinny.c:3696</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a81e679dbd7beefb8f09015996b53bd27"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a81e679dbd7beefb8f09015996b53bd27">SKINNY_DEVICE_7961GE</a></div><div class="ttdeci">#define SKINNY_DEVICE_7961GE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01258">chan_skinny.c:1258</a></div></div>
<div class="ttc" id="structskinny__subline_html_a5664ba9ada8edc9a6112efdd609a8216"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#a5664ba9ada8edc9a6112efdd609a8216">skinny_subline::callid</a></div><div class="ttdeci">unsigned int callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01518">chan_skinny.c:1518</a></div></div>
<div class="ttc" id="channel_8h_html_a0c25448e9c6e2630a8a9cc96b7482cfe"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a0c25448e9c6e2630a8a9cc96b7482cfe">ast_channel_rings_set</a></div><div class="ttdeci">void ast_channel_rings_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00457">channel_internal_api.c:457</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_add30eeef22fe342e5e7e92354ece088e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#add30eeef22fe342e5e7e92354ece088e">STIMULUS_VOICEMAIL</a></div><div class="ttdeci">#define STIMULUS_VOICEMAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00582">chan_skinny.c:582</a></div></div>
<div class="ttc" id="module_8h_html_a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223"><div class="ttname"><a href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00317">module.h:317</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa1669b84b2c634fca96d1e74efe28f21"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa1669b84b2c634fca96d1e74efe28f21">SET_MICROPHONE_MESSAGE</a></div><div class="ttdeci">#define SET_MICROPHONE_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00455">chan_skinny.c:455</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a9ff41b61938f3d4dc4c82db103e7914ca0f994311315c8d856b8298bc22f7e007"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca0f994311315c8d856b8298bc22f7e007">AST_RTP_PROPERTY_NAT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00115">rtp_engine.h:115</a></div></div>
<div class="ttc" id="structdisplaytext__message_html"><div class="ttname"><a href="../../da/db8/structdisplaytext__message.html">displaytext_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00629">chan_skinny.c:629</a></div></div>
<div class="ttc" id="structregister__ack__message_html_a4b9c948b588ab48f4bd3866b36624669"><div class="ttname"><a href="../../d5/dfd/structregister__ack__message.html#a4b9c948b588ab48f4bd3866b36624669">register_ack_message::res2</a></div><div class="ttdeci">char res2[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00416">chan_skinny.c:416</a></div></div>
<div class="ttc" id="structalarm__message_html"><div class="ttname"><a href="../../d7/d39/structalarm__message.html">alarm_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00369">chan_skinny.c:369</a></div></div>
<div class="ttc" id="structast__frame_html_af51e37c9331049b1e3d250a7c8bc3c26"><div class="ttname"><a href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">ast_frame::src</a></div><div class="ttdeci">const char * src</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">include/asterisk/frame.h:181</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gabf7c909efbfc26d0d9c66786c83b8f69"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gabf7c909efbfc26d0d9c66786c83b8f69">astman_send_list_complete_end</a></div><div class="ttdeci">void astman_send_list_complete_end(struct mansession *s)</div><div class="ttdoc">End the list complete event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03245">manager.c:3245</a></div></div>
<div class="ttc" id="netsock2_8h_html_ad68264a6784dc22570eda3cb447307f8"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#ad68264a6784dc22570eda3cb447307f8">ast_sockaddr_from_sin</a></div><div class="ttdeci">#define ast_sockaddr_from_sin(addr, sin)</div><div class="ttdoc">Converts a struct sockaddr_in to a struct ast_sockaddr. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00782">netsock2.h:782</a></div></div>
<div class="ttc" id="structskinny__device_html"><div class="ttname"><a href="../../d1/db3/structskinny__device.html">skinny_device</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01578">chan_skinny.c:1578</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a360e677a1a8e92ab455b8c354a15d969"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a360e677a1a8e92ab455b8c354a15d969">SKINNY_LAMP_ON</a></div><div class="ttdeci">#define SKINNY_LAMP_ON</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01317">chan_skinny.c:1317</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a20647670601174b742f57764b0dd552e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a20647670601174b742f57764b0dd552e">OCTAL_CALLWAITING</a></div><div class="ttdeci">#define OCTAL_CALLWAITING</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00786">chan_skinny.c:786</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7821b54b29c7b74aba79884f13b3ec03"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7821b54b29c7b74aba79884f13b3ec03">ourport</a></div><div class="ttdeci">static int ourport</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01233">chan_skinny.c:1233</a></div></div>
<div class="ttc" id="structskinnysession_html_a106f983096af24b74c7297874bc4c849"><div class="ttname"><a href="../../db/d98/structskinnysession.html#a106f983096af24b74c7297874bc4c849">skinnysession::auth_timeout_sched</a></div><div class="ttdeci">int auth_timeout_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01623">chan_skinny.c:1623</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac88e5e09295f660f869eaddcb66dfdf7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac88e5e09295f660f869eaddcb66dfdf7">DEBUG_SUB</a></div><div class="ttdeci">#define DEBUG_SUB</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00149">chan_skinny.c:149</a></div></div>
<div class="ttc" id="structstart__tone__message_html_affe196e5ade32fb5073c2d5bae82fcc3"><div class="ttname"><a href="../../d0/d00/structstart__tone__message.html#affe196e5ade32fb5073c2d5bae82fcc3">start_tone_message::tone</a></div><div class="ttdeci">uint32_t tone</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00421">chan_skinny.c:421</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="channel_8h_html_a3c9c29fb2bc2b715fee335c1ffa50449"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a></div><div class="ttdeci">void ast_channel_nativeformats_set(struct ast_channel *chan, struct ast_format_cap *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00677">channel_internal_api.c:677</a></div></div>
<div class="ttc" id="structmedia__qualifier_html_a3f52bd316aba6dea4bc6374f5e4b0258"><div class="ttname"><a href="../../d6/df7/structmedia__qualifier.html#a3f52bd316aba6dea4bc6374f5e4b0258">media_qualifier::precedence</a></div><div class="ttdeci">uint32_t precedence</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00462">chan_skinny.c:462</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga920b9d3e484257c7e593452a8e36d8d4"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga920b9d3e484257c7e593452a8e36d8d4">ast_channel_stage_snapshot_done</a></div><div class="ttdeci">void ast_channel_stage_snapshot_done(struct ast_channel *chan)</div><div class="ttdoc">Clear flag to indicate channel snapshot is being staged, and publish snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01043">stasis_channels.c:1043</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8938bfa23f53a7dc4540aa8f3b00c9d5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8938bfa23f53a7dc4540aa8f3b00c9d5">SKINNY_INCOMING</a></div><div class="ttdeci">#define SKINNY_INCOMING</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01301">chan_skinny.c:1301</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a04f1e042676be8f4763d8d5a9000b1e5"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a04f1e042676be8f4763d8d5a9000b1e5">skinny_subchannel::xferor</a></div><div class="ttdeci">int xferor</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01402">chan_skinny.c:1402</a></div></div>
<div class="ttc" id="channel_8h_html_a10f23f1907b804485f62973f66cd9aef"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a></div><div class="ttdeci">struct ast_party_connected_line * ast_channel_connected(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00892">channel_internal_api.c:892</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af04603de29d6cb0402cff61df2a18878"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af04603de29d6cb0402cff61df2a18878">skinny_device_alloc</a></div><div class="ttdeci">static struct skinny_device * skinny_device_alloc(const char *dname)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01701">chan_skinny.c:1701</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aecac20e4d67a701a117a8c0d575cacb5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aecac20e4d67a701a117a8c0d575cacb5">letohl</a></div><div class="ttdeci">#define letohl(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00220">chan_skinny.c:220</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3c02c66304e1b16fb7be2e6c6b888ba6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3c02c66304e1b16fb7be2e6c6b888ba6">transmit_clear_display_message</a></div><div class="ttdeci">static void transmit_clear_display_message(struct skinny_device *d, int instance, int reference)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02787">chan_skinny.c:2787</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00031">codec.h:31</a></div></div>
<div class="ttc" id="poll-compat_8h_html_a5a0c58fa8311e94cd0ed34382aa822f9"><div class="ttname"><a href="../../d4/dfb/poll-compat_8h.html#a5a0c58fa8311e94cd0ed34382aa822f9">ast_poll</a></div><div class="ttdeci">#define ast_poll(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfb/poll-compat_8h_source.html#l00088">poll-compat.h:88</a></div></div>
<div class="ttc" id="structskinny__line_html_a06c0918fa1a1aac3d386fca59b12327c"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#a06c0918fa1a1aac3d386fca59b12327c">skinny_line::chanvars</a></div><div class="ttdeci">struct ast_variable * chanvars</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01478">chan_skinny.c:1478</a></div></div>
<div class="ttc" id="causes_8h_html_aa71419a0c598e31312477c5a644e7440"><div class="ttname"><a href="../../d4/da3/causes_8h.html#aa71419a0c598e31312477c5a644e7440">AST_CAUSE_ANSWERED_ELSEWHERE</a></div><div class="ttdeci">#define AST_CAUSE_ANSWERED_ELSEWHERE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00113">causes.h:113</a></div></div>
<div class="ttc" id="acl_8h_html"><div class="ttname"><a href="../../d5/d59/acl_8h.html">acl.h</a></div><div class="ttdoc">Access Control of various sorts. </div></div>
<div class="ttc" id="codec_8c_html_a26d06e92c695d54e16beb8070dc5461d"><div class="ttname"><a href="../../d5/def/codec_8c.html#a26d06e92c695d54e16beb8070dc5461d">codecs</a></div><div class="ttdeci">static struct ao2_container * codecs</div><div class="ttdoc">Registered codecs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/def/codec_8c_source.html#l00048">codec.c:48</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a88a234a4bca9e3085c77555b00774758"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a88a234a4bca9e3085c77555b00774758">OPEN_RECEIVE_CHANNEL_MESSAGE</a></div><div class="ttdeci">#define OPEN_RECEIVE_CHANNEL_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00664">chan_skinny.c:664</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1987a601aa87be6fb2374127af70bb0c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1987a601aa87be6fb2374127af70bb0c">htoles</a></div><div class="ttdeci">#define htoles(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00223">chan_skinny.c:223</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00053">devicestate.h:53</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad90171ebed1708939b3da7ce3fcaf4b1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad90171ebed1708939b3da7ce3fcaf4b1">_skinny_message_set</a></div><div class="ttdeci">static char * _skinny_message_set(int type, int fd, struct mansession *s, const struct message *m, int argc, const char *const *argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04652">chan_skinny.c:4652</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip6_html_a255ac0cfa2a98311b2aa3976bdfacf98"><div class="ttname"><a href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a255ac0cfa2a98311b2aa3976bdfacf98">start_media_transmission_message_ip6::space</a></div><div class="ttdeci">uint32_t space</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00482">chan_skinny.c:482</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ade22bc3bb339cf936adbcd5a32f07537"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ade22bc3bb339cf936adbcd5a32f07537">skinny_read</a></div><div class="ttdeci">static struct ast_frame * skinny_read(struct ast_channel *ast)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05081">chan_skinny.c:5081</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="sched_8h_html"><div class="ttname"><a href="../../d7/d00/sched_8h.html">sched.h</a></div><div class="ttdoc">Scheduler Routines (derived from cheops) </div></div>
<div class="ttc" id="structstation__capabilities_html"><div class="ttname"><a href="../../d6/d32/structstation__capabilities.html">station_capabilities</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00337">chan_skinny.c:337</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9197ed338ed9fc9b8fd0e9664e0a8758"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9197ed338ed9fc9b8fd0e9664e0a8758">setsubstate</a></div><div class="ttdeci">static void setsubstate(struct skinny_subchannel *sub, int state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05560">chan_skinny.c:5560</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a290744d808f70a1932e3916b0db16acb"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a290744d808f70a1932e3916b0db16acb">config_parse_variables</a></div><div class="ttdeci">static void config_parse_variables(int type, void *item, struct ast_variable *vptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07770">chan_skinny.c:7770</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a6c9398ee8989239124295d096a87bf32"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a6c9398ee8989239124295d096a87bf32">AST_FRAME_IMAGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00116">include/asterisk/frame.h:116</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a92da7b5faa7ec3709f054f179937082c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a92da7b5faa7ec3709f054f179937082c">SKINNY_DEVICE_7911</a></div><div class="ttdeci">#define SKINNY_DEVICE_7911</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01257">chan_skinny.c:1257</a></div></div>
<div class="ttc" id="structbksp__req__message_html_aa056c11f2f813407952d829437cec263"><div class="ttname"><a href="../../dc/d04/structbksp__req__message.html#aa056c11f2f813407952d829437cec263">bksp_req_message::callreference</a></div><div class="ttdeci">uint32_t callreference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00691">chan_skinny.c:691</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a557aa971164d442764950f482fa80215"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a557aa971164d442764950f482fa80215">skinny_transfer_attended</a></div><div class="ttdeci">static void skinny_transfer_attended(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05249">chan_skinny.c:5249</a></div></div>
<div class="ttc" id="structcapabilities__res__message_html_a86988a65e0d3ece7990c032c159786d6"><div class="ttname"><a href="../../d3/db0/structcapabilities__res__message.html#a86988a65e0d3ece7990c032c159786d6">capabilities_res_message::count</a></div><div class="ttdeci">uint32_t count</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00349">chan_skinny.c:349</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac0b0985852ba585ef82e6f8194012ba9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac0b0985852ba585ef82e6f8194012ba9">transmit_selectsoftkeys</a></div><div class="ttdeci">static void transmit_selectsoftkeys(struct skinny_device *d, int instance, int callid, int softkey, int mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02727">chan_skinny.c:2727</a></div></div>
<div class="ttc" id="structdisplay__prompt__status__message_html_a8c5b70179481930bfaef1fa8f6aaba74"><div class="ttname"><a href="../../da/d1e/structdisplay__prompt__status__message.html#a8c5b70179481930bfaef1fa8f6aaba74">display_prompt_status_message::callReference</a></div><div class="ttdeci">uint32_t callReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01076">chan_skinny.c:1076</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acbddfa3c6c07d0f530dce92d04c42c19"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acbddfa3c6c07d0f530dce92d04c42c19">skinny_hangup</a></div><div class="ttdeci">static int skinny_hangup(struct ast_channel *ast)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04987">chan_skinny.c:4987</a></div></div>
<div class="ttc" id="channel_8h_html_a27c4f1a52c8a53bc9e7122dc04e81344"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a27c4f1a52c8a53bc9e7122dc04e81344">ast_party_number_init</a></div><div class="ttdeci">void ast_party_number_init(struct ast_party_number *init)</div><div class="ttdoc">Initialize the given number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01644">channel.c:1644</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afaba3e566686d3d7a3f42c20aa5e882d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afaba3e566686d3d7a3f42c20aa5e882d">BT_NONE</a></div><div class="ttdeci">#define BT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00608">chan_skinny.c:608</a></div></div>
<div class="ttc" id="structast__tm_html_ada983deda100b604bee5716512453658"><div class="ttname"><a href="../../d5/d84/structast__tm.html#ada983deda100b604bee5716512453658">ast_tm::tm_mon</a></div><div class="ttdeci">int tm_mon</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00040">localtime.h:40</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_abb244de232e99bf79d4907d61387d798"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#abb244de232e99bf79d4907d61387d798">KEYDEF_SLAHOLD</a></div><div class="ttdeci">#define KEYDEF_SLAHOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00705">chan_skinny.c:705</a></div></div>
<div class="ttc" id="structopen__receive__channel__message_html_aad8282aaef639f3310f833e9b44a541e"><div class="ttname"><a href="../../d1/df8/structopen__receive__channel__message.html#aad8282aaef639f3310f833e9b44a541e">open_receive_channel_message::conferenceId</a></div><div class="ttdeci">uint32_t conferenceId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00666">chan_skinny.c:666</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_ab3786cbbff7a03241fc75dafa0c8a1c1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab3786cbbff7a03241fc75dafa0c8a1c1">ast_channel_set_readformat</a></div><div class="ttdeci">void ast_channel_set_readformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00836">channel_internal_api.c:836</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9f17dec01dd25c8e657c4f9a80b5bb6f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9f17dec01dd25c8e657c4f9a80b5bb6f">update_connectedline</a></div><div class="ttdeci">static void update_connectedline(struct skinny_subchannel *sub, const void *data, size_t datalen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03525">chan_skinny.c:3525</a></div></div>
<div class="ttc" id="pbx_8h_html_a3261603753916b98888a5a5fc1d505c3"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a3261603753916b98888a5a5fc1d505c3">ast_extension_state2str</a></div><div class="ttdeci">const char * ast_extension_state2str(int extension_state)</div><div class="ttdoc">Return string representation of the state of an extension. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03126">pbx.c:3126</a></div></div>
<div class="ttc" id="strings_8h_html_a38a896048b2ca84076864505f0aa8f01"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a></div><div class="ttdeci">#define S_COR(a, b, c)</div><div class="ttdoc">returns the equivalent of logic or for strings, with an additional boolean check: second one if not e...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00085">strings.h:85</a></div></div>
<div class="ttc" id="channel_8h_html_ac2d6607253f7e8b272d4e845474eaa9b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a></div><div class="ttdeci">int ast_softhangup(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02476">channel.c:2476</a></div></div>
<div class="ttc" id="unionskinny__data_html_a25554386850201091cc8f9e0e9031b63"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a25554386850201091cc8f9e0e9031b63">skinny_data::callinfo</a></div><div class="ttdeci">struct call_info_message callinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01189">chan_skinny.c:1189</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aeffadc396b98efd62e385678a8c1cf62"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aeffadc396b98efd62e385678a8c1cf62">DEFAULT_SKINNY_PORT</a></div><div class="ttdeci">#define DEFAULT_SKINNY_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00186">chan_skinny.c:186</a></div></div>
<div class="ttc" id="structskinny__device_html_aff045cc68524670d4355f882c7ac6271"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#aff045cc68524670d4355f882c7ac6271">skinny_device::ourip</a></div><div class="ttdeci">struct in_addr ourip</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01584">chan_skinny.c:1584</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="structmansession_html"><div class="ttname"><a href="../../d2/d8a/structmansession.html">mansession</a></div><div class="ttdoc">In case you didn&amp;#39;t read that giant block of text above the mansession_session struct, the struct mansession is named this solely to keep the API the same in Asterisk. This structure really represents data that is different from Manager action to Manager action. The mansession_session pointer contained within points to session-specific data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01625">manager.c:1625</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip6_html_aaf0b83c81dec67533a9edcf9f4c3c760"><div class="ttname"><a href="../../dc/d3f/structstart__media__transmission__message__ip6.html#aaf0b83c81dec67533a9edcf9f4c3c760">start_media_transmission_message_ip6::payloadType</a></div><div class="ttdeci">uint32_t payloadType</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00486">chan_skinny.c:486</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab2c8a9b4d1c45221578f1c38d56205d1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab2c8a9b4d1c45221578f1c38d56205d1">handle_skinny_show_line</a></div><div class="ttdeci">static char * handle_skinny_show_line(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdoc">List line information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04594">chan_skinny.c:4594</a></div></div>
<div class="ttc" id="structclear__display__message_html"><div class="ttname"><a href="../../db/d49/structclear__display__message.html">clear_display_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00635">chan_skinny.c:635</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae45808725375598a00ceb17749f33207"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae45808725375598a00ceb17749f33207">device2str</a></div><div class="ttdeci">static char * device2str(int type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03999">chan_skinny.c:3999</a></div></div>
<div class="ttc" id="unionskinny__data_html_a6fbfbc092a050d50efe85978f634df3c"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a6fbfbc092a050d50efe85978f634df3c">skinny_data::displayprinotify</a></div><div class="ttdeci">struct display_prinotify_message displayprinotify</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01207">chan_skinny.c:1207</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a60c800146db7344c89b2941999f236d4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a60c800146db7344c89b2941999f236d4">CLOSE_RECEIVE_CHANNEL_MESSAGE</a></div><div class="ttdeci">#define CLOSE_RECEIVE_CHANNEL_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00675">chan_skinny.c:675</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a76035e956bb8c2cfc5e6412fd6c02c55"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a76035e956bb8c2cfc5e6412fd6c02c55">skinny_senddigit_end</a></div><div class="ttdeci">static int skinny_senddigit_end(struct ast_channel *ast, char digit, unsigned int duration)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05140">chan_skinny.c:5140</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structreset__message_html"><div class="ttname"><a href="../../d0/dbe/structreset__message.html">reset_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00658">chan_skinny.c:658</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad4deebb4a9be4ed5eaf37f0ddb7ea361"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad4deebb4a9be4ed5eaf37f0ddb7ea361">VERSION_REQ_MESSAGE</a></div><div class="ttdeci">#define VERSION_REQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00365">chan_skinny.c:365</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae3837bf7d2100903b0651f5b22e289e9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae3837bf7d2100903b0651f5b22e289e9">TYPE_GENERAL</a></div><div class="ttdeci">#define TYPE_GENERAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07759">chan_skinny.c:7759</a></div></div>
<div class="ttc" id="unionskinny__data_html_ac8bbcfcff4905989003310cb08dedc92"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#ac8bbcfcff4905989003310cb08dedc92">skinny_data::line</a></div><div class="ttdeci">struct line_state_req_message line</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01172">chan_skinny.c:1172</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a322d898485ffd6c3c07391f381903bdd"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a322d898485ffd6c3c07391f381903bdd">ast_jb_conf::target_extra</a></div><div class="ttdeci">long target_extra</div><div class="ttdoc">amount of additional jitterbuffer adjustment </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00080">abstract_jb.h:80</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3f3cd69f7c3fbc2a03f357123c699713"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3f3cd69f7c3fbc2a03f357123c699713">SKINNY_DEVICE_30SPPLUS</a></div><div class="ttdeci">#define SKINNY_DEVICE_30SPPLUS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01243">chan_skinny.c:1243</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a844a39ac2662cbc0d7eaa6122ac5ae71ab1047faa7764bb292482f30ed7d7df4a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ab1047faa7764bb292482f30ed7d7df4a">SKINNY_CODEC_G722</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00178">chan_skinny.c:178</a></div></div>
<div class="ttc" id="structskinny__device_html_a02159522eb830fc422beb88d75da0116"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#a02159522eb830fc422beb88d75da0116">skinny_device::speeddials</a></div><div class="ttdeci">struct skinny_device::@144 speeddials</div></div>
<div class="ttc" id="chan__skinny_8c_html_a86fc6917dda3a2a55f4eafc293ecd49e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a86fc6917dda3a2a55f4eafc293ecd49e">soft_key_default_onhold</a></div><div class="ttdeci">static const uint8_t soft_key_default_onhold[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00939">chan_skinny.c:939</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae3cb99a1134ddf59030e26a027931e59"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae3cb99a1134ddf59030e26a027931e59">DEBUG_TEMPLATE</a></div><div class="ttdeci">#define DEBUG_TEMPLATE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00153">chan_skinny.c:153</a></div></div>
<div class="ttc" id="structskinny__line_html_aecc3e0d55543576db3f9175bd400ff39"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#aecc3e0d55543576db3f9175bd400ff39">skinny_line::all</a></div><div class="ttdeci">struct skinny_line::@138 all</div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aaebd37494fc87c15df52ef7243b47d98"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aaebd37494fc87c15df52ef7243b47d98">transmit_softkeysetres</a></div><div class="ttdeci">static void transmit_softkeysetres(struct skinny_device *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03244">chan_skinny.c:3244</a></div></div>
<div class="ttc" id="channel_8h_html_ac264c5bfc7884724c7d289662dd6e8ad"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac264c5bfc7884724c7d289662dd6e8ad">ast_channel_amaflags_set</a></div><div class="ttdeci">void ast_channel_amaflags_set(struct ast_channel *chan, enum ama_flags value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00411">channel_internal_api.c:411</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aedf2aa128921fe8ef1e85312ccfcec34"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aedf2aa128921fe8ef1e85312ccfcec34">SUBSTATE_CONNECTED</a></div><div class="ttdeci">#define SUBSTATE_CONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01376">chan_skinny.c:1376</a></div></div>
<div class="ttc" id="linkedlists_8h_html"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html">linkedlists.h</a></div><div class="ttdoc">A set of macros to manage forward-linked lists. </div></div>
<div class="ttc" id="structskinny__subchannel_html_ae4f2892f1e778e9c8374b103a4e69208"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#ae4f2892f1e778e9c8374b103a4e69208">skinny_subchannel::aa_sched</a></div><div class="ttdeci">int aa_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01404">chan_skinny.c:1404</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad3138cb1372ee0e7556dcc4eb5ce4b47"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad3138cb1372ee0e7556dcc4eb5ce4b47">transmit_linestatres</a></div><div class="ttdeci">static void transmit_linestatres(struct skinny_device *d, int instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03166">chan_skinny.c:3166</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a4bff167ca855d8b498c366b4bac7653e"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a4bff167ca855d8b498c366b4bac7653e">skinny_subchannel::cfwd_sched</a></div><div class="ttdeci">int cfwd_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01408">chan_skinny.c:1408</a></div></div>
<div class="ttc" id="res__fax_8c_html_a7ea220e4d14b05876af4430e9832ce47"><div class="ttname"><a href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a></div><div class="ttdeci">struct ao2_container * container</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d60/res__fax_8c_source.html#l00502">res_fax.c:502</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00068">pbx.h:68</a></div></div>
<div class="ttc" id="structast__sched__context_html"><div class="ttname"><a href="../../d7/de8/structast__sched__context.html">ast_sched_context</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00109">sched.c:109</a></div></div>
<div class="ttc" id="channel_8h_html_abbdfb98077180544657b2d16c5d25f74"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a></div><div class="ttdeci">int ast_set_write_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets write format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05890">channel.c:5890</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aecd793ced0012f548eaf003e4609e994"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aecd793ced0012f548eaf003e4609e994">SKINNY_RING_OFF</a></div><div class="ttdeci">#define SKINNY_RING_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01322">chan_skinny.c:1322</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00045">abstract_jb.h:45</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_abb2d1f1f8867d0b06cc5ef1978409923"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#abb2d1f1f8867d0b06cc5ef1978409923">soft_key_default_ringout</a></div><div class="ttdeci">static const uint8_t soft_key_default_ringout[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00983">chan_skinny.c:983</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab9f6af2c0142f36638e3cd7d240497dd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab9f6af2c0142f36638e3cd7d240497dd">immed_dialchar</a></div><div class="ttdeci">static char immed_dialchar</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00205">chan_skinny.c:205</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="structskinny__line__options_html"><div class="ttname"><a href="../../d4/db0/structskinny__line__options.html">skinny_line_options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01482">chan_skinny.c:1482</a></div></div>
<div class="ttc" id="channel_8h_html_aee83e23058d0a4111fda1f506cbda107"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aee83e23058d0a4111fda1f506cbda107">ast_get_group</a></div><div class="ttdeci">ast_group_t ast_get_group(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07718">channel.c:7718</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="endpoints_8h_html_a00db6879caf0ce423b5a35b57d01448ea18800ee482eac39e9d235ddd357b9de3"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea18800ee482eac39e9d235ddd357b9de3">AST_ENDPOINT_ONLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d61/endpoints_8h_source.html#l00057">endpoints.h:57</a></div></div>
<div class="ttc" id="structast__tm_html_a02048604d30b880033311cf542d63f92"><div class="ttname"><a href="../../d5/d84/structast__tm.html#a02048604d30b880033311cf542d63f92">ast_tm::tm_mday</a></div><div class="ttdeci">int tm_mday</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00039">localtime.h:39</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0e967f0092b2ed2450643b9842a38ebe"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0e967f0092b2ed2450643b9842a38ebe">handle_open_receive_channel_ack_message</a></div><div class="ttdeci">static int handle_open_receive_channel_ack_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06865">chan_skinny.c:6865</a></div></div>
<div class="ttc" id="unionskinny__data_html_a00a93cc2ecf0e10506731d164fd2e49d"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a00a93cc2ecf0e10506731d164fd2e49d">skinny_data::alarm</a></div><div class="ttdeci">struct alarm_message alarm</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01156">chan_skinny.c:1156</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a33435da098fa6baba656162b287d03ad"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a33435da098fa6baba656162b287d03ad">STIMULUS_REDIAL</a></div><div class="ttdeci">#define STIMULUS_REDIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00573">chan_skinny.c:573</a></div></div>
<div class="ttc" id="structregister__ack__message_html_a05c27f79b3e6af4e4a8c19ce8bccefb7"><div class="ttname"><a href="../../d5/dfd/structregister__ack__message.html#a05c27f79b3e6af4e4a8c19ce8bccefb7">register_ack_message::dateTemplate</a></div><div class="ttdeci">char dateTemplate[6]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00413">chan_skinny.c:413</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae03ddd6ebf41610db45a9d8ef3721b3a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae03ddd6ebf41610db45a9d8ef3721b3a">SUBSTATE_CONGESTION</a></div><div class="ttdeci">#define SUBSTATE_CONGESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01378">chan_skinny.c:1378</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8fdb22d136247b1f7980bbaf1ed2b7ce"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8fdb22d136247b1f7980bbaf1ed2b7ce">SOFT_KEY_EVENT_MESSAGE</a></div><div class="ttdeci">#define SOFT_KEY_EVENT_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00393">chan_skinny.c:393</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9ee8d742a1fbcff45f97842b92952610"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a></div><div class="ttdeci">static const char config[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00171">chan_skinny.c:171</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a01245cf7008ec6fc7a898f2add35d1bd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a01245cf7008ec6fc7a898f2add35d1bd">STIMULUS_DND</a></div><div class="ttdeci">#define STIMULUS_DND</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00585">chan_skinny.c:585</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2f74ea6fd6eab3eafc9fc39213034e9e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2f74ea6fd6eab3eafc9fc39213034e9e">CLEAR_PROMPT_MESSAGE</a></div><div class="ttdeci">#define CLEAR_PROMPT_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01080">chan_skinny.c:1080</a></div></div>
<div class="ttc" id="pbx_8h_html_a64a5b8fdc919806135ad427aca9e71b7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a></div><div class="ttdeci">int ast_exists_extension(struct ast_channel *c, const char *context, const char *exten, int priority, const char *callerid)</div><div class="ttdoc">Determine whether an extension exists. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04179">pbx.c:4179</a></div></div>
<div class="ttc" id="structregister__ack__message_html_a7be363918d3701aef294dc8cd25f6d80"><div class="ttname"><a href="../../d5/dfd/structregister__ack__message.html#a7be363918d3701aef294dc8cd25f6d80">register_ack_message::res</a></div><div class="ttdeci">char res[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00414">chan_skinny.c:414</a></div></div>
<div class="ttc" id="structsoft__key__set__res__message_html_a821d404bc80c2b793f4d0bd3f125928b"><div class="ttname"><a href="../../d4/d70/structsoft__key__set__res__message.html#a821d404bc80c2b793f4d0bd3f125928b">soft_key_set_res_message::softKeySetCount</a></div><div class="ttdeci">uint32_t softKeySetCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01049">chan_skinny.c:1049</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a></div><div class="ttdeci">ast_rtp_glue_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00158">rtp_engine.h:158</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a05d20dbd5d289408e887b7c267ec3eea"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a05d20dbd5d289408e887b7c267ec3eea">DEFINETIMEDATE_MESSAGE</a></div><div class="ttdeci">#define DEFINETIMEDATE_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00548">chan_skinny.c:548</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa1ba3673377bfb3503a3d15ae745a1e4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa1ba3673377bfb3503a3d15ae745a1e4">SKINNY_CALLWAIT</a></div><div class="ttdeci">#define SKINNY_CALLWAIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01294">chan_skinny.c:1294</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7008eb349a9ae2aa69c5856612583cc6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7008eb349a9ae2aa69c5856612583cc6">OCTAL_FROM</a></div><div class="ttdeci">#define OCTAL_FROM</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00782">chan_skinny.c:782</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afa1d29aab59113b0369978c165b29f65"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afa1d29aab59113b0369978c165b29f65">find_subline_by_callid</a></div><div class="ttdeci">static struct skinny_subline * find_subline_by_callid(struct skinny_device *d, int callid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01975">chan_skinny.c:1975</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0bd25f9eb8750b4d0297991c2c14cda3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0bd25f9eb8750b4d0297991c2c14cda3">SKINNY_ZIP</a></div><div class="ttdeci">#define SKINNY_ZIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01311">chan_skinny.c:1311</a></div></div>
<div class="ttc" id="channel_8h_html_ab2e0a6897707b1102ad453ea0963999f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab2e0a6897707b1102ad453ea0963999f">ast_queue_hold</a></div><div class="ttdeci">int ast_queue_hold(struct ast_channel *chan, const char *musicclass)</div><div class="ttdoc">Queue a hold frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01191">channel.c:1191</a></div></div>
<div class="ttc" id="structlines_html"><div class="ttname"><a href="../../df/d58/structlines.html">lines</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01499">chan_skinny.c:1499</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4d41e07a86f9575719f396ac801b0208"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4d41e07a86f9575719f396ac801b0208">regcontext</a></div><div class="ttdeci">static char regcontext[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00208">chan_skinny.c:208</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a67e29aa17c48ffce8b07634ac656c172"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a67e29aa17c48ffce8b07634ac656c172">ENBLOC_CALL_MESSAGE</a></div><div class="ttdeci">#define ENBLOC_CALL_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00312">chan_skinny.c:312</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a805d890f6df0e6cf5d9f281791d2a318"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a805d890f6df0e6cf5d9f281791d2a318">SKINNY_CFWD_NOANSWER</a></div><div class="ttdeci">#define SKINNY_CFWD_NOANSWER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01329">chan_skinny.c:1329</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a60072c5fdc7f8f7772e49783b48e37a6"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">ast_jb_conf::impl</a></div><div class="ttdeci">char impl[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdoc">Name of the jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00078">abstract_jb.h:78</a></div></div>
<div class="ttc" id="structast__channel__tech_html"><div class="ttname"><a href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a></div><div class="ttdoc">Structure to describe a channel &quot;technology&quot;, ie a channel driver See for examples: ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00629">channel.h:629</a></div></div>
<div class="ttc" id="channel_8h_html_aed40a28831fcb5791cd63c1b8761d659"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aed40a28831fcb5791cd63c1b8761d659">ast_channel_adsicpe_set</a></div><div class="ttdeci">void ast_channel_adsicpe_set(struct ast_channel *chan, enum ast_channel_adsicpe value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00785">channel_internal_api.c:785</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="netsock2_8h_html"><div class="ttname"><a href="../../db/df1/netsock2_8h.html">netsock2.h</a></div><div class="ttdoc">Network socket handling. </div></div>
<div class="ttc" id="pbx_8h_html"><div class="ttname"><a href="../../db/de0/pbx_8h.html">pbx.h</a></div><div class="ttdoc">Core PBX routines and definitions. </div></div>
<div class="ttc" id="structsoft__key__template__res__message_html_a48b489a0ba6479db34f7c580f40af762"><div class="ttname"><a href="../../d0/d60/structsoft__key__template__res__message.html#a48b489a0ba6479db34f7c580f40af762">soft_key_template_res_message::totalSoftKeyCount</a></div><div class="ttdeci">uint32_t totalSoftKeyCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01036">chan_skinny.c:1036</a></div></div>
<div class="ttc" id="structskinny__device_html_a03ff9a583c87301702ce0a465aed7567"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#a03ff9a583c87301702ce0a465aed7567">skinny_device::confcap</a></div><div class="ttdeci">struct ast_format_cap * confcap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01589">chan_skinny.c:1589</a></div></div>
<div class="ttc" id="channel_8h_html_a6cbcba5661d55216968cde8fdf913c89"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a></div><div class="ttdeci">int ast_queue_frame(struct ast_channel *chan, struct ast_frame *f)</div><div class="ttdoc">Queue one or more frames to a channel&amp;#39;s frame queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01139">channel.c:1139</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00054">devicestate.h:54</a></div></div>
<div class="ttc" id="channel_8h_html_abc7ac58271a860c92fee033afb031e8d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abc7ac58271a860c92fee033afb031e8d">ast_party_number_free</a></div><div class="ttdeci">void ast_party_number_free(struct ast_party_number *doomed)</div><div class="ttdoc">Destroy the party number contents. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01691">channel.c:1691</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="format__cap_8h_html_a4dc6fa9191c19396cfaa57113f5b4af2"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a4dc6fa9191c19396cfaa57113f5b4af2">ast_format_cap_remove_by_type</a></div><div class="ttdeci">void ast_format_cap_remove_by_type(struct ast_format_cap *cap, enum ast_media_type type)</div><div class="ttdoc">Remove all formats matching a specific format type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00525">format_cap.c:525</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0045f3127762983aa2efee3a41e37c40"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0045f3127762983aa2efee3a41e37c40">SOFTKEY_CFWDALL</a></div><div class="ttdeci">#define SOFTKEY_CFWDALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00714">chan_skinny.c:714</a></div></div>
<div class="ttc" id="structdisplay__prinotify__message_html_a93949093a5cb9f0f446c724cbf365805"><div class="ttname"><a href="../../d1/dea/structdisplay__prinotify__message.html#a93949093a5cb9f0f446c724cbf365805">display_prinotify_message::text</a></div><div class="ttdeci">char text[MAXDISPLAYNOTIFYSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01119">chan_skinny.c:1119</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3e2114722f6cb731593296a831290a7d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3e2114722f6cb731593296a831290a7d">cos_audio</a></div><div class="ttdeci">unsigned int cos_audio</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00197">chan_skinny.c:197</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a603b2c3fc96fb332fef1787046574afd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a603b2c3fc96fb332fef1787046574afd">manager_skinny_show_device</a></div><div class="ttdeci">static int manager_skinny_show_device(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04287">chan_skinny.c:4287</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2ab2f5a6e7cce2094ce7d43415d0d953"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2ab2f5a6e7cce2094ce7d43415d0d953">transmit_start_tone</a></div><div class="ttdeci">static void transmit_start_tone(struct skinny_device *d, int tone, int instance, int reference)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02678">chan_skinny.c:2678</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a36c56f4d73172d09aaf26225c2446963"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a36c56f4d73172d09aaf26225c2446963">SERVER_REQUEST_MESSAGE</a></div><div class="ttdeci">#define SERVER_REQUEST_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00366">chan_skinny.c:366</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a572b1d3a412d0e3eec76ed6888d88885"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a572b1d3a412d0e3eec76ed6888d88885">SOFTKEY_PARK</a></div><div class="ttdeci">#define SOFTKEY_PARK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00723">chan_skinny.c:723</a></div></div>
<div class="ttc" id="structskinny__device_html_a099ce3d856d66dc52a7737d4d5b8daab"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#a099ce3d856d66dc52a7737d4d5b8daab">skinny_device::last</a></div><div class="ttdeci">struct type * last</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01581">chan_skinny.c:1581</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a9241175b397dfd032c4cadbc8c9c2d05"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a9241175b397dfd032c4cadbc8c9c2d05">skinny_subchannel::owner</a></div><div class="ttdeci">struct ast_channel * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01389">chan_skinny.c:1389</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af7fc256a5120f42598d936ab979d302f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af7fc256a5120f42598d936ab979d302f">config_line</a></div><div class="ttdeci">static struct skinny_line * config_line(const char *lname, struct ast_variable *v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l08285">chan_skinny.c:8285</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aceb6a87185d21366d7f3f21fd69cee90"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aceb6a87185d21366d7f3f21fd69cee90">SKINNY_REORDER</a></div><div class="ttdeci">#define SKINNY_REORDER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01308">chan_skinny.c:1308</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a171401581bc9313c20cec69fe8ddc7ee"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a171401581bc9313c20cec69fe8ddc7ee">SKINNY_CALLREMOTEMULTILINE</a></div><div class="ttdeci">#define SKINNY_CALLREMOTEMULTILINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01298">chan_skinny.c:1298</a></div></div>
<div class="ttc" id="structskinny__line_html_a970f3be80cbd08a1591eb8588f3cd54b"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#a970f3be80cbd08a1591eb8588f3cd54b">skinny_line::cap</a></div><div class="ttdeci">struct ast_format_cap * cap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01476">chan_skinny.c:1476</a></div></div>
<div class="ttc" id="structcall__info__message_html"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html">call_info_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00500">chan_skinny.c:500</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a10f9ed9242a397abf76de1ed1fa33c3b"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a10f9ed9242a397abf76de1ed1fa33c3b">AST_LIST_HEAD_STATIC</a></div><div class="ttdeci">#define AST_LIST_HEAD_STATIC(name, type)</div><div class="ttdoc">Defines a structure to be used to hold a list of specified type, statically initialized. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00290">linkedlists.h:290</a></div></div>
<div class="ttc" id="sched_8h_html_a5baecc149aeabdbef9b3ed6780c1c4a6"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a5baecc149aeabdbef9b3ed6780c1c4a6">ast_sched_context_create</a></div><div class="ttdeci">struct ast_sched_context * ast_sched_context_create(void)</div><div class="ttdoc">Create a scheduler context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00236">sched.c:236</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9e435aef83f14da6d3d5ec44f821558e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9e435aef83f14da6d3d5ec44f821558e">ahp</a></div><div class="ttdeci">static struct ast_hostent ahp</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01235">chan_skinny.c:1235</a></div></div>
<div class="ttc" id="channel_8h_html_a3e3e7e66e65ad9cdba2299e36b13e173"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3e3e7e66e65ad9cdba2299e36b13e173">ast_channel_fdno</a></div><div class="ttdeci">int ast_channel_fdno(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00419">channel_internal_api.c:419</a></div></div>
<div class="ttc" id="structregister__rej__message_html"><div class="ttname"><a href="../../d3/da5/structregister__rej__message.html">register_rej_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00642">chan_skinny.c:642</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="structclear__prompt__message_html_a3c8ec1b11804b48f666007331e0c90ba"><div class="ttname"><a href="../../d4/d25/structclear__prompt__message.html#a3c8ec1b11804b48f666007331e0c90ba">clear_prompt_message::lineInstance</a></div><div class="ttdeci">uint32_t lineInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01082">chan_skinny.c:1082</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af4e0e1821262024a6a2c5dafe646c775"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af4e0e1821262024a6a2c5dafe646c775">handle_message</a></div><div class="ttdeci">static int handle_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07285">chan_skinny.c:7285</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_a70382561daaa758a201b7a711d566e24"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#a70382561daaa758a201b7a711d566e24">skinny_speeddial::stateid</a></div><div class="ttdeci">int stateid</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01528">chan_skinny.c:1528</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8bc3cba9147dc64ed33463be4a5074bc"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8bc3cba9147dc64ed33463be4a5074bc">SKINNY_DEBUG</a></div><div class="ttdeci">#define SKINNY_DEBUG(type, verb_level, text,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00157">chan_skinny.c:157</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00056">devicestate.h:56</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac92b1ca5df61c89413c2588028c01ef8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac92b1ca5df61c89413c2588028c01ef8">DEFAULT_SKINNY_BACKLOG</a></div><div class="ttdeci">#define DEFAULT_SKINNY_BACKLOG</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00187">chan_skinny.c:187</a></div></div>
<div class="ttc" id="endpoints_8h_html_a00db6879caf0ce423b5a35b57d01448ea0c201502490a90f732b9946dc7545114"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a00db6879caf0ce423b5a35b57d01448ea0c201502490a90f732b9946dc7545114">AST_ENDPOINT_OFFLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d61/endpoints_8h_source.html#l00055">endpoints.h:55</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gafadf012f66a9fd7ecf985ec5b9dee101"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a></div><div class="ttdeci">int ast_manager_unregister(const char *action)</div><div class="ttdoc">Unregister a registered manager command. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07258">manager.c:7258</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_ae44f82cafaf59ef9c40cf447f8b8d262"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#ae44f82cafaf59ef9c40cf447f8b8d262">skinny_speeddial::list</a></div><div class="ttdeci">struct skinny_speeddial::@140 list</div></div>
<div class="ttc" id="structdisplay__prompt__status__message_html_a85294cb46cae34e2921c7051bdabfdd6"><div class="ttname"><a href="../../da/d1e/structdisplay__prompt__status__message.html#a85294cb46cae34e2921c7051bdabfdd6">display_prompt_status_message::promptMessage</a></div><div class="ttdeci">char promptMessage[32]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01074">chan_skinny.c:1074</a></div></div>
<div class="ttc" id="manager_8h_html"><div class="ttname"><a href="../../db/d45/manager_8h.html">manager.h</a></div><div class="ttdoc">The AMI - Asterisk Manager Interface - is a TCP protocol created to manage Asterisk with third-party ...</div></div>
<div class="ttc" id="structoffhook__message_html_aa68938e371fea91ad4b64381877bd381"><div class="ttname"><a href="../../de/dd1/structoffhook__message.html#aa68938e371fea91ad4b64381877bd381">offhook_message::reference</a></div><div class="ttdeci">uint32_t reference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00327">chan_skinny.c:327</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a93c97714575e54a3fd7a185415b82599"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a93c97714575e54a3fd7a185415b82599">BKSP_REQ_MESSAGE</a></div><div class="ttdeci">#define BKSP_REQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00688">chan_skinny.c:688</a></div></div>
<div class="ttc" id="structset__lamp__message_html_af793c4f4a8ade380472caa8035905848"><div class="ttname"><a href="../../d5/d21/structset__lamp__message.html#af793c4f4a8ade380472caa8035905848">set_lamp_message::stimulus</a></div><div class="ttdeci">uint32_t stimulus</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00444">chan_skinny.c:444</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afac661ab214a4a68d115b3a1c70fdb32"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afac661ab214a4a68d115b3a1c70fdb32">skinny_answer</a></div><div class="ttdeci">static int skinny_answer(struct ast_channel *ast)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05010">chan_skinny.c:5010</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf195fcf1686408b5e52ad76996653cea"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf195fcf1686408b5e52ad76996653cea">ast_channel_stage_snapshot</a></div><div class="ttdeci">void ast_channel_stage_snapshot(struct ast_channel *chan)</div><div class="ttdoc">Set flag to indicate channel snapshot is being staged. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01038">stasis_channels.c:1038</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_ad3d414cdb71376b88dc5ce91a2a6118e"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#ad3d414cdb71376b88dc5ce91a2a6118e">skinny_speeddial::isHint</a></div><div class="ttdeci">int isHint</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01530">chan_skinny.c:1530</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip6_html_a8c5b70179481930bfaef1fa8f6aaba74"><div class="ttname"><a href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#a8c5b70179481930bfaef1fa8f6aaba74">open_receive_channel_ack_message_ip6::callReference</a></div><div class="ttdeci">uint32_t callReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00388">chan_skinny.c:388</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1ac9ad552f6392f35b494cb0cf075fe6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1ac9ad552f6392f35b494cb0cf075fe6">manager_skinny_show_lines</a></div><div class="ttdeci">static int manager_skinny_show_lines(struct mansession *s, const struct message *m)</div><div class="ttdoc">Show Skinny lines in the manager API. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04401">chan_skinny.c:4401</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae7bbfbe01b4deecb01153f047d12497b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae7bbfbe01b4deecb01153f047d12497b">SET_RINGER_MESSAGE</a></div><div class="ttdeci">#define SET_RINGER_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00434">chan_skinny.c:434</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2fed5ffe5ad02c8583af168b3e1bd2ba"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2fed5ffe5ad02c8583af168b3e1bd2ba">BT_SERVICEURL</a></div><div class="ttdeci">#define BT_SERVICEURL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00603">chan_skinny.c:603</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a87a4c8ddb77e5805aceca014609158e2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a87a4c8ddb77e5805aceca014609158e2">skinny_get_vrtp_peer</a></div><div class="ttdeci">static enum ast_rtp_glue_result skinny_get_vrtp_peer(struct ast_channel *c, struct ast_rtp_instance **instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03594">chan_skinny.c:3594</a></div></div>
<div class="ttc" id="structspeed__dial__stat__req__message_html_acd27bc25ce21f3ab7dfe7d0c53763f04"><div class="ttname"><a href="../../d1/d39/structspeed__dial__stat__req__message.html#acd27bc25ce21f3ab7dfe7d0c53763f04">speed_dial_stat_req_message::speedDialNumber</a></div><div class="ttdeci">uint32_t speedDialNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00355">chan_skinny.c:355</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a665787ef574f276e9a42fcfc3db4dbb4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a665787ef574f276e9a42fcfc3db4dbb4">manager_skinny_show_line</a></div><div class="ttdeci">static int manager_skinny_show_line(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04573">chan_skinny.c:4573</a></div></div>
<div class="ttc" id="structstart__tone__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../d0/d00/structstart__tone__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">start_tone_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00423">chan_skinny.c:423</a></div></div>
<div class="ttc" id="structselect__soft__keys__message_html_adc2041b10f838792513938afdd303d8a"><div class="ttname"><a href="../../d8/d2e/structselect__soft__keys__message.html#adc2041b10f838792513938afdd303d8a">select_soft_keys_message::softKeySetIndex</a></div><div class="ttdeci">uint32_t softKeySetIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01059">chan_skinny.c:1059</a></div></div>
<div class="ttc" id="structforward__stat__message_html_aa2fa55c22378257cdd94037cd2871d13"><div class="ttname"><a href="../../d9/d05/structforward__stat__message.html#aa2fa55c22378257cdd94037cd2871d13">forward_stat_message::fwdbusynum</a></div><div class="ttdeci">char fwdbusynum[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00528">chan_skinny.c:528</a></div></div>
<div class="ttc" id="structkeypad__button__message_html_a8c5b70179481930bfaef1fa8f6aaba74"><div class="ttname"><a href="../../de/d0c/structkeypad__button__message.html#a8c5b70179481930bfaef1fa8f6aaba74">keypad_button_message::callReference</a></div><div class="ttdeci">uint32_t callReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00308">chan_skinny.c:308</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad694b8a6767c0471620203a76c163c94"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad694b8a6767c0471620203a76c163c94">BT_TRANSFER</a></div><div class="ttdeci">#define BT_TRANSFER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00595">chan_skinny.c:595</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3227f576808ac49b045784401c9fdea6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3227f576808ac49b045784401c9fdea6">accept_t</a></div><div class="ttdeci">static pthread_t accept_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01238">chan_skinny.c:1238</a></div></div>
<div class="ttc" id="structskinny__req_html_a76bd37f039bdaf925917eb16dfa7facd"><div class="ttname"><a href="../../dc/da2/structskinny__req.html#a76bd37f039bdaf925917eb16dfa7facd">skinny_req::e</a></div><div class="ttdeci">uint32_t e</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01215">chan_skinny.c:1215</a></div></div>
<div class="ttc" id="channel_8h_html_afd7c527ec74e66bcc02de0aeb361d804"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afd7c527ec74e66bcc02de0aeb361d804">ast_get_namedgroups</a></div><div class="ttdeci">struct ast_namedgroups * ast_get_namedgroups(const char *s)</div><div class="ttdoc">Create an ast_namedgroups set with group names from comma separated string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07775">channel.c:7775</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8aed3f473c754acc75e699c6004d99f1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8aed3f473c754acc75e699c6004d99f1">OCTAL_NEWCALL</a></div><div class="ttdeci">#define OCTAL_NEWCALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00761">chan_skinny.c:761</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac3382bf6da54c56b37069bd76bbdf4f9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a></div><div class="ttdeci">static int load_module(void)</div><div class="ttdoc">Load the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l08685">chan_skinny.c:8685</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad23cb8e38f08caa3c3a496f691c39e3b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad23cb8e38f08caa3c3a496f691c39e3b">skinny_extensionstate_cb</a></div><div class="ttdeci">static int skinny_extensionstate_cb(const char *context, const char *exten, struct ast_state_cb_info *info, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03414">chan_skinny.c:3414</a></div></div>
<div class="ttc" id="structselect__soft__keys__message_html_aa68938e371fea91ad4b64381877bd381"><div class="ttname"><a href="../../d8/d2e/structselect__soft__keys__message.html#aa68938e371fea91ad4b64381877bd381">select_soft_keys_message::reference</a></div><div class="ttdeci">uint32_t reference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01058">chan_skinny.c:1058</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html_a562d73948591ea69ac50c6db50f3a54e"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html#a562d73948591ea69ac50c6db50f3a54e">call_info_message_variable::unknown2</a></div><div class="ttdeci">uint32_t unknown2</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01133">chan_skinny.c:1133</a></div></div>
<div class="ttc" id="structsoft__key__set__res__message_html_a626519dd0d8e97afdb9ab94f3f0514af"><div class="ttname"><a href="../../d4/d70/structsoft__key__set__res__message.html#a626519dd0d8e97afdb9ab94f3f0514af">soft_key_set_res_message::totalSoftKeySetCount</a></div><div class="ttdeci">uint32_t totalSoftKeySetCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01050">chan_skinny.c:1050</a></div></div>
<div class="ttc" id="structmedia__qualifier_html"><div class="ttname"><a href="../../d6/df7/structmedia__qualifier.html">media_qualifier</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00461">chan_skinny.c:461</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afa04f2ccb9addb25aecb45f46b392d17"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afa04f2ccb9addb25aecb45f46b392d17">DIALTYPE_NORMAL</a></div><div class="ttdeci">#define DIALTYPE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01384">chan_skinny.c:1384</a></div></div>
<div class="ttc" id="pickup_8h_html_a4890be42c2add5f52028705d6bc02201"><div class="ttname"><a href="../../dd/dbc/pickup_8h.html#a4890be42c2add5f52028705d6bc02201">ast_pickup_call</a></div><div class="ttdeci">int ast_pickup_call(struct ast_channel *chan)</div><div class="ttdoc">Pickup a call. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/pickup_8c_source.html#l00200">pickup.c:200</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2a4f825b302983d41ab43a9e3387da4b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2a4f825b302983d41ab43a9e3387da4b">find_line_by_name</a></div><div class="ttdeci">static struct skinny_line * find_line_by_name(const char *dest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01903">chan_skinny.c:1903</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_adca111bd3e13f311a71c0aff5f89b081"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#adca111bd3e13f311a71c0aff5f89b081">KEYDEF_UNKNOWN</a></div><div class="ttdeci">#define KEYDEF_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00704">chan_skinny.c:704</a></div></div>
<div class="ttc" id="structskinny__serviceurl_html_a3d7ec0af596552058e460f64646bf5b8"><div class="ttname"><a href="../../d3/d52/structskinny__serviceurl.html#a3d7ec0af596552058e460f64646bf5b8">skinny_serviceurl::url</a></div><div class="ttdeci">char url[MAX_SERVICEURL]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01538">chan_skinny.c:1538</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af725e197a8e1179ddd97a81b592dbb93"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af725e197a8e1179ddd97a81b592dbb93">handle_transfer_button</a></div><div class="ttdeci">static int handle_transfer_button(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06109">chan_skinny.c:6109</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a98e65764bc963016c394bcc1bad6540b"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a98e65764bc963016c394bcc1bad6540b">AST_FRAME_DTMF_END</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00099">include/asterisk/frame.h:99</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63">AST_JB_FORCED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00046">abstract_jb.h:46</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a25a9305efab3b493ca2519562fcec3d5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a25a9305efab3b493ca2519562fcec3d5">tos</a></div><div class="ttdeci">unsigned int tos</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00193">chan_skinny.c:193</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a16282b510dcfa0aa7689071be2fbf900"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a16282b510dcfa0aa7689071be2fbf900">control2str_threadbuf</a></div><div class="ttdeci">static struct ast_threadstorage control2str_threadbuf</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00272">chan_skinny.c:272</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00160">rtp_engine.h:160</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4c35b4c71a9fd428c47eb27bf72c2789"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4c35b4c71a9fd428c47eb27bf72c2789">DEBUG_GENERAL</a></div><div class="ttdeci">#define DEBUG_GENERAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00148">chan_skinny.c:148</a></div></div>
<div class="ttc" id="structline__stat__res__message_html"><div class="ttname"><a href="../../d6/d52/structline__stat__res__message.html">line_stat_res_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00541">chan_skinny.c:541</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00278">include/asterisk/frame.h:278</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a4650e5e1429f8982af64b9c42c8c53d3"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a4650e5e1429f8982af64b9c42c8c53d3">skinny_subchannel::cxmode</a></div><div class="ttdeci">int cxmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01398">chan_skinny.c:1398</a></div></div>
<div class="ttc" id="structdisplay__prompt__status__message_html"><div class="ttname"><a href="../../da/d1e/structdisplay__prompt__status__message.html">display_prompt_status_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01072">chan_skinny.c:1072</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1d5b89af9a01395da0daefcbcc8fd8bb"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1d5b89af9a01395da0daefcbcc8fd8bb">KEYPAD_BUTTON_MESSAGE</a></div><div class="ttdeci">#define KEYPAD_BUTTON_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00304">chan_skinny.c:304</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a844a39ac2662cbc0d7eaa6122ac5ae71a6cb2cab00c618310f5cb9f3d52bda154"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a6cb2cab00c618310f5cb9f3d52bda154">SKINNY_CODEC_G729A</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00180">chan_skinny.c:180</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af303fb67f64cde967ad9434875897f45"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af303fb67f64cde967ad9434875897f45">ACTIVATE_CALL_PLANE_MESSAGE</a></div><div class="ttdeci">#define ACTIVATE_CALL_PLANE_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01092">chan_skinny.c:1092</a></div></div>
<div class="ttc" id="channel_8h_html_abd6165fa9617e1bb5efee3befa3e963d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abd6165fa9617e1bb5efee3befa3e963d">ast_channel_connected_effective_id</a></div><div class="ttdeci">struct ast_party_id ast_channel_connected_effective_id(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00900">channel_internal_api.c:900</a></div></div>
<div class="ttc" id="structdisplay__prompt__status__message__variable_html"><div class="ttname"><a href="../../dc/db4/structdisplay__prompt__status__message__variable.html">display_prompt_status_message_variable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01148">chan_skinny.c:1148</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00055">devicestate.h:55</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afc2b5f078d7bf46331709ba4101491aa"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afc2b5f078d7bf46331709ba4101491aa">skinny_session_cleanup</a></div><div class="ttdeci">static void skinny_session_cleanup(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07466">chan_skinny.c:7466</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a19dd4f20ea170713fc94f3d787e453ec"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a19dd4f20ea170713fc94f3d787e453ec">manager_skinny_show_devices</a></div><div class="ttdeci">static int manager_skinny_show_devices(struct mansession *s, const struct message *m)</div><div class="ttdoc">Show SKINNY devices in the manager API. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04159">chan_skinny.c:4159</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a729601eadd784d422526977797480b36"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a729601eadd784d422526977797480b36">soft_key_default_ringoutwithtransfer</a></div><div class="ttdeci">static const uint8_t soft_key_default_ringoutwithtransfer[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00988">chan_skinny.c:988</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0c90019de529b77fb06d587393ec42bf"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0c90019de529b77fb06d587393ec42bf">SKINNY_SPEAKEROFF</a></div><div class="ttdeci">#define SKINNY_SPEAKEROFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01281">chan_skinny.c:1281</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a844a39ac2662cbc0d7eaa6122ac5ae71ac4fa98d11dc256eb65904786fbc28517"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71ac4fa98d11dc256eb65904786fbc28517">SKINNY_CODEC_G726_32</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00181">chan_skinny.c:181</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2e10f13253ac5069f50f7f66b9511537"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2e10f13253ac5069f50f7f66b9511537">SKINNY_OFFHOOK</a></div><div class="ttdeci">#define SKINNY_OFFHOOK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01286">chan_skinny.c:1286</a></div></div>
<div class="ttc" id="structclose__receive__channel__message_html_aad8282aaef639f3310f833e9b44a541e"><div class="ttname"><a href="../../d8/d78/structclose__receive__channel__message.html#aad8282aaef639f3310f833e9b44a541e">close_receive_channel_message::conferenceId</a></div><div class="ttdeci">uint32_t conferenceId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00677">chan_skinny.c:677</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aabbdbf515a0e193662eb006117759b00"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aabbdbf515a0e193662eb006117759b00">SOFTKEY_ENDCALL</a></div><div class="ttdeci">#define SOFTKEY_ENDCALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00718">chan_skinny.c:718</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6085d49510f535282238410d6640654d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6085d49510f535282238410d6640654d">DISPLAY_PRINOTIFY_MESSAGE</a></div><div class="ttdeci">#define DISPLAY_PRINOTIFY_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01115">chan_skinny.c:1115</a></div></div>
<div class="ttc" id="channel_8h_html_aac93557ad0a1e7bcf861c208e1d8fdc4"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aac93557ad0a1e7bcf861c208e1d8fdc4">ast_channel_named_callgroups_set</a></div><div class="ttdeci">void ast_channel_named_callgroups_set(struct ast_channel *chan, struct ast_namedgroups *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01094">channel_internal_api.c:1094</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structforward__stat__message_html"><div class="ttname"><a href="../../d9/d05/structforward__stat__message.html">forward_stat_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00522">chan_skinny.c:522</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af6c38f501b802babce30ed7dd08fc686"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af6c38f501b802babce30ed7dd08fc686">skinny_tech</a></div><div class="ttdeci">static struct ast_channel_tech skinny_tech</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01655">chan_skinny.c:1655</a></div></div>
<div class="ttc" id="structserviceurl__stat__message_html_a3d7ec0af596552058e460f64646bf5b8"><div class="ttname"><a href="../../d2/d6d/structserviceurl__stat__message.html#a3d7ec0af596552058e460f64646bf5b8">serviceurl_stat_message::url</a></div><div class="ttdeci">char url[MAX_SERVICEURL]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01108">chan_skinny.c:1108</a></div></div>
<div class="ttc" id="structdisplay__notify__message_html"><div class="ttname"><a href="../../df/d67/structdisplay__notify__message.html">display_notify_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01087">chan_skinny.c:1087</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ac976c01c12ae70e36b99b16dbfa3dda7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ac976c01c12ae70e36b99b16dbfa3dda7">AST_CONTROL_CONNECTED_LINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00299">include/asterisk/frame.h:299</a></div></div>
<div class="ttc" id="unionskinny__data_html_aa8faa33e2246e6407be4c17a64ce04c1"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#aa8faa33e2246e6407be4c17a64ce04c1">skinny_data::openreceivechannel</a></div><div class="ttdeci">struct open_receive_channel_message openreceivechannel</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01193">chan_skinny.c:1193</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0667a78cfbac7038a1d11c16ba6a7179"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0667a78cfbac7038a1d11c16ba6a7179">soft_key_default_connected</a></div><div class="ttdeci">static const uint8_t soft_key_default_connected[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00929">chan_skinny.c:929</a></div></div>
<div class="ttc" id="unionskinny__data_html_aee5c3dbb8f03b80b242ed1b447d25886"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#aee5c3dbb8f03b80b242ed1b447d25886">skinny_data::stimulus</a></div><div class="ttdeci">struct stimulus_message stimulus</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01184">chan_skinny.c:1184</a></div></div>
<div class="ttc" id="structbutton__definition__template_html_aca4595173e9d8b5d9c6dfcc94d15f74a"><div class="ttname"><a href="../../d9/d8c/structbutton__definition__template.html#aca4595173e9d8b5d9c6dfcc94d15f74a">button_definition_template::buttonDefinition</a></div><div class="ttdeci">uint8_t buttonDefinition</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00568">chan_skinny.c:568</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2c55bb9609ddde15bace5fe2d7962b43"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2c55bb9609ddde15bace5fe2d7962b43">handle_soft_key_event_message</a></div><div class="ttdeci">static int handle_soft_key_event_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06974">chan_skinny.c:6974</a></div></div>
<div class="ttc" id="structskinnysession_html_aceadbae8433ce428cb735b69f776c2e4"><div class="ttname"><a href="../../db/d98/structskinnysession.html#aceadbae8433ce428cb735b69f776c2e4">skinnysession::lockstate</a></div><div class="ttdeci">int lockstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01622">chan_skinny.c:1622</a></div></div>
<div class="ttc" id="netsock2_8h_html_a9e06776a6cd2ae9f2780a445053a6864"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a9e06776a6cd2ae9f2780a445053a6864">ast_set_qos</a></div><div class="ttdeci">int ast_set_qos(int sockfd, int tos, int cos, const char *desc)</div><div class="ttdoc">Set type of service. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00621">netsock2.c:621</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aaacc8d725ab1f5650d1610d4161777cf"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aaacc8d725ab1f5650d1610d4161777cf">skinny_set_rtp_peer</a></div><div class="ttdeci">static int skinny_set_rtp_peer(struct ast_channel *c, struct ast_rtp_instance *rtp, struct ast_rtp_instance *vrtp, struct ast_rtp_instance *trtp, const struct ast_format_cap *codecs, int nat_active)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03641">chan_skinny.c:3641</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab5dcb5c2f3332dc732b5c18eae4969ef"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab5dcb5c2f3332dc732b5c18eae4969ef">not_used</a></div><div class="ttdeci">static int not_used</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01369">chan_skinny.c:1369</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afd10144dcba02df71f1170c333685d87"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afd10144dcba02df71f1170c333685d87">netlock</a></div><div class="ttdeci">static ast_mutex_t netlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01354">chan_skinny.c:1354</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae896ecfae93ef49cb5a8bc84325ba9d0"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae896ecfae93ef49cb5a8bc84325ba9d0">keyset_translatebitmask</a></div><div class="ttdeci">static int keyset_translatebitmask(int keyset, int intmask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02705">chan_skinny.c:2705</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a171ee3ea3cd771beb545e9741196516d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a171ee3ea3cd771beb545e9741196516d">SKINNY_DEVICE_7941GE</a></div><div class="ttdeci">#define SKINNY_DEVICE_7941GE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01259">chan_skinny.c:1259</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00064">pbx.h:64</a></div></div>
<div class="ttc" id="structmedia__qualifier_html_a497243c8d5b9134495d3a68af76693c8"><div class="ttname"><a href="../../d6/df7/structmedia__qualifier.html#a497243c8d5b9134495d3a68af76693c8">media_qualifier::bitRate</a></div><div class="ttdeci">uint32_t bitRate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00465">chan_skinny.c:465</a></div></div>
<div class="ttc" id="channel_8h_html_a0fe98273fc14eb880f4cfdc71cdec1b7"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a0fe98273fc14eb880f4cfdc71cdec1b7">ast_party_name_init</a></div><div class="ttdeci">void ast_party_name_init(struct ast_party_name *init)</div><div class="ttdoc">Initialize the given name structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01591">channel.c:1591</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad38b06a5edcc17eaa553739944e702e1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad38b06a5edcc17eaa553739944e702e1">SKINNY_ONHOOK</a></div><div class="ttdeci">#define SKINNY_ONHOOK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01287">chan_skinny.c:1287</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a09f3253c97f51a4ee4507a9c0da66ca0"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a09f3253c97f51a4ee4507a9c0da66ca0">SUBSTATE_RINGOUT</a></div><div class="ttdeci">#define SUBSTATE_RINGOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01374">chan_skinny.c:1374</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a90c48c7f24206e8822bf520dae0a2478"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a90c48c7f24206e8822bf520dae0a2478">ast_rtp_instance_set_remote_address</a></div><div class="ttdeci">#define ast_rtp_instance_set_remote_address(instance, address)</div><div class="ttdoc">Set the address of the remote endpoint that we are sending RTP to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l01080">rtp_engine.h:1080</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4c29acb28402920280164751e852f1b6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4c29acb28402920280164751e852f1b6">soft_key_default_dadfd</a></div><div class="ttdeci">static const uint8_t soft_key_default_dadfd[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00972">chan_skinny.c:972</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00032">codec.h:32</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga5bef70de71c061b6ef7739d9634ebbb1"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_state_type(void)</div><div class="ttdoc">Message type for endpoint state changes. </div></div>
<div class="ttc" id="structskinny__subchannel_html_a43949878e5a771ad7dd4319b8256fb48"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a43949878e5a771ad7dd4319b8256fb48">skinny_subchannel::aa_beep</a></div><div class="ttdeci">int aa_beep</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01405">chan_skinny.c:1405</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="structstart__media__transmission__message__ip6_html_a5304bc4afe911142322308d69ffe6466"><div class="ttname"><a href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a5304bc4afe911142322308d69ffe6466">start_media_transmission_message_ip6::qualifier</a></div><div class="ttdeci">struct media_qualifier qualifier</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00487">chan_skinny.c:487</a></div></div>
<div class="ttc" id="structdisplay__prompt__status__message__variable_html_a3c8ec1b11804b48f666007331e0c90ba"><div class="ttname"><a href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a3c8ec1b11804b48f666007331e0c90ba">display_prompt_status_message_variable::lineInstance</a></div><div class="ttdeci">uint32_t lineInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01150">chan_skinny.c:1150</a></div></div>
<div class="ttc" id="structskinny__device_html_a6b5ca30f881f1f97a02cb709a4b231a5"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#a6b5ca30f881f1f97a02cb709a4b231a5">skinny_device::lines</a></div><div class="ttdeci">struct skinny_device::@143 lines</div></div>
<div class="ttc" id="structskinny__device_html_a6aa3a053fbe7a339fa9f7d2d4ecd44e9"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#a6aa3a053fbe7a339fa9f7d2d4ecd44e9">skinny_device::addons</a></div><div class="ttdeci">struct skinny_device::@146 addons</div></div>
<div class="ttc" id="unionskinny__data_html_a65f7cdca57eaef927ca936afde633f52"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a65f7cdca57eaef927ca936afde633f52">skinny_data::setlamp</a></div><div class="ttdeci">struct set_lamp_message setlamp</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01178">chan_skinny.c:1178</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa917567765cdd3a591693417441c86c9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa917567765cdd3a591693417441c86c9">CLEAR_PRINOTIFY_MESSAGE</a></div><div class="ttdeci">#define CLEAR_PRINOTIFY_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01122">chan_skinny.c:1122</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a77b3490072c879be4e18cfd9bbc84d8a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a77b3490072c879be4e18cfd9bbc84d8a">KEYDEF_SLACONNECTEDNOTACTIVE</a></div><div class="ttdeci">#define KEYDEF_SLACONNECTEDNOTACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00706">chan_skinny.c:706</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3ae6ca3d7ddaa509b36e1fb4c36c18478e"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ae6ca3d7ddaa509b36e1fb4c36c18478e">AST_JB_LOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00047">abstract_jb.h:47</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab771766124f3d865c0f312bd0957bc5f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab771766124f3d865c0f312bd0957bc5f">unauth_sessions</a></div><div class="ttdeci">static int unauth_sessions</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00204">chan_skinny.c:204</a></div></div>
<div class="ttc" id="structskinny__req_html"><div class="ttname"><a href="../../dc/da2/structskinny__req.html">skinny_req</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01212">chan_skinny.c:1212</a></div></div>
<div class="ttc" id="structbutton__template__res__message_html_a119c7a9d583c29cc7454bf18f9328527"><div class="ttname"><a href="../../db/df8/structbutton__template__res__message.html#a119c7a9d583c29cc7454bf18f9328527">button_template_res_message::totalButtonCount</a></div><div class="ttdeci">uint32_t totalButtonCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00619">chan_skinny.c:619</a></div></div>
<div class="ttc" id="time_8h_html_a97e1bb8fbd7a103212789e87e7ed6073"><div class="ttname"><a href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a></div><div class="ttdeci">struct timeval ast_tvadd(struct timeval a, struct timeval b)</div><div class="ttdoc">Returns the sum of two timevals a + b. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02283">extconf.c:2283</a></div></div>
<div class="ttc" id="structskinny__subchannel_html"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html">skinny_subchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01388">chan_skinny.c:1388</a></div></div>
<div class="ttc" id="structkeypad__button__message_html"><div class="ttname"><a href="../../de/d0c/structkeypad__button__message.html">keypad_button_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00305">chan_skinny.c:305</a></div></div>
<div class="ttc" id="structbutton__template__res__message_html_aa100098f03a37452cf695a63ec6cc205"><div class="ttname"><a href="../../db/df8/structbutton__template__res__message.html#aa100098f03a37452cf695a63ec6cc205">button_template_res_message::buttonCount</a></div><div class="ttdeci">uint32_t buttonCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00618">chan_skinny.c:618</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_abe9d19a5620cb9ddf6dc7d5b6310e0c2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#abe9d19a5620cb9ddf6dc7d5b6310e0c2">skinny_rtp_read</a></div><div class="ttdeci">static struct ast_frame * skinny_rtp_read(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05026">chan_skinny.c:5026</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_a1229bdedff51a0fc453b7c482cd8dd49"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#a1229bdedff51a0fc453b7c482cd8dd49">sip_to_pjsip.ignore</a></div><div class="ttdeci">def ignore(key=None, val=None, section=None, pjsip=None, nmapped=None, type='endpoint')</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00048">sip_to_pjsip.py:48</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8bf5a11e3d0cc22ee77a88151b9bee6b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8bf5a11e3d0cc22ee77a88151b9bee6b">SKINNY_DEVICE_NONE</a></div><div class="ttdeci">#define SKINNY_DEVICE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01242">chan_skinny.c:1242</a></div></div>
<div class="ttc" id="structsoft__key__template__res__message_html_aeb69bb0f70da60dbba0bf2e7c5fdd33d"><div class="ttname"><a href="../../d0/d60/structsoft__key__template__res__message.html#aeb69bb0f70da60dbba0bf2e7c5fdd33d">soft_key_template_res_message::softKeyOffset</a></div><div class="ttdeci">uint32_t softKeyOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01034">chan_skinny.c:1034</a></div></div>
<div class="ttc" id="musiconhold_8h_html_a2acec01f2fddd8ca494d874003815cf7"><div class="ttname"><a href="../../dc/d07/musiconhold_8h.html#a2acec01f2fddd8ca494d874003815cf7">ast_moh_start</a></div><div class="ttdeci">int ast_moh_start(struct ast_channel *chan, const char *mclass, const char *interpclass)</div><div class="ttdoc">Turn on music on hold on a given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07866">channel.c:7866</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aac76ce73e7e3ed21fe0b3b86e31c0f75"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aac76ce73e7e3ed21fe0b3b86e31c0f75">handle_skinny_show_settings</a></div><div class="ttdeci">static char * handle_skinny_show_settings(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdoc">List global settings for the Skinny subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04611">chan_skinny.c:4611</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad18902e12cbd352d1af5cb39e4b370ca"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad18902e12cbd352d1af5cb39e4b370ca">SKINNY_DEVICE_12SP</a></div><div class="ttdeci">#define SKINNY_DEVICE_12SP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01245">chan_skinny.c:1245</a></div></div>
<div class="ttc" id="channel_8h_html_a857e0317fcefc59c7a21c1f08ea7be73"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a857e0317fcefc59c7a21c1f08ea7be73">ast_party_name_free</a></div><div class="ttdeci">void ast_party_name_free(struct ast_party_name *doomed)</div><div class="ttdoc">Destroy the party name contents. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01638">channel.c:1638</a></div></div>
<div class="ttc" id="unionskinny__data_html_aa3ac92f8ade1b2cc658c0c5b3ce7d32a"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#aa3ac92f8ade1b2cc658c0c5b3ce7d32a">skinny_data::selectsoftkey</a></div><div class="ttdeci">struct select_soft_keys_message selectsoftkey</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01182">chan_skinny.c:1182</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac3cd7f69be6e51d64b6688a80a65fc92"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac3cd7f69be6e51d64b6688a80a65fc92">SKINNY_DEVICE_7985</a></div><div class="ttdeci">#define SKINNY_DEVICE_7985</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01256">chan_skinny.c:1256</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a41ff9aa527c91c35ae2d2d636c309582"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a41ff9aa527c91c35ae2d2d636c309582">handle_keepalive_message</a></div><div class="ttdeci">static void handle_keepalive_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06198">chan_skinny.c:6198</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1a77767cd4cfc70d096da50a2fefecd7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1a77767cd4cfc70d096da50a2fefecd7">SKINNY_CFWD_ALL</a></div><div class="ttdeci">#define SKINNY_CFWD_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01327">chan_skinny.c:1327</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad55a9ae0d55608005570cd46bb4bee29"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad55a9ae0d55608005570cd46bb4bee29">transmit_clearprinotify</a></div><div class="ttdeci">static void transmit_clearprinotify(struct skinny_device *d, int priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02834">chan_skinny.c:2834</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0e8de97e913a29d7e0e03c05ef6d7bc7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0e8de97e913a29d7e0e03c05ef6d7bc7">send_callinfo</a></div><div class="ttdeci">static void send_callinfo(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02556">chan_skinny.c:2556</a></div></div>
<div class="ttc" id="acl_8h_html_a79fc6597452f2ed6fb136cb2149a6e2c"><div class="ttname"><a href="../../d5/d59/acl_8h.html#a79fc6597452f2ed6fb136cb2149a6e2c">ast_get_ip</a></div><div class="ttdeci">int ast_get_ip(struct ast_sockaddr *addr, const char *hostname)</div><div class="ttdoc">Get the IP address given a hostname. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l01000">acl.c:1000</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a092e3458bbcb8f2c2f2d10ed8ea26a97"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a092e3458bbcb8f2c2f2d10ed8ea26a97">handle_skinny_set_debug</a></div><div class="ttdeci">static char * handle_skinny_set_debug(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03792">chan_skinny.c:3792</a></div></div>
<div class="ttc" id="unionskinny__data_html_a883cd321c7b885c8eb325344e8a45e01"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a883cd321c7b885c8eb325344e8a45e01">skinny_data::speeddialreq</a></div><div class="ttdeci">struct speed_dial_stat_req_message speeddialreq</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01157">chan_skinny.c:1157</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a50a64a17998ee0c20b7ea929f06f7371"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a50a64a17998ee0c20b7ea929f06f7371">SOFTKEY_CONFRN</a></div><div class="ttdeci">#define SOFTKEY_CONFRN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00722">chan_skinny.c:722</a></div></div>
<div class="ttc" id="format__cap_8h_html_a0e882d4c863b74fd9cd6f7d94740bfe2"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a0e882d4c863b74fd9cd6f7d94740bfe2">ast_format_cap_get_format_framing</a></div><div class="ttdeci">unsigned int ast_format_cap_get_format_framing(const struct ast_format_cap *cap, const struct ast_format *format)</div><div class="ttdoc">Get the framing for a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00443">format_cap.c:443</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="structstart__tone__message_html_aa68938e371fea91ad4b64381877bd381"><div class="ttname"><a href="../../d0/d00/structstart__tone__message.html#aa68938e371fea91ad4b64381877bd381">start_tone_message::reference</a></div><div class="ttdeci">uint32_t reference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00424">chan_skinny.c:424</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4f3cdc7e17a8607011181b2fca31e7fa"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4f3cdc7e17a8607011181b2fca31e7fa">skinny_autoanswer_cb</a></div><div class="ttdeci">static int skinny_autoanswer_cb(const void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04897">chan_skinny.c:4897</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00164">rtp_engine.h:164</a></div></div>
<div class="ttc" id="format__cap_8h_html_a4dff925fc9e3bb805b926d18447eb3eb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a></div><div class="ttdeci">const char * ast_format_cap_get_names(const struct ast_format_cap *cap, struct ast_str **buf)</div><div class="ttdoc">Get the names of codecs of a set of formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00736">format_cap.c:736</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa1b2b6b1bab1095ef0753afc2582d29d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa1b2b6b1bab1095ef0753afc2582d29d">IP_PORT_MESSAGE</a></div><div class="ttdeci">#define IP_PORT_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00302">chan_skinny.c:302</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad4037a7273874f3f69536524a452b912"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad4037a7273874f3f69536524a452b912">SUBSTATE_PROGRESS</a></div><div class="ttdeci">#define SUBSTATE_PROGRESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01381">chan_skinny.c:1381</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aaf5d467e9337255d2fc60ee4df9bebcc"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aaf5d467e9337255d2fc60ee4df9bebcc">DEBUG_HINT</a></div><div class="ttdeci">#define DEBUG_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00155">chan_skinny.c:155</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a01aa848ad39247c674889b31c19015e3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a01aa848ad39247c674889b31c19015e3">DEBUG_KEEPALIVE</a></div><div class="ttdeci">#define DEBUG_KEEPALIVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00156">chan_skinny.c:156</a></div></div>
<div class="ttc" id="structstation__capabilities_html_a82e0b1311e54c51fa587134c4f9bad50"><div class="ttname"><a href="../../d6/d32/structstation__capabilities.html#a82e0b1311e54c51fa587134c4f9bad50">station_capabilities::rate</a></div><div class="ttdeci">uint32_t rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00342">chan_skinny.c:342</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aad5f46f88fa82da05103795046e110b7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aad5f46f88fa82da05103795046e110b7">KEYDEF_CONNECTED</a></div><div class="ttdeci">#define KEYDEF_CONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00695">chan_skinny.c:695</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="structast__channel__tech_html_a0f943c30fc292bd35c9619493661920f"><div class="ttname"><a href="../../d4/d85/structast__channel__tech.html#a0f943c30fc292bd35c9619493661920f">ast_channel_tech::capabilities</a></div><div class="ttdeci">struct ast_format_cap * capabilities</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00633">channel.h:633</a></div></div>
<div class="ttc" id="structserver__res__message_html_a610e7308d2c7e6410d1728a991afd82e"><div class="ttname"><a href="../../dd/d7b/structserver__res__message.html#a610e7308d2c7e6410d1728a991afd82e">server_res_message::serverListenPort</a></div><div class="ttdeci">uint32_t serverListenPort[5]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00653">chan_skinny.c:653</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aab983751d9fb47d03d07a9e9dd2b4776"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aab983751d9fb47d03d07a9e9dd2b4776">KEYDEF_ONHOOK</a></div><div class="ttdeci">#define KEYDEF_ONHOOK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00694">chan_skinny.c:694</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a87243536bbb96a314e88cfadd810f639"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a87243536bbb96a314e88cfadd810f639">SKINNY_LAMP_OFF</a></div><div class="ttdeci">#define SKINNY_LAMP_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01316">chan_skinny.c:1316</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2468f713a22a053d5d3a94cd390f8eb2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2468f713a22a053d5d3a94cd390f8eb2">soft_key_default_definitions</a></div><div class="ttdeci">static const struct soft_key_definitions soft_key_default_definitions[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01016">chan_skinny.c:1016</a></div></div>
<div class="ttc" id="structset__lamp__message_html"><div class="ttname"><a href="../../d5/d21/structset__lamp__message.html">set_lamp_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00443">chan_skinny.c:443</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structoffhook__message_html"><div class="ttname"><a href="../../de/dd1/structoffhook__message.html">offhook_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00325">chan_skinny.c:325</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a67508a613c8f337732e35d9367b43ae7"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a67508a613c8f337732e35d9367b43ae7">AST_LIST_ENTRY</a></div><div class="ttdeci">#define AST_LIST_ENTRY(type)</div><div class="ttdoc">Declare a forward link structure inside a list entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00409">linkedlists.h:409</a></div></div>
<div class="ttc" id="structline__state__req__message_html_a987293a1c8fcaf937487ecbe613f0c52"><div class="ttname"><a href="../../db/d64/structline__state__req__message.html#a987293a1c8fcaf937487ecbe613f0c52">line_state_req_message::lineNumber</a></div><div class="ttdeci">uint32_t lineNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00360">chan_skinny.c:360</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a32b4dedb91edf80328d5cda72166bf6e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a32b4dedb91edf80328d5cda72166bf6e">KEYDEF_OFFHOOK</a></div><div class="ttdeci">#define KEYDEF_OFFHOOK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00698">chan_skinny.c:698</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_ae0f7b6a70f5a0e4256ceeb0922a48540"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#ae0f7b6a70f5a0e4256ceeb0922a48540">skinny_subchannel::subline</a></div><div class="ttdeci">struct skinny_subline * subline</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01417">chan_skinny.c:1417</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="parking_8h_html_ae6064ecb9b802ce85e93ddfa7719c433"><div class="ttname"><a href="../../d2/d33/parking_8h.html#ae6064ecb9b802ce85e93ddfa7719c433">ast_parking_provider_registered</a></div><div class="ttdeci">int ast_parking_provider_registered(void)</div><div class="ttdoc">Check whether a parking provider is registered. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2a/parking_8c_source.html#l00241">parking.c:241</a></div></div>
<div class="ttc" id="structclose__receive__channel__message_html_a042688e766f041125ca9e83e7d6e1e5b"><div class="ttname"><a href="../../d8/d78/structclose__receive__channel__message.html#a042688e766f041125ca9e83e7d6e1e5b">close_receive_channel_message::partyId</a></div><div class="ttdeci">uint32_t partyId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00678">chan_skinny.c:678</a></div></div>
<div class="ttc" id="app__adsiprog_8c_html_a0cce1f074e5889dc40e691d352d025a7"><div class="ttname"><a href="../../db/d62/app__adsiprog_8c.html#a0cce1f074e5889dc40e691d352d025a7">cleardisplay</a></div><div class="ttdeci">static int cleardisplay(char *buf, char *name, int id, char *args, struct adsi_script *istate, const char *script, int lineno)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d62/app__adsiprog_8c_source.html#l00750">app_adsiprog.c:750</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structskinny__line_html_ae804c1b2a80603cf59b7bae67a0cbcec"><div class="ttname"><a href="../../d2/db5/structskinny__line.html#ae804c1b2a80603cf59b7bae67a0cbcec">skinny_line::list</a></div><div class="ttdeci">struct skinny_line::@137 list</div></div>
<div class="ttc" id="chan__ooh323_8c_html_a81b4b1c3c855fb371e7723b473f1ee78"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a></div><div class="ttdeci">static char version[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00391">chan_ooh323.c:391</a></div></div>
<div class="ttc" id="structast__tm_html_a4412571b90746a85cae9b8841c44c59c"><div class="ttname"><a href="../../d5/d84/structast__tm.html#a4412571b90746a85cae9b8841c44c59c">ast_tm::tm_wday</a></div><div class="ttdeci">int tm_wday</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00042">localtime.h:42</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ace96029ade576fdaa306b409a2639890"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ace96029ade576fdaa306b409a2639890">SET_SPEAKER_MESSAGE</a></div><div class="ttdeci">#define SET_SPEAKER_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00449">chan_skinny.c:449</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae0cb986aeace802ace6a240d73c7335c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae0cb986aeace802ace6a240d73c7335c">transmit_connect</a></div><div class="ttdeci">static void transmit_connect(struct skinny_device *d, struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02650">chan_skinny.c:2650</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af3a42f7afa01b1dbffacd7d07f9751b5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af3a42f7afa01b1dbffacd7d07f9751b5">SKINNY_DEVICE_7970</a></div><div class="ttdeci">#define SKINNY_DEVICE_7970</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01271">chan_skinny.c:1271</a></div></div>
<div class="ttc" id="structforward__stat__message_html_a0efc2cd005b4b368e86dc6898dfc1663"><div class="ttname"><a href="../../d9/d05/structforward__stat__message.html#a0efc2cd005b4b368e86dc6898dfc1663">forward_stat_message::activeforward</a></div><div class="ttdeci">uint32_t activeforward</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00523">chan_skinny.c:523</a></div></div>
<div class="ttc" id="channel_8h_html_abcf1aea85b924e9cd605040b86241e2a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a></div><div class="ttdeci">#define AST_MAX_CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00136">channel.h:136</a></div></div>
<div class="ttc" id="structcall__state__message_html"><div class="ttname"><a href="../../d2/ded/structcall__state__message.html">call_state_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01064">chan_skinny.c:1064</a></div></div>
<div class="ttc" id="network_8h_html_a5a735cb59e8a8ddd78078d396db7e106"><div class="ttname"><a href="../../d9/d94/network_8h.html#a5a735cb59e8a8ddd78078d396db7e106">ast_inet_ntoa</a></div><div class="ttdeci">const char * ast_inet_ntoa(struct in_addr ia)</div><div class="ttdoc">thread-safe replacement for inet_ntoa(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00782">main/utils.c:782</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad42c94940dcf4f9dfcbadb66768a232e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad42c94940dcf4f9dfcbadb66768a232e">BT_REDIAL</a></div><div class="ttdeci">#define BT_REDIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00592">chan_skinny.c:592</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2d6255614b0eec8c48bc371afdb18443"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2d6255614b0eec8c48bc371afdb18443">CALL_STATE_MESSAGE</a></div><div class="ttdeci">#define CALL_STATE_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01063">chan_skinny.c:1063</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6b694923ed4fb4da7b7e8fbcf650cbf1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6b694923ed4fb4da7b7e8fbcf650cbf1">transmit_activatecallplane</a></div><div class="ttdeci">static void transmit_activatecallplane(struct skinny_device *d, struct skinny_line *l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03073">chan_skinny.c:3073</a></div></div>
<div class="ttc" id="structstop__tone__message_html_a255ac0cfa2a98311b2aa3976bdfacf98"><div class="ttname"><a href="../../df/d76/structstop__tone__message.html#a255ac0cfa2a98311b2aa3976bdfacf98">stop_tone_message::space</a></div><div class="ttdeci">uint32_t space</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00431">chan_skinny.c:431</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="utils_8h_html_a4781fd54a4ca8c7f0f8a32a6cce503c0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a></div><div class="ttdeci">#define ast_pthread_create(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00559">utils.h:559</a></div></div>
<div class="ttc" id="structregister__message_html_acd328517a6cf718155c2e6e22b671ca9"><div class="ttname"><a href="../../db/dc9/structregister__message.html#acd328517a6cf718155c2e6e22b671ca9">register_message::name</a></div><div class="ttdeci">char name[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00290">chan_skinny.c:290</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6382ccdb9e04a0ce816a20a54a96700a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6382ccdb9e04a0ce816a20a54a96700a">handle_capabilities_res_message</a></div><div class="ttdeci">static int handle_capabilities_res_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06660">chan_skinny.c:6660</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa12950ed52268059264cbac73630a91a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa12950ed52268059264cbac73630a91a">SKINNY_MAX_CAPABILITIES</a></div><div class="ttdeci">#define SKINNY_MAX_CAPABILITIES</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00346">chan_skinny.c:346</a></div></div>
<div class="ttc" id="structast__var__t_html_a55d5c7988e3164d7310d88c67d97a1db"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a></div><div class="ttdeci">struct ast_var_t::@249 entries</div></div>
<div class="ttc" id="chan__skinny_8c_html_a68441ee5fadb36ee720812ba7f0ee460"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a68441ee5fadb36ee720812ba7f0ee460">STIMULUS_HOLD</a></div><div class="ttdeci">#define STIMULUS_HOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00575">chan_skinny.c:575</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af1f50f72b24c706be012b5d9d93d4a10"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af1f50f72b24c706be012b5d9d93d4a10">cli_skinny</a></div><div class="ttdeci">static struct ast_cli_entry cli_skinny[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04738">chan_skinny.c:4738</a></div></div>
<div class="ttc" id="structbutton__definition__template_html"><div class="ttname"><a href="../../d9/d8c/structbutton__definition__template.html">button_definition_template</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00567">chan_skinny.c:567</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a59ab6f8b26a4b1724f3823048c2a5168"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a59ab6f8b26a4b1724f3823048c2a5168">transmit_displaypromptstatus</a></div><div class="ttdeci">static void transmit_displaypromptstatus(struct skinny_device *d, const char *text, const char *extratext, int t, int instance, int callid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02911">chan_skinny.c:2911</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a51c12165871b57ce6a1deffecea01b17"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a51c12165871b57ce6a1deffecea01b17">SKINNY_DEVICE_7912</a></div><div class="ttdeci">#define SKINNY_DEVICE_7912</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01272">chan_skinny.c:1272</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae18cb03403da5513c2c6ac0c32c4c939"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae18cb03403da5513c2c6ac0c32c4c939">KEYDEF_RINGOUT</a></div><div class="ttdeci">#define KEYDEF_RINGOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00702">chan_skinny.c:702</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acaafecebc752534270c786c48539a9ee"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acaafecebc752534270c786c48539a9ee">find_subchannel_by_reference</a></div><div class="ttdeci">static struct skinny_subchannel * find_subchannel_by_reference(struct skinny_device *d, int reference)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02066">chan_skinny.c:2066</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a36da73f15a23c9efbc5efabb8cc08f73"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a36da73f15a23c9efbc5efabb8cc08f73">CDEV</a></div><div class="ttdeci">#define CDEV</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07768">chan_skinny.c:7768</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad0232ebceef396ab30795eb9348d7cac"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad0232ebceef396ab30795eb9348d7cac">TIME_DATE_REQ_MESSAGE</a></div><div class="ttdeci">#define TIME_DATE_REQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00363">chan_skinny.c:363</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac6ec76298781b247cc9c260feb91f1ec"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac6ec76298781b247cc9c260feb91f1ec">SUBSTATE_HOLD</a></div><div class="ttdeci">#define SUBSTATE_HOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01379">chan_skinny.c:1379</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab459e5c176179dcd6df72ee4824ad05d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab459e5c176179dcd6df72ee4824ad05d">transmit_serverres</a></div><div class="ttdeci">static void transmit_serverres(struct skinny_device *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03228">chan_skinny.c:3228</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afa9c2c4a21e3a321cf0c2c4adec1a05f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afa9c2c4a21e3a321cf0c2c4adec1a05f">SKINNY_DEVICE_7935</a></div><div class="ttdeci">#define SKINNY_DEVICE_7935</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01251">chan_skinny.c:1251</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a79d95555682062db176dfd2a5e9c0752"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a79d95555682062db176dfd2a5e9c0752">SPEED_DIAL_STAT_REQ_MESSAGE</a></div><div class="ttdeci">#define SPEED_DIAL_STAT_REQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00353">chan_skinny.c:353</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ac4106406e269667ff84ee49e0a634f94"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ac4106406e269667ff84ee49e0a634f94">AST_CONTROL_OPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00288">include/asterisk/frame.h:288</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afe81f121e37b9b5a707f27f80e7f20f5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afe81f121e37b9b5a707f27f80e7f20f5">SKINNY_BUSYTONE</a></div><div class="ttdeci">#define SKINNY_BUSYTONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01306">chan_skinny.c:1306</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a78d4847658b695383d849efd12399b38">skinny_subchannel::exten</a></div><div class="ttdeci">char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01393">chan_skinny.c:1393</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab3db0778b0a139e240053a7996b4a9e4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab3db0778b0a139e240053a7996b4a9e4">STIMULUS_TRANSFER</a></div><div class="ttdeci">#define STIMULUS_TRANSFER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00576">chan_skinny.c:576</a></div></div>
<div class="ttc" id="acl_8h_html_ad364a9241e15fc0dbec0ffcb88f64671"><div class="ttname"><a href="../../d5/d59/acl_8h.html#ad364a9241e15fc0dbec0ffcb88f64671">ast_str2cos</a></div><div class="ttdeci">int ast_str2cos(const char *value, unsigned int *cos)</div><div class="ttdoc">Convert a string to the appropriate COS value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l00953">acl.c:953</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_aea7cfebdbc484f2d086c9218129a141a"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#aea7cfebdbc484f2d086c9218129a141a">skinny_speeddial::parent</a></div><div class="ttdeci">struct skinny_device * parent</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01533">chan_skinny.c:1533</a></div></div>
<div class="ttc" id="mwi_8h_html_acf8d474c4029156d9c49a4ddea50d01b"><div class="ttname"><a href="../../dc/d33/mwi_8h.html#acf8d474c4029156d9c49a4ddea50d01b">ast_mwi_unsubscribe_and_join</a></div><div class="ttdeci">void * ast_mwi_unsubscribe_and_join(struct ast_mwi_subscriber *sub)</div><div class="ttdoc">Unsubscribe from the stasis topic, block until the final message is received, and then unsubscribe fr...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00254">mwi.c:254</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="unionskinny__data_html"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html">skinny_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01155">chan_skinny.c:1155</a></div></div>
<div class="ttc" id="structskinny__addon_html_aea7cfebdbc484f2d086c9218129a141a"><div class="ttname"><a href="../../dc/d11/structskinny__addon.html#aea7cfebdbc484f2d086c9218129a141a">skinny_addon::parent</a></div><div class="ttdeci">struct skinny_device * parent</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01558">chan_skinny.c:1558</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3201477814d0797cbbab6d0c77dcfa39"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3201477814d0797cbbab6d0c77dcfa39">message2str_threadbuf</a></div><div class="ttdeci">static struct ast_threadstorage message2str_threadbuf</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00265">chan_skinny.c:265</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af1d2fd59588cba882a9566324087a8a5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af1d2fd59588cba882a9566324087a8a5">SKINNY_DEVICE_UNKNOWN</a></div><div class="ttdeci">#define SKINNY_DEVICE_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01241">chan_skinny.c:1241</a></div></div>
<div class="ttc" id="structdialed__number__message_html_a559dde9437a7990069ccb75635e0be50"><div class="ttname"><a href="../../d1/d77/structdialed__number__message.html#a559dde9437a7990069ccb75635e0be50">dialed_number_message::dialedNumber</a></div><div class="ttdeci">char dialedNumber[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01099">chan_skinny.c:1099</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae3ac7b464520c606a7b5e114091a7798"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae3ac7b464520c606a7b5e114091a7798">default_device_struct</a></div><div class="ttdeci">static struct skinny_device_options default_device_struct</div></div>
<div class="ttc" id="chan__skinny_8c_html_a844a39ac2662cbc0d7eaa6122ac5ae71a78f84a441f7ee1fd3dc5e4e5b806a07d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a78f84a441f7ee1fd3dc5e4e5b806a07d">SKINNY_CODEC_G723_1</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00179">chan_skinny.c:179</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html_a1ef831eecaebc753fe70e27d467c3686"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html#a1ef831eecaebc753fe70e27d467c3686">call_info_message_variable::unknown5</a></div><div class="ttdeci">uint32_t unknown5</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01136">chan_skinny.c:1136</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip6_html_ac5a38fc25a4e37970a393d8e794b37c4"><div class="ttname"><a href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#ac5a38fc25a4e37970a393d8e794b37c4">open_receive_channel_ack_message_ip6::ipAddr</a></div><div class="ttdeci">char ipAddr[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00386">chan_skinny.c:386</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_aee3ef7f9e53a34e743c3a95c9ca95fb4"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#aee3ef7f9e53a34e743c3a95c9ca95fb4">ast_rtp_instance_fd</a></div><div class="ttdeci">int ast_rtp_instance_fd(struct ast_rtp_instance *instance, int rtcp)</div><div class="ttdoc">Get the file descriptor for an RTP session (or RTCP) </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02192">rtp_engine.c:2192</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="structline__stat__res__message_html_a7b3df44a29beab3b350e067cbfb7075b"><div class="ttname"><a href="../../d6/d52/structline__stat__res__message.html#a7b3df44a29beab3b350e067cbfb7075b">line_stat_res_message::lineDirNumber</a></div><div class="ttdeci">char lineDirNumber[24]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00543">chan_skinny.c:543</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a55836f07b6c6aaf9939ca8f64b16f2ac"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a55836f07b6c6aaf9939ca8f64b16f2ac">OCTAL_REDIAL</a></div><div class="ttdeci">#define OCTAL_REDIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00760">chan_skinny.c:760</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab431a59d2eaac35e8881a74fb043353f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab431a59d2eaac35e8881a74fb043353f">SUBSTATE_ONHOOK</a></div><div class="ttdeci">#define SUBSTATE_ONHOOK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01373">chan_skinny.c:1373</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf226cf2d1a4dbbbf220521d58c05ac0f"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf226cf2d1a4dbbbf220521d58c05ac0f">ast_mwi_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_mwi_state_type(void)</div><div class="ttdoc">Get the Stasis Message Bus API message type for MWI messages. </div></div>
<div class="ttc" id="sched_8h_html_a3a093634fe17bd0ac4eb6f518aa0782e"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a></div><div class="ttdeci">int ast_sched_del(struct ast_sched_context *con, int id) attribute_warn_unused_result</div><div class="ttdoc">Deletes a scheduled event. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00610">sched.c:610</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="structdisplay__prompt__status__message__variable_html_a8c5b70179481930bfaef1fa8f6aaba74"><div class="ttname"><a href="../../dc/db4/structdisplay__prompt__status__message__variable.html#a8c5b70179481930bfaef1fa8f6aaba74">display_prompt_status_message_variable::callReference</a></div><div class="ttdeci">uint32_t callReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01151">chan_skinny.c:1151</a></div></div>
<div class="ttc" id="structskinny__addon_html"><div class="ttname"><a href="../../dc/d11/structskinny__addon.html">skinny_addon</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01554">chan_skinny.c:1554</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a844a39ac2662cbc0d7eaa6122ac5ae71a4d00a1ea7a1cdd28f6d452057c01f665"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4d00a1ea7a1cdd28f6d452057c01f665">SKINNY_CODEC_H263</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00183">chan_skinny.c:183</a></div></div>
<div class="ttc" id="devicestate_8h_html_a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00070">devicestate.h:70</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a545e8e8ebe002a2bd9c37b47a45b3fbb"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a545e8e8ebe002a2bd9c37b47a45b3fbb">_skinny_message_clear</a></div><div class="ttdeci">static char * _skinny_message_clear(int type, int fd, struct mansession *s, const struct message *m, int argc, const char *const *argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04702">chan_skinny.c:4702</a></div></div>
<div class="ttc" id="chan__dahdi_8c_html_a9e3b50e48c757ee5067da367f779839a"><div class="ttname"><a href="../../d1/d97/chan__dahdi_8c.html#a9e3b50e48c757ee5067da367f779839a">alarm</a></div><div class="ttdeci">int alarm</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d97/chan__dahdi_8c_source.html#l04360">chan_dahdi.c:4360</a></div></div>
<div class="ttc" id="structast__jb__conf_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#ac92588540e8c1d014a08cd8a45462b19">ast_jb_conf::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdoc">Combination of the AST_JB_ENABLED, AST_JB_FORCED and AST_JB_LOG flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00072">abstract_jb.h:72</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a892b2d4a6db65310c71e3cdc7bbf9b98"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a892b2d4a6db65310c71e3cdc7bbf9b98">skinny_subchannel::aa_mute</a></div><div class="ttdeci">int aa_mute</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01406">chan_skinny.c:1406</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a068d6f987aefda74cc4eccf378f0e26f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a068d6f987aefda74cc4eccf378f0e26f">SKINNY_BUSY</a></div><div class="ttdeci">#define SKINNY_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01291">chan_skinny.c:1291</a></div></div>
<div class="ttc" id="unionskinny__data_html_a69f5aa4af56adffb6bf9f024b0da437f"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a69f5aa4af56adffb6bf9f024b0da437f">skinny_data::clearpromptstatus</a></div><div class="ttdeci">struct clear_prompt_message clearpromptstatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01167">chan_skinny.c:1167</a></div></div>
<div class="ttc" id="structast__tm_html_a4d171061df9e012fcfbd1172b8440d5f"><div class="ttname"><a href="../../d5/d84/structast__tm.html#a4d171061df9e012fcfbd1172b8440d5f">ast_tm::tm_hour</a></div><div class="ttdeci">int tm_hour</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00038">localtime.h:38</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00291">include/asterisk/frame.h:291</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af39bd902ef207e030753286d65681c7c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af39bd902ef207e030753286d65681c7c">SKINNY_DEVICE_12SPPLUS</a></div><div class="ttdeci">#define SKINNY_DEVICE_12SPPLUS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01244">chan_skinny.c:1244</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a37e7b200bb9cab1a9929e05d4dad73e8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a37e7b200bb9cab1a9929e05d4dad73e8">OCTAL_INFO</a></div><div class="ttdeci">#define OCTAL_INFO</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00771">chan_skinny.c:771</a></div></div>
<div class="ttc" id="unionskinny__data_html_a4c73ef4530d7434fa7bb56953ff4d627"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a4c73ef4530d7434fa7bb56953ff4d627">skinny_data::clearprinotify</a></div><div class="ttdeci">struct clear_prinotify_message clearprinotify</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01206">chan_skinny.c:1206</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_abf00b99ac9997599a5c36fe86f83a0a4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#abf00b99ac9997599a5c36fe86f83a0a4">default_cap</a></div><div class="ttdeci">static struct ast_format_cap * default_cap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00173">chan_skinny.c:173</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa82c3d86ef6e9bdda657d0637a56f0b3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa82c3d86ef6e9bdda657d0637a56f0b3">SKINNY_DEVICE_CIPC</a></div><div class="ttdeci">#define SKINNY_DEVICE_CIPC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01274">chan_skinny.c:1274</a></div></div>
<div class="ttc" id="structsoft__key__set__res__message_html_a97e3bb97951482c8cf4d55a2d0bfcb62"><div class="ttname"><a href="../../d4/d70/structsoft__key__set__res__message.html#a97e3bb97951482c8cf4d55a2d0bfcb62">soft_key_set_res_message::res</a></div><div class="ttdeci">uint32_t res</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01052">chan_skinny.c:1052</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip4_html_a52c51c79d848efbf9fbf291a2f2645c6"><div class="ttname"><a href="../../d2/d39/structstart__media__transmission__message__ip4.html#a52c51c79d848efbf9fbf291a2f2645c6">start_media_transmission_message_ip4::remotePort</a></div><div class="ttdeci">uint32_t remotePort</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00472">chan_skinny.c:472</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae9c3820ed2b487507e8c713c7fb1db03"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae9c3820ed2b487507e8c713c7fb1db03">BT_VOICEMAIL</a></div><div class="ttdeci">#define BT_VOICEMAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00601">chan_skinny.c:601</a></div></div>
<div class="ttc" id="sched_8h_html_ae9f272c016f465e567c9178180ada899"><div class="ttname"><a href="../../d7/d00/sched_8h.html#ae9f272c016f465e567c9178180ada899">ast_sched_cb</a></div><div class="ttdeci">int(* ast_sched_cb)(const void *data)</div><div class="ttdoc">scheduler callback </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d00/sched_8h_source.html#l00175">sched.h:175</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a258aee0512dcbdce20a4ec7c9174efec"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a258aee0512dcbdce20a4ec7c9174efec">OFFHOOK_MESSAGE</a></div><div class="ttdeci">#define OFFHOOK_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00324">chan_skinny.c:324</a></div></div>
<div class="ttc" id="structcall__info__message_html_a211a0e22a5579bdb86254754a80dfdb7"><div class="ttname"><a href="../../d1/d13/structcall__info__message.html#a211a0e22a5579bdb86254754a80dfdb7">call_info_message::originalCalledPartyRedirectReason</a></div><div class="ttdeci">uint32_t originalCalledPartyRedirectReason</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00512">chan_skinny.c:512</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3fde9ebcac20096752caa92845e4862a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3fde9ebcac20096752caa92845e4862a">FORWARD_STAT_MESSAGE</a></div><div class="ttdeci">#define FORWARD_STAT_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00521">chan_skinny.c:521</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a47e3aa64ee6a6f5e659bad94b9576eee"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a47e3aa64ee6a6f5e659bad94b9576eee">SKINNY_DEVICE_7961</a></div><div class="ttdeci">#define SKINNY_DEVICE_7961</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01275">chan_skinny.c:1275</a></div></div>
<div class="ttc" id="sched_8h_html_a7a43dcf8be6b2ed7f96f3867fbcb4082"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a7a43dcf8be6b2ed7f96f3867fbcb4082">ast_sched_add</a></div><div class="ttdeci">int ast_sched_add(struct ast_sched_context *con, int when, ast_sched_cb callback, const void *data) attribute_warn_unused_result</div><div class="ttdoc">Adds a scheduled event. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00565">sched.c:565</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa16aabd900fdb4bd057303387115959f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa16aabd900fdb4bd057303387115959f">transmit_lamp_indication</a></div><div class="ttdeci">static void transmit_lamp_indication(struct skinny_device *d, int stimulus, int instance, int indication)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02746">chan_skinny.c:2746</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_ad5a6cbf59d842df8ea89ed445f42b1f2"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#ad5a6cbf59d842df8ea89ed445f42b1f2">skinny_subchannel::origtoname</a></div><div class="ttdeci">char * origtoname</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01412">chan_skinny.c:1412</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a80baeff1bd121c3168ede2a955e9b3a2"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a80baeff1bd121c3168ede2a955e9b3a2">ast_rtp_instance_get_local_address</a></div><div class="ttdeci">void ast_rtp_instance_get_local_address(struct ast_rtp_instance *instance, struct ast_sockaddr *address)</div><div class="ttdoc">Get the local address that we are expecting RTP on. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00643">rtp_engine.c:643</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0be9e6c1ec02d36ff811d63a5b9ca022"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0be9e6c1ec02d36ff811d63a5b9ca022">find_speeddial_by_instance</a></div><div class="ttdeci">static struct skinny_speeddial * find_speeddial_by_instance(struct skinny_device *d, int instance, int isHint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02090">chan_skinny.c:2090</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1ae95d3d12c225bb40b497687b3e9dc1"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1ae95d3d12c225bb40b497687b3e9dc1">get_devicestate</a></div><div class="ttdeci">static int get_devicestate(struct skinny_line *l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05154">chan_skinny.c:5154</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0bfe6336fe7deb78148a84aef2732c7a"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0bfe6336fe7deb78148a84aef2732c7a">ast_rtp_instance_destroy</a></div><div class="ttdeci">int ast_rtp_instance_destroy(struct ast_rtp_instance *instance)</div><div class="ttdoc">Destroy an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00458">rtp_engine.c:458</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip6_html_ade20423e91627f07e610924cb0081623"><div class="ttname"><a href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html#ade20423e91627f07e610924cb0081623">open_receive_channel_ack_message_ip6::status</a></div><div class="ttdeci">uint32_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00384">chan_skinny.c:384</a></div></div>
<div class="ttc" id="structdisplay__prinotify__message__variable_html"><div class="ttname"><a href="../../dc/d7e/structdisplay__prinotify__message__variable.html">display_prinotify_message_variable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01141">chan_skinny.c:1141</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a76b4d3927cacd1bcd5da9ca8fe375cb6"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a76b4d3927cacd1bcd5da9ca8fe375cb6">ast_app_has_voicemail</a></div><div class="ttdeci">int ast_app_has_voicemail(const char *mailboxes, const char *folder)</div><div class="ttdoc">Determine if a given mailbox has any voicemail If folder is NULL, defaults to &quot;INBOX&quot;. If folder is &quot;INBOX&quot;, includes the number of messages in the &quot;Urgent&quot; folder. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00655">main/app.c:655</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4b72ea00639536a0cc23d112890d4bc2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4b72ea00639536a0cc23d112890d4bc2">SOFTKEY_MEETME</a></div><div class="ttdeci">#define SOFTKEY_MEETME</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00725">chan_skinny.c:725</a></div></div>
<div class="ttc" id="channel_8h_html_aca37ca2f3d55a223d26617329ed48a3e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a></div><div class="ttdeci">void ast_channel_set_fd(struct ast_channel *chan, int which, int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02431">channel.c:2431</a></div></div>
<div class="ttc" id="structregister__rej__message_html_ae277b64cf6cfc5934fc43b096023feed"><div class="ttname"><a href="../../d3/da5/structregister__rej__message.html#ae277b64cf6cfc5934fc43b096023feed">register_rej_message::errMsg</a></div><div class="ttdeci">char errMsg[33]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00643">chan_skinny.c:643</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af648e62439ef45e686181bb7e1972f97"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af648e62439ef45e686181bb7e1972f97">skinny_unlocksub</a></div><div class="ttdeci">static void skinny_unlocksub(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02015">chan_skinny.c:2015</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html_a6d5694839ec935781627e5c52de21fda"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html#a6d5694839ec935781627e5c52de21fda">definetimedate_message::seconds</a></div><div class="ttdeci">uint32_t seconds</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00556">chan_skinny.c:556</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a701494bb66426a27068ffa8aa05ba99a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a701494bb66426a27068ffa8aa05ba99a">SKINNY_MICOFF</a></div><div class="ttdeci">#define SKINNY_MICOFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01284">chan_skinny.c:1284</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab61a7c473b18188f04fb35186ed35976"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab61a7c473b18188f04fb35186ed35976">SKINNY_DEVICE_7965</a></div><div class="ttdeci">#define SKINNY_DEVICE_7965</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01267">chan_skinny.c:1267</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9a7988ad601a91351534202a8e1ad43e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9a7988ad601a91351534202a8e1ad43e">SKINNY_DEVICE_7902</a></div><div class="ttdeci">#define SKINNY_DEVICE_7902</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01273">chan_skinny.c:1273</a></div></div>
<div class="ttc" id="res__phoneprov_8c_html_addaa208b0ed785225e24490fb9f28a80"><div class="ttname"><a href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO</a></div><div class="ttdeci">AST_MODULE_INFO(ASTERISK_GPL_KEY, AST_MODFLAG_GLOBAL_SYMBOLS|AST_MODFLAG_LOAD_ORDER, &quot;HTTP Phone Provisioning&quot;,.support_level=AST_MODULE_SUPPORT_EXTENDED,.load=load_module,.unload=unload_module,.reload=reload,.load_pri=AST_MODPRI_CHANNEL_DEPEND,.requires=&quot;http&quot;,)</div></div>
<div class="ttc" id="chan__skinny_8c_html_a4ec29229510a2e3ea6ce34d520f06e90"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4ec29229510a2e3ea6ce34d520f06e90">bindaddr</a></div><div class="ttdeci">static struct sockaddr_in bindaddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01231">chan_skinny.c:1231</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a0981c84ac90dd79bc2a0fdd90aa6efba"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a0981c84ac90dd79bc2a0fdd90aa6efba">ast_jb_configure</a></div><div class="ttdeci">void ast_jb_configure(struct ast_channel *chan, const struct ast_jb_conf *conf)</div><div class="ttdoc">Configures a jitterbuffer on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00593">abstract_jb.c:593</a></div></div>
<div class="ttc" id="structast__hostent_html"><div class="ttname"><a href="../../db/d2b/structast__hostent.html">ast_hostent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00208">utils.h:208</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad1629fcaedb5583acbff4481fc3affb4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad1629fcaedb5583acbff4481fc3affb4">SKINNY_DEVICE_30VIP</a></div><div class="ttdeci">#define SKINNY_DEVICE_30VIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01247">chan_skinny.c:1247</a></div></div>
<div class="ttc" id="structserviceurl__statreq__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../d0/dde/structserviceurl__statreq__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">serviceurl_statreq_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00407">chan_skinny.c:407</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip4_html_a8c5b70179481930bfaef1fa8f6aaba74"><div class="ttname"><a href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a8c5b70179481930bfaef1fa8f6aaba74">open_receive_channel_ack_message_ip4::callReference</a></div><div class="ttdeci">uint32_t callReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00381">chan_skinny.c:381</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9d00b95f44b64f37d738f1ddc2ef972f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9d00b95f44b64f37d738f1ddc2ef972f">transmit_speaker_mode</a></div><div class="ttdeci">static void transmit_speaker_mode(struct skinny_device *d, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02438">chan_skinny.c:2438</a></div></div>
<div class="ttc" id="channel_8h_html_a018b7a29cef2d62074dc46e9aaad0d1a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a></div><div class="ttdeci">void ast_channel_exten_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00357">channel_internal_api.c:357</a></div></div>
<div class="ttc" id="channel_8h_html_a4a5bc2ea394aace55ea3809e53365ea9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a></div><div class="ttdeci">struct ast_format_cap * ast_channel_nativeformats(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00637">channel_internal_api.c:637</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a445c4d0d3e79e43aa4641d8bc8f648c7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a445c4d0d3e79e43aa4641d8bc8f648c7">callnums</a></div><div class="ttdeci">static int callnums</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01239">chan_skinny.c:1239</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a2a460cdc221724359c10c82ed56b3d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a></div><div class="ttdeci">static char speeddial[ADSI_MAX_SPEED_DIAL][3][SPEEDDIAL_MAX_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00069">res_adsi.c:69</a></div></div>
<div class="ttc" id="structbutton__template__res__message_html_aa40104e9b00b6ca099695c7494cf0c93"><div class="ttname"><a href="../../db/df8/structbutton__template__res__message.html#aa40104e9b00b6ca099695c7494cf0c93">button_template_res_message::definition</a></div><div class="ttdeci">struct button_definition definition[42]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00620">chan_skinny.c:620</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga18159008df1e2c2f4d86060386c8b47c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a></div><div class="ttdeci">void ast_endpoint_blob_publish(struct ast_endpoint *endpoint, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Creates and publishes a ast_endpoint_blob message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00325">stasis_endpoints.c:325</a></div></div>
<div class="ttc" id="structonhook__message_html"><div class="ttname"><a href="../../d9/d36/structonhook__message.html">onhook_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00331">chan_skinny.c:331</a></div></div>
<div class="ttc" id="udptl_8h_html_ae0808bce80557e3107c9030bd8a832fe"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#ae0808bce80557e3107c9030bd8a832fe">ast_udptl_read</a></div><div class="ttdeci">struct ast_frame * ast_udptl_read(struct ast_udptl *udptl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00762">udptl.c:762</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8b13b4f3379b67594f69bc4ecc798b48"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8b13b4f3379b67594f69bc4ecc798b48">find_subline_by_name</a></div><div class="ttdeci">static struct skinny_subline * find_subline_by_name(const char *dest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01949">chan_skinny.c:1949</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac94ef39ce5fe260e5d56db5848960206"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac94ef39ce5fe260e5d56db5848960206">OCTAL_BUSY</a></div><div class="ttdeci">#define OCTAL_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00784">chan_skinny.c:784</a></div></div>
<div class="ttc" id="callerid_8h_html_aec2d69e281c81503bc532e107ca26f66"><div class="ttname"><a href="../../de/d47/callerid_8h.html#aec2d69e281c81503bc532e107ca26f66">AST_PRES_RESTRICTION</a></div><div class="ttdeci">#define AST_PRES_RESTRICTION</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/callerid_8h_source.html#l00323">callerid.h:323</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ae177c145d03ff05a54e1d0547a239005"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ae177c145d03ff05a54e1d0547a239005">AST_CONTROL_TRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00298">include/asterisk/frame.h:298</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_af203379aca2fd704fe8d86a9445596b6"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a></div><div class="ttdeci">struct ast_frame ast_null_frame</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d55/main_2frame_8c_source.html#l00079">main/frame.c:79</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0a41428ca9cf82e2f19c3768439e8d85"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0a41428ca9cf82e2f19c3768439e8d85">tos_video</a></div><div class="ttdeci">unsigned int tos_video</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00195">chan_skinny.c:195</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa9a56439f327c8e4795abdd03bfeca10"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa9a56439f327c8e4795abdd03bfeca10">STIMULUS_FORWARDBUSY</a></div><div class="ttdeci">#define STIMULUS_FORWARDBUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00578">chan_skinny.c:578</a></div></div>
<div class="ttc" id="structast__tm_html_a18df301c1a10c8d493da86ce5c2aea78"><div class="ttname"><a href="../../d5/d84/structast__tm.html#a18df301c1a10c8d493da86ce5c2aea78">ast_tm::tm_sec</a></div><div class="ttdeci">int tm_sec</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00036">localtime.h:36</a></div></div>
<div class="ttc" id="structactivate__call__plane__message_html"><div class="ttname"><a href="../../d0/da0/structactivate__call__plane__message.html">activate_call_plane_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01093">chan_skinny.c:1093</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab04a8ea6a900e9b9327d8e896b61899b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab04a8ea6a900e9b9327d8e896b61899b">set_callforwards</a></div><div class="ttdeci">static int set_callforwards(struct skinny_line *l, const char *cfwd, int cfwdtype)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02152">chan_skinny.c:2152</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa141f086a05a7250a05aef742a4875c8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa141f086a05a7250a05aef742a4875c8">handle_skinny_show_lines</a></div><div class="ttdeci">static char * handle_skinny_show_lines(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04417">chan_skinny.c:4417</a></div></div>
<div class="ttc" id="structstop__media__transmission__message_html"><div class="ttname"><a href="../../d6/de5/structstop__media__transmission__message.html">stop_media_transmission_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00493">chan_skinny.c:493</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_afba22a4c8379e0b1489d8aaf643333d5"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#afba22a4c8379e0b1489d8aaf643333d5">skinny_subchannel::getforward</a></div><div class="ttdeci">int getforward</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01410">chan_skinny.c:1410</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7178ace67146a2004b92c3cf46aec2c9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7178ace67146a2004b92c3cf46aec2c9">SKINNY_DEVICE_7941</a></div><div class="ttdeci">#define SKINNY_DEVICE_7941</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01253">chan_skinny.c:1253</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="manager_8h_html_a0b1b4140c2836696a6950e92ab48a580"><div class="ttname"><a href="../../db/d45/manager_8h.html#a0b1b4140c2836696a6950e92ab48a580">EVENT_FLAG_REPORTING</a></div><div class="ttdeci">#define EVENT_FLAG_REPORTING</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00080">manager.h:80</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5916bc0fad835957681082ac3848bd2e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5916bc0fad835957681082ac3848bd2e">SKINNY_DEVICE_ATA186</a></div><div class="ttdeci">#define SKINNY_DEVICE_ATA186</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01252">chan_skinny.c:1252</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7e1e67dfbb8916241ee837657ed26698"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7e1e67dfbb8916241ee837657ed26698">transmit_clearpromptmessage</a></div><div class="ttdeci">static void transmit_clearpromptmessage(struct skinny_device *d, int instance, int callid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02974">chan_skinny.c:2974</a></div></div>
<div class="ttc" id="structdialed__number__message_html_a3c8ec1b11804b48f666007331e0c90ba"><div class="ttname"><a href="../../d1/d77/structdialed__number__message.html#a3c8ec1b11804b48f666007331e0c90ba">dialed_number_message::lineInstance</a></div><div class="ttdeci">uint32_t lineInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01100">chan_skinny.c:1100</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a74175021175357b1d82492f84ff6403a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a74175021175357b1d82492f84ff6403a">skinny_set_owner</a></div><div class="ttdeci">static void skinny_set_owner(struct skinny_subchannel *sub, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05360">chan_skinny.c:5360</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00295">include/asterisk/frame.h:295</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_abaabcb7f4349cc632dde3af5c6a5e1bd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a></div><div class="ttdeci">static struct ast_jb_conf global_jbconf</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00262">chan_skinny.c:262</a></div></div>
<div class="ttc" id="structopen__receive__channel__message_html_a32678c62007e0748dae550bd1007a07d"><div class="ttname"><a href="../../d1/df8/structopen__receive__channel__message.html#a32678c62007e0748dae550bd1007a07d">open_receive_channel_message::bitrate</a></div><div class="ttdeci">uint32_t bitrate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00671">chan_skinny.c:671</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="unionskinny__data_html_a42d52a186dbacb2769d37ae6c08543ff"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a42d52a186dbacb2769d37ae6c08543ff">skinny_data::stoptone</a></div><div class="ttdeci">struct stop_tone_message stoptone</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01170">chan_skinny.c:1170</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7480a62cb6d1de6cc68d75ffc1d901bf"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7480a62cb6d1de6cc68d75ffc1d901bf">DEBUG_LOCK</a></div><div class="ttdeci">#define DEBUG_LOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00152">chan_skinny.c:152</a></div></div>
<div class="ttc" id="structskinnysession_html_a2ed89e10d65c4137d632cf97641df41a"><div class="ttname"><a href="../../db/d98/structskinnysession.html#a2ed89e10d65c4137d632cf97641df41a">skinnysession::last_keepalive</a></div><div class="ttdeci">struct timeval last_keepalive</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01625">chan_skinny.c:1625</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6e10ac13a55648f43ab0769552b3dc8e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6e10ac13a55648f43ab0769552b3dc8e">SKINNY_DEVICE_7936</a></div><div class="ttdeci">#define SKINNY_DEVICE_7936</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01276">chan_skinny.c:1276</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_af3f800a0a8df8a1cd55b45ab566cbbd7"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#af3f800a0a8df8a1cd55b45ab566cbbd7">skinny_speeddial::container</a></div><div class="ttdeci">struct skinny_container * container</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01523">chan_skinny.c:1523</a></div></div>
<div class="ttc" id="structskinny__speeddial_html_ab20c01b68c97d3477a795c85e6c37be9"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html#ab20c01b68c97d3477a795c85e6c37be9">skinny_speeddial::label</a></div><div class="ttdeci">char label[42]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01524">chan_skinny.c:1524</a></div></div>
<div class="ttc" id="utils_8h_html_ad3b63ee1041593219ef0765b28d70442"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ad3b63ee1041593219ef0765b28d70442">ast_gethostbyname</a></div><div class="ttdeci">struct hostent * ast_gethostbyname(const char *host, struct ast_hostent *hp)</div><div class="ttdoc">Thread-safe gethostbyname function to use in Asterisk. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00197">main/utils.c:197</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip4_html"><div class="ttname"><a href="../../d2/d39/structstart__media__transmission__message__ip4.html">start_media_transmission_message_ip4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00468">chan_skinny.c:468</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa771aff2ab5634781b0f95257accfd82"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa771aff2ab5634781b0f95257accfd82">transmit_versionres</a></div><div class="ttdeci">static void transmit_versionres(struct skinny_device *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03216">chan_skinny.c:3216</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html_aac3a162d2f192fe2360aba534eac7198"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html#aac3a162d2f192fe2360aba534eac7198">definetimedate_message::year</a></div><div class="ttdeci">uint32_t year</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00550">chan_skinny.c:550</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a844a39ac2662cbc0d7eaa6122ac5ae71"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71">skinny_codecs</a></div><div class="ttdeci">skinny_codecs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00175">chan_skinny.c:175</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a434ca8d939945fa0bbefe5e076463f33"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a434ca8d939945fa0bbefe5e076463f33">SUBSTATE_BUSY</a></div><div class="ttdeci">#define SUBSTATE_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01377">chan_skinny.c:1377</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390af3bdb353330f1908e9558180b5bb9e16"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af3bdb353330f1908e9558180b5bb9e16">AST_CONTROL_INCOMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00307">include/asterisk/frame.h:307</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a87a6254e3dc9cc6d51b58f4547b4c7b9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a87a6254e3dc9cc6d51b58f4547b4c7b9">transmit_speeddialstatres</a></div><div class="ttdeci">static void transmit_speeddialstatres(struct skinny_device *d, struct skinny_speeddial *sd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03149">chan_skinny.c:3149</a></div></div>
<div class="ttc" id="structserver__identifier_html"><div class="ttname"><a href="../../d9/df0/structserver__identifier.html">server_identifier</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00647">chan_skinny.c:647</a></div></div>
<div class="ttc" id="unionskinny__data_html_aac712770efa4df6178f5dd12bb346907"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#aac712770efa4df6178f5dd12bb346907">skinny_data::softkeyeventmessage</a></div><div class="ttdeci">struct soft_key_event_message softkeyeventmessage</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01199">chan_skinny.c:1199</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad25614879b5f61a397dd7e6afc94e315"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad25614879b5f61a397dd7e6afc94e315">BT_CUST_LINESPEEDDIAL</a></div><div class="ttdeci">#define BT_CUST_LINESPEEDDIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00613">chan_skinny.c:613</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2aefadaebf9f3da51e9fbd92c998dc6b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2aefadaebf9f3da51e9fbd92c998dc6b">SKINNY_CX_INACTIVE</a></div><div class="ttdeci">#define SKINNY_CX_INACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01338">chan_skinny.c:1338</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">include/asterisk/frame.h:294</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="chan__skinny_8c_html_ae91dad65f553f7afebe4af507803bc7f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae91dad65f553f7afebe4af507803bc7f">cos</a></div><div class="ttdeci">unsigned int cos</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00196">chan_skinny.c:196</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aef34632dd58c9bb98615297efcc1c964"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aef34632dd58c9bb98615297efcc1c964">STIMULUS_CONFERENCE</a></div><div class="ttdeci">#define STIMULUS_CONFERENCE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00586">chan_skinny.c:586</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3b3e11372b76c65944afdea7205fa209"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3b3e11372b76c65944afdea7205fa209">SOFTKEY_ANSWER</a></div><div class="ttdeci">#define SOFTKEY_ANSWER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00720">chan_skinny.c:720</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2bc0fa239544a9b9aebb4aba6d3edacc"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2bc0fa239544a9b9aebb4aba6d3edacc">transmit_backspace</a></div><div class="ttdeci">static void transmit_backspace(struct skinny_device *d, int instance, unsigned callid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03374">chan_skinny.c:3374</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4278efdb24cd17e04eff48e39475dd4e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4278efdb24cd17e04eff48e39475dd4e">SKINNY_RING_INSIDE</a></div><div class="ttdeci">#define SKINNY_RING_INSIDE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01323">chan_skinny.c:1323</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acb883512e3f609a62dde13c5d5cb4879"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acb883512e3f609a62dde13c5d5cb4879">STOP_MEDIA_TRANSMISSION_MESSAGE</a></div><div class="ttdeci">#define STOP_MEDIA_TRANSMISSION_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00492">chan_skinny.c:492</a></div></div>
<div class="ttc" id="structsoft__key__definitions_html_a858b33a55c1de4c9bc94b982fc722754"><div class="ttname"><a href="../../df/de2/structsoft__key__definitions.html#a858b33a55c1de4c9bc94b982fc722754">soft_key_definitions::mode</a></div><div class="ttdeci">const uint8_t mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00913">chan_skinny.c:913</a></div></div>
<div class="ttc" id="structregister__message_html_afd551fffaf8f74bacc431cef46ae812b"><div class="ttname"><a href="../../db/dc9/structregister__message.html#afd551fffaf8f74bacc431cef46ae812b">register_message::userId</a></div><div class="ttdeci">uint32_t userId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00291">chan_skinny.c:291</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2f646f335c62dc8cbc31ab8245e94f17"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2f646f335c62dc8cbc31ab8245e94f17">transmit_callinfo_variable</a></div><div class="ttdeci">static void transmit_callinfo_variable(struct skinny_device *d, int instance, int callreference, char *fromname, char *fromnum, char *toname, char *tonum, int calldirection, char *origtonum, char *origtoname)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02493">chan_skinny.c:2493</a></div></div>
<div class="ttc" id="pbx_8h_html_a07176e8d314eb68b3b50279fafa11390"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a></div><div class="ttdeci">int ast_add_extension(const char *context, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar)</div><div class="ttdoc">Add and extension to an extension context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06970">pbx.c:6970</a></div></div>
<div class="ttc" id="structbutton__definition_html"><div class="ttname"><a href="../../d5/d71/structbutton__definition.html">button_definition</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00562">chan_skinny.c:562</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a40e0cb29fb150a1add99e1a31742bd68"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a40e0cb29fb150a1add99e1a31742bd68">OCTAL_ENDCALL</a></div><div class="ttdeci">#define OCTAL_ENDCALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00768">chan_skinny.c:768</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_ae881f72da41f54d875032969e07e2775"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#ae881f72da41f54d875032969e07e2775">skinny_subchannel::related</a></div><div class="ttdeci">struct skinny_subchannel * related</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01415">chan_skinny.c:1415</a></div></div>
<div class="ttc" id="cli_8h_html"><div class="ttname"><a href="../../dc/db0/cli_8h.html">cli.h</a></div><div class="ttdoc">Standard Command Line Interface. </div></div>
<div class="ttc" id="chan__skinny_8c_html_a552f2cd0b0e5021c1a1d60d7e79e5488"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a552f2cd0b0e5021c1a1d60d7e79e5488">SPEED_DIAL_STAT_RES_MESSAGE</a></div><div class="ttdeci">#define SPEED_DIAL_STAT_RES_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00533">chan_skinny.c:533</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae459fe08b297c169d379436bd538f440"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae459fe08b297c169d379436bd538f440">DISPLAY_PROMPT_STATUS_MESSAGE</a></div><div class="ttdeci">#define DISPLAY_PROMPT_STATUS_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01071">chan_skinny.c:1071</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_ad39832ccae8e926c9f4a4f4c2a10b4a5"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#ad39832ccae8e926c9f4a4f4c2a10b4a5">skinny_subchannel::dialer_sched</a></div><div class="ttdeci">int dialer_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01407">chan_skinny.c:1407</a></div></div>
<div class="ttc" id="structskinnysession_html_aa49d6a06775253352589280dc7f30018"><div class="ttname"><a href="../../db/d98/structskinnysession.html#aa49d6a06775253352589280dc7f30018">skinnysession::t</a></div><div class="ttdeci">pthread_t t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01614">chan_skinny.c:1614</a></div></div>
<div class="ttc" id="structdialed__number__message_html_a8c5b70179481930bfaef1fa8f6aaba74"><div class="ttname"><a href="../../d1/d77/structdialed__number__message.html#a8c5b70179481930bfaef1fa8f6aaba74">dialed_number_message::callReference</a></div><div class="ttdeci">uint32_t callReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01101">chan_skinny.c:1101</a></div></div>
<div class="ttc" id="channel_8h_html_aa04afa262d7e1b211ee32d17c949a275"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a></div><div class="ttdeci">int ast_channel_hangupcause(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00427">channel_internal_api.c:427</a></div></div>
<div class="ttc" id="structsessions_html"><div class="ttname"><a href="../../d3/d0a/structsessions.html">sessions</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01630">chan_skinny.c:1630</a></div></div>
<div class="ttc" id="structonhook__message_html_aa68938e371fea91ad4b64381877bd381"><div class="ttname"><a href="../../d9/d36/structonhook__message.html#aa68938e371fea91ad4b64381877bd381">onhook_message::reference</a></div><div class="ttdeci">uint32_t reference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00333">chan_skinny.c:333</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa1d32ef00ccadf4ded249067f83e8426"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa1d32ef00ccadf4ded249067f83e8426">complete_skinny_show_line</a></div><div class="ttdeci">static char * complete_skinny_show_line(const char *line, const char *word, int pos, int state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03940">chan_skinny.c:3940</a></div></div>
<div class="ttc" id="channel_8h_html_aca211972dac7b8f3f08a283bfe0aa8bf"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a></div><div class="ttdeci">void ast_channel_context_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00348">channel_internal_api.c:348</a></div></div>
<div class="ttc" id="structclear__prinotify__message_html"><div class="ttname"><a href="../../dc/ded/structclear__prinotify__message.html">clear_prinotify_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01123">chan_skinny.c:1123</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a20c8372eacb3685db5a2cff96555d215"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a20c8372eacb3685db5a2cff96555d215">soft_key_default_connwithtrans</a></div><div class="ttdeci">static const uint8_t soft_key_default_connwithtrans[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00962">chan_skinny.c:962</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="unionskinny__data_html_ab95f39ca2c4229f682620cc3b214018e"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#ab95f39ca2c4229f682620cc3b214018e">skinny_data::callinfomessagevariable</a></div><div class="ttdeci">struct call_info_message_variable callinfomessagevariable</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01203">chan_skinny.c:1203</a></div></div>
<div class="ttc" id="structalarm__message_html_a63a575f488eaea2eed5847b7a4640281"><div class="ttname"><a href="../../d7/d39/structalarm__message.html#a63a575f488eaea2eed5847b7a4640281">alarm_message::alarmParam1</a></div><div class="ttdeci">uint32_t alarmParam1</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00372">chan_skinny.c:372</a></div></div>
<div class="ttc" id="structstart__tone__message_html"><div class="ttname"><a href="../../d0/d00/structstart__tone__message.html">start_tone_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00420">chan_skinny.c:420</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip4_html_a5304bc4afe911142322308d69ffe6466"><div class="ttname"><a href="../../d2/d39/structstart__media__transmission__message__ip4.html#a5304bc4afe911142322308d69ffe6466">start_media_transmission_message_ip4::qualifier</a></div><div class="ttdeci">struct media_qualifier qualifier</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00475">chan_skinny.c:475</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html_a1946df298d8390034825068792632dbb"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html#a1946df298d8390034825068792632dbb">call_info_message_variable::unknown1</a></div><div class="ttdeci">uint32_t unknown1</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01132">chan_skinny.c:1132</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="format__cache_8h_html_a95c058fe6adef68780f026d6aec2481c"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a></div><div class="ttdeci">struct ast_format * ast_format_alaw</div><div class="ttdoc">Built-in cached alaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00091">format_cache.c:91</a></div></div>
<div class="ttc" id="time_8h_html_aebf04439f206cc509472ce4b6da48a5a"><div class="ttname"><a href="../../de/df7/time_8h.html#aebf04439f206cc509472ce4b6da48a5a">ast_tv</a></div><div class="ttdeci">struct timeval ast_tv(ast_time_t sec, ast_suseconds_t usec)</div><div class="ttdoc">Returns a timeval from sec, usec. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00226">time.h:226</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa48c2edb2669fe7c10ed6b6b5efa2e05"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa48c2edb2669fe7c10ed6b6b5efa2e05">SOFT_KEY_TEMPLATE_RES_MESSAGE</a></div><div class="ttdeci">#define SOFT_KEY_TEMPLATE_RES_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00682">chan_skinny.c:682</a></div></div>
<div class="ttc" id="channel_8h_html_af9e27ecd92ff5aa897c9e058dfbd6510"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af9e27ecd92ff5aa897c9e058dfbd6510">ast_channel_bridge_peer</a></div><div class="ttdeci">struct ast_channel * ast_channel_bridge_peer(struct ast_channel *chan)</div><div class="ttdoc">Get the channel&amp;#39;s bridge peer only if the bridge is two-party. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10765">channel.c:10765</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structdisplay__prinotify__message__variable_html_a93949093a5cb9f0f446c724cbf365805"><div class="ttname"><a href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a93949093a5cb9f0f446c724cbf365805">display_prinotify_message_variable::text</a></div><div class="ttdeci">char text[MAXDISPLAYNOTIFYSTR]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01144">chan_skinny.c:1144</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a844a39ac2662cbc0d7eaa6122ac5ae71a4e2f1fe7a095d3200609ba5b38443831"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a844a39ac2662cbc0d7eaa6122ac5ae71a4e2f1fe7a095d3200609ba5b38443831">SKINNY_CODEC_ULAW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00177">chan_skinny.c:177</a></div></div>
<div class="ttc" id="structset__ringer__message_html_aa8164b9b4b32a6aa9770cb5bc9f6b544"><div class="ttname"><a href="../../d8/dfe/structset__ringer__message.html#aa8164b9b4b32a6aa9770cb5bc9f6b544">set_ringer_message::ringerMode</a></div><div class="ttdeci">uint32_t ringerMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00436">chan_skinny.c:436</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a36a3463b0236d7b8f5b1e31535bb9e14"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a36a3463b0236d7b8f5b1e31535bb9e14">skinny_subchannel::list</a></div><div class="ttdeci">struct skinny_subchannel::@134 list</div></div>
<div class="ttc" id="chan__skinny_8c_html_a47af15a170bfeae04c77d7aefae77c79"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a47af15a170bfeae04c77d7aefae77c79">_transmit_displayprinotify</a></div><div class="ttdeci">static void _transmit_displayprinotify(struct skinny_device *d, const char *text, const char *extratext, int timeout, int priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02847">chan_skinny.c:2847</a></div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga70de9f16a229e2c5bf1a973372949d3e"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga70de9f16a229e2c5bf1a973372949d3e">ast_mwi_state::new_msgs</a></div><div class="ttdeci">int new_msgs</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/mwi_8h_source.html#l00461">mwi.h:461</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a12901431f5ab5e4cb9df9edc664e6d85"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a12901431f5ab5e4cb9df9edc664e6d85">VERSION_RES_MESSAGE</a></div><div class="ttdeci">#define VERSION_RES_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00623">chan_skinny.c:623</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa9daeada19a92710d428551482cb20f9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa9daeada19a92710d428551482cb20f9">delete_devices</a></div><div class="ttdeci">static void delete_devices(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l08556">chan_skinny.c:8556</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5518532a82b65b23fc59243e4f570e9d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5518532a82b65b23fc59243e4f570e9d">cos_video</a></div><div class="ttdeci">unsigned int cos_video</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00198">chan_skinny.c:198</a></div></div>
<div class="ttc" id="parking_8h_html_a0162941475a84b9f0356343eab1e02dd"><div class="ttname"><a href="../../d2/d33/parking_8h.html#a0162941475a84b9f0356343eab1e02dd">ast_parking_park_call</a></div><div class="ttdeci">int ast_parking_park_call(struct ast_bridge_channel *parker, char *exten, size_t length)</div><div class="ttdoc">Park the bridge and/or callers that this channel is in. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2a/parking_8c_source.html#l00162">parking.c:162</a></div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="mwi_8h_html"><div class="ttname"><a href="../../dc/d33/mwi_8h.html">mwi.h</a></div><div class="ttdoc">Asterisk MWI API. </div></div>
<div class="ttc" id="lock_8h_html_a873a83eb8196323194aac2bea23d794e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a></div><div class="ttdeci">#define AST_PTHREADT_STOP</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00067">lock.h:67</a></div></div>
<div class="ttc" id="structversion__res__message_html"><div class="ttname"><a href="../../d0/d43/structversion__res__message.html">version_res_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00624">chan_skinny.c:624</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_afe951ef8ac0fe6aae0db42ce12bb3791"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#afe951ef8ac0fe6aae0db42ce12bb3791">ast_rtp_glue_unregister</a></div><div class="ttdeci">int ast_rtp_glue_unregister(struct ast_rtp_glue *glue)</div><div class="ttdoc">Unregister RTP glue. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00408">rtp_engine.c:408</a></div></div>
<div class="ttc" id="callerid_8h_html_a4b8463f8be514e1134291b2a9ddaeb35"><div class="ttname"><a href="../../de/d47/callerid_8h.html#a4b8463f8be514e1134291b2a9ddaeb35">AST_PRES_ALLOWED</a></div><div class="ttdeci">#define AST_PRES_ALLOWED</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/callerid_8h_source.html#l00324">callerid.h:324</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html">call_info_message_variable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01128">chan_skinny.c:1128</a></div></div>
<div class="ttc" id="structspeed__dial__stat__res__message_html_a33a668a02f35239d4d39ccaf1c30c273"><div class="ttname"><a href="../../dd/d11/structspeed__dial__stat__res__message.html#a33a668a02f35239d4d39ccaf1c30c273">speed_dial_stat_res_message::speedDialDisplayName</a></div><div class="ttdeci">char speedDialDisplayName[40]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00537">chan_skinny.c:537</a></div></div>
<div class="ttc" id="channel_8h_html_a828f537544a2ad2352c56c078390a0bda5f0673b46cfdba3094393b3fbce084ff"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda5f0673b46cfdba3094393b3fbce084ff">AST_ADSI_UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00872">channel.h:872</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae470ea8c2ed3420d624ea6f61b640a8a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae470ea8c2ed3420d624ea6f61b640a8a">SKINNY_RINGOUT</a></div><div class="ttdeci">#define SKINNY_RINGOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01288">chan_skinny.c:1288</a></div></div>
<div class="ttc" id="pbx_8h_html_a44b6406c9220f7f2b610ac712369f405"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a44b6406c9220f7f2b610ac712369f405">ast_pbx_run</a></div><div class="ttdeci">enum ast_pbx_result ast_pbx_run(struct ast_channel *c)</div><div class="ttdoc">Execute the PBX in the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04759">pbx.c:4759</a></div></div>
<div class="ttc" id="unionskinny__data_html_a397b7ed0ab5ab2d9e162ad71f5d00907"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a397b7ed0ab5ab2d9e162ad71f5d00907">skinny_data::startmedia_ip4</a></div><div class="ttdeci">struct start_media_transmission_message_ip4 startmedia_ip4</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01190">chan_skinny.c:1190</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a84e0277622bc76fb08e79401238bc684"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a84e0277622bc76fb08e79401238bc684">soft_key_default_offhook</a></div><div class="ttdeci">static const uint8_t soft_key_default_offhook[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00952">chan_skinny.c:952</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a11d538b4c102a7a0eaa659457ea554a9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a11d538b4c102a7a0eaa659457ea554a9">skinnysock</a></div><div class="ttdeci">static int skinnysock</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01237">chan_skinny.c:1237</a></div></div>
<div class="ttc" id="res__corosync_8c_html_a8e51289dd0fc7415cee40e7a57b49fdf"><div class="ttname"><a href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a></div><div class="ttdeci">struct stasis_forward * sub</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da4/res__corosync_8c_source.html#l00240">res_corosync.c:240</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5bc5ce4a9c8f4198130d3ce756324f68"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5bc5ce4a9c8f4198130d3ce756324f68">SKINNY_DEVICE_7914</a></div><div class="ttdeci">#define SKINNY_DEVICE_7914</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01255">chan_skinny.c:1255</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a875522082ab6d17f72cbf3ad88708a9b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a875522082ab6d17f72cbf3ad88708a9b">transmit_closereceivechannel</a></div><div class="ttdeci">static void transmit_closereceivechannel(struct skinny_device *d, struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03005">chan_skinny.c:3005</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0d46746cfe50b67c811cd2fc042e0729"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0d46746cfe50b67c811cd2fc042e0729">KEYDEF_OFFHOOKWITHFEAT</a></div><div class="ttdeci">#define KEYDEF_OFFHOOKWITHFEAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00703">chan_skinny.c:703</a></div></div>
<div class="ttc" id="structsoft__key__event__message_html_aa056c11f2f813407952d829437cec263"><div class="ttname"><a href="../../dd/d3e/structsoft__key__event__message.html#aa056c11f2f813407952d829437cec263">soft_key_event_message::callreference</a></div><div class="ttdeci">uint32_t callreference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00397">chan_skinny.c:397</a></div></div>
<div class="ttc" id="causes_8h_html"><div class="ttname"><a href="../../d4/da3/causes_8h.html">causes.h</a></div><div class="ttdoc">Internal Asterisk hangup causes. </div></div>
<div class="ttc" id="structsoft__key__template__definition_html_a4358d46dc0a917c9906274cf85132904"><div class="ttname"><a href="../../d9/dc0/structsoft__key__template__definition.html#a4358d46dc0a917c9906274cf85132904">soft_key_template_definition::softKeyEvent</a></div><div class="ttdeci">uint32_t softKeyEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00685">chan_skinny.c:685</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a></div><div class="ttdeci">static int total</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00968">res_adsi.c:968</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1ecad4a80d0e6f5b8ec6ab4c44021d18"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1ecad4a80d0e6f5b8ec6ab4c44021d18">tos_audio</a></div><div class="ttdeci">unsigned int tos_audio</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00194">chan_skinny.c:194</a></div></div>
<div class="ttc" id="structsoft__key__template__definition_html"><div class="ttname"><a href="../../d9/dc0/structsoft__key__template__definition.html">soft_key_template_definition</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00683">chan_skinny.c:683</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">include/asterisk/frame.h:280</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3606f7605de5f4adcdf32f2570c86f32"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3606f7605de5f4adcdf32f2570c86f32">keep_alive</a></div><div class="ttdeci">static int keep_alive</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00201">chan_skinny.c:201</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af113e81b9ed86ff1591580de9d8b1d52"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af113e81b9ed86ff1591580de9d8b1d52">SKINNY_MAX_PACKET</a></div><div class="ttdeci">#define SKINNY_MAX_PACKET</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00188">chan_skinny.c:188</a></div></div>
<div class="ttc" id="structskinny__addon_html_a33e6e7edca48ac1ff105d85011dfc454"><div class="ttname"><a href="../../dc/d11/structskinny__addon.html#a33e6e7edca48ac1ff105d85011dfc454">skinny_addon::type</a></div><div class="ttdeci">char type[10]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01556">chan_skinny.c:1556</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a32dc8fa6b998e84ecd2dd709774e25e9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a32dc8fa6b998e84ecd2dd709774e25e9">SOFTKEY_REDIAL</a></div><div class="ttdeci">#define SOFTKEY_REDIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00710">chan_skinny.c:710</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="chan__skinny_8c_html_a01b2bb8685c96de7d81859e2fa0051df"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a01b2bb8685c96de7d81859e2fa0051df">SKINNY_SDCONTAINER</a></div><div class="ttdeci">#define SKINNY_SDCONTAINER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01547">chan_skinny.c:1547</a></div></div>
<div class="ttc" id="structast__cli__args_html"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html">ast_cli_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00158">cli.h:158</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a195491206014b7ee4a2950b8af3c8a82"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a195491206014b7ee4a2950b8af3c8a82">ONHOOK_MESSAGE</a></div><div class="ttdeci">#define ONHOOK_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00330">chan_skinny.c:330</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4aeeafae6abd77156800ec76b0ff7d3867"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4aeeafae6abd77156800ec76b0ff7d3867">AST_SOFTHANGUP_APPUNLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01144">channel.h:1144</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae331d9ec23b9f9ed1f97b87be60b9fb8"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae331d9ec23b9f9ed1f97b87be60b9fb8">handle_ip_port_message</a></div><div class="ttdeci">static int handle_ip_port_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06192">chan_skinny.c:6192</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a2528095c7a59760043ea6020c6c03d58"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a2528095c7a59760043ea6020c6c03d58">handle_callforward_button</a></div><div class="ttdeci">static void handle_callforward_button(struct skinny_line *l, struct skinny_subchannel *sub, int cfwdtype)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06160">chan_skinny.c:6160</a></div></div>
<div class="ttc" id="pbx_8h_html_ab077da615e93c9e88ce539bef23f82e6a2e89bd60b1752d920f58a70164607189"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6a2e89bd60b1752d920f58a70164607189">AST_HINT_UPDATE_DEVICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00091">pbx.h:91</a></div></div>
<div class="ttc" id="structskinny__subline_html_a0ad8152e984daf5d46937d52a04d3cde"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#a0ad8152e984daf5d46937d52a04d3cde">skinny_subline::lnname</a></div><div class="ttdeci">char lnname[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01510">chan_skinny.c:1510</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a263bda21b49c31cdda758fcf1578812e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a263bda21b49c31cdda758fcf1578812e">transmit_stop_tone</a></div><div class="ttdeci">static void transmit_stop_tone(struct skinny_device *d, int instance, int reference)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02692">chan_skinny.c:2692</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98">AST_EXTENSION_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00066">pbx.h:66</a></div></div>
<div class="ttc" id="structcall__state__message_html_a8c5b70179481930bfaef1fa8f6aaba74"><div class="ttname"><a href="../../d2/ded/structcall__state__message.html#a8c5b70179481930bfaef1fa8f6aaba74">call_state_message::callReference</a></div><div class="ttdeci">uint32_t callReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01067">chan_skinny.c:1067</a></div></div>
<div class="ttc" id="acl_8h_html_ae839a9c2465be4e9a560dda668a65b9b"><div class="ttname"><a href="../../d5/d59/acl_8h.html#ae839a9c2465be4e9a560dda668a65b9b">ast_append_ha</a></div><div class="ttdeci">struct ast_ha * ast_append_ha(const char *sense, const char *stuff, struct ast_ha *path, int *error)</div><div class="ttdoc">Add a new rule to a list of HAs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/acl_8c_source.html#l00713">acl.c:713</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="structsoft__key__set__res__message_html"><div class="ttname"><a href="../../d4/d70/structsoft__key__set__res__message.html">soft_key_set_res_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01047">chan_skinny.c:1047</a></div></div>
<div class="ttc" id="structbksp__req__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../dc/d04/structbksp__req__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">bksp_req_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00690">chan_skinny.c:690</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab6834c7da233db764539d15f5bae198f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab6834c7da233db764539d15f5bae198f">SKINNY_SUBLINECONTAINER</a></div><div class="ttdeci">#define SKINNY_SUBLINECONTAINER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01546">chan_skinny.c:1546</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a10266707a30856e2d0f3205b5e4a1ccd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a10266707a30856e2d0f3205b5e4a1ccd">SKINNY_DEVICE_7942</a></div><div class="ttdeci">#define SKINNY_DEVICE_7942</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01265">chan_skinny.c:1265</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad09fa931f468002152a3cc2d5ce25eae"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a></div><div class="ttdeci">static int unload_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l08748">chan_skinny.c:8748</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a77f59605d15d7dfc53e0df12352b8235"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a></div><div class="ttdeci">void ast_rtp_instance_set_prop(struct ast_rtp_instance *instance, enum ast_rtp_property property, int value)</div><div class="ttdoc">Set the value of an RTP instance property. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00705">rtp_engine.c:705</a></div></div>
<div class="ttc" id="netsock2_8h_html_aa60da39edcabcec05ca9219c7b290395"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aa60da39edcabcec05ca9219c7b290395">ast_sockaddr_to_sin</a></div><div class="ttdeci">#define ast_sockaddr_to_sin(addr, sin)</div><div class="ttdoc">Converts a struct ast_sockaddr to a struct sockaddr_in. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00769">netsock2.h:769</a></div></div>
<div class="ttc" id="app__queue_8c_html_acd1f0e9b4730ec60f62cb0806cb06ef1"><div class="ttname"><a href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a></div><div class="ttdeci">enum queue_result id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/app__queue_8c_source.html#l01507">app_queue.c:1507</a></div></div>
<div class="ttc" id="structspeed__dial__stat__res__message_html"><div class="ttname"><a href="../../dd/d11/structspeed__dial__stat__res__message.html">speed_dial_stat_res_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00534">chan_skinny.c:534</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aaa8ae193940da9236d260041a3a8a5c4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aaa8ae193940da9236d260041a3a8a5c4">SOFT_KEY_TEMPLATE_REQ_MESSAGE</a></div><div class="ttdeci">#define SOFT_KEY_TEMPLATE_REQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00401">chan_skinny.c:401</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1ea4574da323c63a872fffd8f134f1af"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1ea4574da323c63a872fffd8f134f1af">SET_LAMP_MESSAGE</a></div><div class="ttdeci">#define SET_LAMP_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00442">chan_skinny.c:442</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ae456c964b75f4dff4d73df78f39db454"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ae456c964b75f4dff4d73df78f39db454">unregister_exten</a></div><div class="ttdeci">static void unregister_exten(struct skinny_line *l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02234">chan_skinny.c:2234</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac14d8ee9813b5766c4161fac6c66432d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac14d8ee9813b5766c4161fac6c66432d">KEYDEF_CONNWITHTRANS</a></div><div class="ttdeci">#define KEYDEF_CONNWITHTRANS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00699">chan_skinny.c:699</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a9b350360a64b55c7590f1ec03db480be"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a9b350360a64b55c7590f1ec03db480be">AST_FRAME_DTMF_BEGIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00125">include/asterisk/frame.h:125</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8485a7c5ced8b320c7ba10216310d980"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8485a7c5ced8b320c7ba10216310d980">transmit_callstate</a></div><div class="ttdeci">static void transmit_callstate(struct skinny_device *d, int buttonInstance, unsigned callid, int state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03087">chan_skinny.c:3087</a></div></div>
<div class="ttc" id="lock_8h_html_a76e8ed6bb354be6c6dd9e51acc1d7a1b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a></div><div class="ttdeci">#define ast_mutex_init(pmutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00184">lock.h:184</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip6_html_ae7a8ce78da6117ddd5e98de15f85af23"><div class="ttname"><a href="../../dc/d3f/structstart__media__transmission__message__ip6.html#ae7a8ce78da6117ddd5e98de15f85af23">start_media_transmission_message_ip6::passThruPartyId</a></div><div class="ttdeci">uint32_t passThruPartyId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00481">chan_skinny.c:481</a></div></div>
<div class="ttc" id="format__cap_8h_html_a70a1555431677c29824be37afa5112e2"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a70a1555431677c29824be37afa5112e2">ast_format_cap_append_from_cap</a></div><div class="ttdeci">int ast_format_cap_append_from_cap(struct ast_format_cap *dst, const struct ast_format_cap *src, enum ast_media_type type)</div><div class="ttdoc">Append the formats of provided type in src to dst. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00269">format_cap.c:269</a></div></div>
<div class="ttc" id="cli_8h_html_a29e703082f8137e165097c41f249e6d1"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a29e703082f8137e165097c41f249e6d1">AST_CLI_YESNO</a></div><div class="ttdeci">#define AST_CLI_YESNO(x)</div><div class="ttdoc">Return Yes or No depending on the argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00071">cli.h:71</a></div></div>
<div class="ttc" id="structast__party__name_html_aaa04218f9e3a9065afa8be2491da8904"><div class="ttname"><a href="../../d8/d6f/structast__party__name.html#aaa04218f9e3a9065afa8be2491da8904">ast_party_name::valid</a></div><div class="ttdeci">unsigned char valid</div><div class="ttdoc">TRUE if the name information is valid/present. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00280">channel.h:280</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_acbcce2f0a7ce5f5734548811ba160923"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#acbcce2f0a7ce5f5734548811ba160923">STIMULUS_FORWARDNOANSWER</a></div><div class="ttdeci">#define STIMULUS_FORWARDNOANSWER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00579">chan_skinny.c:579</a></div></div>
<div class="ttc" id="channel_8h_html_ae4bed10845e16e1cbde4bb46d4b1d679"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae4bed10845e16e1cbde4bb46d4b1d679">ast_unref_namedgroups</a></div><div class="ttdeci">struct ast_namedgroups * ast_unref_namedgroups(struct ast_namedgroups *groups)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07832">channel.c:7832</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a766fe5bf5f76a8b76bf10ccdafd26c46"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a766fe5bf5f76a8b76bf10ccdafd26c46">soft_key_default_offhookwithfeat</a></div><div class="ttdeci">static const uint8_t soft_key_default_offhookwithfeat[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00994">chan_skinny.c:994</a></div></div>
<div class="ttc" id="structskinny__container_html_ac765329451135abec74c45e1897abf26"><div class="ttname"><a href="../../d6/dbc/structskinny__container.html#ac765329451135abec74c45e1897abf26">skinny_container::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01550">chan_skinny.c:1550</a></div></div>
<div class="ttc" id="format__cache_8h_html_ae4848b177c158d817294f2b0b447f66e"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#ae4848b177c158d817294f2b0b447f66e">ast_format_g729</a></div><div class="ttdeci">struct ast_format * ast_format_g729</div><div class="ttdoc">Built-in cached g729 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00156">format_cache.c:156</a></div></div>
<div class="ttc" id="structset__speaker__message_html"><div class="ttname"><a href="../../d7/dd7/structset__speaker__message.html">set_speaker_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00450">chan_skinny.c:450</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa9d48518ce398e46ebf39a3eff38c849"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa9d48518ce398e46ebf39a3eff38c849">handle_hold_button</a></div><div class="ttdeci">static int handle_hold_button(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06092">chan_skinny.c:6092</a></div></div>
<div class="ttc" id="format__cap_8h_html_a5d2c52e9d892cd7c6488563cf00ba9bc"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a5d2c52e9d892cd7c6488563cf00ba9bc">ast_format_cap_get_format</a></div><div class="ttdeci">struct ast_format * ast_format_cap_get_format(const struct ast_format_cap *cap, int position)</div><div class="ttdoc">Get the format at a specific index. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00400">format_cap.c:400</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3fe6385caa677e3d51eb12df891b0d4e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3fe6385caa677e3d51eb12df891b0d4e">skinny_register</a></div><div class="ttdeci">static int skinny_register(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02258">chan_skinny.c:2258</a></div></div>
<div class="ttc" id="structdefinetimedate__message_html_ab470c6489808456f63cfd7f94df28712"><div class="ttname"><a href="../../d2/d65/structdefinetimedate__message.html#ab470c6489808456f63cfd7f94df28712">definetimedate_message::dayofweek</a></div><div class="ttdeci">uint32_t dayofweek</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00552">chan_skinny.c:552</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_adb5145c2019b8a1d29b20b7b482f8f17"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#adb5145c2019b8a1d29b20b7b482f8f17">CAPABILITIES_REQ_MESSAGE</a></div><div class="ttdeci">#define CAPABILITIES_REQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00639">chan_skinny.c:639</a></div></div>
<div class="ttc" id="lock_8h_html_ab8977a71822daa556f19f30ba6eec765"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a></div><div class="ttdeci">#define ast_mutex_destroy(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00186">lock.h:186</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a888b22690bce1fb41f95ec190d2417de"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a888b22690bce1fb41f95ec190d2417de">version_id</a></div><div class="ttdeci">static char version_id[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00210">chan_skinny.c:210</a></div></div>
<div class="ttc" id="structskinny__subline_html_a51fc472c725e95f474519f1aa7f4bb90"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#a51fc472c725e95f474519f1aa7f4bb90">skinny_subline::substate</a></div><div class="ttdeci">int substate</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01516">chan_skinny.c:1516</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a07400b41b3302edf8aef9f53644698"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a></div><div class="ttdeci">struct ast_context * ast_context_find_or_create(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *name, const char *registrar)</div><div class="ttdoc">Register a new context or find an existing one. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06198">pbx.c:6198</a></div></div>
<div class="ttc" id="structset__speaker__message_html_a6b29e4f37f4482274af785ad5ffe96a7"><div class="ttname"><a href="../../d7/dd7/structset__speaker__message.html#a6b29e4f37f4482274af785ad5ffe96a7">set_speaker_message::mode</a></div><div class="ttdeci">uint32_t mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00451">chan_skinny.c:451</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">ast_frame_subclass::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">include/asterisk/frame.h:155</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac56d16f9c5cdbcc4b81eb63f9039e0e6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac56d16f9c5cdbcc4b81eb63f9039e0e6">SKINNY_CX_SENDRECV</a></div><div class="ttdeci">#define SKINNY_CX_SENDRECV</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01334">chan_skinny.c:1334</a></div></div>
<div class="ttc" id="pbx_8h_html_ab1d88f370509aae87302134e6f70628a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ab1d88f370509aae87302134e6f70628a">ast_extension_state_add</a></div><div class="ttdeci">int ast_extension_state_add(const char *context, const char *exten, ast_state_cb_type change_cb, void *data)</div><div class="ttdoc">Add watcher for extension states. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03825">pbx.c:3825</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aeee81bb5489fb74182344ae1f89fb48c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aeee81bb5489fb74182344ae1f89fb48c">skinny_transfer_blind</a></div><div class="ttdeci">static void skinny_transfer_blind(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l05277">chan_skinny.c:5277</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip6_html"><div class="ttname"><a href="../../d0/d73/structopen__receive__channel__ack__message__ip6.html">open_receive_channel_ack_message_ip6</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00383">chan_skinny.c:383</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aeb7b46c1c2ecae89c0bb53a53f5684d2"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aeb7b46c1c2ecae89c0bb53a53f5684d2">add_var</a></div><div class="ttdeci">static struct ast_variable * add_var(const char *buf, struct ast_variable *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01993">chan_skinny.c:1993</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a11d00fd199be58f222cafe9df0e4669e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a11d00fd199be58f222cafe9df0e4669e">SKINNY_DEVICE_7945</a></div><div class="ttdeci">#define SKINNY_DEVICE_7945</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01266">chan_skinny.c:1266</a></div></div>
<div class="ttc" id="structsoft__key__set__definition_html_a29a5f3fd75bf8ffa5df8c331c1ac3e18"><div class="ttname"><a href="../../d8/d6b/structsoft__key__set__definition.html#a29a5f3fd75bf8ffa5df8c331c1ac3e18">soft_key_set_definition::softKeyTemplateIndex</a></div><div class="ttdeci">uint8_t softKeyTemplateIndex[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01043">chan_skinny.c:1043</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a43375044fa9c80f030190f7f2f507d9b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a43375044fa9c80f030190f7f2f507d9b">STIMULUS_CALLPARK</a></div><div class="ttdeci">#define STIMULUS_CALLPARK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00587">chan_skinny.c:587</a></div></div>
<div class="ttc" id="structskinny__req_html_a97e3bb97951482c8cf4d55a2d0bfcb62"><div class="ttname"><a href="../../dc/da2/structskinny__req.html#a97e3bb97951482c8cf4d55a2d0bfcb62">skinny_req::res</a></div><div class="ttdeci">uint32_t res</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01214">chan_skinny.c:1214</a></div></div>
<div class="ttc" id="unionskinny__data_html_a6708800c9c04790dc4ed17d8adf05ed7"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a6708800c9c04790dc4ed17d8adf05ed7">skinny_data::setringer</a></div><div class="ttdeci">struct set_ringer_message setringer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01179">chan_skinny.c:1179</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a815562de85c22c6f5222a45ccf20b64c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a815562de85c22c6f5222a45ccf20b64c">soft_key_default_onhook</a></div><div class="ttdeci">static const uint8_t soft_key_default_onhook[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00918">chan_skinny.c:918</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a012b2ab9fad02a5fbf9e457a69020ade"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a012b2ab9fad02a5fbf9e457a69020ade">ast_rtp_instance_new</a></div><div class="ttdeci">struct ast_rtp_instance * ast_rtp_instance_new(const char *engine_name, struct ast_sched_context *sched, const struct ast_sockaddr *sa, void *data)</div><div class="ttdoc">Create a new RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00465">rtp_engine.c:465</a></div></div>
<div class="ttc" id="structast__mwi__state_html"><div class="ttname"><a href="../../d6/d45/structast__mwi__state.html">ast_mwi_state</a></div><div class="ttdoc">The structure that contains MWI state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/mwi_8h_source.html#l00457">mwi.h:457</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5394a8927ae80be708b3416e0aa07a85"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5394a8927ae80be708b3416e0aa07a85">transmit_microphone_mode</a></div><div class="ttdeci">static void transmit_microphone_mode(struct skinny_device *d, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02451">chan_skinny.c:2451</a></div></div>
<div class="ttc" id="structskinny__subline_html_a3777dbae63a15da001b2baa317a25149"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#a3777dbae63a15da001b2baa317a25149">skinny_subline::name</a></div><div class="ttdeci">char name[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01506">chan_skinny.c:1506</a></div></div>
<div class="ttc" id="res__config__ldap_8c_html_a75e4590043edf35241d30fabe2eda546"><div class="ttname"><a href="../../dc/d12/res__config__ldap_8c.html#a75e4590043edf35241d30fabe2eda546">url</a></div><div class="ttdeci">static char url[512]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d12/res__config__ldap_8c_source.html#l00074">res_config_ldap.c:74</a></div></div>
<div class="ttc" id="structbksp__req__message_html"><div class="ttname"><a href="../../dc/d04/structbksp__req__message.html">bksp_req_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00689">chan_skinny.c:689</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aec789812d6cc0ff846fb308745e91531"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aec789812d6cc0ff846fb308745e91531">REGISTER_MESSAGE</a></div><div class="ttdeci">#define REGISTER_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00288">chan_skinny.c:288</a></div></div>
<div class="ttc" id="manager_8h_html_a5b63b8a8faede2d852e071e1f7b31c11"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a></div><div class="ttdeci">#define ast_manager_register_xml(action, authority, func)</div><div class="ttdoc">Register a manager callback using XML documentation to describe the manager. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00186">manager.h:186</a></div></div>
<div class="ttc" id="structregister__message_html_a9ed36c4f5392e9f1819ec7c9eb9aff80"><div class="ttname"><a href="../../db/dc9/structregister__message.html#a9ed36c4f5392e9f1819ec7c9eb9aff80">register_message::instance</a></div><div class="ttdeci">uint32_t instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00292">chan_skinny.c:292</a></div></div>
<div class="ttc" id="say_8h_html"><div class="ttname"><a href="../../db/dce/say_8h.html">say.h</a></div><div class="ttdoc">Say numbers and dates (maybe words one day too) </div></div>
<div class="ttc" id="endpoints_8h_html_a6a92006e96890f26789df16ae8a4994d"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a6a92006e96890f26789df16ae8a4994d">ast_endpoint_shutdown</a></div><div class="ttdeci">void ast_endpoint_shutdown(struct ast_endpoint *endpoint)</div><div class="ttdoc">Shutsdown an ast_endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00350">main/endpoints.c:350</a></div></div>
<div class="ttc" id="unionskinny__data_html_a1e9a94870602b6a3227fe3ce05d3c13a"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a1e9a94870602b6a3227fe3ce05d3c13a">skinny_data::serverres</a></div><div class="ttdeci">struct server_res_message serverres</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01176">chan_skinny.c:1176</a></div></div>
<div class="ttc" id="module_8h_html_aba2c8d4be709a254658b21a834f8294a"><div class="ttname"><a href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a></div><div class="ttdeci">#define ASTERISK_GPL_KEY</div><div class="ttdoc">The text the key() function should return. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00046">module.h:46</a></div></div>
<div class="ttc" id="structskinny__line_html"><div class="ttname"><a href="../../d2/db5/structskinny__line.html">skinny_line</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01465">chan_skinny.c:1465</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip6_html_a52c51c79d848efbf9fbf291a2f2645c6"><div class="ttname"><a href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a52c51c79d848efbf9fbf291a2f2645c6">start_media_transmission_message_ip6::remotePort</a></div><div class="ttdeci">uint32_t remotePort</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00484">chan_skinny.c:484</a></div></div>
<div class="ttc" id="func__frame__drop_8c_html_a99f26e6ee9fcd62f75203b5402df8098"><div class="ttname"><a href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8b/func__frame__drop_8c_source.html#l00137">func_frame_drop.c:137</a></div></div>
<div class="ttc" id="channel_8h_html_ae56cab679c0cda6436b930bc74297895"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a></div><div class="ttdeci">void ast_channel_priority_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00448">channel_internal_api.c:448</a></div></div>
<div class="ttc" id="rtp__engine_8h_html"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html">rtp_engine.h</a></div><div class="ttdoc">Pluggable RTP Architecture. </div></div>
<div class="ttc" id="bridge_8h_html"><div class="ttname"><a href="../../d4/d56/bridge_8h.html">bridge.h</a></div><div class="ttdoc">Bridging API. </div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="unionskinny__data_html_a1351994edcbe98ad38854153208d91d0"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a1351994edcbe98ad38854153208d91d0">skinny_data::onhook</a></div><div class="ttdeci">struct onhook_message onhook</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01186">chan_skinny.c:1186</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_aef4f32cf0fa56818892f9eca7a2a8896"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#aef4f32cf0fa56818892f9eca7a2a8896">ast_rtp_instance_update_source</a></div><div class="ttdeci">void ast_rtp_instance_update_source(struct ast_rtp_instance *instance)</div><div class="ttdoc">Indicate that the RTP marker bit should be set on an RTP stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02151">rtp_engine.c:2151</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga31a02a7d3cc36aa66ebebdedfc574d1c"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a></div><div class="ttdeci">void astman_send_error(struct mansession *s, const struct message *m, char *error)</div><div class="ttdoc">Send error in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03159">manager.c:3159</a></div></div>
<div class="ttc" id="module_8h_html"><div class="ttname"><a href="../../d5/d16/module_8h.html">module.h</a></div><div class="ttdoc">Asterisk module definitions. </div></div>
<div class="ttc" id="channel_8h_html_a1dc625bd14a7875b04bfe0c388858929"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a></div><div class="ttdeci">struct ast_format * ast_channel_writeformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00860">channel_internal_api.c:860</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa0f575fa3882aa394cc287edba645a35"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa0f575fa3882aa394cc287edba645a35">hp</a></div><div class="ttdeci">static struct hostent * hp</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01236">chan_skinny.c:1236</a></div></div>
<div class="ttc" id="structopen__receive__channel__message_html_a042688e766f041125ca9e83e7d6e1e5b"><div class="ttname"><a href="../../d1/df8/structopen__receive__channel__message.html#a042688e766f041125ca9e83e7d6e1e5b">open_receive_channel_message::partyId</a></div><div class="ttdeci">uint32_t partyId</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00667">chan_skinny.c:667</a></div></div>
<div class="ttc" id="structspeed__dial__stat__req__message_html"><div class="ttname"><a href="../../d1/d39/structspeed__dial__stat__req__message.html">speed_dial_stat_req_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00354">chan_skinny.c:354</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip4_html_ade20423e91627f07e610924cb0081623"><div class="ttname"><a href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#ade20423e91627f07e610924cb0081623">open_receive_channel_ack_message_ip4::status</a></div><div class="ttdeci">uint32_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00378">chan_skinny.c:378</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6b3f8063ca3d2282253b5e6e27be2fcf"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6b3f8063ca3d2282253b5e6e27be2fcf">OCTAL_JOIN</a></div><div class="ttdeci">#define OCTAL_JOIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00774">chan_skinny.c:774</a></div></div>
<div class="ttc" id="channel_8h_html_a37b17bdab87cd5278435ccb62f2414da"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a37b17bdab87cd5278435ccb62f2414da">ast_print_namedgroups</a></div><div class="ttdeci">char * ast_print_namedgroups(struct ast_str **buf, struct ast_namedgroups *groups)</div><div class="ttdoc">Print named call groups and named pickup groups. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08158">channel.c:8158</a></div></div>
<div class="ttc" id="structstop__tone__message_html"><div class="ttname"><a href="../../df/d76/structstop__tone__message.html">stop_tone_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00428">chan_skinny.c:428</a></div></div>
<div class="ttc" id="mwi_8h_html_ad83d6c9c09755c8b274a8f07fb2c64f7"><div class="ttname"><a href="../../dc/d33/mwi_8h.html#ad83d6c9c09755c8b274a8f07fb2c64f7">ast_mwi_subscribe_pool</a></div><div class="ttdeci">struct ast_mwi_subscriber * ast_mwi_subscribe_pool(const char *mailbox, stasis_subscription_cb callback, void *data)</div><div class="ttdoc">Add an MWI state subscriber, and stasis subscription to the mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00230">mwi.c:230</a></div></div>
<div class="ttc" id="unionskinny__data_html_a99fd8190ffcee05962cae3d8518033cc"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a99fd8190ffcee05962cae3d8518033cc">skinny_data::caps</a></div><div class="ttdeci">struct capabilities_res_message caps</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01161">chan_skinny.c:1161</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a69f7813c801cadcd6a54ba113dc0a1b4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a69f7813c801cadcd6a54ba113dc0a1b4">skinny_device_destroy</a></div><div class="ttdeci">static struct skinny_device * skinny_device_destroy(struct skinny_device *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01722">chan_skinny.c:1722</a></div></div>
<div class="ttc" id="format__cap_8h_html_a43950f716385bc78a73de04acd6a7eb4"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a43950f716385bc78a73de04acd6a7eb4">ast_format_cap_get_compatible</a></div><div class="ttdeci">int ast_format_cap_get_compatible(const struct ast_format_cap *cap1, const struct ast_format_cap *cap2, struct ast_format_cap *result)</div><div class="ttdoc">Find the compatible formats between two capabilities structures. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00630">format_cap.c:630</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8caf5d84aafa52ecdd3a86a08620850c"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8caf5d84aafa52ecdd3a86a08620850c">STIMULUS_MESSAGE</a></div><div class="ttdeci">#define STIMULUS_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00317">chan_skinny.c:317</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a529cdb7507128859a179f79e1966eb53"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a529cdb7507128859a179f79e1966eb53">KEYDEF_RINGIN</a></div><div class="ttdeci">#define KEYDEF_RINGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00697">chan_skinny.c:697</a></div></div>
<div class="ttc" id="structdisplay__prinotify__message__variable_html_a90249de64da5ae5d7acd34da7ea1b857"><div class="ttname"><a href="../../dc/d7e/structdisplay__prinotify__message__variable.html#a90249de64da5ae5d7acd34da7ea1b857">display_prinotify_message_variable::priority</a></div><div class="ttdeci">uint32_t priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01143">chan_skinny.c:1143</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7aad49354a0cd82f016e6692780e3669"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7aad49354a0cd82f016e6692780e3669">skinny_dialer_cb</a></div><div class="ttdeci">static int skinny_dialer_cb(const void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04888">chan_skinny.c:4888</a></div></div>
<div class="ttc" id="structskinny__subline_html_afe53c414731fb76550befd5146b6bc26"><div class="ttname"><a href="../../d1/de2/structskinny__subline.html#afe53c414731fb76550befd5146b6bc26">skinny_subline::calldirection</a></div><div class="ttdeci">int calldirection</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01515">chan_skinny.c:1515</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7de4e252b70c1f9022529a7de2c16344"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7de4e252b70c1f9022529a7de2c16344">SKINNY_LAMP_WINK</a></div><div class="ttdeci">#define SKINNY_LAMP_WINK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01318">chan_skinny.c:1318</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aff32b9bb805415bcfea5b23ebb62b661"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aff32b9bb805415bcfea5b23ebb62b661">CAPABILITIES_RES_MESSAGE</a></div><div class="ttdeci">#define CAPABILITIES_RES_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00336">chan_skinny.c:336</a></div></div>
<div class="ttc" id="format__cache_8h_html_a4e8a3ae8d3510c9b2024c1649ef33e5a"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a4e8a3ae8d3510c9b2024c1649ef33e5a">ast_format_h263</a></div><div class="ttdeci">struct ast_format * ast_format_h263</div><div class="ttdoc">Built-in cached h263 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00171">format_cache.c:171</a></div></div>
<div class="ttc" id="structast__jb__conf_html_aaba39ba18eb00647786272b9061659e3"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">ast_jb_conf::max_size</a></div><div class="ttdeci">long max_size</div><div class="ttdoc">Max size of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00074">abstract_jb.h:74</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip6_html_a018fa6b7228e7dd6e019b7d6521248fc"><div class="ttname"><a href="../../dc/d3f/structstart__media__transmission__message__ip6.html#a018fa6b7228e7dd6e019b7d6521248fc">start_media_transmission_message_ip6::remoteIp</a></div><div class="ttdeci">char remoteIp[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00483">chan_skinny.c:483</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea9c008e1d20858cbc3275c157e02ebc94"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea9c008e1d20858cbc3275c157e02ebc94">AST_DEVICE_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00057">devicestate.h:57</a></div></div>
<div class="ttc" id="structskinny__speeddial_html"><div class="ttname"><a href="../../d8/d0f/structskinny__speeddial.html">skinny_speeddial</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01521">chan_skinny.c:1521</a></div></div>
<div class="ttc" id="unionskinny__data_html_a1b277f925972224699c8d5e398e5ed6d"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#a1b277f925972224699c8d5e398e5ed6d">skinny_data::displaynotify</a></div><div class="ttdeci">struct display_notify_message displaynotify</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01197">chan_skinny.c:1197</a></div></div>
<div class="ttc" id="astdb_8h_html"><div class="ttname"><a href="../../de/d4a/astdb_8h.html">astdb.h</a></div><div class="ttdoc">Persistant data storage (akin to *doze registry) </div></div>
<div class="ttc" id="rtp__engine_8h_html_a5665ad0c5abe3c26005c39d6a3680fa1"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a5665ad0c5abe3c26005c39d6a3680fa1">ast_rtp_instance_get_remote_address</a></div><div class="ttdeci">#define ast_rtp_instance_get_remote_address(instance, address)</div><div class="ttdoc">Get the address of the remote endpoint that we are sending RTP to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l01192">rtp_engine.h:1192</a></div></div>
<div class="ttc" id="structstimulus__message_html"><div class="ttname"><a href="../../df/d52/structstimulus__message.html">stimulus_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00318">chan_skinny.c:318</a></div></div>
<div class="ttc" id="channel_8h_html_a929b8b2cb36308e5cf4e51ed880bfcba"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a929b8b2cb36308e5cf4e51ed880bfcba">ast_channel_tech_pvt_set</a></div><div class="ttdeci">void ast_channel_tech_pvt_set(struct ast_channel *chan, void *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00569">channel_internal_api.c:569</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aacb7ddf1a95fa544fdecada68213f3c7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aacb7ddf1a95fa544fdecada68213f3c7">AST_CONTROL_RADIO_KEY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00289">include/asterisk/frame.h:289</a></div></div>
<div class="ttc" id="structsoft__key__event__message_html"><div class="ttname"><a href="../../dd/d3e/structsoft__key__event__message.html">soft_key_event_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00394">chan_skinny.c:394</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html">app.h</a></div><div class="ttdoc">Application convenience functions, designed to give consistent look and feel to Asterisk apps...</div></div>
<div class="ttc" id="chan__skinny_8c_html_a51420940ed1fee2467839518ae00413e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a51420940ed1fee2467839518ae00413e">DIALTYPE_CFWD</a></div><div class="ttdeci">#define DIALTYPE_CFWD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01385">chan_skinny.c:1385</a></div></div>
<div class="ttc" id="unionskinny__data_html_af70fd68e524ed4130c8cdeb0bd3ad7e4"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#af70fd68e524ed4130c8cdeb0bd3ad7e4">skinny_data::displayprinotifyvar</a></div><div class="ttdeci">struct display_prinotify_message_variable displayprinotifyvar</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01208">chan_skinny.c:1208</a></div></div>
<div class="ttc" id="unionskinny__data_html_af94af305e2c5f2374e813e4eb240296c"><div class="ttname"><a href="../../d0/de2/unionskinny__data.html#af94af305e2c5f2374e813e4eb240296c">skinny_data::reset</a></div><div class="ttdeci">struct reset_message reset</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01177">chan_skinny.c:1177</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a44a0c9c7696fa5078c94c60140e83f5f"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a44a0c9c7696fa5078c94c60140e83f5f">skinny_subchannel::ringing</a></div><div class="ttdeci">int ringing</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01396">chan_skinny.c:1396</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip4_html_a83a04ad582de2b7d36b96f9db429c2c6"><div class="ttname"><a href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a83a04ad582de2b7d36b96f9db429c2c6">open_receive_channel_ack_message_ip4::port</a></div><div class="ttdeci">uint32_t port</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00380">chan_skinny.c:380</a></div></div>
<div class="ttc" id="structopen__receive__channel__ack__message__ip4_html_a597bb7df7851baf554b7310863015b2e"><div class="ttname"><a href="../../de/db6/structopen__receive__channel__ack__message__ip4.html#a597bb7df7851baf554b7310863015b2e">open_receive_channel_ack_message_ip4::ipAddr</a></div><div class="ttdeci">uint32_t ipAddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00379">chan_skinny.c:379</a></div></div>
<div class="ttc" id="structast__party__number_html_aaa04218f9e3a9065afa8be2491da8904"><div class="ttname"><a href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">ast_party_number::valid</a></div><div class="ttdeci">unsigned char valid</div><div class="ttdoc">TRUE if the number information is valid/present. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00298">channel.h:298</a></div></div>
<div class="ttc" id="stasis__endpoints_8h_html"><div class="ttname"><a href="../../d7/d44/stasis__endpoints_8h.html">stasis_endpoints.h</a></div><div class="ttdoc">Endpoint abstractions. </div></div>
<div class="ttc" id="chan__skinny_8c_html_a1cb072ae2d3e0fdccbbfbbe5a7bff5bd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1cb072ae2d3e0fdccbbfbbe5a7bff5bd">TYPE_DEVICE</a></div><div class="ttdeci">#define TYPE_DEVICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07762">chan_skinny.c:7762</a></div></div>
<div class="ttc" id="structsoft__key__set__definition_html_ac85b46723c412dd2807ee7345621cc3f"><div class="ttname"><a href="../../d8/d6b/structsoft__key__set__definition.html#ac85b46723c412dd2807ee7345621cc3f">soft_key_set_definition::softKeyInfoIndex</a></div><div class="ttdeci">uint16_t softKeyInfoIndex[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01044">chan_skinny.c:1044</a></div></div>
<div class="ttc" id="structast__jb__conf_html"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a></div><div class="ttdoc">General jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00069">abstract_jb.h:69</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_afe53c414731fb76550befd5146b6bc26"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#afe53c414731fb76550befd5146b6bc26">skinny_subchannel::calldirection</a></div><div class="ttdeci">int calldirection</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01400">chan_skinny.c:1400</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a999be39a725f55bcd5628b1a0a74f3e6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a999be39a725f55bcd5628b1a0a74f3e6">_skinny_show_devices</a></div><div class="ttdeci">static char * _skinny_show_devices(int fd, int *total, struct mansession *s, const struct message *m, int argc, const char *const *argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04088">chan_skinny.c:4088</a></div></div>
<div class="ttc" id="structdisplay__prinotify__message_html_ab5627d8d8b095c198e2523c44ca380ac"><div class="ttname"><a href="../../d1/dea/structdisplay__prinotify__message.html#ab5627d8d8b095c198e2523c44ca380ac">display_prinotify_message::timeout</a></div><div class="ttdeci">uint32_t timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01117">chan_skinny.c:1117</a></div></div>
<div class="ttc" id="sched_8h_html_a862f869d056628b38e09042f21b54413"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a862f869d056628b38e09042f21b54413">ast_sched_context_destroy</a></div><div class="ttdeci">void ast_sched_context_destroy(struct ast_sched_context *c)</div><div class="ttdoc">destroys a schedule context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00269">sched.c:269</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aba3c2540666fbf54305aeaa2cfd85fef"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aba3c2540666fbf54305aeaa2cfd85fef">SOFTKEY_JOIN</a></div><div class="ttdeci">#define SOFTKEY_JOIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00724">chan_skinny.c:724</a></div></div>
<div class="ttc" id="structopen__receive__channel__message_html_ae44a58b4520a788452773ea854fa0959"><div class="ttname"><a href="../../d1/df8/structopen__receive__channel__message.html#ae44a58b4520a788452773ea854fa0959">open_receive_channel_message::capability</a></div><div class="ttdeci">uint32_t capability</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00669">chan_skinny.c:669</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a32679d8a4bc40acdefa25bab9655f187"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a32679d8a4bc40acdefa25bab9655f187">SKINNY_OUTGOING</a></div><div class="ttdeci">#define SKINNY_OUTGOING</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01302">chan_skinny.c:1302</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a34b032f1a0422e2024f822aaaaf8283a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a34b032f1a0422e2024f822aaaaf8283a">skinny_session</a></div><div class="ttdeci">static void * skinny_session(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07520">chan_skinny.c:7520</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a95a0727067965ab3ce6652eefaee5afc"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a95a0727067965ab3ce6652eefaee5afc">SOFT_KEY_SET_REQ_MESSAGE</a></div><div class="ttdeci">#define SOFT_KEY_SET_REQ_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00391">chan_skinny.c:391</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3fb821358598b476576f3b098586498f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3fb821358598b476576f3b098586498f">REGISTER_ACK_MESSAGE</a></div><div class="ttdeci">#define REGISTER_ACK_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00410">chan_skinny.c:410</a></div></div>
<div class="ttc" id="structset__microphone__message_html"><div class="ttname"><a href="../../db/df8/structset__microphone__message.html">set_microphone_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00456">chan_skinny.c:456</a></div></div>
<div class="ttc" id="structskinnysession_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="../../db/d98/structskinnysession.html#a6f8059414f0228f0256115e024eeed4b">skinnysession::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01618">chan_skinny.c:1618</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5ba13eec8f847d9d500c58f2f9503b95"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5ba13eec8f847d9d500c58f2f9503b95">DISPLAY_NOTIFY_MESSAGE</a></div><div class="ttdeci">#define DISPLAY_NOTIFY_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01086">chan_skinny.c:1086</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad78a3be084759b7516f88e3ac5bc3878"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad78a3be084759b7516f88e3ac5bc3878">BT_DISPLAY</a></div><div class="ttdeci">#define BT_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00599">chan_skinny.c:599</a></div></div>
<div class="ttc" id="structskinny__container_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d6/dbc/structskinny__container.html#a735984d41155bc1032e09bece8f8d66d">skinny_container::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01551">chan_skinny.c:1551</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a8d87016fbefca28ff0756886e24aa1f3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a8d87016fbefca28ff0756886e24aa1f3">SKINNY_DEVICE_7910</a></div><div class="ttdeci">#define SKINNY_DEVICE_7910</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01248">chan_skinny.c:1248</a></div></div>
<div class="ttc" id="structregister__ack__message_html"><div class="ttname"><a href="../../d5/dfd/structregister__ack__message.html">register_ack_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00411">chan_skinny.c:411</a></div></div>
<div class="ttc" id="lock_8h_html_ac840092853644cea0a186efdc58985f5"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac840092853644cea0a186efdc58985f5">AST_MUTEX_DEFINE_STATIC</a></div><div class="ttdeci">#define AST_MUTEX_DEFINE_STATIC(mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00518">lock.h:518</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a13b2375dace6af91acc78d6c694b1f88"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a13b2375dace6af91acc78d6c694b1f88">SKINNY_DEVICE_7940</a></div><div class="ttdeci">#define SKINNY_DEVICE_7940</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01250">chan_skinny.c:1250</a></div></div>
<div class="ttc" id="format__cap_8h_html_a9b2d6490b222d436f5f6a8296d36c13f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a9b2d6490b222d436f5f6a8296d36c13f">ast_format_cap_has_type</a></div><div class="ttdeci">int ast_format_cap_has_type(const struct ast_format_cap *cap, enum ast_media_type type)</div><div class="ttdoc">Find out if the capabilities structure has any formats of a specific type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00615">format_cap.c:615</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a9e5d78aec2979a888d0b213de3334de5"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a9e5d78aec2979a888d0b213de3334de5">handle_skinny_message_set</a></div><div class="ttdeci">static char * handle_skinny_message_set(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdoc">Handle sending messages to devices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04686">chan_skinny.c:4686</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab68f0d8b6cb25f78ad3b7491f20fcd8e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab68f0d8b6cb25f78ad3b7491f20fcd8e">SKINNY_DEVICE_7906</a></div><div class="ttdeci">#define SKINNY_DEVICE_7906</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01262">chan_skinny.c:1262</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a850bb06a1702741c93a3fd67cc9637ab"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a850bb06a1702741c93a3fd67cc9637ab">AST_CONTROL_CONGESTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00285">include/asterisk/frame.h:285</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7fb2c263aa8febc00c4da70f073ca9b7"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7fb2c263aa8febc00c4da70f073ca9b7">CALL_INFO_MESSAGE</a></div><div class="ttdeci">#define CALL_INFO_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00499">chan_skinny.c:499</a></div></div>
<div class="ttc" id="structast__tm_html_a987fa9280fe4cd6c6b8f77409f1c1504"><div class="ttname"><a href="../../d5/d84/structast__tm.html#a987fa9280fe4cd6c6b8f77409f1c1504">ast_tm::tm_min</a></div><div class="ttdeci">int tm_min</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00037">localtime.h:37</a></div></div>
<div class="ttc" id="structast__mutex__info_html"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html">ast_mutex_info</a></div><div class="ttdoc">Structure for mutex and tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00135">lock.h:135</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_aa32ba6029f71dee3d7b7972d9a5d6c3b"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#aa32ba6029f71dee3d7b7972d9a5d6c3b">OCTAL_CFWDNOAN</a></div><div class="ttdeci">#define OCTAL_CFWDNOAN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00766">chan_skinny.c:766</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a0e3d2fa098da538bf939322901446343"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a0e3d2fa098da538bf939322901446343">SERVICEURL_STAT_MESSAGE</a></div><div class="ttdeci">#define SERVICEURL_STAT_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01105">chan_skinny.c:1105</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a62fbd966d85772d1fe647b14d017df3f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a62fbd966d85772d1fe647b14d017df3f">SOFTKEY_IDIVERT</a></div><div class="ttdeci">#define SOFTKEY_IDIVERT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00729">chan_skinny.c:729</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a460583dd3b35299fa584b11304db2be3"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a460583dd3b35299fa584b11304db2be3">SUBSTATE_UNSET</a></div><div class="ttdeci">#define SUBSTATE_UNSET</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01371">chan_skinny.c:1371</a></div></div>
<div class="ttc" id="structdisplay__notify__message_html_a5eb30c11452cfefd9c9480037eabf99d"><div class="ttname"><a href="../../df/d67/structdisplay__notify__message.html#a5eb30c11452cfefd9c9480037eabf99d">display_notify_message::displayMessage</a></div><div class="ttdeci">char displayMessage[100]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01089">chan_skinny.c:1089</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ac7f6590ba28a7c55d86e6c0d4aacb82f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ac7f6590ba28a7c55d86e6c0d4aacb82f">MAXCALLINFOSTR</a></div><div class="ttdeci">#define MAXCALLINFOSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01112">chan_skinny.c:1112</a></div></div>
<div class="ttc" id="structskinny__subchannel_html_a4fb4072ccd44ea481eecfa5e74818db4"><div class="ttname"><a href="../../dd/dcc/structskinny__subchannel.html#a4fb4072ccd44ea481eecfa5e74818db4">skinny_subchannel::progress</a></div><div class="ttdeci">int progress</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01395">chan_skinny.c:1395</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1338c8645d55040c615fe717b81b7460"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1338c8645d55040c615fe717b81b7460">send_displayprinotify</a></div><div class="ttdeci">static void send_displayprinotify(struct skinny_device *d, const char *text, const char *extratext, int timeout, int priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02902">chan_skinny.c:2902</a></div></div>
<div class="ttc" id="structset__lamp__message_html_a9343bb7a21618047055c833ea497d1fe"><div class="ttname"><a href="../../d5/d21/structset__lamp__message.html#a9343bb7a21618047055c833ea497d1fe">set_lamp_message::stimulusInstance</a></div><div class="ttdeci">uint32_t stimulusInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00445">chan_skinny.c:445</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a6358965132aca36a703727fc05ddfcad"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a6358965132aca36a703727fc05ddfcad">req_alloc</a></div><div class="ttdeci">static struct skinny_req * req_alloc(size_t size, int response_message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01869">chan_skinny.c:1869</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a081aff21e0bee826b43a1e779321a5e0"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a081aff21e0bee826b43a1e779321a5e0">BT_LINE</a></div><div class="ttdeci">#define BT_LINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00600">chan_skinny.c:600</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a8e272a4ee35206ff8c4c0384b9e3f592"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a></div><div class="ttdeci">struct ast_frame * ast_rtp_instance_read(struct ast_rtp_instance *instance, int rtcp)</div><div class="ttdoc">Receive a frame over RTP. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00578">rtp_engine.c:578</a></div></div>
<div class="ttc" id="structskinny__device_html_afdf3b1ca80400cc6bd5bfe2bb1cb7e65"><div class="ttname"><a href="../../d1/db3/structskinny__device.html#afdf3b1ca80400cc6bd5bfe2bb1cb7e65">skinny_device::addr</a></div><div class="ttdeci">struct sockaddr_in addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01583">chan_skinny.c:1583</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab0f32f782aaa0ee44098e423011a4571"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab0f32f782aaa0ee44098e423011a4571">vmexten</a></div><div class="ttdeci">static char vmexten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00206">chan_skinny.c:206</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a95a2cd4add7896f4feabe8dc6b0744b6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a95a2cd4add7896f4feabe8dc6b0744b6">OPEN_RECEIVE_CHANNEL_ACK_MESSAGE</a></div><div class="ttdeci">#define OPEN_RECEIVE_CHANNEL_ACK_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00376">chan_skinny.c:376</a></div></div>
<div class="ttc" id="format__cache_8h_html"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html">format_cache.h</a></div><div class="ttdoc">Media Format Cache API. </div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="structsoft__key__definitions_html_a841d7c4569174bfa7f45657449a69b6f"><div class="ttname"><a href="../../df/de2/structsoft__key__definitions.html#a841d7c4569174bfa7f45657449a69b6f">soft_key_definitions::defaults</a></div><div class="ttdeci">const uint8_t * defaults</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00914">chan_skinny.c:914</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_af6d6ad028a582984d92f9ed46f91b78a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#af6d6ad028a582984d92f9ed46f91b78a">DEVICE2STR_BUFSIZE</a></div><div class="ttdeci">#define DEVICE2STR_BUFSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00270">chan_skinny.c:270</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a413c4786c5e1d12ecff7c6b88d34c35d"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a413c4786c5e1d12ecff7c6b88d34c35d">MAX_SERVICEURL</a></div><div class="ttdeci">#define MAX_SERVICEURL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01104">chan_skinny.c:1104</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a75db97a80198e9113eed7ef8828f20dd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a75db97a80198e9113eed7ef8828f20dd">OCTAL_PARK</a></div><div class="ttdeci">#define OCTAL_PARK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00773">chan_skinny.c:773</a></div></div>
<div class="ttc" id="structstart__media__transmission__message__ip4_html_ac4946ecf0faa3d0281b86b9df56cbc6f"><div class="ttname"><a href="../../d2/d39/structstart__media__transmission__message__ip4.html#ac4946ecf0faa3d0281b86b9df56cbc6f">start_media_transmission_message_ip4::remoteIp</a></div><div class="ttdeci">uint32_t remoteIp</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00471">chan_skinny.c:471</a></div></div>
<div class="ttc" id="structdisplay__prompt__status__message_html_a3c8ec1b11804b48f666007331e0c90ba"><div class="ttname"><a href="../../da/d1e/structdisplay__prompt__status__message.html#a3c8ec1b11804b48f666007331e0c90ba">display_prompt_status_message::lineInstance</a></div><div class="ttdeci">uint32_t lineInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01075">chan_skinny.c:1075</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00065">pbx.h:65</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a7d5dd463398f60d25e49d35e6ccd84ab"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a7d5dd463398f60d25e49d35e6ccd84ab">skinny_request</a></div><div class="ttdeci">static struct ast_channel * skinny_request(const char *type, struct ast_format_cap *cap, const struct ast_assigned_ids *assignedids, const struct ast_channel *requestor, const char *dest, int *cause)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l07717">chan_skinny.c:7717</a></div></div>
<div class="ttc" id="structserver__res__message_html_a79e782cec3d53c0ec6b5922620d6a74f"><div class="ttname"><a href="../../dd/d7b/structserver__res__message.html#a79e782cec3d53c0ec6b5922620d6a74f">server_res_message::server</a></div><div class="ttdeci">struct server_identifier server[5]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00652">chan_skinny.c:652</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ad2bf0a4239564e8e10f81b669fc0dbd9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ad2bf0a4239564e8e10f81b669fc0dbd9">transmit_registerack</a></div><div class="ttdeci">static void transmit_registerack(struct skinny_device *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03336">chan_skinny.c:3336</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_ab6e17c000d3132dc85c27b84dd8698a0"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#ab6e17c000d3132dc85c27b84dd8698a0">transmit_softkeytemplateres</a></div><div class="ttdeci">static void transmit_softkeytemplateres(struct skinny_device *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l03284">chan_skinny.c:3284</a></div></div>
<div class="ttc" id="structcall__info__message__variable_html_aa056c11f2f813407952d829437cec263"><div class="ttname"><a href="../../d5/d43/structcall__info__message__variable.html#aa056c11f2f813407952d829437cec263">call_info_message_variable::callreference</a></div><div class="ttdeci">uint32_t callreference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01130">chan_skinny.c:1130</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a3e87062c4b2006df274bdb9f2ef6b4cd"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a3e87062c4b2006df274bdb9f2ef6b4cd">destroy_rtp</a></div><div class="ttdeci">static void destroy_rtp(struct skinny_subchannel *sub)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l04807">chan_skinny.c:4807</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a168480819789a822d423c3fd6387a493"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a168480819789a822d423c3fd6387a493">handle_onhook_message</a></div><div class="ttdeci">static int handle_onhook_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06609">chan_skinny.c:6609</a></div></div>
<div class="ttc" id="channel_8h_html_aa62371d642974c67a0c0efa77d54fcbdafb2c9cea57f7fc8e0350ed6f60cbb892"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbdafb2c9cea57f7fc8e0350ed6f60cbb892">AST_CHAN_TP_CREATESJITTER</a></div><div class="ttdoc">Channels have this property if they can create jitter; i.e. most VoIP channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00966">channel.h:966</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4c97330811978f9be42f29dd8e7763a9"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4c97330811978f9be42f29dd8e7763a9">KEYDEF_RINGOUTWITHTRANS</a></div><div class="ttdeci">#define KEYDEF_RINGOUTWITHTRANS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00707">chan_skinny.c:707</a></div></div>
<div class="ttc" id="structast__tm_html"><div class="ttname"><a href="../../d5/d84/structast__tm.html">ast_tm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00035">localtime.h:35</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga0ee6ee1f4d200f711e2983bffe770a72"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga0ee6ee1f4d200f711e2983bffe770a72">astman_send_listack</a></div><div class="ttdeci">void astman_send_listack(struct mansession *s, const struct message *m, char *msg, char *listflag)</div><div class="ttdoc">Send ack in manager transaction to begin a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03201">manager.c:3201</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a38b13cf2bde57d08de63944aeae70a5a"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a38b13cf2bde57d08de63944aeae70a5a">OCTAL_BKSPC</a></div><div class="ttdeci">#define OCTAL_BKSPC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00767">chan_skinny.c:767</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_afb6f653351a09b4b3bbbb0fbd3ba4f1e"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#afb6f653351a09b4b3bbbb0fbd3ba4f1e">RESET_MESSAGE</a></div><div class="ttdeci">#define RESET_MESSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00657">chan_skinny.c:657</a></div></div>
<div class="ttc" id="structregister__message_html"><div class="ttname"><a href="../../db/dc9/structregister__message.html">register_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00289">chan_skinny.c:289</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a13dd15487fee89a002d17ef3aff62d02"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></div><div class="ttdeci">static struct test_val a</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">test_linkedlists.c:46</a></div></div>
<div class="ttc" id="structast__party__id_html_aca2d7de6c89f201dc8bd0a2642d2a352"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">ast_party_id::number</a></div><div class="ttdeci">struct ast_party_number number</div><div class="ttdoc">Subscriber phone number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00343">channel.h:343</a></div></div>
<div class="ttc" id="structbutton__definition_html_aca4595173e9d8b5d9c6dfcc94d15f74a"><div class="ttname"><a href="../../d5/d71/structbutton__definition.html#aca4595173e9d8b5d9c6dfcc94d15f74a">button_definition::buttonDefinition</a></div><div class="ttdeci">uint8_t buttonDefinition</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l00564">chan_skinny.c:564</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a1f86382ae84168245fb2f120af3747d4"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a1f86382ae84168245fb2f120af3747d4">handle_keypad_button_message</a></div><div class="ttdeci">static int handle_keypad_button_message(struct skinny_req *req, struct skinnysession *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06220">chan_skinny.c:6220</a></div></div>
<div class="ttc" id="module_8h_html_a8dea6491bedba471fc44574d76438577"><div class="ttname"><a href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a></div><div class="ttdeci">#define ast_module_ref(mod)</div><div class="ttdoc">Hold a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00443">module.h:443</a></div></div>
<div class="ttc" id="structdisplay__notify__message_html_ab90d738fa36461d19bce3455a553f0f1"><div class="ttname"><a href="../../df/d67/structdisplay__notify__message.html#ab90d738fa36461d19bce3455a553f0f1">display_notify_message::displayTimeout</a></div><div class="ttdeci">uint32_t displayTimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01088">chan_skinny.c:1088</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390af334ccaa958af9b049d6bfcaa41549b8"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af334ccaa958af9b049d6bfcaa41549b8">AST_CONTROL_SRCCHANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00303">include/asterisk/frame.h:303</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a4f65a9ef12827334502722b4cd8919c6"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a4f65a9ef12827334502722b4cd8919c6">transmit_ringer_mode</a></div><div class="ttdeci">static void transmit_ringer_mode(struct skinny_device *d, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l02762">chan_skinny.c:2762</a></div></div>
<div class="ttc" id="chan__skinny_8c_html_a5558d77286af70e202d732d1bbfdc547"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a5558d77286af70e202d732d1bbfdc547">dialandactivatesub</a></div><div class="ttdeci">static void dialandactivatesub(struct skinny_subchannel *sub, char exten[AST_MAX_EXTENSION])</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l06071">chan_skinny.c:6071</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:43:35 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
