<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: abstract_jb.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">abstract_jb.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Common implementation-independent jitterbuffer stuff.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html">asterisk/frame.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/term_8h_source.html">asterisk/term.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d41/timing_8h_source.html">asterisk/timing.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/dde/rtp__engine_8h_source.html">asterisk/rtp_engine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d14/abstract__jb_8h_source.html">asterisk/abstract_jb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d01/fixedjitterbuf_8h_source.html">fixedjitterbuf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/da9/jitterbuf_8h_source.html">jitterbuf.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for abstract_jb.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d82/abstract__jb_8c__incl.png" border="0" usemap="#abstract__jb_8c" alt=""/></div>
<map name="abstract__jb_8c" id="abstract__jb_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="665,453,749,480"/>
<area shape="rect" id="node11" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="2358,304,2485,331"/>
<area shape="rect" id="node18" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1651,155,1789,181"/>
<area shape="rect" id="node20" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="984,379,1099,405"/>
<area shape="rect" id="node23" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="2561,304,2719,331"/>
<area shape="rect" id="node37" href="../../db/d45/term_8h.html" title="Handy terminal functions for vt* terms. " alt="" coords="2690,80,2809,107"/>
<area shape="rect" id="node38" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="2555,80,2666,107"/>
<area shape="rect" id="node43" href="../../db/d41/timing_8h.html" title="Timing source management. " alt="" coords="2833,80,2961,107"/>
<area shape="rect" id="node44" href="../../d5/dde/rtp__engine_8h.html" title="Pluggable RTP Architecture. " alt="" coords="622,229,778,256"/>
<area shape="rect" id="node48" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2985,80,3161,107"/>
<area shape="rect" id="node49" href="../../d4/d01/fixedjitterbuf_8h.html" title="Jitterbuffering algorithm. " alt="" coords="3185,80,3297,107"/>
<area shape="rect" id="node50" href="../../dd/da9/jitterbuf_8h.html" title="jitterbuf: an application&#45;independent jitterbuffer jitterbuf.c " alt="" coords="3321,80,3404,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="460,528,615,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="910,528,1047,555"/>
<area shape="rect" id="node10" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="639,528,774,555"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="464,603,611,629"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1117,677,1259,704"/>
<area shape="rect" id="node13" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="2656,379,2787,405"/>
<area shape="rect" id="node14" href="../../d1/d84/endian_8h.html" title="Asterisk architecture endianess compatibility definitions. " alt="" coords="2339,379,2469,405"/>
<area shape="rect" id="node15" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1738,379,1889,405"/>
<area shape="rect" id="node16" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1257,603,1370,629"/>
<area shape="rect" id="node17" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="551,677,678,704"/>
<area shape="rect" id="node19" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1107,229,1251,256"/>
<area shape="rect" id="node21" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2428,453,2585,480"/>
<area shape="rect" id="node24" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1326,304,1461,331"/>
<area shape="rect" id="node25" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1558,229,1722,256"/>
<area shape="rect" id="node26" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="2279,229,2425,256"/>
<area shape="rect" id="node27" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="905,229,1031,256"/>
<area shape="rect" id="node28" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1747,229,1853,256"/>
<area shape="rect" id="node29" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="2053,229,2203,256"/>
<area shape="rect" id="node30" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="382,304,543,331"/>
<area shape="rect" id="node31" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="89,379,260,405"/>
<area shape="rect" id="node32" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="190,229,306,256"/>
<area shape="rect" id="node34" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1376,229,1533,256"/>
<area shape="rect" id="node35" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="923,304,1048,331"/>
<area shape="rect" id="node36" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1878,229,2029,256"/>
<area shape="rect" id="node22" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="1427,528,1554,555"/>
<area shape="rect" id="node33" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="93,304,256,331"/>
<area shape="rect" id="node39" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="771,304,898,331"/>
<area shape="rect" id="node40" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="2555,155,2735,181"/>
<area shape="rect" id="node41" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="2787,453,2927,480"/>
<area shape="rect" id="node42" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="2862,155,2997,181"/>
<area shape="rect" id="node45" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="280,453,427,480"/>
<area shape="rect" id="node46" href="../../de/d15/res__srtp_8h.html" title="SRTP resource. " alt="" coords="721,379,861,405"/>
<area shape="rect" id="node47" href="../../d5/d1f/logger__category_8h.html" title="asterisk/logger_category.h" alt="" coords="451,453,640,480"/>
</map>
</div>
</div>
<p><a href="../../d3/d1d/abstract__jb_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3d/structjb__framedata.html">jb_framedata</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/structjb__stream__sync.html">jb_stream_sync</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7e7d42197375c3b33bfea426e8faccc9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a7e7d42197375c3b33bfea426e8faccc9">DEFAULT_RESYNC</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a7e7d42197375c3b33bfea426e8faccc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9771cabfd673a8e350f1f8ce0b8f458f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a9771cabfd673a8e350f1f8ce0b8f458f">DEFAULT_SIZE</a>&#160;&#160;&#160;200</td></tr>
<tr class="separator:a9771cabfd673a8e350f1f8ce0b8f458f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b5ff2bb801806e2d18ae89c24e0cdfc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a6b5ff2bb801806e2d18ae89c24e0cdfc">DEFAULT_TARGET_EXTRA</a>&#160;&#160;&#160;40</td></tr>
<tr class="separator:a6b5ff2bb801806e2d18ae89c24e0cdfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88eaab4a800fe8e63d61e1d52dc3bfd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a88eaab4a800fe8e63d61e1d52dc3bfd3">DEFAULT_TIMER_INTERVAL</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a88eaab4a800fe8e63d61e1d52dc3bfd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94963595d5ef7b725db113d27acc5e06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a94963595d5ef7b725db113d27acc5e06">DEFAULT_TYPE</a>&#160;&#160;&#160;<a class="el" href="../../dc/d14/abstract__jb_8h.html#a62f2b791bf691dbcc3a5b47baabd2ab2ac406c3d472ed95c4ba35ec1676102e2d">AST_JB_FIXED</a></td></tr>
<tr class="separator:a94963595d5ef7b725db113d27acc5e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25587b898af76bc590a5d2905a160786"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(...)</td></tr>
<tr class="memdesc:a25587b898af76bc590a5d2905a160786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macros for the frame log files.  <a href="#a25587b898af76bc590a5d2905a160786">More...</a><br /></td></tr>
<tr class="separator:a25587b898af76bc590a5d2905a160786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a831edd6c77d31579088d143dda3682"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a1a831edd6c77d31579088d143dda3682">MAXIMUM_EARLY_FRAME_COUNT</a>&#160;&#160;&#160;200</td></tr>
<tr class="separator:a1a831edd6c77d31579088d143dda3682"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a727cc1d940fa1a6396c79b0f86a72653"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a">JB_TIMEBASE_INITIALIZED</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a> = (1 &lt;&lt; 2)
 }</td></tr>
<tr class="separator:a727cc1d940fa1a6396c79b0f86a72653"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a77d52851b0735b869d758936abce4104"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a77d52851b0735b869d758936abce4104">ast_jb_conf_default</a> (struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *<a class="el" href="../../d6/de8/structconf.html">conf</a>)</td></tr>
<tr class="memdesc:a77d52851b0735b869d758936abce4104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the contents of an <a class="el" href="../../d7/dba/structast__jb__conf.html" title="General jitterbuffer configuration. ">ast_jb_conf</a> struct to the default jitterbuffer settings.  <a href="#a77d52851b0735b869d758936abce4104">More...</a><br /></td></tr>
<tr class="separator:a77d52851b0735b869d758936abce4104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0981c84ac90dd79bc2a0fdd90aa6efba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a0981c84ac90dd79bc2a0fdd90aa6efba">ast_jb_configure</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *<a class="el" href="../../d6/de8/structconf.html">conf</a>)</td></tr>
<tr class="memdesc:a0981c84ac90dd79bc2a0fdd90aa6efba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures a jitterbuffer on a channel.  <a href="#a0981c84ac90dd79bc2a0fdd90aa6efba">More...</a><br /></td></tr>
<tr class="separator:a0981c84ac90dd79bc2a0fdd90aa6efba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c2f5e811a2b3a4b5ed71bd493fc4e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a08c2f5e811a2b3a4b5ed71bd493fc4e5">ast_jb_create_framehook</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *<a class="el" href="../../d2/d5e/structjb__conf.html">jb_conf</a>, int prefer_existing)</td></tr>
<tr class="memdesc:a08c2f5e811a2b3a4b5ed71bd493fc4e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies a jitterbuffer framehook to a channel based on a provided jitterbuffer config.  <a href="#a08c2f5e811a2b3a4b5ed71bd493fc4e5">More...</a><br /></td></tr>
<tr class="separator:a08c2f5e811a2b3a4b5ed71bd493fc4e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa94fd3c228854f8ac519da8218d5c032"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#aa94fd3c228854f8ac519da8218d5c032">ast_jb_destroy</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:aa94fd3c228854f8ac519da8218d5c032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys jitterbuffer on a channel.  <a href="#aa94fd3c228854f8ac519da8218d5c032">More...</a><br /></td></tr>
<tr class="separator:aa94fd3c228854f8ac519da8218d5c032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad013da092efd28ba7a6a21ee76297a80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ad013da092efd28ba7a6a21ee76297a80">ast_jb_do_usecheck</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c0, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c1)</td></tr>
<tr class="memdesc:ad013da092efd28ba7a6a21ee76297a80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the need of a jb use in a generic bridge.  <a href="#ad013da092efd28ba7a6a21ee76297a80">More...</a><br /></td></tr>
<tr class="separator:ad013da092efd28ba7a6a21ee76297a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a252f5415d8e69c1d17597ccb16446a30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a252f5415d8e69c1d17597ccb16446a30">ast_jb_empty_and_reset</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c0, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c1)</td></tr>
<tr class="memdesc:a252f5415d8e69c1d17597ccb16446a30"><td class="mdescLeft">&#160;</td><td class="mdescRight">drops all frames from a jitterbuffer and resets it  <a href="#a252f5415d8e69c1d17597ccb16446a30">More...</a><br /></td></tr>
<tr class="separator:a252f5415d8e69c1d17597ccb16446a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88cb2f0706e83150716bcd35cd503c3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a88cb2f0706e83150716bcd35cd503c3e">ast_jb_enable_for_channel</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a88cb2f0706e83150716bcd35cd503c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a jitterbuffer frame hook on the channel based on the channel's stored jitterbuffer configuration.  <a href="#a88cb2f0706e83150716bcd35cd503c3e">More...</a><br /></td></tr>
<tr class="separator:a88cb2f0706e83150716bcd35cd503c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a543ca527d26b42c6f50eccb2924ddebd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a543ca527d26b42c6f50eccb2924ddebd">ast_jb_get_and_deliver</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c0, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c1)</td></tr>
<tr class="memdesc:a543ca527d26b42c6f50eccb2924ddebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deliver the queued frames that should be delivered now for both channels.  <a href="#a543ca527d26b42c6f50eccb2924ddebd">More...</a><br /></td></tr>
<tr class="separator:a543ca527d26b42c6f50eccb2924ddebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38fc3d7573cd890716edca9bcb31766"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ae38fc3d7573cd890716edca9bcb31766">ast_jb_get_config</a> (const struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *<a class="el" href="../../d6/de8/structconf.html">conf</a>)</td></tr>
<tr class="memdesc:ae38fc3d7573cd890716edca9bcb31766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies a channel's jitterbuffer configuration.  <a href="#ae38fc3d7573cd890716edca9bcb31766">More...</a><br /></td></tr>
<tr class="separator:ae38fc3d7573cd890716edca9bcb31766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a768072c50b5af7cb3b1e538aa275d696"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a768072c50b5af7cb3b1e538aa275d696">ast_jb_get_impl</a> (enum <a class="el" href="../../dc/d14/abstract__jb_8h.html#a62f2b791bf691dbcc3a5b47baabd2ab2">ast_jb_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="separator:a768072c50b5af7cb3b1e538aa275d696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3f6eb99c87c8fb1d79232762df48354"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ad3f6eb99c87c8fb1d79232762df48354">ast_jb_get_when_to_wakeup</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c0, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c1, int time_left)</td></tr>
<tr class="memdesc:ad3f6eb99c87c8fb1d79232762df48354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the time, left to the closest delivery moment in a bridge.  <a href="#ad3f6eb99c87c8fb1d79232762df48354">More...</a><br /></td></tr>
<tr class="separator:ad3f6eb99c87c8fb1d79232762df48354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a971bdfddf7e452f516dd32991951d581"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a971bdfddf7e452f516dd32991951d581">ast_jb_put</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *f)</td></tr>
<tr class="memdesc:a971bdfddf7e452f516dd32991951d581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts a frame into a channel jitterbuffer.  <a href="#a971bdfddf7e452f516dd32991951d581">More...</a><br /></td></tr>
<tr class="separator:a971bdfddf7e452f516dd32991951d581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50ad081bd2ae6b58bcfc4687916c586"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ae50ad081bd2ae6b58bcfc4687916c586">ast_jb_read_conf</a> (struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *<a class="el" href="../../d6/de8/structconf.html">conf</a>, const char *varname, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:ae50ad081bd2ae6b58bcfc4687916c586"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets jitterbuffer configuration property.  <a href="#ae50ad081bd2ae6b58bcfc4687916c586">More...</a><br /></td></tr>
<tr class="separator:ae50ad081bd2ae6b58bcfc4687916c586"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af5788183300b288581f5606bcadcb1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a1af5788183300b288581f5606bcadcb1">create_jb</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *first_frame)</td></tr>
<tr class="separator:a1af5788183300b288581f5606bcadcb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93c8ef66a0c01c732a3aef7746eeed2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ab93c8ef66a0c01c732a3aef7746eeed2">datastore_destroy_cb</a> (void *data)</td></tr>
<tr class="separator:ab93c8ef66a0c01c732a3aef7746eeed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f09f2a933351d824c96a8f614261e5c"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a> (struct <a class="el" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb, struct timeval *tv)</td></tr>
<tr class="separator:a1f09f2a933351d824c96a8f614261e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ef00a8b70075f76e2c1ea8cd17d7f0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ab3ef00a8b70075f76e2c1ea8cd17d7f0">hook_destroy_cb</a> (void *framedata)</td></tr>
<tr class="separator:ab3ef00a8b70075f76e2c1ea8cd17d7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf002a925f65d0265a83de76e569e6c1"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#adf002a925f65d0265a83de76e569e6c1">hook_event_cb</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame, enum <a class="el" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614">ast_framehook_event</a> <a class="el" href="../../df/d7d/structevent.html">event</a>, void *data)</td></tr>
<tr class="separator:adf002a925f65d0265a83de76e569e6c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab45f11b0a95110a51f848b2b873e1065"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ab45f11b0a95110a51f848b2b873e1065">jb_choose_impl</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:ab45f11b0a95110a51f848b2b873e1065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed18a60db020c2107aa408daf43bf18c"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#aed18a60db020c2107aa408daf43bf18c">jb_create_adaptive</a> (struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *general_config)</td></tr>
<tr class="separator:aed18a60db020c2107aa408daf43bf18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2d10c58003edead067528de61ab49f"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#abb2d10c58003edead067528de61ab49f">jb_create_fixed</a> (struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *general_config)</td></tr>
<tr class="separator:abb2d10c58003edead067528de61ab49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b1d5ef57dbd7d0eef8e6a0f972bb1c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ac5b1d5ef57dbd7d0eef8e6a0f972bb1c">jb_destroy_adaptive</a> (void *jb)</td></tr>
<tr class="separator:ac5b1d5ef57dbd7d0eef8e6a0f972bb1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb45d2c8505def068211243395ccde2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#abcb45d2c8505def068211243395ccde2">jb_destroy_fixed</a> (void *jb)</td></tr>
<tr class="separator:abcb45d2c8505def068211243395ccde2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa70646a0eec8575d97b599ce9ce46ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#aaa70646a0eec8575d97b599ce9ce46ae">jb_empty_and_reset_adaptive</a> (void *jb)</td></tr>
<tr class="separator:aaa70646a0eec8575d97b599ce9ce46ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada58865ed9b0d523853282c74aebd560"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ada58865ed9b0d523853282c74aebd560">jb_empty_and_reset_fixed</a> (void *jb)</td></tr>
<tr class="separator:ada58865ed9b0d523853282c74aebd560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03c23606541409e6e3b5137d5f4a9c6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#aa03c23606541409e6e3b5137d5f4a9c6">jb_force_resynch_adaptive</a> (void *jb)</td></tr>
<tr class="separator:aa03c23606541409e6e3b5137d5f4a9c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d74a011c952ca36c677e2fe73f284f1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a3d74a011c952ca36c677e2fe73f284f1">jb_force_resynch_fixed</a> (void *jb)</td></tr>
<tr class="separator:a3d74a011c952ca36c677e2fe73f284f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3201602b2a4d390719285c70d872efb3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a3201602b2a4d390719285c70d872efb3">jb_framedata_destroy</a> (struct <a class="el" href="../../d8/d3d/structjb__framedata.html">jb_framedata</a> *framedata)</td></tr>
<tr class="separator:a3201602b2a4d390719285c70d872efb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50aa46229d1cfe5f2c8bdc3f5f6f55b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ae50aa46229d1cfe5f2c8bdc3f5f6f55b">jb_framedata_init</a> (struct <a class="el" href="../../d8/d3d/structjb__framedata.html">jb_framedata</a> *framedata, struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *<a class="el" href="../../d2/d5e/structjb__conf.html">jb_conf</a>)</td></tr>
<tr class="separator:ae50aa46229d1cfe5f2c8bdc3f5f6f55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f67e271e84cb1a28aee93f4c10958ea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a6f67e271e84cb1a28aee93f4c10958ea">jb_get_adaptive</a> (void *jb, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> **fout, long now, long interpl)</td></tr>
<tr class="separator:a6f67e271e84cb1a28aee93f4c10958ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb94ef2c28559777814eaa4a4b12e0f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a5cb94ef2c28559777814eaa4a4b12e0f">jb_get_and_deliver</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a5cb94ef2c28559777814eaa4a4b12e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0cfc3efbefa40327321a552239879b2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ae0cfc3efbefa40327321a552239879b2">jb_get_fixed</a> (void *jb, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> **fout, long now, long interpl)</td></tr>
<tr class="separator:ae0cfc3efbefa40327321a552239879b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3044cd192a1ebb0ad6abe3a14b1b37a9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a3044cd192a1ebb0ad6abe3a14b1b37a9">jb_is_late_adaptive</a> (void *jb, long ts)</td></tr>
<tr class="separator:a3044cd192a1ebb0ad6abe3a14b1b37a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe70d902c3f5aae34e06f37484e17268"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#afe70d902c3f5aae34e06f37484e17268">jb_is_late_fixed</a> (void *jb, long ts)</td></tr>
<tr class="separator:afe70d902c3f5aae34e06f37484e17268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b96eefcf15ae5ce37a7cdffbd65745"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a56b96eefcf15ae5ce37a7cdffbd65745">jb_next_adaptive</a> (void *jb)</td></tr>
<tr class="separator:a56b96eefcf15ae5ce37a7cdffbd65745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c65444eb6fcdb991ff9af96b8ea31f"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a63c65444eb6fcdb991ff9af96b8ea31f">jb_next_fixed</a> (void *jb)</td></tr>
<tr class="separator:a63c65444eb6fcdb991ff9af96b8ea31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483b38f23bd9ef5293a6e3564c36f8bb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a483b38f23bd9ef5293a6e3564c36f8bb">jb_put_adaptive</a> (void *jb, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *fin, long now)</td></tr>
<tr class="separator:a483b38f23bd9ef5293a6e3564c36f8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab901ec2de556331d0ff46342d62c56bc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ab901ec2de556331d0ff46342d62c56bc">jb_put_first_adaptive</a> (void *jb, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *fin, long now)</td></tr>
<tr class="separator:ab901ec2de556331d0ff46342d62c56bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc0713afb88453bbc688e7e7872c2d2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#aebc0713afb88453bbc688e7e7872c2d2">jb_put_first_fixed</a> (void *jb, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *fin, long now)</td></tr>
<tr class="separator:aebc0713afb88453bbc688e7e7872c2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f4c25153594a57f188f3cad1d8c348"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a17f4c25153594a57f188f3cad1d8c348">jb_put_fixed</a> (void *jb, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *fin, long now)</td></tr>
<tr class="separator:a17f4c25153594a57f188f3cad1d8c348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e4c7a7c7ee99733beb66389a661ac9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#ad1e4c7a7c7ee99733beb66389a661ac9">jb_remove_adaptive</a> (void *jb, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> **fout)</td></tr>
<tr class="separator:ad1e4c7a7c7ee99733beb66389a661ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19e4be4437c2a5e6a631c16e4eabf7f0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a19e4be4437c2a5e6a631c16e4eabf7f0">jb_remove_fixed</a> (void *jb, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> **fout)</td></tr>
<tr class="separator:a19e4be4437c2a5e6a631c16e4eabf7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3024e9ef69e7ed2b958a1a96f95d2482"><td class="memItemLeft" align="right" valign="top">static struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a3024e9ef69e7ed2b958a1a96f95d2482">jitterbuffer_frame_get_ntp_timestamp</a> (const struct <a class="el" href="../../db/d97/structjb__stream__sync.html">jb_stream_sync</a> *stream_sync, const struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame)</td></tr>
<tr class="separator:a3024e9ef69e7ed2b958a1a96f95d2482"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa77c255618de758cf53f0912d853359b"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#aa77c255618de758cf53f0912d853359b">adaptive_to_abstract_code</a> []</td></tr>
<tr class="separator:aa77c255618de758cf53f0912d853359b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99bbef1aa597608e3b28e07e1be50ca5"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a99bbef1aa597608e3b28e07e1be50ca5">avail_impl</a> []</td></tr>
<tr class="separator:a99bbef1aa597608e3b28e07e1be50ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8b7e54c446a74316126f913a16917d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a8d8b7e54c446a74316126f913a16917d">default_impl</a> = 0</td></tr>
<tr class="separator:a8d8b7e54c446a74316126f913a16917d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef9909522cec7d1688949110a399aed"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a3ef9909522cec7d1688949110a399aed">fixed_to_abstract_code</a> []</td></tr>
<tr class="separator:a3ef9909522cec7d1688949110a399aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920085f4aad54e73de8a8391e5ffc28b"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a920085f4aad54e73de8a8391e5ffc28b">jb_datastore</a></td></tr>
<tr class="separator:a920085f4aad54e73de8a8391e5ffc28b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a01c1a3a08514c4d64f0b36ea40bd08"><td class="memItemLeft" align="right" valign="top">static const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d1d/abstract__jb_8c.html#a9a01c1a3a08514c4d64f0b36ea40bd08">jb_get_actions</a> [] = {&quot;Delivered&quot;, &quot;Dropped&quot;, &quot;Interpolated&quot;, &quot;No&quot;}</td></tr>
<tr class="separator:a9a01c1a3a08514c4d64f0b36ea40bd08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Common implementation-independent jitterbuffer stuff. </p>
<dl class="section author"><dt>Author</dt><dd>Slav Klenov <a href="#" onclick="location.href='mai'+'lto:'+'sla'+'v@'+'sec'+'ur'+'ax.'+'or'+'g'; return false;">slav@<span style="display: none;">.nosp@m.</span>secu<span style="display: none;">.nosp@m.</span>rax.o<span style="display: none;">.nosp@m.</span>rg</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7e7d42197375c3b33bfea426e8faccc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7d42197375c3b33bfea426e8faccc9">&#9670;&nbsp;</a></span>DEFAULT_RESYNC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_RESYNC&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00839">839</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00890">ast_jb_conf_default()</a>.</p>

</div>
</div>
<a id="a9771cabfd673a8e350f1f8ce0b8f458f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9771cabfd673a8e350f1f8ce0b8f458f">&#9670;&nbsp;</a></span>DEFAULT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_SIZE&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00837">837</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00890">ast_jb_conf_default()</a>.</p>

</div>
</div>
<a id="a6b5ff2bb801806e2d18ae89c24e0cdfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b5ff2bb801806e2d18ae89c24e0cdfc">&#9670;&nbsp;</a></span>DEFAULT_TARGET_EXTRA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_TARGET_EXTRA&#160;&#160;&#160;40</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00838">838</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00890">ast_jb_conf_default()</a>.</p>

</div>
</div>
<a id="a88eaab4a800fe8e63d61e1d52dc3bfd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88eaab4a800fe8e63d61e1d52dc3bfd3">&#9670;&nbsp;</a></span>DEFAULT_TIMER_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_TIMER_INTERVAL&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00836">836</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01217">jb_framedata_init()</a>.</p>

</div>
</div>
<a id="a94963595d5ef7b725db113d27acc5e06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94963595d5ef7b725db113d27acc5e06">&#9670;&nbsp;</a></span>DEFAULT_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_TYPE&#160;&#160;&#160;<a class="el" href="../../dc/d14/abstract__jb_8h.html#a62f2b791bf691dbcc3a5b47baabd2ab2ac406c3d472ed95c4ba35ec1676102e2d">AST_JB_FIXED</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00840">840</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01217">jb_framedata_init()</a>.</p>

</div>
</div>
<a id="a25587b898af76bc590a5d2905a160786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25587b898af76bc590a5d2905a160786">&#9670;&nbsp;</a></span>jb_framelog</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define jb_framelog</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macros for the frame log files. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00130">130</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00271">ast_jb_put()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00413">create_jb()</a>, and <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00353">jb_get_and_deliver()</a>.</p>

</div>
</div>
<a id="a1a831edd6c77d31579088d143dda3682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a831edd6c77d31579088d143dda3682">&#9670;&nbsp;</a></span>MAXIMUM_EARLY_FRAME_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXIMUM_EARLY_FRAME_COUNT&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The maximum size we allow the early frame buffer to get </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00059">59</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00953">hook_event_cb()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a727cc1d940fa1a6396c79b0f86a72653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a727cc1d940fa1a6396c79b0f86a72653">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Internal jb flags </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d"></a>JB_USE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a"></a>JB_TIMEBASE_INITIALIZED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5"></a>JB_CREATED&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00052">52</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;     {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a> =                  (1 &lt;&lt; 0),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a">JB_TIMEBASE_INITIALIZED</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a> =              (1 &lt;&lt; 2)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;};</div><div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00053">abstract_jb.c:53</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a">JB_TIMEBASE_INITIALIZED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00054">abstract_jb.c:54</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00055">abstract_jb.c:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a77d52851b0735b869d758936abce4104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77d52851b0735b869d758936abce4104">&#9670;&nbsp;</a></span>ast_jb_conf_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_jb_conf_default </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *&#160;</td>
          <td class="paramname"><em>conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the contents of an <a class="el" href="../../d7/dba/structast__jb__conf.html" title="General jitterbuffer configuration. ">ast_jb_conf</a> struct to the default jitterbuffer settings. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>Which jitterbuffer is being set </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00890">890</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00196">AST_FLAGS_ALL</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00839">DEFAULT_RESYNC</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00837">DEFAULT_SIZE</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00838">DEFAULT_TARGET_EXTRA</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00078">ast_jb_conf::impl</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00074">ast_jb_conf::max_size</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00076">ast_jb_conf::resync_threshold</a>, and <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00080">ast_jb_conf::target_extra</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d0e/func__jitterbuffer_8c_source.html#l00115">jb_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;{</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(conf, <a class="code" href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a>);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">max_size</a> = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a9771cabfd673a8e350f1f8ce0b8f458f">DEFAULT_SIZE</a>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">resync_threshold</a> = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a7e7d42197375c3b33bfea426e8faccc9">DEFAULT_RESYNC</a>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>, <span class="stringliteral">&quot;fixed&quot;</span>, <span class="keyword">sizeof</span>(conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>));</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a322d898485ffd6c3c07391f381903bdd">target_extra</a> = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a6b5ff2bb801806e2d18ae89c24e0cdfc">DEFAULT_TARGET_EXTRA</a>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;}</div><div class="ttc" id="structast__jb__conf_html_ab5d708c3e3489b6fd1f92b19939c18e8"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">ast_jb_conf::resync_threshold</a></div><div class="ttdeci">long resync_threshold</div><div class="ttdoc">Resynchronization threshold of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00076">abstract_jb.h:76</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a9771cabfd673a8e350f1f8ce0b8f458f"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a9771cabfd673a8e350f1f8ce0b8f458f">DEFAULT_SIZE</a></div><div class="ttdeci">#define DEFAULT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00837">abstract_jb.c:837</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a6b5ff2bb801806e2d18ae89c24e0cdfc"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a6b5ff2bb801806e2d18ae89c24e0cdfc">DEFAULT_TARGET_EXTRA</a></div><div class="ttdeci">#define DEFAULT_TARGET_EXTRA</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00838">abstract_jb.c:838</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a322d898485ffd6c3c07391f381903bdd"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a322d898485ffd6c3c07391f381903bdd">ast_jb_conf::target_extra</a></div><div class="ttdeci">long target_extra</div><div class="ttdoc">amount of additional jitterbuffer adjustment </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00080">abstract_jb.h:80</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a60072c5fdc7f8f7772e49783b48e37a6"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">ast_jb_conf::impl</a></div><div class="ttdeci">char impl[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdoc">Name of the jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00078">abstract_jb.h:78</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a7e7d42197375c3b33bfea426e8faccc9"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a7e7d42197375c3b33bfea426e8faccc9">DEFAULT_RESYNC</a></div><div class="ttdeci">#define DEFAULT_RESYNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00839">abstract_jb.c:839</a></div></div>
<div class="ttc" id="utils_8h_html_afb8683b4d96960d7a82a86a974a57599"><div class="ttname"><a href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a></div><div class="ttdeci">#define AST_FLAGS_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00196">utils.h:196</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structast__jb__conf_html_aaba39ba18eb00647786272b9061659e3"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">ast_jb_conf::max_size</a></div><div class="ttdeci">long max_size</div><div class="ttdoc">Max size of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00074">abstract_jb.h:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0981c84ac90dd79bc2a0fdd90aa6efba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0981c84ac90dd79bc2a0fdd90aa6efba">&#9670;&nbsp;</a></span>ast_jb_configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_jb_configure </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *&#160;</td>
          <td class="paramname"><em>conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures a jitterbuffer on a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>channel to configure. </td></tr>
    <tr><td class="paramname">conf</td><td>configuration to apply.</td></tr>
  </table>
  </dd>
</dl>
<p>Called from a channel driver when a channel is created and its jitterbuffer needs to be configured. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00593">593</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00580">alsa_new()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l01162">ast_unreal_new_channels()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l00423">console_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08174">misdn_new()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d3/dac/chan__oss_8c_source.html#l00799">oss_new()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08161">sip_new()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05371">skinny_new()</a>, and <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05704">unistim_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;{</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   memcpy(&amp;<a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(chan)-&gt;conf, conf, <span class="keyword">sizeof</span>(*conf));</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div><div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08c2f5e811a2b3a4b5ed71bd493fc4e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c2f5e811a2b3a4b5ed71bd493fc4e5">&#9670;&nbsp;</a></span>ast_jb_create_framehook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_jb_create_framehook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *&#160;</td>
          <td class="paramname"><em>jb_conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prefer_existing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies a jitterbuffer framehook to a channel based on a provided jitterbuffer config. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Which channel the jitterbuffer is being set on </td></tr>
    <tr><td class="paramname"><a class="el" href="../../d2/d5e/structjb__conf.html">jb_conf</a></td><td>Configuration to use for the jitterbuffer </td></tr>
    <tr><td class="paramname">prefer_existing</td><td>If this is true and a jitterbuffer already exists for the channel, use the existing jitterbuffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01257">1257</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02399">ast_channel_datastore_remove()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02431">ast_channel_set_fd()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../da/dac/framehook_8c_source.html#l00132">ast_framehook_attach()</a>, <a class="el" href="../../da/dac/framehook_8c_source.html#l00177">ast_framehook_detach()</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00227">AST_FRAMEHOOK_INTERFACE_VERSION</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00205">AST_JITTERBUFFER_FD</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00255">ast_framehook_interface::data</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00909">hook_destroy_cb()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00953">hook_event_cb()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01507">id</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00078">ast_jb_conf::impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00867">jb_framedata_destroy()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01217">jb_framedata_init()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00854">jb_framedata::timer_fd</a>, and <a class="el" href="../../db/d3c/framehook_8h_source.html#l00231">ast_framehook_interface::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00585">ast_jb_enable_for_channel()</a>, and <a class="el" href="../../d8/d0e/func__jitterbuffer_8c_source.html#l00115">jb_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;{</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d3d/structjb__framedata.html">jb_framedata</a> *framedata;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d7b/structast__framehook__interface.html">ast_framehook_interface</a> interface = {</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      .<a class="code" href="../../d3/d7b/structast__framehook__interface.html#ab6d7b6f8c2ceaba7acda80aaf05f4899">version</a> = <a class="code" href="../../db/d3c/framehook_8h.html#ae3b6fa28df6c8608d05936efaf929f32">AST_FRAMEHOOK_INTERFACE_VERSION</a>,</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      .event_cb = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#adf002a925f65d0265a83de76e569e6c1">hook_event_cb</a>,</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      .destroy_cb = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#ab3ef00a8b70075f76e2c1ea8cd17d7f0">hook_destroy_cb</a>,</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   };</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   <span class="comment">/* If disabled, strip any existing jitterbuffer and don&#39;t replace it. */</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(jb_conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>, <span class="stringliteral">&quot;disabled&quot;</span>)) {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordtype">int</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <span class="keywordflow">if</span> ((datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a920085f4aad54e73de8a8391e5ffc28b">jb_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;         <span class="keywordtype">id</span> = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;         <a class="code" href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a>(chan, *<span class="keywordtype">id</span>);</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a>(chan, datastore);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;         <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;   }</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;   <span class="keywordflow">if</span> (!(framedata = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*framedata)))) {</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;   }</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d1d/abstract__jb_8c.html#ae50aa46229d1cfe5f2c8bdc3f5f6f55b">jb_framedata_init</a>(framedata, jb_conf)) {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3201602b2a4d390719285c70d872efb3">jb_framedata_destroy</a>(framedata);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;   interface.<a class="code" href="../../d3/d7b/structast__framehook__interface.html#a735984d41155bc1032e09bece8f8d66d">data</a> = framedata;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   i = <a class="code" href="../../db/d3c/framehook_8h.html#a3ca711dc98d26e881936c855f0ae3d77">ast_framehook_attach</a>(chan, &amp;interface);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;   <span class="keywordflow">if</span> (i &gt;= 0) {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="keywordtype">int</span> *<a class="code" href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <span class="keywordflow">if</span> ((datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a920085f4aad54e73de8a8391e5ffc28b">jb_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;         <span class="comment">/* There is already a jitterbuffer on the channel. */</span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;         <span class="keywordflow">if</span> (prefer_existing) {</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            <span class="comment">/* We prefer the existing jitterbuffer, so remove the new one and keep the old one. */</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            <a class="code" href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a>(chan, i);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;         }</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;         <span class="comment">/* We prefer the new jitterbuffer, so strip the old one. */</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;         <span class="keywordtype">id</span> = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;         <a class="code" href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a>(chan, *<span class="keywordtype">id</span>);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a>(chan, datastore);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;         <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      }</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a920085f4aad54e73de8a8391e5ffc28b">jb_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;         <a class="code" href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a>(chan, i);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      }</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">if</span> (!(<span class="keywordtype">id</span> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)))) {</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;         <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;         <a class="code" href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a>(chan, i);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      }</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      *<span class="keywordtype">id</span> = i; <span class="comment">/* Store off the id. The channel is still locked so it is safe to access this ptr. */</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a>;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore);</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#ad5ad19825a9563cf7d6fefb9bf4f5ffb">AST_JITTERBUFFER_FD</a>, framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a4d58aec63a06c1c3f10408dbbd39707c">timer_fd</a>);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3201602b2a4d390719285c70d872efb3">jb_framedata_destroy</a>(framedata);</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      framedata = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   }</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;}</div><div class="ttc" id="structast__framehook__interface_html_ab6d7b6f8c2ceaba7acda80aaf05f4899"><div class="ttname"><a href="../../d3/d7b/structast__framehook__interface.html#ab6d7b6f8c2ceaba7acda80aaf05f4899">ast_framehook_interface::version</a></div><div class="ttdeci">uint16_t version</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00231">framehook.h:231</a></div></div>
<div class="ttc" id="structast__framehook__interface_html"><div class="ttname"><a href="../../d3/d7b/structast__framehook__interface.html">ast_framehook_interface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00229">framehook.h:229</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a3201602b2a4d390719285c70d872efb3"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a3201602b2a4d390719285c70d872efb3">jb_framedata_destroy</a></div><div class="ttdeci">static void jb_framedata_destroy(struct jb_framedata *framedata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00867">abstract_jb.c:867</a></div></div>
<div class="ttc" id="structjb__framedata_html"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html">jb_framedata</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00847">abstract_jb.c:847</a></div></div>
<div class="ttc" id="framehook_8h_html_a6e116259cae8c1e5cca074d05f0a3475"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a></div><div class="ttdeci">int ast_framehook_detach(struct ast_channel *chan, int framehook_id)</div><div class="ttdoc">Detach an framehook from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dac/framehook_8c_source.html#l00177">framehook.c:177</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="framehook_8h_html_a3ca711dc98d26e881936c855f0ae3d77"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a3ca711dc98d26e881936c855f0ae3d77">ast_framehook_attach</a></div><div class="ttdeci">int ast_framehook_attach(struct ast_channel *chan, struct ast_framehook_interface *i)</div><div class="ttdoc">Attach an framehook onto a channel for frame interception. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dac/framehook_8c_source.html#l00132">framehook.c:132</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a920085f4aad54e73de8a8391e5ffc28b"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a920085f4aad54e73de8a8391e5ffc28b">jb_datastore</a></div><div class="ttdeci">static const struct ast_datastore_info jb_datastore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00904">abstract_jb.c:904</a></div></div>
<div class="ttc" id="structast__framehook__interface_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d3/d7b/structast__framehook__interface.html#a735984d41155bc1032e09bece8f8d66d">ast_framehook_interface::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00255">framehook.h:255</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a60072c5fdc7f8f7772e49783b48e37a6"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">ast_jb_conf::impl</a></div><div class="ttdeci">char impl[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdoc">Name of the jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00078">abstract_jb.h:78</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_adf002a925f65d0265a83de76e569e6c1"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#adf002a925f65d0265a83de76e569e6c1">hook_event_cb</a></div><div class="ttdeci">static struct ast_frame * hook_event_cb(struct ast_channel *chan, struct ast_frame *frame, enum ast_framehook_event event, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00953">abstract_jb.c:953</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_ab3ef00a8b70075f76e2c1ea8cd17d7f0"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#ab3ef00a8b70075f76e2c1ea8cd17d7f0">hook_destroy_cb</a></div><div class="ttdeci">static void hook_destroy_cb(void *framedata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00909">abstract_jb.c:909</a></div></div>
<div class="ttc" id="framehook_8h_html_ae3b6fa28df6c8608d05936efaf929f32"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#ae3b6fa28df6c8608d05936efaf929f32">AST_FRAMEHOOK_INTERFACE_VERSION</a></div><div class="ttdeci">#define AST_FRAMEHOOK_INTERFACE_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00227">framehook.h:227</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="channel_8h_html_aca37ca2f3d55a223d26617329ed48a3e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a></div><div class="ttdeci">void ast_channel_set_fd(struct ast_channel *chan, int which, int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02431">channel.c:2431</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_ad5ad19825a9563cf7d6fefb9bf4f5ffb"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ad5ad19825a9563cf7d6fefb9bf4f5ffb">AST_JITTERBUFFER_FD</a></div><div class="ttdeci">#define AST_JITTERBUFFER_FD</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00205">channel.h:205</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_ae50aa46229d1cfe5f2c8bdc3f5f6f55b"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#ae50aa46229d1cfe5f2c8bdc3f5f6f55b">jb_framedata_init</a></div><div class="ttdeci">static int jb_framedata_init(struct jb_framedata *framedata, struct ast_jb_conf *jb_conf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l01217">abstract_jb.c:1217</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="app__queue_8c_html_acd1f0e9b4730ec60f62cb0806cb06ef1"><div class="ttname"><a href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a></div><div class="ttdeci">enum queue_result id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/app__queue_8c_source.html#l01507">app_queue.c:1507</a></div></div>
<div class="ttc" id="structjb__framedata_html_a4d58aec63a06c1c3f10408dbbd39707c"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a4d58aec63a06c1c3f10408dbbd39707c">jb_framedata::timer_fd</a></div><div class="ttdeci">int timer_fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00854">abstract_jb.c:854</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
<div class="ttc" id="channel_8h_html_a1ff1c62b6d50823da93a920575c9c0c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a></div><div class="ttdeci">int ast_channel_datastore_remove(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Remove a datastore from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02399">channel.c:2399</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa94fd3c228854f8ac519da8218d5c032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa94fd3c228854f8ac519da8218d5c032">&#9670;&nbsp;</a></span>ast_jb_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_jb_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys jitterbuffer on a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>channel.</td></tr>
  </table>
  </dd>
</dl>
<p>Called from ast_channel_free() when a channel is destroyed. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00502">502</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00058">AST_JB_IMPL_OK</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00126">ast_jb_impl::destroy</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00145">ast_jb::impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00055">JB_CREATED</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00147">ast_jb::jbobj</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00153">ast_jb::last_format</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00155">ast_jb::logfile</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00123">ast_jb_impl::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00131">ast_jb_impl::remove</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l02192">ast_channel_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(chan);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a> *jbimpl = jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="keywordtype">void</span> *jbobj = jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">jbobj</a>;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <span class="keywordflow">if</span> (jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      fclose(jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a881412d6eb645e7b950da7a680f9af92">last_format</a>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>)) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="comment">/* Remove and free all frames still queued in jb */</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordflow">while</span> (jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a66c0c9ee34addeb93c5adca833649f9b">remove</a>(jbobj, &amp;f) == <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a2deddc2d4df26e6e0e3ebde6c98f6647">destroy</a>(jbobj);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">jbobj</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(jb, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;%s jitterbuffer destroyed on channel %s\n&quot;</span>, jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a5276c0a183c322592ca4435cf76f8fb2">name</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div><div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structast__jb_html_ae56168891923428b99ae96eaeb2a7bae"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">ast_jb::impl</a></div><div class="ttdeci">const struct ast_jb_impl * impl</div><div class="ttdoc">Jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00145">abstract_jb.h:145</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a2deddc2d4df26e6e0e3ebde6c98f6647"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a2deddc2d4df26e6e0e3ebde6c98f6647">ast_jb_impl::destroy</a></div><div class="ttdeci">jb_destroy_impl destroy</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00126">abstract_jb.h:126</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a66c0c9ee34addeb93c5adca833649f9b"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a66c0c9ee34addeb93c5adca833649f9b">ast_jb_impl::remove</a></div><div class="ttdeci">jb_remove_impl remove</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00131">abstract_jb.h:131</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00055">abstract_jb.c:55</a></div></div>
<div class="ttc" id="structast__jb_html_a51035317dc8789dd45eb2879177fea07"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">ast_jb::jbobj</a></div><div class="ttdeci">void * jbobj</div><div class="ttdoc">Jitterbuffer object, passed to the implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00147">abstract_jb.h:147</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00058">abstract_jb.h:58</a></div></div>
<div class="ttc" id="structast__jb_html"><div class="ttname"><a href="../../d8/dec/structast__jb.html">ast_jb</a></div><div class="ttdoc">General jitterbuffer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00140">abstract_jb.h:140</a></div></div>
<div class="ttc" id="structast__jb_html_ab25a3625a8efbaa3d81ef27bbb51c9c5"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">ast_jb::logfile</a></div><div class="ttdeci">FILE * logfile</div><div class="ttdoc">File for frame timestamp tracing. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00155">abstract_jb.h:155</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a5276c0a183c322592ca4435cf76f8fb2"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a5276c0a183c322592ca4435cf76f8fb2">ast_jb_impl::name</a></div><div class="ttdeci">char name[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00123">abstract_jb.h:123</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structast__jb_html_a881412d6eb645e7b950da7a680f9af92"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a881412d6eb645e7b950da7a680f9af92">ast_jb::last_format</a></div><div class="ttdeci">struct ast_format * last_format</div><div class="ttdoc">Voice format of the last frame in. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00153">abstract_jb.h:153</a></div></div>
<div class="ttc" id="structast__jb__impl_html"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a></div><div class="ttdoc">Jitterbuffer implementation struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00121">abstract_jb.h:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad013da092efd28ba7a6a21ee76297a80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad013da092efd28ba7a6a21ee76297a80">&#9670;&nbsp;</a></span>ast_jb_do_usecheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_jb_do_usecheck </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the need of a jb use in a generic bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c0</td><td>first bridged channel. </td></tr>
    <tr><td class="paramname">c1</td><td>second bridged channel.</td></tr>
  </table>
  </dd>
</dl>
<p>Called from ast_generic_bridge() when two channels are entering in a bridge. The function checks the need of a jitterbuffer, depending on both channel's configuration and technology properties. As a result, this function sets appropriate internal jb flags to the channels, determining further behaviour of the bridged jitterbuffers.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">zero</td><td>if there are no jitter buffers in use </td></tr>
    <tr><td class="paramname">non-zero</td><td>if there are </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00170">170</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l00966">AST_CHAN_TP_CREATESJITTER</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00961">AST_CHAN_TP_WANTSJITTER</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00045">AST_JB_ENABLED</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00046">AST_JB_FORCED</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00143">ast_jb::conf</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00148">jb_choose_impl()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00055">JB_CREATED</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00054">JB_TIMEBASE_INITIALIZED</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00053">JB_USE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00635">ast_channel_tech::properties</a>, and <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00149">ast_jb::timebase</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb0 = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(c0);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb1 = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(c1);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *conf0 = &amp;jb0-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a5e0765fcfec251b02238ec7159d3857a">conf</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *conf1 = &amp;jb1-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a5e0765fcfec251b02238ec7159d3857a">conf</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keywordtype">int</span> c0_wants_jitter = <a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(c0)-&gt;<a class="code" href="../../d4/d85/structast__channel__tech.html#a5f36febd4b26a025856e994a4e189a20">properties</a> &amp; <a class="code" href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbda54130226ec87f80c48ee98aa5cc9168c">AST_CHAN_TP_WANTSJITTER</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keywordtype">int</span> c0_creates_jitter = <a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(c0)-&gt;<a class="code" href="../../d4/d85/structast__channel__tech.html#a5f36febd4b26a025856e994a4e189a20">properties</a> &amp; <a class="code" href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbdafb2c9cea57f7fc8e0350ed6f60cbb892">AST_CHAN_TP_CREATESJITTER</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keywordtype">int</span> c0_jb_enabled = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(conf0, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keywordtype">int</span> c0_force_jb = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(conf0, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63">AST_JB_FORCED</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <span class="keywordtype">int</span> c0_jb_timebase_initialized = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a">JB_TIMEBASE_INITIALIZED</a>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <span class="keywordtype">int</span> c0_jb_created = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="keywordtype">int</span> c1_wants_jitter = <a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(c1)-&gt;<a class="code" href="../../d4/d85/structast__channel__tech.html#a5f36febd4b26a025856e994a4e189a20">properties</a> &amp; <a class="code" href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbda54130226ec87f80c48ee98aa5cc9168c">AST_CHAN_TP_WANTSJITTER</a>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keywordtype">int</span> c1_creates_jitter = <a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(c1)-&gt;<a class="code" href="../../d4/d85/structast__channel__tech.html#a5f36febd4b26a025856e994a4e189a20">properties</a> &amp; <a class="code" href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbdafb2c9cea57f7fc8e0350ed6f60cbb892">AST_CHAN_TP_CREATESJITTER</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keywordtype">int</span> c1_jb_enabled = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(conf1, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <span class="keywordtype">int</span> c1_force_jb = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(conf1, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63">AST_JB_FORCED</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <span class="keywordtype">int</span> c1_jb_timebase_initialized = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a">JB_TIMEBASE_INITIALIZED</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <span class="keywordtype">int</span> c1_jb_created = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <span class="keywordtype">int</span> inuse = 0;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="comment">/* Determine whether audio going to c0 needs a jitter buffer */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keywordflow">if</span> (((!c0_wants_jitter &amp;&amp; c1_creates_jitter) || (c0_force_jb &amp;&amp; c1_creates_jitter)) &amp;&amp; c0_jb_enabled) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">if</span> (!c0_jb_timebase_initialized) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;         <span class="keywordflow">if</span> (c1_jb_timebase_initialized) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            memcpy(&amp;jb0-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">timebase</a>, &amp;jb1-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">timebase</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> timeval));</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            gettimeofday(&amp;jb0-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">timebase</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;         }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a">JB_TIMEBASE_INITIALIZED</a>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">if</span> (!c0_jb_created) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;         <a class="code" href="../../d3/d1d/abstract__jb_8c.html#ab45f11b0a95110a51f848b2b873e1065">jb_choose_impl</a>(c0);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      inuse = 1;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <span class="comment">/* Determine whether audio going to c1 needs a jitter buffer */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keywordflow">if</span> (((!c1_wants_jitter &amp;&amp; c0_creates_jitter) || (c1_force_jb &amp;&amp; c0_creates_jitter)) &amp;&amp; c1_jb_enabled) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">if</span> (!c1_jb_timebase_initialized) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;         <span class="keywordflow">if</span> (c0_jb_timebase_initialized) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            memcpy(&amp;jb1-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">timebase</a>, &amp;jb0-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">timebase</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> timeval));</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            gettimeofday(&amp;jb1-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">timebase</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;         }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a">JB_TIMEBASE_INITIALIZED</a>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">if</span> (!c1_jb_created) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;         <a class="code" href="../../d3/d1d/abstract__jb_8c.html#ab45f11b0a95110a51f848b2b873e1065">jb_choose_impl</a>(c1);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      inuse = 1;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">return</span> inuse;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="ttc" id="channel_8h_html_aa62371d642974c67a0c0efa77d54fcbda54130226ec87f80c48ee98aa5cc9168c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbda54130226ec87f80c48ee98aa5cc9168c">AST_CHAN_TP_WANTSJITTER</a></div><div class="ttdoc">Channels have this property if they can accept input with jitter; i.e. most VoIP channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00961">channel.h:961</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00053">abstract_jb.c:53</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="structast__jb_html_a5e0765fcfec251b02238ec7159d3857a"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a5e0765fcfec251b02238ec7159d3857a">ast_jb::conf</a></div><div class="ttdeci">struct ast_jb_conf conf</div><div class="ttdoc">Jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00143">abstract_jb.h:143</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_ab45f11b0a95110a51f848b2b873e1065"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#ab45f11b0a95110a51f848b2b873e1065">jb_choose_impl</a></div><div class="ttdeci">static void jb_choose_impl(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00148">abstract_jb.c:148</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653afe2d9a1cb0e496b589437b7faed7f23a">JB_TIMEBASE_INITIALIZED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00054">abstract_jb.c:54</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00055">abstract_jb.c:55</a></div></div>
<div class="ttc" id="structast__channel__tech_html_a5f36febd4b26a025856e994a4e189a20"><div class="ttname"><a href="../../d4/d85/structast__channel__tech.html#a5f36febd4b26a025856e994a4e189a20">ast_channel_tech::properties</a></div><div class="ttdeci">int properties</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00635">channel.h:635</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00045">abstract_jb.h:45</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63">AST_JB_FORCED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00046">abstract_jb.h:46</a></div></div>
<div class="ttc" id="structast__jb_html"><div class="ttname"><a href="../../d8/dec/structast__jb.html">ast_jb</a></div><div class="ttdoc">General jitterbuffer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00140">abstract_jb.h:140</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="structast__jb_html_ab0653ad203e83c307faf381f663e4649"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">ast_jb::timebase</a></div><div class="ttdeci">struct timeval timebase</div><div class="ttdoc">The time the jitterbuffer was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00149">abstract_jb.h:149</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
<div class="ttc" id="structast__jb__conf_html"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a></div><div class="ttdoc">General jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00069">abstract_jb.h:69</a></div></div>
<div class="ttc" id="channel_8h_html_aa62371d642974c67a0c0efa77d54fcbdafb2c9cea57f7fc8e0350ed6f60cbb892"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbdafb2c9cea57f7fc8e0350ed6f60cbb892">AST_CHAN_TP_CREATESJITTER</a></div><div class="ttdoc">Channels have this property if they can create jitter; i.e. most VoIP channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00966">channel.h:966</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a252f5415d8e69c1d17597ccb16446a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a252f5415d8e69c1d17597ccb16446a30">&#9670;&nbsp;</a></span>ast_jb_empty_and_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_jb_empty_and_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>drops all frames from a jitterbuffer and resets it </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c0</td><td>one channel of a bridge </td></tr>
    <tr><td class="paramname">c1</td><td>the other channel of the bridge </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00604">604</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00133">ast_jb_impl::empty_and_reset</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00145">ast_jb::impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00055">JB_CREATED</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00053">JB_USE</a>, and <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00147">ast_jb::jbobj</a>.</p>
<div class="fragment"><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb0 = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(c0);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb1 = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(c1);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <span class="keywordtype">int</span> c0_use_jb = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <span class="keywordtype">int</span> c0_jb_is_created = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <span class="keywordtype">int</span> c1_use_jb = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keywordtype">int</span> c1_jb_is_created = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <span class="keywordflow">if</span> (c0_use_jb &amp;&amp; c0_jb_is_created &amp;&amp; jb0-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a86d5347bd385fb0681a2e2414bff18be">empty_and_reset</a>) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      jb0-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a86d5347bd385fb0681a2e2414bff18be">empty_and_reset</a>(jb0-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">jbobj</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   <span class="keywordflow">if</span> (c1_use_jb &amp;&amp; c1_jb_is_created &amp;&amp; jb1-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a86d5347bd385fb0681a2e2414bff18be">empty_and_reset</a>) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      jb1-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a86d5347bd385fb0681a2e2414bff18be">empty_and_reset</a>(jb1-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">jbobj</a>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;}</div><div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00053">abstract_jb.c:53</a></div></div>
<div class="ttc" id="structast__jb_html_ae56168891923428b99ae96eaeb2a7bae"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">ast_jb::impl</a></div><div class="ttdeci">const struct ast_jb_impl * impl</div><div class="ttdoc">Jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00145">abstract_jb.h:145</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00055">abstract_jb.c:55</a></div></div>
<div class="ttc" id="structast__jb_html_a51035317dc8789dd45eb2879177fea07"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">ast_jb::jbobj</a></div><div class="ttdeci">void * jbobj</div><div class="ttdoc">Jitterbuffer object, passed to the implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00147">abstract_jb.h:147</a></div></div>
<div class="ttc" id="structast__jb_html"><div class="ttname"><a href="../../d8/dec/structast__jb.html">ast_jb</a></div><div class="ttdoc">General jitterbuffer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00140">abstract_jb.h:140</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a86d5347bd385fb0681a2e2414bff18be"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a86d5347bd385fb0681a2e2414bff18be">ast_jb_impl::empty_and_reset</a></div><div class="ttdeci">jb_empty_and_reset_impl empty_and_reset</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00133">abstract_jb.h:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88cb2f0706e83150716bcd35cd503c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88cb2f0706e83150716bcd35cd503c3e">&#9670;&nbsp;</a></span>ast_jb_enable_for_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_jb_enable_for_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a jitterbuffer frame hook on the channel based on the channel's stored jitterbuffer configuration. </p>
<dl class="section since"><dt>Since</dt><dd>12.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Which channel is being set up </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00585">585</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01257">ast_jb_create_framehook()</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00045">AST_JB_ENABLED</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, and <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00143">ast_jb::conf</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel_internal_join()</a>.</p>
<div class="fragment"><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;{</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> <a class="code" href="../../d6/de8/structconf.html">conf</a> = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(chan)-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a5e0765fcfec251b02238ec7159d3857a">conf</a>;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;conf, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a>)) {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a08c2f5e811a2b3a4b5ed71bd493fc4e5">ast_jb_create_framehook</a>(chan, &amp;conf, 1);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div><div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structast__jb_html_a5e0765fcfec251b02238ec7159d3857a"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a5e0765fcfec251b02238ec7159d3857a">ast_jb::conf</a></div><div class="ttdeci">struct ast_jb_conf conf</div><div class="ttdoc">Jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00143">abstract_jb.h:143</a></div></div>
<div class="ttc" id="structconf_html"><div class="ttname"><a href="../../d6/de8/structconf.html">conf</a></div><div class="ttdoc">All configuration options for statsd client. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0c/res__statsd_8c_source.html#l00095">res_statsd.c:95</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00045">abstract_jb.h:45</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a08c2f5e811a2b3a4b5ed71bd493fc4e5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a08c2f5e811a2b3a4b5ed71bd493fc4e5">ast_jb_create_framehook</a></div><div class="ttdeci">void ast_jb_create_framehook(struct ast_channel *chan, struct ast_jb_conf *jb_conf, int prefer_existing)</div><div class="ttdoc">Applies a jitterbuffer framehook to a channel based on a provided jitterbuffer config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l01257">abstract_jb.c:1257</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="structast__jb__conf_html"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a></div><div class="ttdoc">General jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00069">abstract_jb.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a543ca527d26b42c6f50eccb2924ddebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a543ca527d26b42c6f50eccb2924ddebd">&#9670;&nbsp;</a></span>ast_jb_get_and_deliver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_jb_get_and_deliver </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deliver the queued frames that should be delivered now for both channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c0</td><td>first bridged channel. </td></tr>
    <tr><td class="paramname">c1</td><td>second bridged channel.</td></tr>
  </table>
  </dd>
</dl>
<p>Called from ast_generic_bridge() to deliver any frames, that should be delivered for the moment of invocation. Does nothing if neihter of the channels is using jb or has any frames currently queued in. The function delivers frames usig <a class="el" href="../../d5/d7b/channel_8h.html#a79c413d51b7135404d5cacf811649a61" title="Write a frame to a channel This function writes the given frame to the indicated channel. ">ast_write()</a> each of the channels. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00336">336</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00055">JB_CREATED</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00353">jb_get_and_deliver()</a>, and <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00053">JB_USE</a>.</p>
<div class="fragment"><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb0 = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(c0);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb1 = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(c1);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="keywordtype">int</span> c0_use_jb = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordtype">int</span> c0_jb_is_created = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <span class="keywordtype">int</span> c1_use_jb = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   <span class="keywordtype">int</span> c1_jb_is_created = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keywordflow">if</span> (c0_use_jb &amp;&amp; c0_jb_is_created)</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a5cb94ef2c28559777814eaa4a4b12e0f">jb_get_and_deliver</a>(c0);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <span class="keywordflow">if</span> (c1_use_jb &amp;&amp; c1_jb_is_created)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a5cb94ef2c28559777814eaa4a4b12e0f">jb_get_and_deliver</a>(c1);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div><div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00053">abstract_jb.c:53</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00055">abstract_jb.c:55</a></div></div>
<div class="ttc" id="structast__jb_html"><div class="ttname"><a href="../../d8/dec/structast__jb.html">ast_jb</a></div><div class="ttdoc">General jitterbuffer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00140">abstract_jb.h:140</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a5cb94ef2c28559777814eaa4a4b12e0f"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a5cb94ef2c28559777814eaa4a4b12e0f">jb_get_and_deliver</a></div><div class="ttdeci">static void jb_get_and_deliver(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00353">abstract_jb.c:353</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae38fc3d7573cd890716edca9bcb31766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae38fc3d7573cd890716edca9bcb31766">&#9670;&nbsp;</a></span>ast_jb_get_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_jb_get_config </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *&#160;</td>
          <td class="paramname"><em>conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies a channel's jitterbuffer configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>channel. </td></tr>
    <tr><td class="paramname">conf</td><td>destination. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00599">599</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;{</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   memcpy(conf, &amp;<a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>((<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *) chan)-&gt;conf, <span class="keyword">sizeof</span>(*conf));</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a768072c50b5af7cb3b1e538aa275d696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a768072c50b5af7cb3b1e538aa275d696">&#9670;&nbsp;</a></span>ast_jb_get_impl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a>* ast_jb_get_impl </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../dc/d14/abstract__jb_8h.html#a62f2b791bf691dbcc3a5b47baabd2ab2">ast_jb_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00820">820</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01217">jb_framedata_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;{</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a99bbef1aa597608e3b28e07e1be50ca5">avail_impl</a>); i++) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a99bbef1aa597608e3b28e07e1be50ca5">avail_impl</a>[i].<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> == <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;         <span class="keywordflow">return</span> &amp;<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a99bbef1aa597608e3b28e07e1be50ca5">avail_impl</a>[i];</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a99bbef1aa597608e3b28e07e1be50ca5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a99bbef1aa597608e3b28e07e1be50ca5">avail_impl</a></div><div class="ttdeci">static const struct ast_jb_impl avail_impl[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00087">abstract_jb.c:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3f6eb99c87c8fb1d79232762df48354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3f6eb99c87c8fb1d79232762df48354">&#9670;&nbsp;</a></span>ast_jb_get_when_to_wakeup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_jb_get_when_to_wakeup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>time_left</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the time, left to the closest delivery moment in a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c0</td><td>first bridged channel. </td></tr>
    <tr><td class="paramname">c1</td><td>second bridged channel. </td></tr>
    <tr><td class="paramname">time_left</td><td>bridge time limit, or -1 if not set.</td></tr>
  </table>
  </dd>
</dl>
<p>Called from ast_generic_bridge() to determine the maximum time to wait for activity in <a class="el" href="../../d5/d7b/channel_8h.html#aec8ce59b78afbd3651f3de011f13290a" title="Waits for input on a group of channels Wait for input on an array of channels for a given # of millis...">ast_waitfor_n()</a> call. If neihter of the channels is using jb, this function returns the time limit passed.</p>
<dl class="section return"><dt>Returns</dt><dd>maximum time to wait. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00231">231</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00532">get_now()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00055">JB_CREATED</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00053">JB_USE</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00151">ast_jb::next</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb0 = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(c0);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb1 = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(c1);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keywordtype">int</span> c0_use_jb = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <span class="keywordtype">int</span> c0_jb_is_created = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb0, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keywordtype">int</span> c1_use_jb = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordtype">int</span> c1_jb_is_created = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb1, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordtype">int</span> wait, wait0, wait1;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="keyword">struct </span>timeval tv_now;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <span class="keywordflow">if</span> (time_left == 0) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="comment">/* No time left - the bridge will be retried */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="comment">/* TODO: Test disable this */</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="comment">/*return 0;*/</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keywordflow">if</span> (time_left &lt; 0) {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      time_left = INT_MAX;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   gettimeofday(&amp;tv_now, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   wait0 = (c0_use_jb &amp;&amp; c0_jb_is_created) ? jb0-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a> - <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a>(jb0, &amp;tv_now) : time_left;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   wait1 = (c1_use_jb &amp;&amp; c1_jb_is_created) ? jb1-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a> - <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a>(jb1, &amp;tv_now) : time_left;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   wait = wait0 &lt; wait1 ? wait0 : wait1;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   wait = wait &lt; time_left ? wait : time_left;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">if</span> (wait == INT_MAX) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      wait = -1;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wait &lt; 1) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">/* don&#39;t let wait=0, because this can cause the pbx thread to loop without any sleeping at all */</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      wait = 1;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">return</span> wait;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00053">abstract_jb.c:53</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a1f09f2a933351d824c96a8f614261e5c"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a></div><div class="ttdeci">static long get_now(struct ast_jb *jb, struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00532">abstract_jb.c:532</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00055">abstract_jb.c:55</a></div></div>
<div class="ttc" id="structast__jb_html"><div class="ttname"><a href="../../d8/dec/structast__jb.html">ast_jb</a></div><div class="ttdoc">General jitterbuffer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00140">abstract_jb.h:140</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="structast__jb_html_a7c51e0a99ee5dbb8d94870937e62f4c0"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">ast_jb::next</a></div><div class="ttdeci">long next</div><div class="ttdoc">The time the next frame should be played. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00151">abstract_jb.h:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a971bdfddf7e452f516dd32991951d581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a971bdfddf7e452f516dd32991951d581">&#9670;&nbsp;</a></span>ast_jb_put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_jb_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts a frame into a channel jitterbuffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>channel. </td></tr>
    <tr><td class="paramname">f</td><td>frame.</td></tr>
  </table>
  </dd>
</dl>
<p>Called from ast_generic_bridge() to put a frame into a channel's jitterbuffer. The function will successfuly enqueue a frame if and only if:</p><ol type="1">
<li>the channel is using a jitterbuffer (as determined by <a class="el" href="../../dc/d14/abstract__jb_8h.html#ad013da092efd28ba7a6a21ee76297a80" title="Checks the need of a jb use in a generic bridge. ">ast_jb_do_usecheck()</a>),</li>
<li>the frame's type is AST_FRAME_VOICE,</li>
<li>the frame has timing info set and has length &gt;= 2 ms,</li>
<li>there is no some internal error happened (like failed memory allocation). Frames, successfuly queued, should be delivered by the channel's jitterbuffer, when their delivery time has came. Frames, not successfuly queued, should be delivered immediately. Dropped by the jb implementation frames are considered successfuly enqueued as far as they should not be delivered at all.</li>
</ol>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the frame was queued </td></tr>
    <tr><td class="paramname">-1</td><td>if not </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00271">271</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">AST_FRAME_DTMF</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00585">ast_frdup</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00143">AST_FRFLAG_HAS_TIMING_INFO</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00058">AST_JB_IMPL_OK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00413">create_jb()</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00132">ast_jb_impl::force_resync</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00532">get_now()</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00145">ast_jb::impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00055">JB_CREATED</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00130">jb_framelog</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00053">JB_USE</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00147">ast_jb::jbobj</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">ast_frame::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00130">ast_jb_impl::next</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00151">ast_jb::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00128">ast_jb_impl::put</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">ast_frame::src</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">ast_frame::ts</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(chan);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a> *jbimpl = jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <span class="keywordtype">void</span> *jbobj = jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">jbobj</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *frr;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="keywordtype">long</span> now = 0;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>))</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a> &amp;&amp; <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>)) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;         <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(<span class="stringliteral">&quot;JB_PUT {now=%ld}: Received DTMF frame. Force resynching jb...\n&quot;</span>, now);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;         jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#aeeb89aa0366801501aa518694cad193a">force_resync</a>(jbobj);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="comment">/* We consider an enabled jitterbuffer should receive frames with valid timing info. */</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(f, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ac6bea760bc75e449a80b8cc28bf9a2feae8f674e19f6450e2b746c8a52c11649a">AST_FRFLAG_HAS_TIMING_INFO</a>) || f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a> &lt; 2 || f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a> &lt; 0) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s received frame with invalid timing info: &quot;</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         <span class="stringliteral">&quot;has_timing_info=%u, len=%ld, ts=%ld, src=%s\n&quot;</span>,</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(f, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ac6bea760bc75e449a80b8cc28bf9a2feae8f674e19f6450e2b746c8a52c11649a">AST_FRFLAG_HAS_TIMING_INFO</a>), f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">src</a>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   frr = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a417ee8a61074ec7570971202908e2c4f">ast_frdup</a>(f);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <span class="keywordflow">if</span> (!frr) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to isolate frame for the jitterbuffer on channel &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jb, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>)) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a1af5788183300b288581f5606bcadcb1">create_jb</a>(chan, frr)) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(frr);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;         <span class="comment">/* Disable the jitterbuffer */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(jb, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(jb, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      now = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a>(jb, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="keywordflow">if</span> (jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#aee1fbf86e67d9bacc09a0dd8d77171bd">put</a>(jbobj, frr, now) != <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;         <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(<span class="stringliteral">&quot;JB_PUT {now=%ld}: Dropped frame with ts=%ld and len=%ld\n&quot;</span>, now, frr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>, frr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(frr);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;         <span class="comment">/*return -1;*/</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;         <span class="comment">/* TODO: Check this fix - should return 0 here, because the dropped frame shouldn&#39;t</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">            be delivered at all */</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a> = jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">next</a>(jbobj);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(<span class="stringliteral">&quot;JB_PUT {now=%ld}: Queued frame with ts=%ld and len=%ld\n&quot;</span>, now, frr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>, frr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_a417ee8a61074ec7570971202908e2c4f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a417ee8a61074ec7570971202908e2c4f">ast_frdup</a></div><div class="ttdeci">#define ast_frdup(fr)</div><div class="ttdoc">Copies a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00585">include/asterisk/frame.h:585</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a9343b518a13ed73bb3f42c41792d7dee"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">ast_jb_impl::next</a></div><div class="ttdeci">jb_next_impl next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00130">abstract_jb.h:130</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a8ee448ef258f740aeb4e0ea89436af6d">JB_USE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00053">abstract_jb.c:53</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ac6bea760bc75e449a80b8cc28bf9a2feae8f674e19f6450e2b746c8a52c11649a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ac6bea760bc75e449a80b8cc28bf9a2feae8f674e19f6450e2b746c8a52c11649a">AST_FRFLAG_HAS_TIMING_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00143">include/asterisk/frame.h:143</a></div></div>
<div class="ttc" id="structast__jb_html_ae56168891923428b99ae96eaeb2a7bae"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">ast_jb::impl</a></div><div class="ttdeci">const struct ast_jb_impl * impl</div><div class="ttdoc">Jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00145">abstract_jb.h:145</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a1af5788183300b288581f5606bcadcb1"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a1af5788183300b288581f5606bcadcb1">create_jb</a></div><div class="ttdeci">static int create_jb(struct ast_channel *chan, struct ast_frame *first_frame)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00413">abstract_jb.c:413</a></div></div>
<div class="ttc" id="structast__frame_html_a1eb46dcb363821328c0d2a758549216b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ast_frame::ts</a></div><div class="ttdeci">long ts</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">include/asterisk/frame.h:191</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a1f09f2a933351d824c96a8f614261e5c"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a></div><div class="ttdeci">static long get_now(struct ast_jb *jb, struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00532">abstract_jb.c:532</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a248afd6c02044259a386f6b7aee922a2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a></div><div class="ttdeci">#define AST_FRAME_DTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">include/asterisk/frame.h:139</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a25587b898af76bc590a5d2905a160786"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a></div><div class="ttdeci">#define jb_framelog(...)</div><div class="ttdoc">Macros for the frame log files. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00130">abstract_jb.c:130</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__jb__impl_html_aee1fbf86e67d9bacc09a0dd8d77171bd"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#aee1fbf86e67d9bacc09a0dd8d77171bd">ast_jb_impl::put</a></div><div class="ttdeci">jb_put_impl put</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00128">abstract_jb.h:128</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a727cc1d940fa1a6396c79b0f86a72653a44ed8c27e26a66b03cedb8d77a424af5">JB_CREATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00055">abstract_jb.c:55</a></div></div>
<div class="ttc" id="structast__frame_html_af51e37c9331049b1e3d250a7c8bc3c26"><div class="ttname"><a href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">ast_frame::src</a></div><div class="ttdeci">const char * src</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">include/asterisk/frame.h:181</a></div></div>
<div class="ttc" id="structast__jb__impl_html_aeeb89aa0366801501aa518694cad193a"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#aeeb89aa0366801501aa518694cad193a">ast_jb_impl::force_resync</a></div><div class="ttdeci">jb_force_resynch_impl force_resync</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00132">abstract_jb.h:132</a></div></div>
<div class="ttc" id="structast__jb_html_a51035317dc8789dd45eb2879177fea07"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">ast_jb::jbobj</a></div><div class="ttdeci">void * jbobj</div><div class="ttdoc">Jitterbuffer object, passed to the implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00147">abstract_jb.h:147</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00058">abstract_jb.h:58</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__jb_html"><div class="ttname"><a href="../../d8/dec/structast__jb.html">ast_jb</a></div><div class="ttdoc">General jitterbuffer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00140">abstract_jb.h:140</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structast__jb__impl_html"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a></div><div class="ttdoc">Jitterbuffer implementation struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00121">abstract_jb.h:121</a></div></div>
<div class="ttc" id="structast__frame_html_aaccba9d5adc3f6c39aad767db95ba484"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">ast_frame::len</a></div><div class="ttdeci">long len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">include/asterisk/frame.h:193</a></div></div>
<div class="ttc" id="structast__jb_html_a7c51e0a99ee5dbb8d94870937e62f4c0"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">ast_jb::next</a></div><div class="ttdeci">long next</div><div class="ttdoc">The time the next frame should be played. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00151">abstract_jb.h:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae50ad081bd2ae6b58bcfc4687916c586"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae50ad081bd2ae6b58bcfc4687916c586">&#9670;&nbsp;</a></span>ast_jb_read_conf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_jb_read_conf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>varname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets jitterbuffer configuration property. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>configuration to store the property in. </td></tr>
    <tr><td class="paramname">varname</td><td>property name. </td></tr>
    <tr><td class="paramname">value</td><td>property value.</td></tr>
  </table>
  </dd>
</dl>
<p>Called from a channel driver to build a jitterbuffer configuration typically when reading a configuration file. It is not necessary for a channel driver to know each of the jb configuration property names. The jitterbuffer itself knows them. The channel driver can pass each config var it reads through this function. It will return 0 if the variable was consumed from the jb conf.</p>
<dl class="section return"><dt>Returns</dt><dd>zero if the property was set to the configuration, -1 if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00545">545</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00086">AST_JB_CONF_ENABLE</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00087">AST_JB_CONF_FORCE</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00091">AST_JB_CONF_IMPL</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00092">AST_JB_CONF_LOG</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00088">AST_JB_CONF_MAX_SIZE</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00085">AST_JB_CONF_PREFIX</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00089">AST_JB_CONF_RESYNCH_THRESHOLD</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00093">AST_JB_CONF_SYNC_VIDEO</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00090">AST_JB_CONF_TARGET_EXTRA</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00045">AST_JB_ENABLED</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00046">AST_JB_FORCED</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00047">AST_JB_LOG</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00048">AST_JB_SYNC_VIDEO</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00094">ast_set2_flag</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00078">ast_jb_conf::impl</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00074">ast_jb_conf::max_size</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00076">ast_jb_conf::resync_threshold</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00080">ast_jb_conf::target_extra</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l01032">_build_general_config()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07770">config_parse_variables()</a>, <a class="el" href="../../d8/d0e/func__jitterbuffer_8c_source.html#l00115">jb_helper()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00961">load_module()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17900">process_dahdi()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04683">reload_config()</a>, and <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01322">store_config_core()</a>.</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordtype">int</span> prefixlen = <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d14/abstract__jb_8h.html#aff7a5dfaf7cb79efb8e9ddc564212d1c">AST_JB_CONF_PREFIX</a>) - 1;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordflow">if</span> (strncasecmp(<a class="code" href="../../dc/d14/abstract__jb_8h.html#aff7a5dfaf7cb79efb8e9ddc564212d1c">AST_JB_CONF_PREFIX</a>, varname, prefixlen)) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   name = varname + prefixlen;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(name, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a168e0e7cbd179c4aceefd8bb42c3a408">AST_JB_CONF_ENABLE</a>)) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a67b6713ff86cf82aaed821e9a87d1c21">ast_set2_flag</a>(conf, <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>), <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(name, <a class="code" href="../../dc/d14/abstract__jb_8h.html#ad9f3ff3a64a627dd8ec08e92e32081c3">AST_JB_CONF_FORCE</a>)) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a67b6713ff86cf82aaed821e9a87d1c21">ast_set2_flag</a>(conf, <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>), <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63">AST_JB_FORCED</a>);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(name, <a class="code" href="../../dc/d14/abstract__jb_8h.html#adf4913cb009ccd8f95dc5cc6422872b9">AST_JB_CONF_MAX_SIZE</a>)) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">if</span> ((tmp = atoi(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)) &gt; 0)</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;         conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">max_size</a> = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(name, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a1c488fb41b043a2e392f6ecd6e78f3ed">AST_JB_CONF_RESYNCH_THRESHOLD</a>)) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keywordflow">if</span> ((tmp = atoi(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)) &gt; 0)</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;         conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">resync_threshold</a> = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(name, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a3025d70ca72b1abc6983d3f18c50b899">AST_JB_CONF_IMPL</a>)) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>))</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;         snprintf(conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>, <span class="keyword">sizeof</span>(conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>), <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(name, <a class="code" href="../../dc/d14/abstract__jb_8h.html#aec196522d0bff37d617dab5fcb403a46">AST_JB_CONF_TARGET_EXTRA</a>)) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;tmp) == 1) {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;         conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a322d898485ffd6c3c07391f381903bdd">target_extra</a> = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(name, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a30af15dd4b567ed1950e7b3a78d9a89f">AST_JB_CONF_LOG</a>)) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a67b6713ff86cf82aaed821e9a87d1c21">ast_set2_flag</a>(conf, <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>), <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ae6ca3d7ddaa509b36e1fb4c36c18478e">AST_JB_LOG</a>);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(name, <a class="code" href="../../dc/d14/abstract__jb_8h.html#ad7b2a0ffb06e5c3f1d03f2701eb72d07">AST_JB_CONF_SYNC_VIDEO</a>)) {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a67b6713ff86cf82aaed821e9a87d1c21">ast_set2_flag</a>(conf, <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>), <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3a8a9b49d9d7579d9882f9a0693ee8fb62">AST_JB_SYNC_VIDEO</a>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div><div class="ttc" id="abstract__jb_8h_html_a3025d70ca72b1abc6983d3f18c50b899"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a3025d70ca72b1abc6983d3f18c50b899">AST_JB_CONF_IMPL</a></div><div class="ttdeci">#define AST_JB_CONF_IMPL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00091">abstract_jb.h:91</a></div></div>
<div class="ttc" id="utils_8h_html_a67b6713ff86cf82aaed821e9a87d1c21"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a67b6713ff86cf82aaed821e9a87d1c21">ast_set2_flag</a></div><div class="ttdeci">#define ast_set2_flag(p, value, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00094">utils.h:94</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a168e0e7cbd179c4aceefd8bb42c3a408"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a168e0e7cbd179c4aceefd8bb42c3a408">AST_JB_CONF_ENABLE</a></div><div class="ttdeci">#define AST_JB_CONF_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00086">abstract_jb.h:86</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a30af15dd4b567ed1950e7b3a78d9a89f"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a30af15dd4b567ed1950e7b3a78d9a89f">AST_JB_CONF_LOG</a></div><div class="ttdeci">#define AST_JB_CONF_LOG</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00092">abstract_jb.h:92</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3a8a9b49d9d7579d9882f9a0693ee8fb62"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3a8a9b49d9d7579d9882f9a0693ee8fb62">AST_JB_SYNC_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00048">abstract_jb.h:48</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__jb__conf_html_ab5d708c3e3489b6fd1f92b19939c18e8"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">ast_jb_conf::resync_threshold</a></div><div class="ttdeci">long resync_threshold</div><div class="ttdoc">Resynchronization threshold of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00076">abstract_jb.h:76</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_aff7a5dfaf7cb79efb8e9ddc564212d1c"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#aff7a5dfaf7cb79efb8e9ddc564212d1c">AST_JB_CONF_PREFIX</a></div><div class="ttdeci">#define AST_JB_CONF_PREFIX</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00085">abstract_jb.h:85</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a322d898485ffd6c3c07391f381903bdd"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a322d898485ffd6c3c07391f381903bdd">ast_jb_conf::target_extra</a></div><div class="ttdeci">long target_extra</div><div class="ttdoc">amount of additional jitterbuffer adjustment </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00080">abstract_jb.h:80</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3af49c3e265d3ff27e62d8c38779d89dd9">AST_JB_ENABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00045">abstract_jb.h:45</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_aec196522d0bff37d617dab5fcb403a46"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#aec196522d0bff37d617dab5fcb403a46">AST_JB_CONF_TARGET_EXTRA</a></div><div class="ttdeci">#define AST_JB_CONF_TARGET_EXTRA</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00090">abstract_jb.h:90</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a60072c5fdc7f8f7772e49783b48e37a6"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">ast_jb_conf::impl</a></div><div class="ttdeci">char impl[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdoc">Name of the jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00078">abstract_jb.h:78</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ac9bdd81232f2ef32fad9ebd0b92b9f63">AST_JB_FORCED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00046">abstract_jb.h:46</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3ae6ca3d7ddaa509b36e1fb4c36c18478e"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ae6ca3d7ddaa509b36e1fb4c36c18478e">AST_JB_LOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00047">abstract_jb.h:47</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_ad9f3ff3a64a627dd8ec08e92e32081c3"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#ad9f3ff3a64a627dd8ec08e92e32081c3">AST_JB_CONF_FORCE</a></div><div class="ttdeci">#define AST_JB_CONF_FORCE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00087">abstract_jb.h:87</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_adf4913cb009ccd8f95dc5cc6422872b9"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#adf4913cb009ccd8f95dc5cc6422872b9">AST_JB_CONF_MAX_SIZE</a></div><div class="ttdeci">#define AST_JB_CONF_MAX_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00088">abstract_jb.h:88</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_ad7b2a0ffb06e5c3f1d03f2701eb72d07"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#ad7b2a0ffb06e5c3f1d03f2701eb72d07">AST_JB_CONF_SYNC_VIDEO</a></div><div class="ttdeci">#define AST_JB_CONF_SYNC_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00093">abstract_jb.h:93</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a1c488fb41b043a2e392f6ecd6e78f3ed"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a1c488fb41b043a2e392f6ecd6e78f3ed">AST_JB_CONF_RESYNCH_THRESHOLD</a></div><div class="ttdeci">#define AST_JB_CONF_RESYNCH_THRESHOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00089">abstract_jb.h:89</a></div></div>
<div class="ttc" id="structast__jb__conf_html_aaba39ba18eb00647786272b9061659e3"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">ast_jb_conf::max_size</a></div><div class="ttdeci">long max_size</div><div class="ttdoc">Max size of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00074">abstract_jb.h:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1af5788183300b288581f5606bcadcb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1af5788183300b288581f5606bcadcb1">&#9670;&nbsp;</a></span>create_jb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int create_jb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>first_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00413">413</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10765">ast_channel_bridge_peer()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02992">ast_channel_cleanup</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00064">AST_JB_IMPL_NAME_SIZE</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00047">AST_JB_LOG</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00143">ast_jb::conf</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00125">ast_jb_impl::create</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">ast_frame_subclass::format</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00532">get_now()</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00145">ast_jb::impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00130">jb_framelog</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00147">ast_jb::jbobj</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00153">ast_jb::last_format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">ast_frame::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00155">ast_jb::logfile</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00123">ast_jb_impl::name</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00130">ast_jb_impl::next</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00151">ast_jb::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00127">ast_jb_impl::put_first</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">ast_frame::ts</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00271">ast_jb_put()</a>.</p>
<div class="fragment"><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;{</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(chan);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *jbconf = &amp;jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a5e0765fcfec251b02238ec7159d3857a">conf</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a> *jbimpl = jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <span class="keywordtype">void</span> *jbobj;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keywordtype">long</span> now;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <span class="keywordtype">char</span> logfile_pathname[20 + <a class="code" href="../../dc/d14/abstract__jb_8h.html#aed29eaebafbb4e5179d3a40d4d890e2e">AST_JB_IMPL_NAME_SIZE</a> + 2*<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a> + 1];</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keywordtype">char</span> name1[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>], name2[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>], *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   jbobj = jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">jbobj</a> = jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#aa09fad8ce9439495f357baf080e4e938">create</a>(jbconf);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <span class="keywordflow">if</span> (!jbobj) {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to create jitterbuffer on channel &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   now = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a>(jb, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   res = jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a24838139378ea2320490859c89cbc3f9">put_first</a>(jbobj, frr, now);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="comment">/* The result of putting the first frame should not differ from OK. However, its possible</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">      some implementations (i.e. adaptive&#39;s when resynch_threshold is specified) to drop it. */</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <span class="keywordflow">if</span> (res != <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to put first frame in the jitterbuffer on channel &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">      jbimpl-&gt;destroy(jbobj);</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">      return -1;</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="comment">/* Init next */</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a> = jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">next</a>(jbobj);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   <span class="comment">/* Init last format for a first time. */</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a881412d6eb645e7b950da7a680f9af92">last_format</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(frr-&gt;subclass.format);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="comment">/* Create a frame log file */</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(jbconf, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ae6ca3d7ddaa509b36e1fb4c36c18478e">AST_JB_LOG</a>)) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *bridged = <a class="code" href="../../d5/d7b/channel_8h.html#af9e27ecd92ff5aa897c9e058dfbd6510">ast_channel_bridge_peer</a>(chan);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordtype">char</span> safe_logfile[30] = <span class="stringliteral">&quot;/tmp/logfile-XXXXXX&quot;</span>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="keywordtype">int</span> safe_fd;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      snprintf(name2, <span class="keyword">sizeof</span>(name2), <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">while</span> ((tmp = strchr(name2, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;         *tmp = <span class="charliteral">&#39;#&#39;</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="comment">/* We should always have bridged chan if a jitterbuffer is in use */</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(bridged != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      snprintf(name1, <span class="keyword">sizeof</span>(name1), <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridged));</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">while</span> ((tmp = strchr(name1, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;         *tmp = <span class="charliteral">&#39;#&#39;</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      snprintf(logfile_pathname, <span class="keyword">sizeof</span>(logfile_pathname),</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;         <span class="stringliteral">&quot;/tmp/ast_%s_jb_%s--%s.log&quot;</span>, jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a5276c0a183c322592ca4435cf76f8fb2">name</a>, name1, name2);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      unlink(logfile_pathname);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      safe_fd = mkstemp(safe_logfile);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="keywordflow">if</span> (safe_fd &lt; 0 || link(safe_logfile, logfile_pathname) || unlink(safe_logfile) || !(jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a> = fdopen(safe_fd, <span class="stringliteral">&quot;w+b&quot;</span>))) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create frame log file with pathname &#39;%s&#39;: %s\n&quot;</span>, logfile_pathname, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;         jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;         <span class="keywordflow">if</span> (safe_fd &gt; -1) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            close(safe_fd);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="keywordflow">if</span> (res == <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;         <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(<span class="stringliteral">&quot;JB_PUT_FIRST {now=%ld}: Queued frame with ts=%ld and len=%ld\n&quot;</span>,</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            now, frr-&gt;ts, frr-&gt;len);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;         <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(<span class="stringliteral">&quot;JB_PUT_FIRST {now=%ld}: Dropped frame with ts=%ld and len=%ld\n&quot;</span>,</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            now, frr-&gt;ts, frr-&gt;len);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(bridged);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;%s jitterbuffer created on channel %s\n&quot;</span>, jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a5276c0a183c322592ca4435cf76f8fb2">name</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <span class="comment">/* Free the frame if it has not been queued in the jb */</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   <span class="keywordflow">if</span> (res != <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(frr);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a9343b518a13ed73bb3f42c41792d7dee"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">ast_jb_impl::next</a></div><div class="ttdeci">jb_next_impl next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00130">abstract_jb.h:130</a></div></div>
<div class="ttc" id="structast__jb__impl_html_aa09fad8ce9439495f357baf080e4e938"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#aa09fad8ce9439495f357baf080e4e938">ast_jb_impl::create</a></div><div class="ttdeci">jb_create_impl create</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00125">abstract_jb.h:125</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structast__jb_html_ae56168891923428b99ae96eaeb2a7bae"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">ast_jb::impl</a></div><div class="ttdeci">const struct ast_jb_impl * impl</div><div class="ttdoc">Jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00145">abstract_jb.h:145</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a1f09f2a933351d824c96a8f614261e5c"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a></div><div class="ttdeci">static long get_now(struct ast_jb *jb, struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00532">abstract_jb.c:532</a></div></div>
<div class="ttc" id="structast__jb_html_a5e0765fcfec251b02238ec7159d3857a"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a5e0765fcfec251b02238ec7159d3857a">ast_jb::conf</a></div><div class="ttdeci">struct ast_jb_conf conf</div><div class="ttdoc">Jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00143">abstract_jb.h:143</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_aed29eaebafbb4e5179d3a40d4d890e2e"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#aed29eaebafbb4e5179d3a40d4d890e2e">AST_JB_IMPL_NAME_SIZE</a></div><div class="ttdeci">#define AST_JB_IMPL_NAME_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00064">abstract_jb.h:64</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a25587b898af76bc590a5d2905a160786"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a></div><div class="ttdeci">#define jb_framelog(...)</div><div class="ttdoc">Macros for the frame log files. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00130">abstract_jb.c:130</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_ae93ebb3372a2d9495ae3c5417dd95cd5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a></div><div class="ttdeci">#define ast_channel_cleanup(c)</div><div class="ttdoc">Cleanup a channel reference. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02992">channel.h:2992</a></div></div>
<div class="ttc" id="structast__jb_html_a51035317dc8789dd45eb2879177fea07"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">ast_jb::jbobj</a></div><div class="ttdeci">void * jbobj</div><div class="ttdoc">Jitterbuffer object, passed to the implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00147">abstract_jb.h:147</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00058">abstract_jb.h:58</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3ae6ca3d7ddaa509b36e1fb4c36c18478e"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3ae6ca3d7ddaa509b36e1fb4c36c18478e">AST_JB_LOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00047">abstract_jb.h:47</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a24838139378ea2320490859c89cbc3f9"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a24838139378ea2320490859c89cbc3f9">ast_jb_impl::put_first</a></div><div class="ttdeci">jb_put_first_impl put_first</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00127">abstract_jb.h:127</a></div></div>
<div class="ttc" id="structast__jb_html"><div class="ttname"><a href="../../d8/dec/structast__jb.html">ast_jb</a></div><div class="ttdoc">General jitterbuffer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00140">abstract_jb.h:140</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="structast__jb_html_ab25a3625a8efbaa3d81ef27bbb51c9c5"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">ast_jb::logfile</a></div><div class="ttdeci">FILE * logfile</div><div class="ttdoc">File for frame timestamp tracing. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00155">abstract_jb.h:155</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a5276c0a183c322592ca4435cf76f8fb2"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a5276c0a183c322592ca4435cf76f8fb2">ast_jb_impl::name</a></div><div class="ttdeci">char name[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00123">abstract_jb.h:123</a></div></div>
<div class="ttc" id="channel_8h_html_af9e27ecd92ff5aa897c9e058dfbd6510"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af9e27ecd92ff5aa897c9e058dfbd6510">ast_channel_bridge_peer</a></div><div class="ttdeci">struct ast_channel * ast_channel_bridge_peer(struct ast_channel *chan)</div><div class="ttdoc">Get the channel&amp;#39;s bridge peer only if the bridge is two-party. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10765">channel.c:10765</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__jb_html_a881412d6eb645e7b950da7a680f9af92"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a881412d6eb645e7b950da7a680f9af92">ast_jb::last_format</a></div><div class="ttdeci">struct ast_format * last_format</div><div class="ttdoc">Voice format of the last frame in. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00153">abstract_jb.h:153</a></div></div>
<div class="ttc" id="structast__jb__impl_html"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a></div><div class="ttdoc">Jitterbuffer implementation struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00121">abstract_jb.h:121</a></div></div>
<div class="ttc" id="structast__jb__conf_html"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a></div><div class="ttdoc">General jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00069">abstract_jb.h:69</a></div></div>
<div class="ttc" id="structast__jb_html_a7c51e0a99ee5dbb8d94870937e62f4c0"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">ast_jb::next</a></div><div class="ttdeci">long next</div><div class="ttdoc">The time the next frame should be played. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00151">abstract_jb.h:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab93c8ef66a0c01c732a3aef7746eeed2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab93c8ef66a0c01c732a3aef7746eeed2">&#9670;&nbsp;</a></span>datastore_destroy_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void datastore_destroy_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00899">899</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, and <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>.</p>
<div class="fragment"><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                                             {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(<a class="code" href="../../df/d3c/structast__channel.html#a8f64897c7ccc5c13f276d1d07c4e7095">data</a>);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;JITTERBUFFER datastore destroyed\n&quot;</span>);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div><div class="ttc" id="structast__channel_html_a8f64897c7ccc5c13f276d1d07c4e7095"><div class="ttname"><a href="../../df/d3c/structast__channel.html#a8f64897c7ccc5c13f276d1d07c4e7095">ast_channel::data</a></div><div class="ttdeci">const char * data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00083">channel_internal_api.c:83</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f09f2a933351d824c96a8f614261e5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f09f2a933351d824c96a8f614261e5c">&#9670;&nbsp;</a></span>get_now()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long get_now </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/dec/structast__jb.html">ast_jb</a> *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00532">532</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/df7/time_8h_source.html#l00098">ast_tvdiff_ms()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00149">ast_jb::timebase</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00231">ast_jb_get_when_to_wakeup()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00271">ast_jb_put()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00413">create_jb()</a>, and <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00353">jb_get_and_deliver()</a>.</p>
<div class="fragment"><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;{</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <span class="keyword">struct </span>timeval now;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <span class="keywordflow">if</span> (!when) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      when = &amp;now;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      gettimeofday(when, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(*when, jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">timebase</a>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div><div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__jb_html_ab0653ad203e83c307faf381f663e4649"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">ast_jb::timebase</a></div><div class="ttdeci">struct timeval timebase</div><div class="ttdoc">The time the jitterbuffer was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00149">abstract_jb.h:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3ef00a8b70075f76e2c1ea8cd17d7f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ef00a8b70075f76e2c1ea8cd17d7f0">&#9670;&nbsp;</a></span>hook_destroy_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void hook_destroy_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>framedata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00909">909</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, and <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00867">jb_framedata_destroy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01257">ast_jb_create_framehook()</a>.</p>
<div class="fragment"><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;{</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;JITTERBUFFER hook destroyed\n&quot;</span>);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3201602b2a4d390719285c70d872efb3">jb_framedata_destroy</a>((<span class="keyword">struct</span> <a class="code" href="../../d8/d3d/structjb__framedata.html">jb_framedata</a> *) framedata);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="ttc" id="abstract__jb_8c_html_a3201602b2a4d390719285c70d872efb3"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a3201602b2a4d390719285c70d872efb3">jb_framedata_destroy</a></div><div class="ttdeci">static void jb_framedata_destroy(struct jb_framedata *framedata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00867">abstract_jb.c:867</a></div></div>
<div class="ttc" id="structjb__framedata_html"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html">jb_framedata</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00847">abstract_jb.c:847</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf002a925f65d0265a83de76e569e6c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf002a925f65d0265a83de76e569e6c1">&#9670;&nbsp;</a></span>hook_event_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a>* hook_event_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614">ast_framehook_event</a>&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00953">953</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00517">ao2_replace</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00419">ast_channel_fdno()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">AST_CONTROL_HOLD</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00303">AST_CONTROL_SRCCHANGE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00297">AST_CONTROL_SRCUPDATE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00301">AST_CONTROL_T38_PARAMETERS</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">AST_CONTROL_UNHOLD</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00379">ast_format_get_sample_rate()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00107">AST_FRAME_NULL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00135">AST_FRAME_RTCP</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00103">AST_FRAME_VIDEO</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00154">AST_FRAMEHOOK_EVENT_ATTACHED</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00155">AST_FRAMEHOOK_EVENT_DETACHED</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00152">AST_FRAMEHOOK_EVENT_READ</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00153">AST_FRAMEHOOK_EVENT_WRITE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00585">ast_frdup</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00143">AST_FRFLAG_HAS_TIMING_INFO</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00145">AST_FRFLAG_REQUEUED</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00229">AST_FRIENDLY_OFFSET</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00577">ast_frisolate</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00059">AST_JB_IMPL_DROP</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00060">AST_JB_IMPL_INTERP</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00061">AST_JB_IMPL_NOFRAME</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00058">AST_JB_IMPL_OK</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00048">AST_JB_SYNC_VIDEO</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00205">AST_JITTERBUFFER_FD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>, <a class="el" href="../../d1/d8f/reqresp__parser_8h.html#a7e4aa55331b8292eff94249de72b807d">AST_LIST_HEAD_NOLOCK()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00438">AST_LIST_NEXT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../df/d55/main_2frame_8c_source.html#l00079">ast_null_frame</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00293">AST_RTP_RTCP_SR</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00238">ast_samp2tv()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d3/d62/timing_8c_source.html#l00171">ast_timer_ack()</a>, <a class="el" href="../../d3/d62/timing_8c_source.html#l00166">ast_timer_set_rate()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02283">ast_tvadd()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00098">ast_tvdiff_ms()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00863">jb_framedata::audio_flowing</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00856">jb_framedata::audio_stream_id</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00857">jb_framedata::audio_stream_sync</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00185">ast_frame::delivery</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00861">jb_framedata::early_frame_count</a>, <a class="el" href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">jb_framedata::early_frames</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00855">jb_framedata::first</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00132">ast_jb_impl::force_resync</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">ast_frame_subclass::format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00129">ast_jb_impl::get</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00134">ast_jb_impl::is_late</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00849">jb_framedata::jb_conf</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00848">jb_framedata::jb_impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00864">jb_framedata::jb_obj</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00915">jitterbuffer_frame_get_ntp_timestamp()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00862">jb_framedata::last_audio_ntp_timestamp</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00851">jb_framedata::last_format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">ast_frame::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00059">MAXIMUM_EARLY_FRAME_COUNT</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00130">ast_jb_impl::next</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00187">ast_frame::next</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00844">jb_stream_sync::ntp</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00336">ast_rtp_rtcp_report::ntp_timestamp</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00179">ast_frame::offset</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00128">ast_jb_impl::put</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00127">ast_jb_impl::put_first</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00337">ast_rtp_rtcp_report::rtp_timestamp</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">ast_frame::samples</a>, <a class="el" href="../../d8/d40/structast__rtp__rtcp__report.html#aa2bc10b6d67275811e5dba476496577b">ast_rtp_rtcp_report::sender_information</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">ast_frame::src</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00850">jb_framedata::start_tv</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00197">ast_frame::stream_num</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00852">jb_framedata::timer</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00853">jb_framedata::timer_interval</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00843">jb_stream_sync::timestamp</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">ast_frame::ts</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00858">jb_framedata::video_stream_id</a>, and <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00859">jb_framedata::video_stream_sync</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01257">ast_jb_create_framehook()</a>.</p>
<div class="fragment"><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;{</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d3d/structjb__framedata.html">jb_framedata</a> *framedata = data;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <span class="keyword">struct </span>timeval now_tv;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> now;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <span class="keywordtype">int</span> putframe = 0; <span class="comment">/* signifies if audio frame was placed into the buffer or not */</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../df/d7d/structevent.html">event</a>) {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614ab652eafa2595533d8c065a6ac426aa8a">AST_FRAMEHOOK_EVENT_READ</a>:</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614a890a69eb197e4612993b98f04ab73ead">AST_FRAMEHOOK_EVENT_ATTACHED</a>:</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614a8e213d52d922fb4ab2842022c2252a62">AST_FRAMEHOOK_EVENT_DETACHED</a>:</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614a8e96ab8d6971c2abf694c55ed52653d9">AST_FRAMEHOOK_EVENT_WRITE</a>:</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   }</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a3e3e7e66e65ad9cdba2299e36b13e173">ast_channel_fdno</a>(chan) == <a class="code" href="../../d5/d7b/channel_8h.html#ad5ad19825a9563cf7d6fefb9bf4f5ffb">AST_JITTERBUFFER_FD</a> &amp;&amp; framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">timer</a>) {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/d41/timing_8h.html#a338edb7e927b891ef4aba288d9c07e56">ast_timer_ack</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">timer</a>, 1) &lt; 0) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to acknowledge timer in jitter buffer\n&quot;</span>);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;         <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      }</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">    * If the frame has been requeued (for instance when the translate core returns</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">    * more than one frame) then if the frame is late we want to immediately return</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">    * it. Otherwise attempt to insert it into the jitterbuffer.</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">    * If the frame is requeued and late then in all likely hood it&#39;s a frame that</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">    * that was previously retrieved from the jitterbuffer, passed to the translate</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">    * core, and then put back into the channel read queue. Even if it had not been</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">    * in the jitterbuffer prior to now it needs to be the next frame &quot;out&quot;.</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment">    * However late arriving frames that have not been requeued (i.e. regular frames)</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment">    * need to be passed to the jitterbuffer so they can be appropriately dropped. As</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment">    * well any requeued frames that are not late should be put into the jitterbuffer.</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <span class="keywordflow">if</span> (!frame || (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(frame, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ac6bea760bc75e449a80b8cc28bf9a2feaf48b0f9659597810ecc30d7ce73fa5e8">AST_FRFLAG_REQUEUED</a>) &amp;&amp;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;             framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a17995ae5fdd030e88fb4a41285f78ee5">is_late</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a>, frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>))) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a09abe21e12f90d900a42e110cd0e3310">jb_conf</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3a8a9b49d9d7579d9882f9a0693ee8fb62">AST_JB_SYNC_VIDEO</a>)) {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;         <span class="comment">/* Store the stream identifier for the audio stream so we can associate the incoming RTCP SR</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">          * with the correct stream sync structure.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;         framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a52669d6efa51b9bf4482ef03023896f4">audio_stream_id</a> = frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a8383e75e786449dd2f4258b0819dd8f1">stream_num</a>;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ac2b2b163b29fde967531b8bf92966c97">AST_FRAME_RTCP</a> &amp;&amp; frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3fa0ae6b0bf0bc054292890cfa0499e8">AST_RTP_RTCP_SR</a>) {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d8/d40/structast__rtp__rtcp__report.html">ast_rtp_rtcp_report</a> *rtcp_report = frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a>;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../db/d97/structjb__stream__sync.html">jb_stream_sync</a> *stream_sync = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;         <span class="comment">/* Determine which stream this RTCP is in regards to */</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;         <span class="keywordflow">if</span> (framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a52669d6efa51b9bf4482ef03023896f4">audio_stream_id</a> == frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a8383e75e786449dd2f4258b0819dd8f1">stream_num</a>) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            stream_sync = &amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a146dcf9e3ab7b9a0ca0d76a736de0801">audio_stream_sync</a>;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9dc4bd3a4309d72fbc1982dbaa6c2fea">video_stream_id</a> == frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a8383e75e786449dd2f4258b0819dd8f1">stream_num</a>) {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            stream_sync = &amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a52fdcddbbb05f6e036baa75739dbecf8">video_stream_sync</a>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;         }</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;         <span class="keywordflow">if</span> (stream_sync) {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <span class="comment">/* Store the RTP and NTP timestamp mapping so we can derive an NTP timestamp for each frame */</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            stream_sync-&gt;<a class="code" href="../../db/d97/structjb__stream__sync.html#ad4048a3c215cbfcdc127ada8e0fa5445">timestamp</a> = rtcp_report-&gt;<a class="code" href="../../d8/d40/structast__rtp__rtcp__report.html#aa2bc10b6d67275811e5dba476496577b">sender_information</a>.<a class="code" href="../../d8/d40/structast__rtp__rtcp__report.html#a5afa69ff9e5e7692c4db609cb4884c53">rtp_timestamp</a>;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            stream_sync-&gt;<a class="code" href="../../db/d97/structjb__stream__sync.html#a78025358e0b69022e34eb2a0d3c32fb4">ntp</a> = rtcp_report-&gt;<a class="code" href="../../d8/d40/structast__rtp__rtcp__report.html#aa2bc10b6d67275811e5dba476496577b">sender_information</a>.<a class="code" href="../../d8/d40/structast__rtp__rtcp__report.html#a69751ecaf659f4f16438fae21fd57d14">ntp_timestamp</a>;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;         }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a17ae96b6ea8a2388bb0d409e8124ff30">AST_FRAME_VIDEO</a>) {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;         <span class="comment">/* If a video frame is late according to the audio timestamp don&#39;t stash it away, just return it.</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">          * If however it is ahead then we keep it until such time as the audio catches up.</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *jbframe;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;         framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9dc4bd3a4309d72fbc1982dbaa6c2fea">video_stream_id</a> = frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a8383e75e786449dd2f4258b0819dd8f1">stream_num</a>;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;         <span class="comment">/* If no timing information is available we can&#39;t store this away, so just let it through now */</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(frame, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ac6bea760bc75e449a80b8cc28bf9a2feae8f674e19f6450e2b746c8a52c11649a">AST_FRFLAG_HAS_TIMING_INFO</a>)) {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;         }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;         <span class="comment">/* To ensure that the video starts when the audio starts we only start allowing frames through once</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">          * audio starts flowing.</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;         <span class="keywordflow">if</span> (framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a72c159d1984e9442d78ecfd906a51a89">audio_flowing</a>) {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <span class="keyword">struct </span>timeval video_timestamp;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            video_timestamp = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3024e9ef69e7ed2b958a1a96f95d2482">jitterbuffer_frame_get_ntp_timestamp</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a52fdcddbbb05f6e036baa75739dbecf8">video_stream_sync</a>, frame);</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a91c1a06ed2f9664ab79e9df1529bcff0">last_audio_ntp_timestamp</a>, video_timestamp) &gt;= 0) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;               <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            }</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;         }</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;         <span class="comment">/* To prevent the early frame buffer from growing uncontrolled we impose a maximum count that it can</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="comment">          * get to. If this is reached then we drop a video frame, which should cause the receiver to ask for a</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="comment">          * new key frame.</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;         <span class="keywordflow">if</span> (framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a8fcc19ffd9fb40f357acc1a4363f9794">early_frame_count</a> == <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a1a831edd6c77d31579088d143dda3682">MAXIMUM_EARLY_FRAME_COUNT</a>) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            jbframe = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">early_frames</a>, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a8fcc19ffd9fb40f357acc1a4363f9794">early_frame_count</a>--;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(jbframe);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;         }</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;         jbframe = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a314496ce1d74ed7fdb9c5319c5e2e953">ast_frisolate</a>(frame);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;         <span class="keywordflow">if</span> (!jbframe) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="comment">/* If we can&#39;t isolate the frame the safest thing we can do is return it, even if the A/V sync</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">             * may be off.</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;         }</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">early_frames</a>, jbframe, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;         framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a8fcc19ffd9fb40f357acc1a4363f9794">early_frame_count</a>++;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;         <span class="keywordflow">return</span> &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;   }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   now_tv = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   now = <a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(now_tv, framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a7dcd0d5da5c2252edf4d11d1c906a91e">start_tv</a>);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;   <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *jbframe;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(frame, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ac6bea760bc75e449a80b8cc28bf9a2feae8f674e19f6450e2b746c8a52c11649a">AST_FRFLAG_HAS_TIMING_INFO</a>) || frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a> &lt; 2 || frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a> &lt; 0) {</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;         <span class="comment">/* only frames with timing info can enter the jitterbuffer */</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;         <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      }</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      jbframe = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a314496ce1d74ed7fdb9c5319c5e2e953">ast_frisolate</a>(frame);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a881412d6eb645e7b950da7a680f9af92">last_format</a>, frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a> &amp;&amp; (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a> != framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">timer_interval</a>)) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;         framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">timer_interval</a> = frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a>;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;         <a class="code" href="../../db/d41/timing_8h.html#a4dae39fb5fb680a48a05d7567053eb03">ast_timer_set_rate</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">timer</a>, 1000 / framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">timer_interval</a>);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      }</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="keywordflow">if</span> (!framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a6c8ec3c3e77241328358d43697f6f840">first</a>) {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;         framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a6c8ec3c3e77241328358d43697f6f840">first</a> = 1;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;         res = framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a24838139378ea2320490859c89cbc3f9">put_first</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a>, jbframe, now);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;         res = framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#aee1fbf86e67d9bacc09a0dd8d77171bd">put</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a>, jbframe, now);</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      }</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keywordflow">if</span> (res == <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>) {</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;         <span class="keywordflow">if</span> (jbframe != frame) {</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(frame);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;         }</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;         frame = &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (jbframe != frame) {</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(jbframe);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      }</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      putframe = 1;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   }</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056">AST_FRAME_NULL</a>) {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordtype">long</span> <a class="code" href="../../d0/d99/structast__frame.html#ab4e8c55ce77c41613265ebd227f90cc9">next</a> = framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">next</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a>);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="comment">/* If now is earlier than the next expected output frame</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment">       * from the jitterbuffer we may choose to pass on retrieving</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment">       * a frame during this read iteration.  The only exception</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment">       * to this rule is when an audio frame is placed into the buffer</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">       * and the time for the next frame to come out of the buffer is</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">       * at least within the timer_interval of the next output frame. By</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">       * doing this we are able to feed off the timing of the input frames</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment">       * and only rely on our jitterbuffer timer when frames are dropped.</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment">       * During testing, this hybrid form of timing gave more reliable results. */</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordflow">if</span> (now &lt; next) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;         <span class="keywordtype">long</span> <span class="keywordtype">int</span> diff = next - now;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;         <span class="keywordflow">if</span> (!putframe) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (diff &gt;= framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">timer_interval</a>) {</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;         }</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      }</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(frame);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      frame = &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      res = framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a14c509af9f72b5c0da46d422ec5bfc0e">get</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a>, &amp;frame, now, framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">timer_interval</a>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="keywordflow">switch</span> (res) {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>:</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;         <span class="comment">/* got it, and pass it through */</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3">AST_JB_IMPL_DROP</a>:</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(frame);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;         frame = &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a">AST_JB_IMPL_INTERP</a>:</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;         <span class="keywordflow">if</span> (framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a881412d6eb645e7b950da7a680f9af92">last_format</a>) {</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = { 0, };</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            tmp.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            tmp.<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a> = framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a881412d6eb645e7b950da7a680f9af92">last_format</a>;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            <span class="comment">/* example: 8000hz / (1000 / 20ms) = 160 samples */</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            tmp.<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a> = <a class="code" href="../../d0/d0a/format_8h.html#a499e920008f775eebadd958a42e85862">ast_format_get_sample_rate</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a881412d6eb645e7b950da7a680f9af92">last_format</a>) / (1000 / framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">timer_interval</a>);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            tmp.<a class="code" href="../../d0/d99/structast__frame.html#a41a708025486b4c9383e7432e9ba3f0e">delivery</a> = <a class="code" href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a7dcd0d5da5c2252edf4d11d1c906a91e">start_tv</a>, <a class="code" href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a>(next, 1000));</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            tmp.<a class="code" href="../../d0/d99/structast__frame.html#aed7ea92f45bd273dde380a45ddced592">offset</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ac8f7380b8620c80443286b44481f641c">AST_FRIENDLY_OFFSET</a>;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            tmp.<a class="code" href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">src</a>  = <span class="stringliteral">&quot;func_jitterbuffer interpolation&quot;</span>;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(frame);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            frame = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a417ee8a61074ec7570971202908e2c4f">ast_frdup</a>(&amp;tmp);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;         }</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;         <span class="comment">/* else fall through */</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4">AST_JB_IMPL_NOFRAME</a>:</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(frame);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;         frame = &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      }</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;   }</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;   <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>) {</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *early_frame;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="keywordflow">switch</span>(frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>) {</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a>:</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a>:</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a>:</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a009e81151b19671f42b5e84ab6a619f4">AST_CONTROL_SRCUPDATE</a>:</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af334ccaa958af9b049d6bfcaa41549b8">AST_CONTROL_SRCCHANGE</a>:</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;         framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#aeeb89aa0366801501aa518694cad193a">force_resync</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a>);</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;         <span class="comment">/* Since we are resyncing go ahead and clear out the video frames too */</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;         <span class="keywordflow">while</span> ((early_frame = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">early_frames</a>, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>))) {</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(early_frame);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;         }</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;         framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a72c159d1984e9442d78ecfd906a51a89">audio_flowing</a> = 0;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;         framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a8fcc19ffd9fb40f357acc1a4363f9794">early_frame_count</a> = 0;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      }</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;   }</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;   <span class="comment">/* If a voice frame is being passed through see if we need to add any additional frames to it */</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a09abe21e12f90d900a42e110cd0e3310">jb_conf</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3a8a9b49d9d7579d9882f9a0693ee8fb62">AST_JB_SYNC_VIDEO</a>) &amp;&amp; frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <a class="code" href="../../d1/d8f/reqresp__parser_8h.html#a7e4aa55331b8292eff94249de72b807d">AST_LIST_HEAD_NOLOCK</a>(, <a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a>) additional_frames;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *early_frame;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      <span class="comment">/* We store the last NTP timestamp for the audio given to the core so that subsequents frames which</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">       * are late can be passed immediately through (this will occur for video frames which are returned here)</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a91c1a06ed2f9664ab79e9df1529bcff0">last_audio_ntp_timestamp</a> = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3024e9ef69e7ed2b958a1a96f95d2482">jitterbuffer_frame_get_ntp_timestamp</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a146dcf9e3ab7b9a0ca0d76a736de0801">audio_stream_sync</a>, frame);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a72c159d1984e9442d78ecfd906a51a89">audio_flowing</a> = 1;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;additional_frames);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">early_frames</a>, early_frame, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>) {</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;         <span class="keyword">struct </span>timeval early_timestamp = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3024e9ef69e7ed2b958a1a96f95d2482">jitterbuffer_frame_get_ntp_timestamp</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a52fdcddbbb05f6e036baa75739dbecf8">video_stream_sync</a>, early_frame);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;         <span class="keywordtype">int</span> diff = <a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a91c1a06ed2f9664ab79e9df1529bcff0">last_audio_ntp_timestamp</a>, early_timestamp);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;         <span class="comment">/* If this frame is from the past we need to include it with the audio frame that is going</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment">          * out.</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;         <span class="keywordflow">if</span> (diff &gt;= 0) {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a8fcc19ffd9fb40f357acc1a4363f9794">early_frame_count</a>--;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;additional_frames, early_frame, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;         }</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      }</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="comment">/* Append any additional frames we may want to include (such as video) */</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(frame, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>) = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;additional_frames);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;   }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">include/asterisk/frame.h:293</a></div></div>
<div class="ttc" id="structast__rtp__rtcp__report_html"><div class="ttname"><a href="../../d8/d40/structast__rtp__rtcp__report.html">ast_rtp_rtcp_report</a></div><div class="ttdoc">An object that represents data sent during a SR/RR RTCP report. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00331">rtp_engine.h:331</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a417ee8a61074ec7570971202908e2c4f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a417ee8a61074ec7570971202908e2c4f">ast_frdup</a></div><div class="ttdeci">#define ast_frdup(fr)</div><div class="ttdoc">Copies a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00585">include/asterisk/frame.h:585</a></div></div>
<div class="ttc" id="structjb__framedata_html_a52fdcddbbb05f6e036baa75739dbecf8"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a52fdcddbbb05f6e036baa75739dbecf8">jb_framedata::video_stream_sync</a></div><div class="ttdeci">struct jb_stream_sync video_stream_sync</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00859">abstract_jb.c:859</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="structjb__stream__sync_html_a78025358e0b69022e34eb2a0d3c32fb4"><div class="ttname"><a href="../../db/d97/structjb__stream__sync.html#a78025358e0b69022e34eb2a0d3c32fb4">jb_stream_sync::ntp</a></div><div class="ttdeci">struct timeval ntp</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00844">abstract_jb.c:844</a></div></div>
<div class="ttc" id="structast__frame_html_aed7ea92f45bd273dde380a45ddced592"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aed7ea92f45bd273dde380a45ddced592">ast_frame::offset</a></div><div class="ttdeci">int offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00179">include/asterisk/frame.h:179</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a1a831edd6c77d31579088d143dda3682"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a1a831edd6c77d31579088d143dda3682">MAXIMUM_EARLY_FRAME_COUNT</a></div><div class="ttdeci">#define MAXIMUM_EARLY_FRAME_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00059">abstract_jb.c:59</a></div></div>
<div class="ttc" id="structjb__framedata_html_a289362ef46b27fcf918764e84f50ab27"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_framedata::jb_obj</a></div><div class="ttdeci">void * jb_obj</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00864">abstract_jb.c:864</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a9343b518a13ed73bb3f42c41792d7dee"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">ast_jb_impl::next</a></div><div class="ttdeci">jb_next_impl next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00130">abstract_jb.h:130</a></div></div>
<div class="ttc" id="framehook_8h_html_a54250544f50efde9156d2341e8da0614a890a69eb197e4612993b98f04ab73ead"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614a890a69eb197e4612993b98f04ab73ead">AST_FRAMEHOOK_EVENT_ATTACHED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00154">framehook.h:154</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structjb__framedata_html_a881412d6eb645e7b950da7a680f9af92"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a881412d6eb645e7b950da7a680f9af92">jb_framedata::last_format</a></div><div class="ttdeci">struct ast_format * last_format</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00851">abstract_jb.c:851</a></div></div>
<div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="structjb__framedata_html_a7c4c58590593c6aa9f1e8d9076563330"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">jb_framedata::early_frames</a></div><div class="ttdeci">struct jb_framedata::@332 early_frames</div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ac6bea760bc75e449a80b8cc28bf9a2feae8f674e19f6450e2b746c8a52c11649a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ac6bea760bc75e449a80b8cc28bf9a2feae8f674e19f6450e2b746c8a52c11649a">AST_FRFLAG_HAS_TIMING_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00143">include/asterisk/frame.h:143</a></div></div>
<div class="ttc" id="structjb__framedata_html"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html">jb_framedata</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00847">abstract_jb.c:847</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="framehook_8h_html_a54250544f50efde9156d2341e8da0614a8e213d52d922fb4ab2842022c2252a62"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614a8e213d52d922fb4ab2842022c2252a62">AST_FRAMEHOOK_EVENT_DETACHED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00155">framehook.h:155</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a3024e9ef69e7ed2b958a1a96f95d2482"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a3024e9ef69e7ed2b958a1a96f95d2482">jitterbuffer_frame_get_ntp_timestamp</a></div><div class="ttdeci">static struct timeval jitterbuffer_frame_get_ntp_timestamp(const struct jb_stream_sync *stream_sync, const struct ast_frame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00915">abstract_jb.c:915</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ae234825bcb65b88c0554b995ff1b8ba6"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a></div><div class="ttdeci">#define AST_LIST_NEXT(elm, field)</div><div class="ttdoc">Returns the next entry in the list after the given entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00438">linkedlists.h:438</a></div></div>
<div class="ttc" id="structast__frame_html_a1eb46dcb363821328c0d2a758549216b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ast_frame::ts</a></div><div class="ttdeci">long ts</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">include/asterisk/frame.h:191</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a14c509af9f72b5c0da46d422ec5bfc0e"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a14c509af9f72b5c0da46d422ec5bfc0e">ast_jb_impl::get</a></div><div class="ttdeci">jb_get_impl get</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00129">abstract_jb.h:129</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="structjb__framedata_html_a146dcf9e3ab7b9a0ca0d76a736de0801"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a146dcf9e3ab7b9a0ca0d76a736de0801">jb_framedata::audio_stream_sync</a></div><div class="ttdeci">struct jb_stream_sync audio_stream_sync</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00857">abstract_jb.c:857</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="structjb__stream__sync_html"><div class="ttname"><a href="../../db/d97/structjb__stream__sync.html">jb_stream_sync</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00842">abstract_jb.c:842</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a91d74b317405fff79ca4459da11f98e3a8a9b49d9d7579d9882f9a0693ee8fb62"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a91d74b317405fff79ca4459da11f98e3a8a9b49d9d7579d9882f9a0693ee8fb62">AST_JB_SYNC_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00048">abstract_jb.h:48</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__rtp__rtcp__report_html_a5afa69ff9e5e7692c4db609cb4884c53"><div class="ttname"><a href="../../d8/d40/structast__rtp__rtcp__report.html#a5afa69ff9e5e7692c4db609cb4884c53">ast_rtp_rtcp_report::rtp_timestamp</a></div><div class="ttdeci">unsigned int rtp_timestamp</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00337">rtp_engine.h:337</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ac6bea760bc75e449a80b8cc28bf9a2feaf48b0f9659597810ecc30d7ce73fa5e8"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ac6bea760bc75e449a80b8cc28bf9a2feaf48b0f9659597810ecc30d7ce73fa5e8">AST_FRFLAG_REQUEUED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00145">include/asterisk/frame.h:145</a></div></div>
<div class="ttc" id="structast__rtp__rtcp__report_html_aa2bc10b6d67275811e5dba476496577b"><div class="ttname"><a href="../../d8/d40/structast__rtp__rtcp__report.html#aa2bc10b6d67275811e5dba476496577b">ast_rtp_rtcp_report::sender_information</a></div><div class="ttdeci">struct ast_rtp_rtcp_report::@315 sender_information</div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00301">include/asterisk/frame.h:301</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a009e81151b19671f42b5e84ab6a619f4"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a009e81151b19671f42b5e84ab6a619f4">AST_CONTROL_SRCUPDATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00297">include/asterisk/frame.h:297</a></div></div>
<div class="ttc" id="structast__jb__impl_html_aee1fbf86e67d9bacc09a0dd8d77171bd"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#aee1fbf86e67d9bacc09a0dd8d77171bd">ast_jb_impl::put</a></div><div class="ttdeci">jb_put_impl put</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00128">abstract_jb.h:128</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ac8f7380b8620c80443286b44481f641c"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ac8f7380b8620c80443286b44481f641c">AST_FRIENDLY_OFFSET</a></div><div class="ttdeci">#define AST_FRIENDLY_OFFSET</div><div class="ttdoc">Offset into a frame&amp;#39;s data buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00229">include/asterisk/frame.h:229</a></div></div>
<div class="ttc" id="structast__frame_html_af51e37c9331049b1e3d250a7c8bc3c26"><div class="ttname"><a href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">ast_frame::src</a></div><div class="ttdeci">const char * src</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">include/asterisk/frame.h:181</a></div></div>
<div class="ttc" id="framehook_8h_html_a54250544f50efde9156d2341e8da0614a8e96ab8d6971c2abf694c55ed52653d9"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614a8e96ab8d6971c2abf694c55ed52653d9">AST_FRAMEHOOK_EVENT_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00153">framehook.h:153</a></div></div>
<div class="ttc" id="structjb__framedata_html_a91c1a06ed2f9664ab79e9df1529bcff0"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a91c1a06ed2f9664ab79e9df1529bcff0">jb_framedata::last_audio_ntp_timestamp</a></div><div class="ttdeci">struct timeval last_audio_ntp_timestamp</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00862">abstract_jb.c:862</a></div></div>
<div class="ttc" id="structjb__framedata_html_a9dc4bd3a4309d72fbc1982dbaa6c2fea"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a9dc4bd3a4309d72fbc1982dbaa6c2fea">jb_framedata::video_stream_id</a></div><div class="ttdeci">int video_stream_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00858">abstract_jb.c:858</a></div></div>
<div class="ttc" id="structast__jb__impl_html_aeeb89aa0366801501aa518694cad193a"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#aeeb89aa0366801501aa518694cad193a">ast_jb_impl::force_resync</a></div><div class="ttdeci">jb_force_resynch_impl force_resync</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00132">abstract_jb.h:132</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="time_8h_html_a1d774df72e3dbb623475783e06ce4f61"><div class="ttname"><a href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a></div><div class="ttdeci">struct timeval ast_samp2tv(unsigned int _nsamp, unsigned int _rate)</div><div class="ttdoc">Returns a timeval corresponding to the duration of n samples at rate r. Useful to convert samples to ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00238">time.h:238</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3">AST_JB_IMPL_DROP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00059">abstract_jb.h:59</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="reqresp__parser_8h_html_a7e4aa55331b8292eff94249de72b807d"><div class="ttname"><a href="../../d1/d8f/reqresp__parser_8h.html#a7e4aa55331b8292eff94249de72b807d">AST_LIST_HEAD_NOLOCK</a></div><div class="ttdeci">AST_LIST_HEAD_NOLOCK(contactliststruct, contact)</div></div>
<div class="ttc" id="structjb__framedata_html_a9aed6490b63794e6c9c00af4533f255f"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">jb_framedata::timer</a></div><div class="ttdeci">struct ast_timer * timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00852">abstract_jb.c:852</a></div></div>
<div class="ttc" id="structjb__stream__sync_html_ad4048a3c215cbfcdc127ada8e0fa5445"><div class="ttname"><a href="../../db/d97/structjb__stream__sync.html#ad4048a3c215cbfcdc127ada8e0fa5445">jb_stream_sync::timestamp</a></div><div class="ttdeci">unsigned int timestamp</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00843">abstract_jb.c:843</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00058">abstract_jb.h:58</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ac2b2b163b29fde967531b8bf92966c97"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ac2b2b163b29fde967531b8bf92966c97">AST_FRAME_RTCP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00135">include/asterisk/frame.h:135</a></div></div>
<div class="ttc" id="structjb__framedata_html_a52669d6efa51b9bf4482ef03023896f4"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a52669d6efa51b9bf4482ef03023896f4">jb_framedata::audio_stream_id</a></div><div class="ttdeci">int audio_stream_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00856">abstract_jb.c:856</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056">AST_FRAME_NULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00107">include/asterisk/frame.h:107</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="channel_8h_html_a3e3e7e66e65ad9cdba2299e36b13e173"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3e3e7e66e65ad9cdba2299e36b13e173">ast_channel_fdno</a></div><div class="ttdeci">int ast_channel_fdno(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00419">channel_internal_api.c:419</a></div></div>
<div class="ttc" id="structframe__list_html"><div class="ttname"><a href="../../d9/d42/structframe__list.html">frame_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00590">res_rtp_asterisk.c:590</a></div></div>
<div class="ttc" id="structjb__framedata_html_a6c8ec3c3e77241328358d43697f6f840"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a6c8ec3c3e77241328358d43697f6f840">jb_framedata::first</a></div><div class="ttdeci">int first</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00855">abstract_jb.c:855</a></div></div>
<div class="ttc" id="timing_8h_html_a338edb7e927b891ef4aba288d9c07e56"><div class="ttname"><a href="../../db/d41/timing_8h.html#a338edb7e927b891ef4aba288d9c07e56">ast_timer_ack</a></div><div class="ttdeci">int ast_timer_ack(const struct ast_timer *handle, unsigned int quantity)</div><div class="ttdoc">Acknowledge a timer event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d62/timing_8c_source.html#l00171">timing.c:171</a></div></div>
<div class="ttc" id="framehook_8h_html_a54250544f50efde9156d2341e8da0614ab652eafa2595533d8c065a6ac426aa8a"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614ab652eafa2595533d8c065a6ac426aa8a">AST_FRAMEHOOK_EVENT_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00152">framehook.h:152</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="time_8h_html_a97e1bb8fbd7a103212789e87e7ed6073"><div class="ttname"><a href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a></div><div class="ttdeci">struct timeval ast_tvadd(struct timeval a, struct timeval b)</div><div class="ttdoc">Returns the sum of two timevals a + b. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02283">extconf.c:2283</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a24838139378ea2320490859c89cbc3f9"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a24838139378ea2320490859c89cbc3f9">ast_jb_impl::put_first</a></div><div class="ttdeci">jb_put_first_impl put_first</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00127">abstract_jb.h:127</a></div></div>
<div class="ttc" id="structjb__framedata_html_ab27c0cee1abf50873b7df3cbc090f50f"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">jb_framedata::timer_interval</a></div><div class="ttdeci">int timer_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00853">abstract_jb.c:853</a></div></div>
<div class="ttc" id="structjb__framedata_html_a09abe21e12f90d900a42e110cd0e3310"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a09abe21e12f90d900a42e110cd0e3310">jb_framedata::jb_conf</a></div><div class="ttdeci">struct ast_jb_conf jb_conf</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00849">abstract_jb.c:849</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a314496ce1d74ed7fdb9c5319c5e2e953"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a314496ce1d74ed7fdb9c5319c5e2e953">ast_frisolate</a></div><div class="ttdeci">#define ast_frisolate(fr)</div><div class="ttdoc">Makes a frame independent of any static storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00577">include/asterisk/frame.h:577</a></div></div>
<div class="ttc" id="timing_8h_html_a4dae39fb5fb680a48a05d7567053eb03"><div class="ttname"><a href="../../db/d41/timing_8h.html#a4dae39fb5fb680a48a05d7567053eb03">ast_timer_set_rate</a></div><div class="ttdeci">int ast_timer_set_rate(const struct ast_timer *handle, unsigned int rate)</div><div class="ttdoc">Set the timing tick rate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d62/timing_8c_source.html#l00166">timing.c:166</a></div></div>
<div class="ttc" id="structast__frame_html_a41a708025486b4c9383e7432e9ba3f0e"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a41a708025486b4c9383e7432e9ba3f0e">ast_frame::delivery</a></div><div class="ttdeci">struct timeval delivery</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00185">include/asterisk/frame.h:185</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_af203379aca2fd704fe8d86a9445596b6"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a></div><div class="ttdeci">struct ast_frame ast_null_frame</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d55/main_2frame_8c_source.html#l00079">main/frame.c:79</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">include/asterisk/frame.h:294</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa81c8462bd0574f4f9e09e71f2772f44"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a></div><div class="ttdeci">#define ao2_replace(dst, src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00517">astobj2.h:517</a></div></div>
<div class="ttc" id="structast__frame_html_ab4e8c55ce77c41613265ebd227f90cc9"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ab4e8c55ce77c41613265ebd227f90cc9">ast_frame::next</a></div><div class="ttdeci">struct ast_frame * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00187">include/asterisk/frame.h:187</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a3fa0ae6b0bf0bc054292890cfa0499e8"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a3fa0ae6b0bf0bc054292890cfa0499e8">AST_RTP_RTCP_SR</a></div><div class="ttdeci">#define AST_RTP_RTCP_SR</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00293">rtp_engine.h:293</a></div></div>
<div class="ttc" id="format_8h_html_a499e920008f775eebadd958a42e85862"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a499e920008f775eebadd958a42e85862">ast_format_get_sample_rate</a></div><div class="ttdeci">unsigned int ast_format_get_sample_rate(const struct ast_format *format)</div><div class="ttdoc">Get the sample rate of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00379">format.c:379</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structast__frame_html_a8383e75e786449dd2f4258b0819dd8f1"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a8383e75e786449dd2f4258b0819dd8f1">ast_frame::stream_num</a></div><div class="ttdeci">int stream_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00197">include/asterisk/frame.h:197</a></div></div>
<div class="ttc" id="channel_8h_html_ad5ad19825a9563cf7d6fefb9bf4f5ffb"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ad5ad19825a9563cf7d6fefb9bf4f5ffb">AST_JITTERBUFFER_FD</a></div><div class="ttdeci">#define AST_JITTERBUFFER_FD</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00205">channel.h:205</a></div></div>
<div class="ttc" id="structjb__framedata_html_a8fcc19ffd9fb40f357acc1a4363f9794"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a8fcc19ffd9fb40f357acc1a4363f9794">jb_framedata::early_frame_count</a></div><div class="ttdeci">unsigned int early_frame_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00861">abstract_jb.c:861</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structjb__framedata_html_a7dcd0d5da5c2252edf4d11d1c906a91e"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a7dcd0d5da5c2252edf4d11d1c906a91e">jb_framedata::start_tv</a></div><div class="ttdeci">struct timeval start_tv</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00850">abstract_jb.c:850</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a">AST_JB_IMPL_INTERP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00060">abstract_jb.h:60</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">ast_frame_subclass::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">include/asterisk/frame.h:155</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a17ae96b6ea8a2388bb0d409e8124ff30"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a17ae96b6ea8a2388bb0d409e8124ff30">AST_FRAME_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00103">include/asterisk/frame.h:103</a></div></div>
<div class="ttc" id="structast__rtp__rtcp__report_html_a69751ecaf659f4f16438fae21fd57d14"><div class="ttname"><a href="../../d8/d40/structast__rtp__rtcp__report.html#a69751ecaf659f4f16438fae21fd57d14">ast_rtp_rtcp_report::ntp_timestamp</a></div><div class="ttdeci">struct timeval ntp_timestamp</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00336">rtp_engine.h:336</a></div></div>
<div class="ttc" id="structjb__framedata_html_af1728e1ccf486b703502914a7ce6d12e"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_framedata::jb_impl</a></div><div class="ttdeci">const struct ast_jb_impl * jb_impl</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00848">abstract_jb.c:848</a></div></div>
<div class="ttc" id="structjb__framedata_html_a72c159d1984e9442d78ecfd906a51a89"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a72c159d1984e9442d78ecfd906a51a89">jb_framedata::audio_flowing</a></div><div class="ttdeci">int audio_flowing</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00863">abstract_jb.c:863</a></div></div>
<div class="ttc" id="structast__frame_html_aaccba9d5adc3f6c39aad767db95ba484"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">ast_frame::len</a></div><div class="ttdeci">long len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">include/asterisk/frame.h:193</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a17995ae5fdd030e88fb4a41285f78ee5"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a17995ae5fdd030e88fb4a41285f78ee5">ast_jb_impl::is_late</a></div><div class="ttdeci">jb_is_late_impl is_late</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00134">abstract_jb.h:134</a></div></div>
<div class="ttc" id="structast__frame_html_a37672e6b906143604cefd3e959777b31"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">ast_frame::samples</a></div><div class="ttdeci">int samples</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">include/asterisk/frame.h:173</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4">AST_JB_IMPL_NOFRAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00061">abstract_jb.h:61</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390af334ccaa958af9b049d6bfcaa41549b8"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390af334ccaa958af9b049d6bfcaa41549b8">AST_CONTROL_SRCCHANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00303">include/asterisk/frame.h:303</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab45f11b0a95110a51f848b2b873e1065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab45f11b0a95110a51f848b2b873e1065">&#9670;&nbsp;</a></span>jb_choose_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jb_choose_impl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00148">148</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00143">ast_jb::conf</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00118">default_impl</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00078">ast_jb_conf::impl</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00145">ast_jb::impl</a>, and <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00123">ast_jb_impl::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00170">ast_jb_do_usecheck()</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(chan);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *jbconf = &amp;jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a5e0765fcfec251b02238ec7159d3857a">conf</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a> *test_impl;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   <span class="keywordtype">int</span> i, avail_impl_count = <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a99bbef1aa597608e3b28e07e1be50ca5">avail_impl</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a> = &amp;<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a99bbef1aa597608e3b28e07e1be50ca5">avail_impl</a>[<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a8d8b7e54c446a74316126f913a16917d">default_impl</a>];</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(jbconf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>)) {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; avail_impl_count; i++) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      test_impl = &amp;<a class="code" href="../../d3/d1d/abstract__jb_8c.html#a99bbef1aa597608e3b28e07e1be50ca5">avail_impl</a>[i];</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(jbconf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>, test_impl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a5276c0a183c322592ca4435cf76f8fb2">name</a>)) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;         jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a> = test_impl;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="structast__jb_html_ae56168891923428b99ae96eaeb2a7bae"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">ast_jb::impl</a></div><div class="ttdeci">const struct ast_jb_impl * impl</div><div class="ttdoc">Jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00145">abstract_jb.h:145</a></div></div>
<div class="ttc" id="structast__jb_html_a5e0765fcfec251b02238ec7159d3857a"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a5e0765fcfec251b02238ec7159d3857a">ast_jb::conf</a></div><div class="ttdeci">struct ast_jb_conf conf</div><div class="ttdoc">Jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00143">abstract_jb.h:143</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a99bbef1aa597608e3b28e07e1be50ca5"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a99bbef1aa597608e3b28e07e1be50ca5">avail_impl</a></div><div class="ttdeci">static const struct ast_jb_impl avail_impl[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00087">abstract_jb.c:87</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a60072c5fdc7f8f7772e49783b48e37a6"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">ast_jb_conf::impl</a></div><div class="ttdeci">char impl[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdoc">Name of the jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00078">abstract_jb.h:78</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a8d8b7e54c446a74316126f913a16917d"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a8d8b7e54c446a74316126f913a16917d">default_impl</a></div><div class="ttdeci">static int default_impl</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00118">abstract_jb.c:118</a></div></div>
<div class="ttc" id="structast__jb_html"><div class="ttname"><a href="../../d8/dec/structast__jb.html">ast_jb</a></div><div class="ttdoc">General jitterbuffer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00140">abstract_jb.h:140</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a5276c0a183c322592ca4435cf76f8fb2"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a5276c0a183c322592ca4435cf76f8fb2">ast_jb_impl::name</a></div><div class="ttdeci">char name[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00123">abstract_jb.h:123</a></div></div>
<div class="ttc" id="structast__jb__impl_html"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a></div><div class="ttdoc">Jitterbuffer implementation struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00121">abstract_jb.h:121</a></div></div>
<div class="ttc" id="structast__jb__conf_html"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a></div><div class="ttdoc">General jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00069">abstract_jb.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aed18a60db020c2107aa408daf43bf18c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed18a60db020c2107aa408daf43bf18c">&#9670;&nbsp;</a></span>jb_create_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * jb_create_adaptive </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *&#160;</td>
          <td class="paramname"><em>general_config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00727">727</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00086">jb_new()</a>, <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00825">jb_setconf()</a>, <a class="el" href="../../dd/da9/jitterbuf_8h_source.html#l00069">jb_conf::max_contig_interp</a>, <a class="el" href="../../dd/da9/jitterbuf_8h_source.html#l00067">jb_conf::max_jitterbuf</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00074">ast_jb_conf::max_size</a>, <a class="el" href="../../dd/da9/jitterbuf_8h_source.html#l00068">jb_conf::resync_threshold</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00076">ast_jb_conf::resync_threshold</a>, <a class="el" href="../../dd/da9/jitterbuf_8h_source.html#l00070">jb_conf::target_extra</a>, and <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00080">ast_jb_conf::target_extra</a>.</p>
<div class="fragment"><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;{</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   <a class="code" href="../../d2/d5e/structjb__conf.html">jb_conf</a> jbconf;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   <a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *adaptivejb;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   adaptivejb = <a class="code" href="../../dd/da9/jitterbuf_8h.html#a2fd56d2b8a06ad6b89cf67619f790911">jb_new</a>();</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   <span class="keywordflow">if</span> (adaptivejb) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      jbconf.<a class="code" href="../../d2/d5e/structjb__conf.html#a560b79d26ead7b640d797181c9c3122c">max_jitterbuf</a> = general_config-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">max_size</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      jbconf.<a class="code" href="../../d2/d5e/structjb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">resync_threshold</a> = general_config-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">resync_threshold</a>;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      jbconf.<a class="code" href="../../d2/d5e/structjb__conf.html#af42f40eb2b87dd2147bd66357e99eff4">max_contig_interp</a> = 10;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      jbconf.<a class="code" href="../../d2/d5e/structjb__conf.html#a322d898485ffd6c3c07391f381903bdd">target_extra</a> = general_config-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a322d898485ffd6c3c07391f381903bdd">target_extra</a>;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <a class="code" href="../../dd/da9/jitterbuf_8h.html#a8ecded60181a9c1d1dae2fe05bddccf8">jb_setconf</a>(adaptivejb, &amp;jbconf);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   <span class="keywordflow">return</span> adaptivejb;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div><div class="ttc" id="structjb__conf_html_a560b79d26ead7b640d797181c9c3122c"><div class="ttname"><a href="../../d2/d5e/structjb__conf.html#a560b79d26ead7b640d797181c9c3122c">jb_conf::max_jitterbuf</a></div><div class="ttdeci">long max_jitterbuf</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00067">jitterbuf.h:67</a></div></div>
<div class="ttc" id="structjb__conf_html"><div class="ttname"><a href="../../d2/d5e/structjb__conf.html">jb_conf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00065">jitterbuf.h:65</a></div></div>
<div class="ttc" id="structjitterbuf_html"><div class="ttname"><a href="../../dc/d50/structjitterbuf.html">jitterbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00107">jitterbuf.h:107</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_a2fd56d2b8a06ad6b89cf67619f790911"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#a2fd56d2b8a06ad6b89cf67619f790911">jb_new</a></div><div class="ttdeci">jitterbuf * jb_new(void)</div><div class="ttdoc">new jitterbuf </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00086">jitterbuf.c:86</a></div></div>
<div class="ttc" id="structast__jb__conf_html_ab5d708c3e3489b6fd1f92b19939c18e8"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">ast_jb_conf::resync_threshold</a></div><div class="ttdeci">long resync_threshold</div><div class="ttdoc">Resynchronization threshold of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00076">abstract_jb.h:76</a></div></div>
<div class="ttc" id="structjb__conf_html_ab5d708c3e3489b6fd1f92b19939c18e8"><div class="ttname"><a href="../../d2/d5e/structjb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">jb_conf::resync_threshold</a></div><div class="ttdeci">long resync_threshold</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00068">jitterbuf.h:68</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a322d898485ffd6c3c07391f381903bdd"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a322d898485ffd6c3c07391f381903bdd">ast_jb_conf::target_extra</a></div><div class="ttdeci">long target_extra</div><div class="ttdoc">amount of additional jitterbuffer adjustment </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00080">abstract_jb.h:80</a></div></div>
<div class="ttc" id="structjb__conf_html_a322d898485ffd6c3c07391f381903bdd"><div class="ttname"><a href="../../d2/d5e/structjb__conf.html#a322d898485ffd6c3c07391f381903bdd">jb_conf::target_extra</a></div><div class="ttdeci">long target_extra</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00070">jitterbuf.h:70</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_a8ecded60181a9c1d1dae2fe05bddccf8"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#a8ecded60181a9c1d1dae2fe05bddccf8">jb_setconf</a></div><div class="ttdeci">enum jb_return_code jb_setconf(jitterbuf *jb, jb_conf *conf)</div><div class="ttdoc">set jitterbuf conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00825">jitterbuf.c:825</a></div></div>
<div class="ttc" id="structast__jb__conf_html_aaba39ba18eb00647786272b9061659e3"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">ast_jb_conf::max_size</a></div><div class="ttdeci">long max_size</div><div class="ttdoc">Max size of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00074">abstract_jb.h:74</a></div></div>
<div class="ttc" id="structjb__conf_html_af42f40eb2b87dd2147bd66357e99eff4"><div class="ttname"><a href="../../d2/d5e/structjb__conf.html#af42f40eb2b87dd2147bd66357e99eff4">jb_conf::max_contig_interp</a></div><div class="ttdeci">long max_contig_interp</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00069">jitterbuf.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abb2d10c58003edead067528de61ab49f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb2d10c58003edead067528de61ab49f">&#9670;&nbsp;</a></span>jb_create_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * jb_create_fixed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *&#160;</td>
          <td class="paramname"><em>general_config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00625">625</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00100">fixed_jb_new()</a>, <a class="el" href="../../d4/d01/fixedjitterbuf_8h_source.html#l00051">fixed_jb_conf::jbsize</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00074">ast_jb_conf::max_size</a>, <a class="el" href="../../d4/d01/fixedjitterbuf_8h_source.html#l00052">fixed_jb_conf::resync_threshold</a>, and <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00076">ast_jb_conf::resync_threshold</a>.</p>
<div class="fragment"><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d88/structfixed__jb__conf.html">fixed_jb_conf</a> <a class="code" href="../../d6/de8/structconf.html">conf</a>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <a class="code" href="../../d6/de8/structconf.html">conf</a>.jbsize = general_config-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">max_size</a>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <a class="code" href="../../d6/de8/structconf.html">conf</a>.resync_threshold = general_config-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">resync_threshold</a>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#a422ae86f28fc89102603a8422d89445c">fixed_jb_new</a>(&amp;<a class="code" href="../../d6/de8/structconf.html">conf</a>);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div><div class="ttc" id="structconf_html"><div class="ttname"><a href="../../d6/de8/structconf.html">conf</a></div><div class="ttdoc">All configuration options for statsd client. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0c/res__statsd_8c_source.html#l00095">res_statsd.c:95</a></div></div>
<div class="ttc" id="structast__jb__conf_html_ab5d708c3e3489b6fd1f92b19939c18e8"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#ab5d708c3e3489b6fd1f92b19939c18e8">ast_jb_conf::resync_threshold</a></div><div class="ttdeci">long resync_threshold</div><div class="ttdoc">Resynchronization threshold of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00076">abstract_jb.h:76</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_a422ae86f28fc89102603a8422d89445c"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#a422ae86f28fc89102603a8422d89445c">fixed_jb_new</a></div><div class="ttdeci">struct fixed_jb * fixed_jb_new(struct fixed_jb_conf *conf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00100">fixedjitterbuf.c:100</a></div></div>
<div class="ttc" id="structast__jb__conf_html_aaba39ba18eb00647786272b9061659e3"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#aaba39ba18eb00647786272b9061659e3">ast_jb_conf::max_size</a></div><div class="ttdeci">long max_size</div><div class="ttdoc">Max size of the jitterbuffer implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00074">abstract_jb.h:74</a></div></div>
<div class="ttc" id="structfixed__jb__conf_html"><div class="ttname"><a href="../../d8/d88/structfixed__jb__conf.html">fixed_jb_conf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/fixedjitterbuf_8h_source.html#l00049">fixedjitterbuf.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5b1d5ef57dbd7d0eef8e6a0f972bb1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5b1d5ef57dbd7d0eef8e6a0f972bb1c">&#9670;&nbsp;</a></span>jb_destroy_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jb_destroy_adaptive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00745">745</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00099">jb_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;{</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   <a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *adaptivejb = (<a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *) jb;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   <a class="code" href="../../dd/da9/jitterbuf_8h.html#a2714537be23d6bb12425ba8542c4b1f7">jb_destroy</a>(adaptivejb);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div><div class="ttc" id="structjitterbuf_html"><div class="ttname"><a href="../../dc/d50/structjitterbuf.html">jitterbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00107">jitterbuf.h:107</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_a2714537be23d6bb12425ba8542c4b1f7"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#a2714537be23d6bb12425ba8542c4b1f7">jb_destroy</a></div><div class="ttdeci">void jb_destroy(jitterbuf *jb)</div><div class="ttdoc">destroy jitterbuf </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00099">jitterbuf.c:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abcb45d2c8505def068211243395ccde2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcb45d2c8505def068211243395ccde2">&#9670;&nbsp;</a></span>jb_destroy_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jb_destroy_fixed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00635">635</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00127">fixed_jb_destroy()</a>, and <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00710">jb_empty_and_reset_fixed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;{</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *fixedjb = (<span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *) jb;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <span class="comment">/* Ensure the fixed jb is empty - otherwise it will raise an ASSERT */</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <a class="code" href="../../d3/d1d/abstract__jb_8c.html#ada58865ed9b0d523853282c74aebd560">jb_empty_and_reset_fixed</a>(jb);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   <span class="comment">/* destroy the jb */</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   <a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#abeafbe13f8a2d2dbec6e59c039a8741c">fixed_jb_destroy</a>(fixedjb);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div><div class="ttc" id="structfixed__jb_html"><div class="ttname"><a href="../../d4/de8/structfixed__jb.html">fixed_jb</a></div><div class="ttdoc">private fixed_jb structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00048">fixedjitterbuf.c:48</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_ada58865ed9b0d523853282c74aebd560"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#ada58865ed9b0d523853282c74aebd560">jb_empty_and_reset_fixed</a></div><div class="ttdeci">static void jb_empty_and_reset_fixed(void *jb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00710">abstract_jb.c:710</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_abeafbe13f8a2d2dbec6e59c039a8741c"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#abeafbe13f8a2d2dbec6e59c039a8741c">fixed_jb_destroy</a></div><div class="ttdeci">void fixed_jb_destroy(struct fixed_jb *jb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00127">fixedjitterbuf.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa70646a0eec8575d97b599ce9ce46ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa70646a0eec8575d97b599ce9ce46ae">&#9670;&nbsp;</a></span>jb_empty_and_reset_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jb_empty_and_reset_adaptive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00808">808</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../dd/da9/jitterbuf_8h_source.html#l00100">jb_frame::data</a>, <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00801">jb_getall()</a>, <a class="el" href="../../dd/da9/jitterbuf_8h_source.html#l00049">JB_OK</a>, and <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00072">jb_reset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;{</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   <a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *adaptivejb = jb;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <a class="code" href="../../d4/df4/structjb__frame.html">jb_frame</a> f;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   <span class="keywordflow">while</span> (<a class="code" href="../../dd/da9/jitterbuf_8h.html#aaca01cea1cbcba683ca6d5b0bc009666">jb_getall</a>(adaptivejb, &amp;f) == <a class="code" href="../../dd/da9/jitterbuf_8h.html#ad8d0ce8a0ebfabfe77a56b17b2d154f5abcbf2631f2f32ca1af2a49ff82bebaec">JB_OK</a>) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f.<a class="code" href="../../d4/df4/structjb__frame.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   <a class="code" href="../../dd/da9/jitterbuf_8h.html#a2c9efa9222ff9d7324a06c4a21b5ef72">jb_reset</a>(adaptivejb);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div><div class="ttc" id="structjitterbuf_html"><div class="ttname"><a href="../../dc/d50/structjitterbuf.html">jitterbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00107">jitterbuf.h:107</a></div></div>
<div class="ttc" id="structjb__frame_html"><div class="ttname"><a href="../../d4/df4/structjb__frame.html">jb_frame</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00099">jitterbuf.h:99</a></div></div>
<div class="ttc" id="structjb__frame_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/df4/structjb__frame.html#a735984d41155bc1032e09bece8f8d66d">jb_frame::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00100">jitterbuf.h:100</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_ad8d0ce8a0ebfabfe77a56b17b2d154f5abcbf2631f2f32ca1af2a49ff82bebaec"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#ad8d0ce8a0ebfabfe77a56b17b2d154f5abcbf2631f2f32ca1af2a49ff82bebaec">JB_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00049">jitterbuf.h:49</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_aaca01cea1cbcba683ca6d5b0bc009666"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#aaca01cea1cbcba683ca6d5b0bc009666">jb_getall</a></div><div class="ttdeci">enum jb_return_code jb_getall(jitterbuf *jb, jb_frame *frameout)</div><div class="ttdoc">unconditionally get frames from jitterbuf until empty </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00801">jitterbuf.c:801</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_a2c9efa9222ff9d7324a06c4a21b5ef72"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#a2c9efa9222ff9d7324a06c4a21b5ef72">jb_reset</a></div><div class="ttdeci">void jb_reset(jitterbuf *jb)</div><div class="ttdoc">reset jitterbuf </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00072">jitterbuf.c:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ada58865ed9b0d523853282c74aebd560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada58865ed9b0d523853282c74aebd560">&#9670;&nbsp;</a></span>jb_empty_and_reset_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jb_empty_and_reset_fixed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00710">710</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d4/d01/fixedjitterbuf_8h_source.html#l00058">fixed_jb_frame::data</a>, <a class="el" href="../../d4/d01/fixedjitterbuf_8h_source.html#l00036">FIXED_JB_OK</a>, and <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00340">fixed_jb_remove()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00635">jb_destroy_fixed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;{</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *fixedjb = jb;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d0b/structfixed__jb__frame.html">fixed_jb_frame</a> f;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   <span class="keywordflow">while</span> (<a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#aca299f79cffc484162cbb8deac80d511">fixed_jb_remove</a>(fixedjb, &amp;f) == <a class="code" href="../../d4/d01/fixedjitterbuf_8h.html#a464e2131a90240a4449f24135e8e3ca3ae434daf121142a5eb2ecfcace6f5a039">FIXED_JB_OK</a>) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f.data);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;}</div><div class="ttc" id="structfixed__jb_html"><div class="ttname"><a href="../../d4/de8/structfixed__jb.html">fixed_jb</a></div><div class="ttdoc">private fixed_jb structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00048">fixedjitterbuf.c:48</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_aca299f79cffc484162cbb8deac80d511"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#aca299f79cffc484162cbb8deac80d511">fixed_jb_remove</a></div><div class="ttdeci">int fixed_jb_remove(struct fixed_jb *jb, struct fixed_jb_frame *frameout)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00340">fixedjitterbuf.c:340</a></div></div>
<div class="ttc" id="structfixed__jb__frame_html"><div class="ttname"><a href="../../d7/d0b/structfixed__jb__frame.html">fixed_jb_frame</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/fixedjitterbuf_8h_source.html#l00056">fixedjitterbuf.h:56</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="fixedjitterbuf_8h_html_a464e2131a90240a4449f24135e8e3ca3ae434daf121142a5eb2ecfcace6f5a039"><div class="ttname"><a href="../../d4/d01/fixedjitterbuf_8h.html#a464e2131a90240a4449f24135e8e3ca3ae434daf121142a5eb2ecfcace6f5a039">FIXED_JB_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/fixedjitterbuf_8h_source.html#l00036">fixedjitterbuf.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa03c23606541409e6e3b5137d5f4a9c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa03c23606541409e6e3b5137d5f4a9c6">&#9670;&nbsp;</a></span>jb_force_resynch_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jb_force_resynch_adaptive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00804">804</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;{</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a3d74a011c952ca36c677e2fe73f284f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d74a011c952ca36c677e2fe73f284f1">&#9670;&nbsp;</a></span>jb_force_resynch_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jb_force_resynch_fixed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00703">703</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00179">fixed_jb_set_force_resynch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *fixedjb = (<span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *) jb;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#aef1b92e58c4a0bcc1cf5902e705b10ec">fixed_jb_set_force_resynch</a>(fixedjb);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div><div class="ttc" id="structfixed__jb_html"><div class="ttname"><a href="../../d4/de8/structfixed__jb.html">fixed_jb</a></div><div class="ttdoc">private fixed_jb structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00048">fixedjitterbuf.c:48</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_aef1b92e58c4a0bcc1cf5902e705b10ec"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#aef1b92e58c4a0bcc1cf5902e705b10ec">fixed_jb_set_force_resynch</a></div><div class="ttdeci">void fixed_jb_set_force_resynch(struct fixed_jb *jb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00179">fixedjitterbuf.c:179</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3201602b2a4d390719285c70d872efb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3201602b2a4d390719285c70d872efb3">&#9670;&nbsp;</a></span>jb_framedata_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jb_framedata_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3d/structjb__framedata.html">jb_framedata</a> *&#160;</td>
          <td class="paramname"><em>framedata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00867">867</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00058">AST_JB_IMPL_OK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../d3/d62/timing_8c_source.html#l00154">ast_timer_close()</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00126">ast_jb_impl::destroy</a>, <a class="el" href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">jb_framedata::early_frames</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00848">jb_framedata::jb_impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00864">jb_framedata::jb_obj</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00851">jb_framedata::last_format</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00131">ast_jb_impl::remove</a>, and <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00852">jb_framedata::timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01257">ast_jb_create_framehook()</a>, and <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00909">hook_destroy_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;{</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="keywordflow">if</span> (framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">timer</a>) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <a class="code" href="../../db/d41/timing_8h.html#a2a5968baf9962dedeeda855fd5ed9c75">ast_timer_close</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">timer</a>);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">timer</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <span class="keywordflow">if</span> (framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a> &amp;&amp; framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a>) {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">while</span> (framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a66c0c9ee34addeb93c5adca833649f9b">remove</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a>, &amp;f) == <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>) {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a2deddc2d4df26e6e0e3ebde6c98f6647">destroy</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a>);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a881412d6eb645e7b950da7a680f9af92">last_format</a>);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <span class="keywordflow">while</span> ((frame = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">early_frames</a>, <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>))) {</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(frame);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(framedata);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div><div class="ttc" id="structjb__framedata_html_a289362ef46b27fcf918764e84f50ab27"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_framedata::jb_obj</a></div><div class="ttdeci">void * jb_obj</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00864">abstract_jb.c:864</a></div></div>
<div class="ttc" id="structjb__framedata_html_a881412d6eb645e7b950da7a680f9af92"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a881412d6eb645e7b950da7a680f9af92">jb_framedata::last_format</a></div><div class="ttdeci">struct ast_format * last_format</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00851">abstract_jb.c:851</a></div></div>
<div class="ttc" id="structjb__framedata_html_a7c4c58590593c6aa9f1e8d9076563330"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">jb_framedata::early_frames</a></div><div class="ttdeci">struct jb_framedata::@332 early_frames</div></div>
<div class="ttc" id="structast__jb__impl_html_a2deddc2d4df26e6e0e3ebde6c98f6647"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a2deddc2d4df26e6e0e3ebde6c98f6647">ast_jb_impl::destroy</a></div><div class="ttdeci">jb_destroy_impl destroy</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00126">abstract_jb.h:126</a></div></div>
<div class="ttc" id="timing_8h_html_a2a5968baf9962dedeeda855fd5ed9c75"><div class="ttname"><a href="../../db/d41/timing_8h.html#a2a5968baf9962dedeeda855fd5ed9c75">ast_timer_close</a></div><div class="ttdeci">void ast_timer_close(struct ast_timer *handle)</div><div class="ttdoc">Close an opened timing handle. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d62/timing_8c_source.html#l00154">timing.c:154</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a66c0c9ee34addeb93c5adca833649f9b"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a66c0c9ee34addeb93c5adca833649f9b">ast_jb_impl::remove</a></div><div class="ttdeci">jb_remove_impl remove</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00131">abstract_jb.h:131</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="structjb__framedata_html_a9aed6490b63794e6c9c00af4533f255f"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">jb_framedata::timer</a></div><div class="ttdeci">struct ast_timer * timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00852">abstract_jb.c:852</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00058">abstract_jb.h:58</a></div></div>
<div class="ttc" id="structframe__list_html"><div class="ttname"><a href="../../d9/d42/structframe__list.html">frame_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00590">res_rtp_asterisk.c:590</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structjb__framedata_html_af1728e1ccf486b703502914a7ce6d12e"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_framedata::jb_impl</a></div><div class="ttdeci">const struct ast_jb_impl * jb_impl</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00848">abstract_jb.c:848</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae50aa46229d1cfe5f2c8bdc3f5f6f55b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae50aa46229d1cfe5f2c8bdc3f5f6f55b">&#9670;&nbsp;</a></span>jb_framedata_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_framedata_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3d/structjb__framedata.html">jb_framedata</a> *&#160;</td>
          <td class="paramname"><em>framedata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a> *&#160;</td>
          <td class="paramname"><em>jb_conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01217">1217</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00053">AST_JB_ADAPTIVE</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00052">AST_JB_FIXED</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00820">ast_jb_get_impl()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d62/timing_8c_source.html#l00161">ast_timer_fd()</a>, <a class="el" href="../../d3/d62/timing_8c_source.html#l00122">ast_timer_open()</a>, <a class="el" href="../../d3/d62/timing_8c_source.html#l00166">ast_timer_set_rate()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00856">jb_framedata::audio_stream_id</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00125">ast_jb_impl::create</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00836">DEFAULT_TIMER_INTERVAL</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00840">DEFAULT_TYPE</a>, <a class="el" href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">jb_framedata::early_frames</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00078">ast_jb_conf::impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00849">jb_framedata::jb_conf</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00848">jb_framedata::jb_impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00864">jb_framedata::jb_obj</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00850">jb_framedata::start_tv</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00852">jb_framedata::timer</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00854">jb_framedata::timer_fd</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00853">jb_framedata::timer_interval</a>, and <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00858">jb_framedata::video_stream_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l01257">ast_jb_create_framehook()</a>.</p>
<div class="fragment"><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;{</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   <span class="keywordtype">int</span> jb_impl_type = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a94963595d5ef7b725db113d27acc5e06">DEFAULT_TYPE</a>;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   <span class="comment">/* Initialize defaults */</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;   framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a4d58aec63a06c1c3f10408dbbd39707c">timer_fd</a> = -1;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   memcpy(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a09abe21e12f90d900a42e110cd0e3310">jb_conf</a>, jb_conf, <span class="keyword">sizeof</span>(*jb_conf));</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;   <span class="comment">/* Figure out implementation type from the configuration implementation string */</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(jb_conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>)) {</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(jb_conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>, <span class="stringliteral">&quot;fixed&quot;</span>)) {</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;         jb_impl_type = <a class="code" href="../../dc/d14/abstract__jb_8h.html#a62f2b791bf691dbcc3a5b47baabd2ab2ac406c3d472ed95c4ba35ec1676102e2d">AST_JB_FIXED</a>;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(jb_conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>, <span class="stringliteral">&quot;adaptive&quot;</span>)) {</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;         jb_impl_type = <a class="code" href="../../dc/d14/abstract__jb_8h.html#a62f2b791bf691dbcc3a5b47baabd2ab2a7cfb6a3204df1d5e60192a6693e9a748">AST_JB_ADAPTIVE</a>;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown Jitterbuffer type %s. Failed to create jitterbuffer.\n&quot;</span>, jb_conf-&gt;<a class="code" href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">impl</a>);</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      }</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   }</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   <span class="keywordflow">if</span> (!(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a> = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a768072c50b5af7cb3b1e538aa275d696">ast_jb_get_impl</a>(jb_impl_type))) {</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   }</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   <span class="keywordflow">if</span> (!(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">timer</a> = <a class="code" href="../../db/d41/timing_8h.html#aacc341f127efc0dc0d62f6415694174a">ast_timer_open</a>())) {</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a52669d6efa51b9bf4482ef03023896f4">audio_stream_id</a> = -1;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9dc4bd3a4309d72fbc1982dbaa6c2fea">video_stream_id</a> = -1;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">early_frames</a>);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a4d58aec63a06c1c3f10408dbbd39707c">timer_fd</a> = <a class="code" href="../../db/d41/timing_8h.html#aa3aa7580d76e1d3f7927b3f34764dec2">ast_timer_fd</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">timer</a>);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">timer_interval</a> = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a88eaab4a800fe8e63d61e1d52dc3bfd3">DEFAULT_TIMER_INTERVAL</a>;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <a class="code" href="../../db/d41/timing_8h.html#a4dae39fb5fb680a48a05d7567053eb03">ast_timer_set_rate</a>(framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">timer</a>, 1000 / framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">timer_interval</a>);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a7dcd0d5da5c2252edf4d11d1c906a91e">start_tv</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_obj</a> = framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_impl</a>-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#aa09fad8ce9439495f357baf080e4e938">create</a>(&amp;framedata-&gt;<a class="code" href="../../d8/d3d/structjb__framedata.html#a09abe21e12f90d900a42e110cd0e3310">jb_conf</a>);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;}</div><div class="ttc" id="structjb__framedata_html_a289362ef46b27fcf918764e84f50ab27"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a289362ef46b27fcf918764e84f50ab27">jb_framedata::jb_obj</a></div><div class="ttdeci">void * jb_obj</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00864">abstract_jb.c:864</a></div></div>
<div class="ttc" id="structast__jb__impl_html_aa09fad8ce9439495f357baf080e4e938"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#aa09fad8ce9439495f357baf080e4e938">ast_jb_impl::create</a></div><div class="ttdeci">jb_create_impl create</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00125">abstract_jb.h:125</a></div></div>
<div class="ttc" id="structjb__framedata_html_a7c4c58590593c6aa9f1e8d9076563330"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a7c4c58590593c6aa9f1e8d9076563330">jb_framedata::early_frames</a></div><div class="ttdeci">struct jb_framedata::@332 early_frames</div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="timing_8h_html_aacc341f127efc0dc0d62f6415694174a"><div class="ttname"><a href="../../db/d41/timing_8h.html#aacc341f127efc0dc0d62f6415694174a">ast_timer_open</a></div><div class="ttdeci">struct ast_timer * ast_timer_open(void)</div><div class="ttdoc">Open a timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d62/timing_8c_source.html#l00122">timing.c:122</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a62f2b791bf691dbcc3a5b47baabd2ab2a7cfb6a3204df1d5e60192a6693e9a748"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a62f2b791bf691dbcc3a5b47baabd2ab2a7cfb6a3204df1d5e60192a6693e9a748">AST_JB_ADAPTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00053">abstract_jb.h:53</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a88eaab4a800fe8e63d61e1d52dc3bfd3"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a88eaab4a800fe8e63d61e1d52dc3bfd3">DEFAULT_TIMER_INTERVAL</a></div><div class="ttdeci">#define DEFAULT_TIMER_INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00836">abstract_jb.c:836</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structjb__framedata_html_a9dc4bd3a4309d72fbc1982dbaa6c2fea"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a9dc4bd3a4309d72fbc1982dbaa6c2fea">jb_framedata::video_stream_id</a></div><div class="ttdeci">int video_stream_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00858">abstract_jb.c:858</a></div></div>
<div class="ttc" id="structjb__framedata_html_a9aed6490b63794e6c9c00af4533f255f"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a9aed6490b63794e6c9c00af4533f255f">jb_framedata::timer</a></div><div class="ttdeci">struct ast_timer * timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00852">abstract_jb.c:852</a></div></div>
<div class="ttc" id="structjb__framedata_html_a52669d6efa51b9bf4482ef03023896f4"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a52669d6efa51b9bf4482ef03023896f4">jb_framedata::audio_stream_id</a></div><div class="ttdeci">int audio_stream_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00856">abstract_jb.c:856</a></div></div>
<div class="ttc" id="structast__jb__conf_html_a60072c5fdc7f8f7772e49783b48e37a6"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html#a60072c5fdc7f8f7772e49783b48e37a6">ast_jb_conf::impl</a></div><div class="ttdeci">char impl[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdoc">Name of the jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00078">abstract_jb.h:78</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a768072c50b5af7cb3b1e538aa275d696"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a768072c50b5af7cb3b1e538aa275d696">ast_jb_get_impl</a></div><div class="ttdeci">const struct ast_jb_impl * ast_jb_get_impl(enum ast_jb_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00820">abstract_jb.c:820</a></div></div>
<div class="ttc" id="structjb__framedata_html_ab27c0cee1abf50873b7df3cbc090f50f"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#ab27c0cee1abf50873b7df3cbc090f50f">jb_framedata::timer_interval</a></div><div class="ttdeci">int timer_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00853">abstract_jb.c:853</a></div></div>
<div class="ttc" id="structjb__framedata_html_a09abe21e12f90d900a42e110cd0e3310"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a09abe21e12f90d900a42e110cd0e3310">jb_framedata::jb_conf</a></div><div class="ttdeci">struct ast_jb_conf jb_conf</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00849">abstract_jb.c:849</a></div></div>
<div class="ttc" id="timing_8h_html_aa3aa7580d76e1d3f7927b3f34764dec2"><div class="ttname"><a href="../../db/d41/timing_8h.html#aa3aa7580d76e1d3f7927b3f34764dec2">ast_timer_fd</a></div><div class="ttdeci">int ast_timer_fd(const struct ast_timer *handle)</div><div class="ttdoc">Get a poll()-able file descriptor for a timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d62/timing_8c_source.html#l00161">timing.c:161</a></div></div>
<div class="ttc" id="timing_8h_html_a4dae39fb5fb680a48a05d7567053eb03"><div class="ttname"><a href="../../db/d41/timing_8h.html#a4dae39fb5fb680a48a05d7567053eb03">ast_timer_set_rate</a></div><div class="ttdeci">int ast_timer_set_rate(const struct ast_timer *handle, unsigned int rate)</div><div class="ttdoc">Set the timing tick rate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d62/timing_8c_source.html#l00166">timing.c:166</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="structjb__framedata_html_a7dcd0d5da5c2252edf4d11d1c906a91e"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a7dcd0d5da5c2252edf4d11d1c906a91e">jb_framedata::start_tv</a></div><div class="ttdeci">struct timeval start_tv</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00850">abstract_jb.c:850</a></div></div>
<div class="ttc" id="structjb__framedata_html_a4d58aec63a06c1c3f10408dbbd39707c"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#a4d58aec63a06c1c3f10408dbbd39707c">jb_framedata::timer_fd</a></div><div class="ttdeci">int timer_fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00854">abstract_jb.c:854</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a94963595d5ef7b725db113d27acc5e06"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a94963595d5ef7b725db113d27acc5e06">DEFAULT_TYPE</a></div><div class="ttdeci">#define DEFAULT_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00840">abstract_jb.c:840</a></div></div>
<div class="ttc" id="structjb__framedata_html_af1728e1ccf486b703502914a7ce6d12e"><div class="ttname"><a href="../../d8/d3d/structjb__framedata.html#af1728e1ccf486b703502914a7ce6d12e">jb_framedata::jb_impl</a></div><div class="ttdeci">const struct ast_jb_impl * jb_impl</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00848">abstract_jb.c:848</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_a62f2b791bf691dbcc3a5b47baabd2ab2ac406c3d472ed95c4ba35ec1676102e2d"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#a62f2b791bf691dbcc3a5b47baabd2ab2ac406c3d472ed95c4ba35ec1676102e2d">AST_JB_FIXED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00052">abstract_jb.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f67e271e84cb1a28aee93f4c10958ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f67e271e84cb1a28aee93f4c10958ea">&#9670;&nbsp;</a></span>jb_get_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_get_adaptive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> **&#160;</td>
          <td class="paramname"><em>fout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>interpl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00770">770</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d55/main_2frame_8c_source.html#l00079">ast_null_frame</a>, <a class="el" href="../../dd/da9/jitterbuf_8h_source.html#l00100">jb_frame::data</a>, and <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00785">jb_get()</a>.</p>
<div class="fragment"><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;{</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   <a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *adaptivejb = (<a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *) jb;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   <a class="code" href="../../d4/df4/structjb__frame.html">jb_frame</a> frame = { .<a class="code" href="../../d4/df4/structjb__frame.html#a735984d41155bc1032e09bece8f8d66d">data</a> = &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a> };</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   res = <a class="code" href="../../dd/da9/jitterbuf_8h.html#a37158045e8af38a69ab6d15ee51dc08e">jb_get</a>(adaptivejb, &amp;frame, now, interpl);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   *fout = frame.<a class="code" href="../../d4/df4/structjb__frame.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d1d/abstract__jb_8c.html#aa77c255618de758cf53f0912d853359b">adaptive_to_abstract_code</a>[res];</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;}</div><div class="ttc" id="structjitterbuf_html"><div class="ttname"><a href="../../dc/d50/structjitterbuf.html">jitterbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00107">jitterbuf.h:107</a></div></div>
<div class="ttc" id="structjb__frame_html"><div class="ttname"><a href="../../d4/df4/structjb__frame.html">jb_frame</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00099">jitterbuf.h:99</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_a37158045e8af38a69ab6d15ee51dc08e"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#a37158045e8af38a69ab6d15ee51dc08e">jb_get</a></div><div class="ttdeci">enum jb_return_code jb_get(jitterbuf *jb, jb_frame *frame, long now, long interpl)</div><div class="ttdoc">get a frame for time now (receiver&amp;#39;s time) return value is one of JB_OK: You&amp;#39;ve got frame! JB_DROP: H...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00785">jitterbuf.c:785</a></div></div>
<div class="ttc" id="structjb__frame_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/df4/structjb__frame.html#a735984d41155bc1032e09bece8f8d66d">jb_frame::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00100">jitterbuf.h:100</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_aa77c255618de758cf53f0912d853359b"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#aa77c255618de758cf53f0912d853359b">adaptive_to_abstract_code</a></div><div class="ttdeci">static const int adaptive_to_abstract_code[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00123">abstract_jb.c:123</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_af203379aca2fd704fe8d86a9445596b6"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a></div><div class="ttdeci">struct ast_frame ast_null_frame</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d55/main_2frame_8c_source.html#l00079">main/frame.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cb94ef2c28559777814eaa4a4b12e0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb94ef2c28559777814eaa4a4b12e0f">&#9670;&nbsp;</a></span>jb_get_and_deliver()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jb_get_and_deliver </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00353">353</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00517">ao2_replace</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00884">ast_channel_jb()</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00359">ast_format_get_default_ms()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00229">AST_FRIENDLY_OFFSET</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00059">AST_JB_IMPL_DROP</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00060">AST_JB_IMPL_INTERP</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00061">AST_JB_IMPL_NOFRAME</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00058">AST_JB_IMPL_OK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00238">ast_samp2tv()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02283">ast_tvadd()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05189">ast_write()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00185">ast_frame::delivery</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">ast_frame_subclass::format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00129">ast_jb_impl::get</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00532">get_now()</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00145">ast_jb::impl</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00130">jb_framelog</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00147">ast_jb::jbobj</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00153">ast_jb::last_format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">ast_frame::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00123">ast_jb_impl::name</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00130">ast_jb_impl::next</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00151">ast_jb::next</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00187">ast_frame::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00179">ast_frame::offset</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">ast_frame::samples</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">ast_frame::src</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, <a class="el" href="../../dc/d14/abstract__jb_8h_source.html#l00149">ast_jb::timebase</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">ast_frame::ts</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00336">ast_jb_get_and_deliver()</a>.</p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dec/structast__jb.html">ast_jb</a> *jb = <a class="code" href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a>(chan);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a> *jbimpl = jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">impl</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="keywordtype">void</span> *jbobj = jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">jbobj</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f, finterp = { .<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>, };</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <span class="keywordtype">long</span> now;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keywordtype">int</span> interpolation_len, res;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   now = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a>(jb, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a> = jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">next</a>(jbobj);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   <span class="keywordflow">if</span> (now &lt; jb-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ab4e8c55ce77c41613265ebd227f90cc9">next</a>) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(<span class="stringliteral">&quot;\tJB_GET {now=%ld}: now &lt; next=%ld\n&quot;</span>, now, jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="keywordflow">while</span> (now &gt;= jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a>) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      interpolation_len = <a class="code" href="../../d0/d0a/format_8h.html#aa15010a220a06dae92ecc816dd5a0727">ast_format_get_default_ms</a>(jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a881412d6eb645e7b950da7a680f9af92">last_format</a>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      res = jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a14c509af9f72b5c0da46d422ec5bfc0e">get</a>(jbobj, &amp;f, now, interpolation_len);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">switch</span> (res) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>:</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;         <span class="comment">/* deliver the frame */</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a79c413d51b7135404d5cacf811649a61">ast_write</a>(chan, f);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3">AST_JB_IMPL_DROP</a>:</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;         <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(<span class="stringliteral">&quot;\tJB_GET {now=%ld}: %s frame with ts=%ld and len=%ld\n&quot;</span>,</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            now, <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a9a01c1a3a08514c4d64f0b36ea40bd08">jb_get_actions</a>[res], f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a>(jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a881412d6eb645e7b950da7a680f9af92">last_format</a>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a">AST_JB_IMPL_INTERP</a>:</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;         <span class="comment">/* interpolate a frame */</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;         f = &amp;finterp;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;         f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a> = jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a881412d6eb645e7b950da7a680f9af92">last_format</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;         f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a>  = interpolation_len * 8;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;         f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">src</a>  = <span class="stringliteral">&quot;JB interpolation&quot;</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;         f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a41a708025486b4c9383e7432e9ba3f0e">delivery</a> = <a class="code" href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a>(jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">timebase</a>, <a class="code" href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a>(jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a>, 1000));</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;         f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aed7ea92f45bd273dde380a45ddced592">offset</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ac8f7380b8620c80443286b44481f641c">AST_FRIENDLY_OFFSET</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;         <span class="comment">/* deliver the interpolated frame */</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a79c413d51b7135404d5cacf811649a61">ast_write</a>(chan, f);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;         <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(<span class="stringliteral">&quot;\tJB_GET {now=%ld}: Interpolated frame with len=%d\n&quot;</span>, now, interpolation_len);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4">AST_JB_IMPL_NOFRAME</a>:</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="stringliteral">&quot;AST_JB_IMPL_NOFRAME is returned from the %s jb when now=%ld &gt;= next=%ld, jbnext=%ld!\n&quot;</span>,</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a5276c0a183c322592ca4435cf76f8fb2">name</a>, now, jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a>, jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">next</a>(jbobj));</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;         <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a>(<span class="stringliteral">&quot;\tJB_GET {now=%ld}: No frame for now!?\n&quot;</span>, now);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;This should never happen!\n&quot;</span>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<span class="stringliteral">&quot;JB type unknown&quot;</span> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      jb-&gt;<a class="code" href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">next</a> = jbimpl-&gt;<a class="code" href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">next</a>(jbobj);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div><div class="ttc" id="structast__frame_html_aed7ea92f45bd273dde380a45ddced592"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aed7ea92f45bd273dde380a45ddced592">ast_frame::offset</a></div><div class="ttdeci">int offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00179">include/asterisk/frame.h:179</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a9343b518a13ed73bb3f42c41792d7dee"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a9343b518a13ed73bb3f42c41792d7dee">ast_jb_impl::next</a></div><div class="ttdeci">jb_next_impl next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00130">abstract_jb.h:130</a></div></div>
<div class="ttc" id="structast__jb_html_ae56168891923428b99ae96eaeb2a7bae"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ae56168891923428b99ae96eaeb2a7bae">ast_jb::impl</a></div><div class="ttdeci">const struct ast_jb_impl * impl</div><div class="ttdoc">Jitterbuffer implementation to be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00145">abstract_jb.h:145</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="structast__frame_html_a1eb46dcb363821328c0d2a758549216b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ast_frame::ts</a></div><div class="ttdeci">long ts</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">include/asterisk/frame.h:191</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a14c509af9f72b5c0da46d422ec5bfc0e"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a14c509af9f72b5c0da46d422ec5bfc0e">ast_jb_impl::get</a></div><div class="ttdeci">jb_get_impl get</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00129">abstract_jb.h:129</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a9a01c1a3a08514c4d64f0b36ea40bd08"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a9a01c1a3a08514c4d64f0b36ea40bd08">jb_get_actions</a></div><div class="ttdeci">static const char *const jb_get_actions[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00127">abstract_jb.c:127</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a1f09f2a933351d824c96a8f614261e5c"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a1f09f2a933351d824c96a8f614261e5c">get_now</a></div><div class="ttdeci">static long get_now(struct ast_jb *jb, struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00532">abstract_jb.c:532</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a25587b898af76bc590a5d2905a160786"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a25587b898af76bc590a5d2905a160786">jb_framelog</a></div><div class="ttdeci">#define jb_framelog(...)</div><div class="ttdoc">Macros for the frame log files. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00130">abstract_jb.c:130</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ac8f7380b8620c80443286b44481f641c"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ac8f7380b8620c80443286b44481f641c">AST_FRIENDLY_OFFSET</a></div><div class="ttdeci">#define AST_FRIENDLY_OFFSET</div><div class="ttdoc">Offset into a frame&amp;#39;s data buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00229">include/asterisk/frame.h:229</a></div></div>
<div class="ttc" id="structast__frame_html_af51e37c9331049b1e3d250a7c8bc3c26"><div class="ttname"><a href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">ast_frame::src</a></div><div class="ttdeci">const char * src</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">include/asterisk/frame.h:181</a></div></div>
<div class="ttc" id="time_8h_html_a1d774df72e3dbb623475783e06ce4f61"><div class="ttname"><a href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a></div><div class="ttdeci">struct timeval ast_samp2tv(unsigned int _nsamp, unsigned int _rate)</div><div class="ttdoc">Returns a timeval corresponding to the duration of n samples at rate r. Useful to convert samples to ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00238">time.h:238</a></div></div>
<div class="ttc" id="structast__jb_html_a51035317dc8789dd45eb2879177fea07"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a51035317dc8789dd45eb2879177fea07">ast_jb::jbobj</a></div><div class="ttdeci">void * jbobj</div><div class="ttdoc">Jitterbuffer object, passed to the implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00147">abstract_jb.h:147</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3">AST_JB_IMPL_DROP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00059">abstract_jb.h:59</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00058">abstract_jb.h:58</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="time_8h_html_a97e1bb8fbd7a103212789e87e7ed6073"><div class="ttname"><a href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a></div><div class="ttdeci">struct timeval ast_tvadd(struct timeval a, struct timeval b)</div><div class="ttdoc">Returns the sum of two timevals a + b. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02283">extconf.c:2283</a></div></div>
<div class="ttc" id="structast__jb_html"><div class="ttname"><a href="../../d8/dec/structast__jb.html">ast_jb</a></div><div class="ttdoc">General jitterbuffer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00140">abstract_jb.h:140</a></div></div>
<div class="ttc" id="format_8h_html_aa15010a220a06dae92ecc816dd5a0727"><div class="ttname"><a href="../../d0/d0a/format_8h.html#aa15010a220a06dae92ecc816dd5a0727">ast_format_get_default_ms</a></div><div class="ttdeci">unsigned int ast_format_get_default_ms(const struct ast_format *format)</div><div class="ttdoc">Get the default framing size (in milliseconds) for a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00359">format.c:359</a></div></div>
<div class="ttc" id="channel_8h_html_a79c413d51b7135404d5cacf811649a61"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a79c413d51b7135404d5cacf811649a61">ast_write</a></div><div class="ttdeci">int ast_write(struct ast_channel *chan, struct ast_frame *frame)</div><div class="ttdoc">Write a frame to a channel This function writes the given frame to the indicated channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05189">channel.c:5189</a></div></div>
<div class="ttc" id="channel_8h_html_af2d35c63194d69bd4aaa622818c71a5c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af2d35c63194d69bd4aaa622818c71a5c">ast_channel_jb</a></div><div class="ttdeci">struct ast_jb * ast_channel_jb(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00884">channel_internal_api.c:884</a></div></div>
<div class="ttc" id="structast__frame_html_a41a708025486b4c9383e7432e9ba3f0e"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a41a708025486b4c9383e7432e9ba3f0e">ast_frame::delivery</a></div><div class="ttdeci">struct timeval delivery</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00185">include/asterisk/frame.h:185</a></div></div>
<div class="ttc" id="structast__jb__impl_html_a5276c0a183c322592ca4435cf76f8fb2"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html#a5276c0a183c322592ca4435cf76f8fb2">ast_jb_impl::name</a></div><div class="ttdeci">char name[AST_JB_IMPL_NAME_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00123">abstract_jb.h:123</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa81c8462bd0574f4f9e09e71f2772f44"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a></div><div class="ttdeci">#define ao2_replace(dst, src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00517">astobj2.h:517</a></div></div>
<div class="ttc" id="structast__frame_html_ab4e8c55ce77c41613265ebd227f90cc9"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ab4e8c55ce77c41613265ebd227f90cc9">ast_frame::next</a></div><div class="ttdeci">struct ast_frame * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00187">include/asterisk/frame.h:187</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structast__jb_html_a881412d6eb645e7b950da7a680f9af92"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a881412d6eb645e7b950da7a680f9af92">ast_jb::last_format</a></div><div class="ttdeci">struct ast_format * last_format</div><div class="ttdoc">Voice format of the last frame in. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00153">abstract_jb.h:153</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a">AST_JB_IMPL_INTERP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00060">abstract_jb.h:60</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">ast_frame_subclass::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">include/asterisk/frame.h:155</a></div></div>
<div class="ttc" id="structast__jb_html_ab0653ad203e83c307faf381f663e4649"><div class="ttname"><a href="../../d8/dec/structast__jb.html#ab0653ad203e83c307faf381f663e4649">ast_jb::timebase</a></div><div class="ttdeci">struct timeval timebase</div><div class="ttdoc">The time the jitterbuffer was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00149">abstract_jb.h:149</a></div></div>
<div class="ttc" id="structast__jb__impl_html"><div class="ttname"><a href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a></div><div class="ttdoc">Jitterbuffer implementation struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00121">abstract_jb.h:121</a></div></div>
<div class="ttc" id="structast__frame_html_aaccba9d5adc3f6c39aad767db95ba484"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">ast_frame::len</a></div><div class="ttdeci">long len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">include/asterisk/frame.h:193</a></div></div>
<div class="ttc" id="structast__frame_html_a37672e6b906143604cefd3e959777b31"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">ast_frame::samples</a></div><div class="ttdeci">int samples</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">include/asterisk/frame.h:173</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4">AST_JB_IMPL_NOFRAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00061">abstract_jb.h:61</a></div></div>
<div class="ttc" id="structast__jb_html_a7c51e0a99ee5dbb8d94870937e62f4c0"><div class="ttname"><a href="../../d8/dec/structast__jb.html#a7c51e0a99ee5dbb8d94870937e62f4c0">ast_jb::next</a></div><div class="ttdeci">long next</div><div class="ttdoc">The time the next frame should be played. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00151">abstract_jb.h:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0cfc3efbefa40327321a552239879b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0cfc3efbefa40327321a552239879b2">&#9670;&nbsp;</a></span>jb_get_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_get_fixed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> **&#160;</td>
          <td class="paramname"><em>fout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>interpl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00669">669</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d55/main_2frame_8c_source.html#l00079">ast_null_frame</a>, <a class="el" href="../../d4/d01/fixedjitterbuf_8h_source.html#l00058">fixed_jb_frame::data</a>, and <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00291">fixed_jb_get()</a>.</p>
<div class="fragment"><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;{</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *fixedjb = (<span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *) jb;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d0b/structfixed__jb__frame.html">fixed_jb_frame</a> frame = { .<a class="code" href="../../d7/d0b/structfixed__jb__frame.html#a735984d41155bc1032e09bece8f8d66d">data</a> = &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a> };</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   res = <a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#a8f1f855738e56421bde17723171cb349">fixed_jb_get</a>(fixedjb, &amp;frame, now, interpl);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   *fout = frame.<a class="code" href="../../d7/d0b/structfixed__jb__frame.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3ef9909522cec7d1688949110a399aed">fixed_to_abstract_code</a>[res];</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div><div class="ttc" id="structfixed__jb_html"><div class="ttname"><a href="../../d4/de8/structfixed__jb.html">fixed_jb</a></div><div class="ttdoc">private fixed_jb structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00048">fixedjitterbuf.c:48</a></div></div>
<div class="ttc" id="structfixed__jb__frame_html"><div class="ttname"><a href="../../d7/d0b/structfixed__jb__frame.html">fixed_jb_frame</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/fixedjitterbuf_8h_source.html#l00056">fixedjitterbuf.h:56</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_a8f1f855738e56421bde17723171cb349"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#a8f1f855738e56421bde17723171cb349">fixed_jb_get</a></div><div class="ttdeci">int fixed_jb_get(struct fixed_jb *jb, struct fixed_jb_frame *frame, long now, long interpl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00291">fixedjitterbuf.c:291</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a3ef9909522cec7d1688949110a399aed"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a3ef9909522cec7d1688949110a399aed">fixed_to_abstract_code</a></div><div class="ttdeci">static const int fixed_to_abstract_code[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00121">abstract_jb.c:121</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_af203379aca2fd704fe8d86a9445596b6"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a></div><div class="ttdeci">struct ast_frame ast_null_frame</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d55/main_2frame_8c_source.html#l00079">main/frame.c:79</a></div></div>
<div class="ttc" id="structfixed__jb__frame_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d7/d0b/structfixed__jb__frame.html#a735984d41155bc1032e09bece8f8d66d">fixed_jb_frame::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/fixedjitterbuf_8h_source.html#l00058">fixedjitterbuf.h:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3044cd192a1ebb0ad6abe3a14b1b37a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3044cd192a1ebb0ad6abe3a14b1b37a9">&#9670;&nbsp;</a></span>jb_is_late_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_is_late_adaptive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00831">831</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00846">jb_is_late()</a>.</p>
<div class="fragment"><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;{</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/da9/jitterbuf_8h.html#a219d5d9d3faa74055cb85220798e7eb1">jb_is_late</a>(jb, <a class="code" href="../../d7/d0b/structfixed__jb__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;}</div><div class="ttc" id="jitterbuf_8h_html_a219d5d9d3faa74055cb85220798e7eb1"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#a219d5d9d3faa74055cb85220798e7eb1">jb_is_late</a></div><div class="ttdeci">int jb_is_late(jitterbuf *jb, long ts)</div><div class="ttdoc">Checks if the given time stamp is late. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00846">jitterbuf.c:846</a></div></div>
<div class="ttc" id="structfixed__jb__frame_html_a1eb46dcb363821328c0d2a758549216b"><div class="ttname"><a href="../../d7/d0b/structfixed__jb__frame.html#a1eb46dcb363821328c0d2a758549216b">fixed_jb_frame::ts</a></div><div class="ttdeci">long ts</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/fixedjitterbuf_8h_source.html#l00059">fixedjitterbuf.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afe70d902c3f5aae34e06f37484e17268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe70d902c3f5aae34e06f37484e17268">&#9670;&nbsp;</a></span>jb_is_late_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_is_late_fixed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00720">720</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00350">fixed_jb_is_late()</a>.</p>
<div class="fragment"><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#ab10ab00ad335af7779834534ffb73fe7">fixed_jb_is_late</a>(jb, <a class="code" href="../../d7/d0b/structfixed__jb__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div><div class="ttc" id="structfixed__jb__frame_html_a1eb46dcb363821328c0d2a758549216b"><div class="ttname"><a href="../../d7/d0b/structfixed__jb__frame.html#a1eb46dcb363821328c0d2a758549216b">fixed_jb_frame::ts</a></div><div class="ttdeci">long ts</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/fixedjitterbuf_8h_source.html#l00059">fixedjitterbuf.h:59</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_ab10ab00ad335af7779834534ffb73fe7"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#ab10ab00ad335af7779834534ffb73fe7">fixed_jb_is_late</a></div><div class="ttdeci">int fixed_jb_is_late(struct fixed_jb *jb, long ts)</div><div class="ttdoc">Checks if the given time stamp is late. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00350">fixedjitterbuf.c:350</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a56b96eefcf15ae5ce37a7cdffbd65745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56b96eefcf15ae5ce37a7cdffbd65745">&#9670;&nbsp;</a></span>jb_next_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long jb_next_adaptive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00783">783</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00767">jb_next()</a>.</p>
<div class="fragment"><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   <a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *adaptivejb = (<a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *) jb;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/da9/jitterbuf_8h.html#a72883f3dc8328524ab3930122946e0a0">jb_next</a>(adaptivejb);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div><div class="ttc" id="structjitterbuf_html"><div class="ttname"><a href="../../dc/d50/structjitterbuf.html">jitterbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00107">jitterbuf.h:107</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_a72883f3dc8328524ab3930122946e0a0"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#a72883f3dc8328524ab3930122946e0a0">jb_next</a></div><div class="ttdeci">long jb_next(jitterbuf *jb)</div><div class="ttdoc">when is the next frame due out, in receiver&amp;#39;s time (0=EMPTY) This value may change as frames are adde...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00767">jitterbuf.c:767</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a63c65444eb6fcdb991ff9af96b8ea31f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c65444eb6fcdb991ff9af96b8ea31f">&#9670;&nbsp;</a></span>jb_next_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long jb_next_fixed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00682">682</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00334">fixed_jb_next()</a>.</p>
<div class="fragment"><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;{</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *fixedjb = (<span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *) jb;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#a804095f8968987ae58a5effdccd862d1">fixed_jb_next</a>(fixedjb);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div><div class="ttc" id="structfixed__jb_html"><div class="ttname"><a href="../../d4/de8/structfixed__jb.html">fixed_jb</a></div><div class="ttdoc">private fixed_jb structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00048">fixedjitterbuf.c:48</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_a804095f8968987ae58a5effdccd862d1"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#a804095f8968987ae58a5effdccd862d1">fixed_jb_next</a></div><div class="ttdeci">long fixed_jb_next(struct fixed_jb *jb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00334">fixedjitterbuf.c:334</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a483b38f23bd9ef5293a6e3564c36f8bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a483b38f23bd9ef5293a6e3564c36f8bb">&#9670;&nbsp;</a></span>jb_put_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_put_adaptive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>fin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00759">759</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00525">jb_put()</a>, <a class="el" href="../../dd/da9/jitterbuf_8h_source.html#l00060">JB_TYPE_VOICE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">ast_frame::len</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">ast_frame::ts</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00753">jb_put_first_adaptive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;{</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   <a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *adaptivejb = (<a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *) jb;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   res = <a class="code" href="../../dd/da9/jitterbuf_8h.html#a68bbac088e27e18441bd5b403f7f31d7">jb_put</a>(adaptivejb, fin, <a class="code" href="../../dd/da9/jitterbuf_8h.html#a7e72da000f982634fda8319b82db8de5ad5dc59855a16913d9c6bdda89bb8ea31">JB_TYPE_VOICE</a>, fin-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a>, fin-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>, now);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d1d/abstract__jb_8c.html#aa77c255618de758cf53f0912d853359b">adaptive_to_abstract_code</a>[res];</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;}</div><div class="ttc" id="structjitterbuf_html"><div class="ttname"><a href="../../dc/d50/structjitterbuf.html">jitterbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00107">jitterbuf.h:107</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_a68bbac088e27e18441bd5b403f7f31d7"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#a68bbac088e27e18441bd5b403f7f31d7">jb_put</a></div><div class="ttdeci">enum jb_return_code jb_put(jitterbuf *jb, void *data, const enum jb_frame_type type, long ms, long ts, long now)</div><div class="ttdoc">queue a frame </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00525">jitterbuf.c:525</a></div></div>
<div class="ttc" id="structast__frame_html_a1eb46dcb363821328c0d2a758549216b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ast_frame::ts</a></div><div class="ttdeci">long ts</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">include/asterisk/frame.h:191</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_aa77c255618de758cf53f0912d853359b"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#aa77c255618de758cf53f0912d853359b">adaptive_to_abstract_code</a></div><div class="ttdeci">static const int adaptive_to_abstract_code[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00123">abstract_jb.c:123</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_a7e72da000f982634fda8319b82db8de5ad5dc59855a16913d9c6bdda89bb8ea31"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#a7e72da000f982634fda8319b82db8de5ad5dc59855a16913d9c6bdda89bb8ea31">JB_TYPE_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00060">jitterbuf.h:60</a></div></div>
<div class="ttc" id="structast__frame_html_aaccba9d5adc3f6c39aad767db95ba484"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">ast_frame::len</a></div><div class="ttdeci">long len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">include/asterisk/frame.h:193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab901ec2de556331d0ff46342d62c56bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab901ec2de556331d0ff46342d62c56bc">&#9670;&nbsp;</a></span>jb_put_first_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_put_first_adaptive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>fin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00753">753</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00759">jb_put_adaptive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;{</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a483b38f23bd9ef5293a6e3564c36f8bb">jb_put_adaptive</a>(jb, fin, now);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div><div class="ttc" id="abstract__jb_8c_html_a483b38f23bd9ef5293a6e3564c36f8bb"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a483b38f23bd9ef5293a6e3564c36f8bb">jb_put_adaptive</a></div><div class="ttdeci">static int jb_put_adaptive(void *jb, struct ast_frame *fin, long now)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00759">abstract_jb.c:759</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aebc0713afb88453bbc688e7e7872c2d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc0713afb88453bbc688e7e7872c2d2">&#9670;&nbsp;</a></span>jb_put_first_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_put_first_fixed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>fin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00647">647</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00185">fixed_jb_put_first()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">ast_frame::len</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">ast_frame::ts</a>.</p>
<div class="fragment"><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;{</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *fixedjb = (<span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *) jb;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   res = <a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#a106bbf8ecb1418adbaff65e7897337d1">fixed_jb_put_first</a>(fixedjb, fin, fin-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a>, fin-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>, now);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3ef9909522cec7d1688949110a399aed">fixed_to_abstract_code</a>[res];</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;}</div><div class="ttc" id="structfixed__jb_html"><div class="ttname"><a href="../../d4/de8/structfixed__jb.html">fixed_jb</a></div><div class="ttdoc">private fixed_jb structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00048">fixedjitterbuf.c:48</a></div></div>
<div class="ttc" id="structast__frame_html_a1eb46dcb363821328c0d2a758549216b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ast_frame::ts</a></div><div class="ttdeci">long ts</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">include/asterisk/frame.h:191</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a3ef9909522cec7d1688949110a399aed"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a3ef9909522cec7d1688949110a399aed">fixed_to_abstract_code</a></div><div class="ttdeci">static const int fixed_to_abstract_code[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00121">abstract_jb.c:121</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_a106bbf8ecb1418adbaff65e7897337d1"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#a106bbf8ecb1418adbaff65e7897337d1">fixed_jb_put_first</a></div><div class="ttdeci">int fixed_jb_put_first(struct fixed_jb *jb, void *data, long ms, long ts, long now)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00185">fixedjitterbuf.c:185</a></div></div>
<div class="ttc" id="structast__frame_html_aaccba9d5adc3f6c39aad767db95ba484"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">ast_frame::len</a></div><div class="ttdeci">long len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">include/asterisk/frame.h:193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a17f4c25153594a57f188f3cad1d8c348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f4c25153594a57f188f3cad1d8c348">&#9670;&nbsp;</a></span>jb_put_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_put_fixed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>fin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00658">658</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00197">fixed_jb_put()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">ast_frame::len</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">ast_frame::ts</a>.</p>
<div class="fragment"><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;{</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *fixedjb = (<span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *) jb;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   res = <a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#a23dda5934f0266daa24d5cb6c2184f37">fixed_jb_put</a>(fixedjb, fin, fin-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a>, fin-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a>, now);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3ef9909522cec7d1688949110a399aed">fixed_to_abstract_code</a>[res];</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;}</div><div class="ttc" id="structfixed__jb_html"><div class="ttname"><a href="../../d4/de8/structfixed__jb.html">fixed_jb</a></div><div class="ttdoc">private fixed_jb structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00048">fixedjitterbuf.c:48</a></div></div>
<div class="ttc" id="structast__frame_html_a1eb46dcb363821328c0d2a758549216b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ast_frame::ts</a></div><div class="ttdeci">long ts</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">include/asterisk/frame.h:191</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a3ef9909522cec7d1688949110a399aed"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a3ef9909522cec7d1688949110a399aed">fixed_to_abstract_code</a></div><div class="ttdeci">static const int fixed_to_abstract_code[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00121">abstract_jb.c:121</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_a23dda5934f0266daa24d5cb6c2184f37"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#a23dda5934f0266daa24d5cb6c2184f37">fixed_jb_put</a></div><div class="ttdeci">int fixed_jb_put(struct fixed_jb *jb, void *data, long ms, long ts, long now)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00197">fixedjitterbuf.c:197</a></div></div>
<div class="ttc" id="structast__frame_html_aaccba9d5adc3f6c39aad767db95ba484"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">ast_frame::len</a></div><div class="ttdeci">long len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">include/asterisk/frame.h:193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1e4c7a7c7ee99733beb66389a661ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e4c7a7c7ee99733beb66389a661ac9">&#9670;&nbsp;</a></span>jb_remove_adaptive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_remove_adaptive </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> **&#160;</td>
          <td class="paramname"><em>fout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00791">791</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/da9/jitterbuf_8h_source.html#l00100">jb_frame::data</a>, and <a class="el" href="../../d2/da9/jitterbuf_8c_source.html#l00801">jb_getall()</a>.</p>
<div class="fragment"><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;{</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   <a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *adaptivejb = (<a class="code" href="../../dc/d50/structjitterbuf.html">jitterbuf</a> *) jb;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <a class="code" href="../../d4/df4/structjb__frame.html">jb_frame</a> frame;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   res = <a class="code" href="../../dd/da9/jitterbuf_8h.html#aaca01cea1cbcba683ca6d5b0bc009666">jb_getall</a>(adaptivejb, &amp;frame);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   *fout = frame.<a class="code" href="../../d4/df4/structjb__frame.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d1d/abstract__jb_8c.html#aa77c255618de758cf53f0912d853359b">adaptive_to_abstract_code</a>[res];</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div><div class="ttc" id="structjitterbuf_html"><div class="ttname"><a href="../../dc/d50/structjitterbuf.html">jitterbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00107">jitterbuf.h:107</a></div></div>
<div class="ttc" id="structjb__frame_html"><div class="ttname"><a href="../../d4/df4/structjb__frame.html">jb_frame</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00099">jitterbuf.h:99</a></div></div>
<div class="ttc" id="structjb__frame_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/df4/structjb__frame.html#a735984d41155bc1032e09bece8f8d66d">jb_frame::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da9/jitterbuf_8h_source.html#l00100">jitterbuf.h:100</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_aa77c255618de758cf53f0912d853359b"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#aa77c255618de758cf53f0912d853359b">adaptive_to_abstract_code</a></div><div class="ttdeci">static const int adaptive_to_abstract_code[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00123">abstract_jb.c:123</a></div></div>
<div class="ttc" id="jitterbuf_8h_html_aaca01cea1cbcba683ca6d5b0bc009666"><div class="ttname"><a href="../../dd/da9/jitterbuf_8h.html#aaca01cea1cbcba683ca6d5b0bc009666">jb_getall</a></div><div class="ttdeci">enum jb_return_code jb_getall(jitterbuf *jb, jb_frame *frameout)</div><div class="ttdoc">unconditionally get frames from jitterbuf until empty </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da9/jitterbuf_8c_source.html#l00801">jitterbuf.c:801</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19e4be4437c2a5e6a631c16e4eabf7f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19e4be4437c2a5e6a631c16e4eabf7f0">&#9670;&nbsp;</a></span>jb_remove_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jb_remove_fixed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>jb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> **&#160;</td>
          <td class="paramname"><em>fout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00690">690</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d01/fixedjitterbuf_8h_source.html#l00058">fixed_jb_frame::data</a>, and <a class="el" href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00340">fixed_jb_remove()</a>.</p>
<div class="fragment"><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;{</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *fixedjb = (<span class="keyword">struct </span><a class="code" href="../../d4/de8/structfixed__jb.html">fixed_jb</a> *) jb;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d0b/structfixed__jb__frame.html">fixed_jb_frame</a> frame;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   res = <a class="code" href="../../d7/dfb/fixedjitterbuf_8c.html#aca299f79cffc484162cbb8deac80d511">fixed_jb_remove</a>(fixedjb, &amp;frame);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   *fout = frame.<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d1d/abstract__jb_8c.html#a3ef9909522cec7d1688949110a399aed">fixed_to_abstract_code</a>[res];</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div><div class="ttc" id="structfixed__jb_html"><div class="ttname"><a href="../../d4/de8/structfixed__jb.html">fixed_jb</a></div><div class="ttdoc">private fixed_jb structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00048">fixedjitterbuf.c:48</a></div></div>
<div class="ttc" id="fixedjitterbuf_8c_html_aca299f79cffc484162cbb8deac80d511"><div class="ttname"><a href="../../d7/dfb/fixedjitterbuf_8c.html#aca299f79cffc484162cbb8deac80d511">fixed_jb_remove</a></div><div class="ttdeci">int fixed_jb_remove(struct fixed_jb *jb, struct fixed_jb_frame *frameout)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dfb/fixedjitterbuf_8c_source.html#l00340">fixedjitterbuf.c:340</a></div></div>
<div class="ttc" id="structfixed__jb__frame_html"><div class="ttname"><a href="../../d7/d0b/structfixed__jb__frame.html">fixed_jb_frame</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/fixedjitterbuf_8h_source.html#l00056">fixedjitterbuf.h:56</a></div></div>
<div class="ttc" id="abstract__jb_8c_html_a3ef9909522cec7d1688949110a399aed"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#a3ef9909522cec7d1688949110a399aed">fixed_to_abstract_code</a></div><div class="ttdeci">static const int fixed_to_abstract_code[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00121">abstract_jb.c:121</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3024e9ef69e7ed2b958a1a96f95d2482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3024e9ef69e7ed2b958a1a96f95d2482">&#9670;&nbsp;</a></span>jitterbuffer_frame_get_ntp_timestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct timeval jitterbuffer_frame_get_ntp_timestamp </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../db/d97/structjb__stream__sync.html">jb_stream_sync</a> *&#160;</td>
          <td class="paramname"><em>stream_sync</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00915">915</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/dc2/f2c_8h_source.html#l00195">abs</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l04030">ast_rtp_get_rate()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00238">ast_samp2tv()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00226">ast_tv()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02283">ast_tvadd()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02298">ast_tvsub()</a>, and <a class="el" href="../../de/df7/time_8h_source.html#l00108">ast_tvzero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00953">hook_event_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;{</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <span class="keywordtype">int</span> timestamp_diff;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rate;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <span class="comment">/* It&#39;s possible for us to receive frames before we receive the information allowing</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">    * us to do NTP/RTP timestamp calculations. Since the information isn&#39;t available we</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">    * can&#39;t generate one and give an empty timestamp.</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../de/df7/time_8h.html#a4e7b3508884147c7991a68361ac781a2">ast_tvzero</a>(stream_sync-&gt;<a class="code" href="../../db/d97/structjb__stream__sync.html#a78025358e0b69022e34eb2a0d3c32fb4">ntp</a>)) {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/df7/time_8h.html#aebf04439f206cc509472ce4b6da48a5a">ast_tv</a>(0, 0);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <span class="comment">/* Convert the Asterisk timestamp into an RTP timestamp, and then based on the difference we can</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">    * determine how many samples are in the frame and how long has elapsed since the synchronization</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">    * RTP and NTP timestamps were received giving us the NTP timestamp for this frame.</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      rate = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga85ebb1735a6e9ce14a033b479076aaed">ast_rtp_get_rate</a>(frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      timestamp_diff = (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a> * (rate / 1000)) - stream_sync-&gt;<a class="code" href="../../db/d97/structjb__stream__sync.html#ad4048a3c215cbfcdc127ada8e0fa5445">timestamp</a>;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="comment">/* Video is special - internally we reference it as 1000 to preserve the RTP timestamp but</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">       * it is actualy 90000, this is why we can just directly subtract the timestamp.</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      rate = 90000;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      timestamp_diff = frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ts</a> - stream_sync-&gt;<a class="code" href="../../db/d97/structjb__stream__sync.html#ad4048a3c215cbfcdc127ada8e0fa5445">timestamp</a>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   }</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <span class="keywordflow">if</span> (timestamp_diff &lt; 0) {</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="comment">/* It&#39;s possible for us to be asked for an NTP timestamp from before our latest</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">       * RTCP SR report. To handle this we subtract so we go back in time.</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/df7/time_8h.html#aa13b651c18bc6004cab21ac041d44dd8">ast_tvsub</a>(stream_sync-&gt;<a class="code" href="../../db/d97/structjb__stream__sync.html#a78025358e0b69022e34eb2a0d3c32fb4">ntp</a>, <a class="code" href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a>(<a class="code" href="../../dc/dc2/f2c_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(timestamp_diff), rate));</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a>(stream_sync-&gt;<a class="code" href="../../db/d97/structjb__stream__sync.html#a78025358e0b69022e34eb2a0d3c32fb4">ntp</a>, <a class="code" href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a>(timestamp_diff, rate));</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;}</div><div class="ttc" id="structjb__stream__sync_html_a78025358e0b69022e34eb2a0d3c32fb4"><div class="ttname"><a href="../../db/d97/structjb__stream__sync.html#a78025358e0b69022e34eb2a0d3c32fb4">jb_stream_sync::ntp</a></div><div class="ttdeci">struct timeval ntp</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00844">abstract_jb.c:844</a></div></div>
<div class="ttc" id="time_8h_html_a4e7b3508884147c7991a68361ac781a2"><div class="ttname"><a href="../../de/df7/time_8h.html#a4e7b3508884147c7991a68361ac781a2">ast_tvzero</a></div><div class="ttdeci">int ast_tvzero(const struct timeval t)</div><div class="ttdoc">Returns true if the argument is 0,0. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00108">time.h:108</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="structast__frame_html_a1eb46dcb363821328c0d2a758549216b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a1eb46dcb363821328c0d2a758549216b">ast_frame::ts</a></div><div class="ttdeci">long ts</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00191">include/asterisk/frame.h:191</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="time_8h_html_a1d774df72e3dbb623475783e06ce4f61"><div class="ttname"><a href="../../de/df7/time_8h.html#a1d774df72e3dbb623475783e06ce4f61">ast_samp2tv</a></div><div class="ttdeci">struct timeval ast_samp2tv(unsigned int _nsamp, unsigned int _rate)</div><div class="ttdoc">Returns a timeval corresponding to the duration of n samples at rate r. Useful to convert samples to ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00238">time.h:238</a></div></div>
<div class="ttc" id="structjb__stream__sync_html_ad4048a3c215cbfcdc127ada8e0fa5445"><div class="ttname"><a href="../../db/d97/structjb__stream__sync.html#ad4048a3c215cbfcdc127ada8e0fa5445">jb_stream_sync::timestamp</a></div><div class="ttdeci">unsigned int timestamp</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00843">abstract_jb.c:843</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga85ebb1735a6e9ce14a033b479076aaed"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga85ebb1735a6e9ce14a033b479076aaed">ast_rtp_get_rate</a></div><div class="ttdeci">int ast_rtp_get_rate(const struct ast_format *format)</div><div class="ttdoc">Retrieve the sample rate of a format according to RTP specifications. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l04030">rtp_engine.c:4030</a></div></div>
<div class="ttc" id="time_8h_html_a97e1bb8fbd7a103212789e87e7ed6073"><div class="ttname"><a href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a></div><div class="ttdeci">struct timeval ast_tvadd(struct timeval a, struct timeval b)</div><div class="ttdoc">Returns the sum of two timevals a + b. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02283">extconf.c:2283</a></div></div>
<div class="ttc" id="f2c_8h_html_a3aa069ac3980707dae1e0530f50d59e4"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a></div><div class="ttdeci">#define abs(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00195">f2c.h:195</a></div></div>
<div class="ttc" id="time_8h_html_aebf04439f206cc509472ce4b6da48a5a"><div class="ttname"><a href="../../de/df7/time_8h.html#aebf04439f206cc509472ce4b6da48a5a">ast_tv</a></div><div class="ttdeci">struct timeval ast_tv(ast_time_t sec, ast_suseconds_t usec)</div><div class="ttdoc">Returns a timeval from sec, usec. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00226">time.h:226</a></div></div>
<div class="ttc" id="time_8h_html_aa13b651c18bc6004cab21ac041d44dd8"><div class="ttname"><a href="../../de/df7/time_8h.html#aa13b651c18bc6004cab21ac041d44dd8">ast_tvsub</a></div><div class="ttdeci">struct timeval ast_tvsub(struct timeval a, struct timeval b)</div><div class="ttdoc">Returns the difference of two timevals a - b. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02298">extconf.c:2298</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">ast_frame_subclass::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">include/asterisk/frame.h:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa77c255618de758cf53f0912d853359b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa77c255618de758cf53f0912d853359b">&#9670;&nbsp;</a></span>adaptive_to_abstract_code</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int adaptive_to_abstract_code[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">   {<a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4">AST_JB_IMPL_NOFRAME</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4">AST_JB_IMPL_NOFRAME</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a">AST_JB_IMPL_INTERP</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3">AST_JB_IMPL_DROP</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>}</div><div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3">AST_JB_IMPL_DROP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00059">abstract_jb.h:59</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00058">abstract_jb.h:58</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a">AST_JB_IMPL_INTERP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00060">abstract_jb.h:60</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4">AST_JB_IMPL_NOFRAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00061">abstract_jb.h:61</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00123">123</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

</div>
</div>
<a id="a99bbef1aa597608e3b28e07e1be50ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99bbef1aa597608e3b28e07e1be50ca5">&#9670;&nbsp;</a></span>avail_impl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d0/dea/structast__jb__impl.html">ast_jb_impl</a> avail_impl[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00087">87</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

</div>
</div>
<a id="a8d8b7e54c446a74316126f913a16917d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d8b7e54c446a74316126f913a16917d">&#9670;&nbsp;</a></span>default_impl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int default_impl = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00118">118</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00148">jb_choose_impl()</a>.</p>

</div>
</div>
<a id="a3ef9909522cec7d1688949110a399aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ef9909522cec7d1688949110a399aed">&#9670;&nbsp;</a></span>fixed_to_abstract_code</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int fixed_to_abstract_code[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">   {<a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3">AST_JB_IMPL_DROP</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a">AST_JB_IMPL_INTERP</a>, <a class="code" href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4">AST_JB_IMPL_NOFRAME</a>}</div><div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda760ca69f647f9f6e35cfced749fb7ac3">AST_JB_IMPL_DROP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00059">abstract_jb.h:59</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda04e66e702639ffa703c343cdde5ac5b0">AST_JB_IMPL_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00058">abstract_jb.h:58</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda020f31a435fdedb09b45dc06783a153a">AST_JB_IMPL_INTERP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00060">abstract_jb.h:60</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda43edf3da02115f67ddc6c1b7f3ad38e4">AST_JB_IMPL_NOFRAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00061">abstract_jb.h:61</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00121">121</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

</div>
</div>
<a id="a920085f4aad54e73de8a8391e5ffc28b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a920085f4aad54e73de8a8391e5ffc28b">&#9670;&nbsp;</a></span>jb_datastore</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> jb_datastore</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;jitterbuffer&quot;</span>,</div><div class="line">   .destroy = <a class="code" href="../../d3/d1d/abstract__jb_8c.html#ab93c8ef66a0c01c732a3aef7746eeed2">datastore_destroy_cb</a></div><div class="line">}</div><div class="ttc" id="abstract__jb_8c_html_ab93c8ef66a0c01c732a3aef7746eeed2"><div class="ttname"><a href="../../d3/d1d/abstract__jb_8c.html#ab93c8ef66a0c01c732a3aef7746eeed2">datastore_destroy_cb</a></div><div class="ttdeci">static void datastore_destroy_cb(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00899">abstract_jb.c:899</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00904">904</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

</div>
</div>
<a id="a9a01c1a3a08514c4d64f0b36ea40bd08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a01c1a3a08514c4d64f0b36ea40bd08">&#9670;&nbsp;</a></span>jb_get_actions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const jb_get_actions[] = {&quot;Delivered&quot;, &quot;Dropped&quot;, &quot;Interpolated&quot;, &quot;No&quot;}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00127">127</a> of file <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html">abstract_jb.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:24 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
